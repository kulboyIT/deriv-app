(window.webpackJsonp_deriv_trader=window.webpackJsonp_deriv_trader||[]).push([["mt5"],{"./Modules/MT5/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MT5PasswordModal",(function(){return x})),n.d(t,"MT5ServerErrorDialog",(function(){return M})),n.d(t,"default",(function(){return Sn}));var a=n("../../../node_modules/formik/dist/formik.esm.js"),r=n("../../../node_modules/prop-types/index.js"),o=n.n(r),i=n("react"),c=n("react-router"),s=n("@deriv/components"),l=n("@deriv/shared"),u=n("@deriv/translations"),d=n("../../../node_modules/classnames/index.js"),m=n.n(d),_=function(e){var t=e.classNameMessage,n=void 0===t?void 0:t,a=e.has_cancel,r=e.has_submit,o=e.icon,c=e.message,l=e.onCancel,d=e.onSubmit,_=e.heading,p=e.icon_size,f=e.text_submit,b=e.text_cancel,g=e.is_open,h=e.toggleModal,y=e.title,v=e.has_close_icon,w=e.width,E=void 0===w?void 0:w,O=function(){return o||null},j=function(e){var t=e.className;return i.createElement(s.Icon,{className:t,icon:"IcCheckmarkCircle",custom_color:"var(--status-success)",size:24})};return i.createElement(s.Modal,{className:"mt5-success-dialog",is_open:g,toggleModal:h,has_close_icon:v,small:!y,title:y,width:E},i.createElement(s.Modal.Body,null,i.createElement("div",{className:m()("success-change__icon-area",{"success-change__icon-area--large":"large"===p,"success-change__icon-area--xlarge":"xlarge"===p})},i.createElement(O,null),i.createElement(j,{className:"bottom-right-overlay"})),!_&&i.createElement("h2",{className:"dc-modal-header__title"},i.createElement(u.Localize,{i18n_default_text:"Success!"})),_&&_,i.isValidElement(c)&&c,!i.isValidElement(c)&&i.createElement("p",{className:n},c)),i.createElement(s.Modal.Footer,null,a&&i.createElement(s.Button,{onClick:l,has_effect:!0,text:b||Object(u.localize)("Maybe later"),secondary:!0,large:!0}),r&&i.createElement(s.Button,{has_effect:!0,onClick:d,text:f,primary:!0,large:!0})))};_.defaultProps={icon_size:"large",has_cancel:!1,has_submit:!0},_.propTypes={classNameMessage:o.a.string,has_cancel:o.a.bool,has_submit:o.a.bool,heading:o.a.oneOfType([o.a.string,o.a.object]),icon:o.a.object,icon_size:o.a.string,icon_type:o.a.string,message:o.a.oneOfType([o.a.string,o.a.object]),onCancel:o.a.func,onSubmit:o.a.func,text_submit:o.a.string};var p=_,f=(n("./sass/app/modules/mt5/mt5.scss"),n("./Stores/connect.js"));function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var E=function(e,t){return"real"===t?Object(u.localize)("You have created a DMT5 {{account_title}} account. To start trading, transfer funds from your Deriv account into this account.",{account_title:e}):Object(u.localize)("You have created a DMT5 {{account_title}} account.",{account_title:e})},O=function(e){return i.createElement(a.c,{initialValues:{password:""},validate:e.validatePassword,onSubmit:function(t){return e.submitMt5Password(t.password)}},(function(t){var n=t.handleSubmit,a=t.setFieldTouched,r=t.handleChange,o=t.handleBlur,c=t.errors,d=t.values,m=t.touched;return i.createElement("form",{onSubmit:n},i.createElement("div",{className:"mt5-password-modal__content"},i.createElement("h2",{className:"mt5-password-modal__title"},i.createElement(u.Localize,{i18n_default_text:"Choose a password for your DMT5 {{ account_type }} account",values:{account_type:e.account_title}})),i.createElement("div",{className:"dc-modal__container_mt5-password-modal__body"},i.createElement("div",{className:"input-element"},i.createElement(s.PasswordMeter,{input:d.password,has_error:!(!m.password||!c.password),custom_feedback_messages:Object(l.getErrorMessages)().password_warnings},(function(e){var t=e.has_warning;return i.createElement(s.PasswordInput,{autoComplete:"new-password",label:Object(u.localize)("Create a password"),error:m.password&&c.password,hint:!t&&Object(u.localize)("Minimum of eight lower and uppercase English letters with numbers"),name:"password",value:d.password,onBlur:o,onChange:function(e){a("password",!0),r(e)}})}))),e.is_real_financial_stp&&!e.is_bvi&&i.createElement("div",{className:"dc-modal__container_mt5-password-modal__description"},i.createElement(u.Localize,{i18n_default_text:"Your MT5 Financial STP account will be opened through Deriv (FX) Ltd. All trading in this account is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA). None of your other accounts, including your Deriv account, is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA)."})),e.is_real_financial_stp&&e.is_bvi&&i.createElement("div",{className:"dc-modal__container_mt5-password-modal__description"},i.createElement(u.Localize,{i18n_default_text:"Your MT5 Financial STP account will be opened through Deriv (BVI) Ltd. All trading in this account is subject to the regulations and guidelines of the British Virgin Islands Financial Services Commission (BVIFSC). None of your other accounts, including your Deriv account, is subject to the regulations and guidelines of the British Virgin Islands Financial Services Commission (BVIFSC)."})))),i.createElement(s.FormSubmitButton,{is_disabled:!d.password||Object.keys(c).length>0,has_cancel:!0,cancel_label:Object(u.localize)("Cancel"),onCancel:e.closeModal,is_absolute:Object(l.isMobile)(),is_loading:e.is_submitting,label:e.should_show_server_form?Object(u.localize)("Next"):Object(u.localize)("Add account"),form_error:e.form_error}))}))},j=function(e){var t,n,r=w({},e),o=i.useMemo((function(){return r.trading_servers.filter((function(e){return!e.disabled})).map((function(e){var t=r.mt5_login_list.some((function(t){return t.server===e.id}));return y(y({},e),{label:"".concat(e.geolocation.region," ").concat(1===e.geolocation.sequence?"":e.geolocation.sequence," ").concat(t?"(Account created)":""),value:e.id,disabled:t})})).sort((function(e,t){return e.recommended?e:t}))}),[r.trading_servers]);return i.createElement(a.c,{initialValues:{password:r.password,server:null!==(t=null===(n=r.trading_servers.find((function(e){return!e.disabled&&!r.mt5_login_list.some((function(t){return t.server===e.id}))})))||void 0===n?void 0:n.id)&&void 0!==t?t:""},validate:r.validateServer,onSubmit:function(e,t){r.submitMt5Form({password:e.password,server:e.server},t.setSubmitting)}},(function(e){var t,n=e.handleSubmit,a=e.setFieldValue,c=e.errors,d=e.values,m=e.isSubmitting;return i.createElement("form",{onSubmit:n},i.createElement("div",{className:"mt5-password-modal__content"},i.createElement("h2",null,i.createElement(u.Localize,{i18n_default_text:"Choose a server for your DMT5 {{ account_type }} account",values:{account_type:r.account_title}})),i.createElement("div",{className:"dc-modal__container_mt5-password-modal__body"},i.createElement("div",{className:"input-element"},i.createElement(s.RadioGroup,{className:"mt5-password-modal__radio",name:"server",required:!0,selected:null===(t=r.trading_servers.find((function(e){return!e.disabled&&!r.mt5_login_list.some((function(t){return t.server===e.id}))})))||void 0===t?void 0:t.id,onToggle:function(e){e.persist(),a("server",e.target.value)},items:o})))),i.createElement(s.FormSubmitButton,{is_disabled:m||!d.server||Object.keys(c).length>0,has_cancel:!0,cancel_label:Object(u.localize)("Back"),onCancel:r.onBack,is_absolute:Object(l.isMobile)(),is_loading:m,label:Object(u.localize)("Add account"),form_error:r.form_error}))}))},z=function(e){var t=e.account_title,n=e.account_type,a=e.disableMt5PasswordModal,r=e.email,o=e.landing_companies,c=e.is_eu,d=e.is_eu_country,m=e.is_logged_in,_=e.form_error,f=e.history,g=e.has_mt5_error,h=e.is_mt5_password_modal_enabled,y=e.is_mt5_success_dialog_enabled,v=e.setMt5SuccessDialog,w=e.setMt5Error,z=e.submitMt5Password,x=e.trading_servers,S=e.mt5_login_list,M=e.mt5_new_account,P=b(i.useState(""),2),N=P[0],k=P[1],T=b(i.useState(!1),2),A=T[0],C=T[1],D=i.useMemo((function(){var e,t;return"bvi"===(null==o||null===(e=o.mt_financial_company)||void 0===e||null===(t=e.financial_stp)||void 0===t?void 0:t.shortcode)}),[o]),I=function(e){var t={};return Object(l.validLength)(e.password,{min:8,max:25})?Object(l.validPassword)(e.password)||(t.password=Object(l.getErrorMessages)().password()):t.password=Object(u.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),e.password.toLowerCase()===r.toLowerCase()&&(t.password=Object(u.localize)("Your password cannot be the same as your email address.")),t},L=function(){v(!1),w(!1),k("")},F=function(){L(),a()},R=function(){return function(e){switch(e){case"synthetic":return i.createElement(s.Icon,{icon:"IcMt5SyntheticPlatform",size:128});case"financial":return i.createElement(s.Icon,{icon:"IcMt5FinancialPlatform",size:128});default:return i.createElement(s.Icon,{icon:"IcMt5FinancialStpPlatform",size:128})}}(n.type)},B=h&&!g&&!y,W=!g&&y,U="real_financial_stp"===[n.category,n.type].join("_"),q="real_synthetic"===[n.category,n.type].join("_"),V=(m?!c:!d)&&q&&!!N;return i.useEffect((function(){V||!N||A?A&&N&&m&&z({password:N},(function(e){k(""),C(e)})):C(!0)}),[N,V,A]),i.useEffect((function(){(g||y)&&k("")}),[g,y]),i.createElement(i.Fragment,null,i.createElement(s.DesktopWrapper,null,i.createElement(s.Modal,{className:"mt5-password-modal",is_open:B,toggleModal:F,has_close_icon:!0},V?i.createElement(j,{trading_servers:x,mt5_login_list:S,account_title:t,password:N,submitMt5Form:function(e,t){return z(e,t)},onBack:function(){return k("")}}):i.createElement(O,{is_bvi:D,is_submitting:A,account_title:t,closeModal:F,form_error:_,submitMt5Password:k,is_real_financial_stp:U,validatePassword:I,should_show_server_form:V}))),i.createElement(s.MobileWrapper,null,i.createElement(s.MobileDialog,{has_full_height:!0,portal_element_id:"modal_root",visible:B,onClose:F,wrapper_classname:"mt5-password-modal"},V?i.createElement(j,{trading_servers:x,mt5_login_list:S,account_title:t,password:N,submitMt5Form:function(e,t){return z(e,t)},onBack:function(){return k("")}}):i.createElement(O,{is_bvi:D,is_submitting:A,account_title:t,closeModal:F,form_error:_,is_real_financial_stp:U,submitMt5Password:k,validatePassword:I,should_show_server_form:V}))),i.createElement(p,{is_open:W,toggleModal:F,onCancel:F,onSubmit:function(){a(),L(),"real"===n.category&&(sessionStorage.setItem("mt5_transfer_to_login_id",M.login),f.push(l.routes.cashier_acc_transfer))},classNameMessage:"mt5-password-modal__message",message:E(t,n.category),icon:i.createElement(R,null),icon_size:"xlarge",text_submit:"real"===n.category?Object(u.localize)("Transfer now"):Object(u.localize)("OK"),has_cancel:"real"===n.category}))};z.propTypes={account_title:o.a.string,account_type:o.a.object,disableMt5PasswordModal:o.a.func,email:o.a.string,error_message:o.a.string,has_mt5_error:o.a.bool,is_eu:o.a.bool,is_eu_country:o.a.bool,is_logged_in:o.a.bool,is_mt5_password_modal_enabled:o.a.bool,is_mt5_success_dialog_enabled:o.a.bool,setMt5Error:o.a.func,setMt5SuccessDialog:o.a.func,submitMt5Password:o.a.func};var x=Object(f.b)((function(e){var t=e.client,n=e.modules;return{email:t.email,account_title:n.mt5.account_title,account_type:n.mt5.account_type,disableMt5PasswordModal:n.mt5.disableMt5PasswordModal,error_message:n.mt5.error_message,has_mt5_error:n.mt5.has_mt5_error,landing_companies:t.landing_companies,is_eu:t.is_eu,is_eu_country:t.is_eu_country,is_logged_in:t.is_logged_in,is_mt5_success_dialog_enabled:n.mt5.is_mt5_success_dialog_enabled,is_mt5_password_modal_enabled:n.mt5.is_mt5_password_modal_enabled,setMt5Error:n.mt5.setError,setMt5SuccessDialog:n.mt5.setMt5SuccessDialog,submitMt5Password:n.mt5.submitMt5Password,mt5_new_account:n.mt5.new_account_response,trading_servers:t.trading_servers,mt5_login_list:t.mt5_login_list}}))(Object(c.withRouter)(z)),S=function(e){var t=e.clearMt5Error,n=e.disableApp,a=e.enableApp,r=e.error_message,o=e.has_mt5_error,c=e.is_mt5_success_dialog_enabled,l=o&&!c;return i.createElement(s.Dialog,{title:Object(u.localize)("Somethingâ€™s not right"),confirm_button_text:Object(u.localize)("OK"),onConfirm:t,disableApp:n,enableApp:a,is_visible:l},r||i.createElement(u.Localize,{i18n_default_text:"Sorry, an error occured while processing your request."}))};S.propTypes={clearMt5Error:o.a.func,disableApp:o.a.func,enableApp:o.a.func,error_message:o.a.string,has_mt5_error:o.a.bool,is_mt5_success_dialog_enabled:o.a.bool};var M=Object(f.b)((function(e){var t=e.ui,n=e.modules;return{clearMt5Error:n.mt5.clearMt5Error,disableApp:t.disableApp,enableApp:t.enableApp,error_message:n.mt5.error_message,has_mt5_error:n.mt5.has_mt5_error,is_mt5_success_dialog_enabled:n.mt5.is_mt5_success_dialog_enabled}}))(S),P=n("./templates/_common/components/loading.jsx"),N=function(){return i.createElement("div",{className:"mt5-real-accounts-display"},i.createElement(P.a,null))},k=function(e){var t=e.onClickSignup;return i.createElement("div",{className:"mt5-dashboard__missing-real"},i.createElement("h1",{className:"mt5-dashboard__missing-real--heading"},i.createElement(u.Localize,{i18n_default_text:"You need a real account (fiat currency or cryptocurrency) in Deriv to create a real DMT5 account."})),i.createElement(s.Button,{className:"mt5-dashboard__missing-real--button",onClick:t,type:"button",primary:!0},i.createElement("span",{className:"btn__text"},i.createElement(u.Localize,{i18n_default_text:"Create a Deriv account"}))))};k.propTypes={onClickSignup:o.a.func};var T=k,A=n("./Services/ws-methods.js"),C=n("@deriv/account/dist/js/file-uploader-container"),D=n.n(C),I=n("@deriv/account/dist/js/form-sub-header"),L=n.n(I),F=n("@deriv/account/dist/js/poa-expired"),R=n.n(F),B=n("@deriv/account/dist/js/poa-needs-review"),W=n.n(B),U=n("@deriv/account/dist/js/poa-verified"),q=n.n(U),V=n("@deriv/account/dist/js/poa-unverified"),H=n.n(V),Y=n("@deriv/account/dist/js/poa-submitted"),K=n.n(Y),$=n("@deriv/account/dist/js/poa-status-codes"),X=n.n($);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ne=function(e){var t=e.maxLength,n=e.name,r=e.optional,o=void 0!==r&&r,c=te(e,["maxLength","name","optional"]);return i.createElement(a.a,{name:n},(function(e){var a=e.field,r=e.form,l=r.errors,u=r.touched;return i.createElement(s.Input,ee({type:"text",required:!o,name:n,autoComplete:"off",maxLength:t||"30",error:u[a.name]&&l[a.name]},a,c))}))},ae=function(e){var t,n=e.values,a=e.residence_list,r=e.account_opening_reason,o=e.is_tin_required,c=J(a.filter((function(e){return e.text===n.tax_residence&&e.tin_format})),1)[0],s=J(null!==(t=null==c?void 0:c.tin_format)&&void 0!==t?t:[],1)[0],l=s||"^[A-Za-z0-9./s-]{0,25}$",d={citizen:[function(e){return!!e},function(e){return a.map((function(e){return e.text})).includes(e)}],tax_residence:[function(e){return!!e},function(e){return a.map((function(e){return e.text})).includes(e)}],tax_identification_number:[function(e){return!(!n.tax_residence&&o||s)||!!e},function(e){return!l||e.match(l)}],account_opening_reason:[function(e){return!!e},function(e){return r.map((function(e){return e.value})).includes(e)}]},m={citizen:Object(u.localize)("Citizenship"),tax_residence:Object(u.localize)("Tax residence"),tax_identification_number:Object(u.localize)("Tax identification number"),account_opening_reason:Object(u.localize)("Account opening reason")},_={};return Object.entries(d).forEach((function(e){var t,a=J(e,2),r=a[0],o=a[1].findIndex((function(e){return!e(n[r])}));-1!==o&&(_[r]=i.createElement(i.Fragment,null,(t=m[r],[Object(u.localize)("{{field_name}} is required",{field_name:t}),Object(u.localize)("{{field_name}} is not properly formatted.",{field_name:t})])[o]))})),_},re=function(e,t,n,a,r,o){var i=e.citizen,c=e.tax_residence,s=te(e,["citizen","tax_residence"]),l=function(e,t,n){var a,r;return n.forEach((function(n){n.text===e&&(a=n),n.text===t&&(r=n)})),{citizen:a,tax_residence:r}}(i,c,o),u=l.citizen,d=l.tax_residence;a(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({citizen:void 0!==u?u.value:"",tax_residence:void 0!==d?d.value:""},s),t.setSubmitting,r)},oe=function(e){var t,n,r=e.onSave,o=e.is_fully_authenticated,c=e.is_loading,d=e.landing_company,m=e.residence_list,_=e.onCancel,p=e.onSubmit,f=e.value,b=e.index,g=e.form_error,h=[{text:Object(u.localize)("Hedging"),value:"Hedging"},{text:Object(u.localize)("Income Earning"),value:"Income Earning"},{text:Object(u.localize)("Speculative"),value:"Speculative"},{text:Object(u.localize)("Peer-to-peer exchange"),value:"Peer-to-peer exchange"}],y=null!==(t=null==d||null===(n=d.config)||void 0===n?void 0:n.tax_details_required)&&void 0!==t&&t,v=function(e){r(b,e),_()};return 0===m.length||c?i.createElement(s.Loading,{is_fullscreen:!1}):i.createElement(a.c,{initialValues:{citizen:f.citizen,tax_residence:f.tax_residence,tax_identification_number:f.tax_identification_number,account_opening_reason:f.account_opening_reason},validateOnMount:!0,validateOnChange:!0,validateOnBlur:!0,validate:function(e){return ae({values:e,residence_list:m,account_opening_reason:h,is_tin_required:y})},onSubmit:function(e,t){return re(e,t,b,p,!Object(l.isDeepEqual)(f,e),m)}},(function(e){var t=e.handleSubmit,n=e.isSubmitting,r=e.handleChange,c=e.handleBlur,d=e.errors,_=e.touched,p=e.values,b=e.setFieldValue,y=e.isValid;return i.createElement(s.AutoHeightWrapper,{default_height:200,height_offset:Object(l.isDesktop)()?148:null},(function(e){var w=e.height,E=e.setRef;return i.createElement("form",{className:"mt5-financial-stp-modal__form",ref:E,onSubmit:t,autoComplete:"off"},i.createElement(s.Div100vhContainer,{className:"details-form",max_autoheight_offset:"179px",is_disabled:Object(l.isDesktop)()},i.createElement(s.Text,{as:"p",size:"xxxs",align:"center",className:"details-form__description"},i.createElement(u.Localize,{i18n_default_text:"Any information you provide is confidential and will be used for verification purposes only."})),i.createElement(s.ThemedScrollbars,{height:w,is_bypassed:Object(l.isMobile)()},i.createElement("div",{className:"details-form__elements"},i.createElement(L.a,{title:Object(u.localize)("Details")}),i.createElement("fieldset",{className:"account-form__fieldset"},i.createElement(s.DesktopWrapper,null,i.createElement(a.a,{name:"citizen"},(function(e){var t=e.field;return i.createElement(s.Autocomplete,ee({},t,{id:"real_mt5_citizenship","data-lpignore":"true",autoComplete:"off",type:"text",label:Object(u.localize)("Citizenship"),error:_.citizen&&d.citizen,disabled:f.citizen&&o,list_items:m,onItemSelection:function(e){return b("citizen",e.value?e.text:"",!0)},list_portal_id:"modal_root",required:!0}))}))),i.createElement(s.MobileWrapper,null,i.createElement(s.SelectNative,{placeholder:Object(u.localize)("Please select"),label:Object(u.localize)("Citizenship"),value:p.citizen,list_items:m,error:_.citizen&&d.citizen,disabled:f.citizen&&o,use_text:!0,onChange:function(e){return b("citizen",e.target.value,!0)},required:!0}))),i.createElement(L.a,{title:Object(u.localize)("Tax information")}),i.createElement("fieldset",{className:"account-form__fieldset"},i.createElement(s.DesktopWrapper,null,i.createElement(a.a,{name:"tax_residence"},(function(e){var t=e.field;return i.createElement(s.Autocomplete,ee({id:"real_mt5_tax_residence","data-lpignore":"true",type:"text",autoComplete:"off",label:Object(u.localize)("Tax residence"),error:_.tax_residence&&d.tax_residence,disabled:f.tax_residence&&o,list_items:m,onItemSelection:function(e){var t=e.value,n=e.text;return b("tax_residence",t?n:"",!0)},list_portal_id:"modal_root"},t))}))),i.createElement(s.MobileWrapper,null,i.createElement(s.SelectNative,{placeholder:Object(u.localize)("Please select"),label:Object(u.localize)("Tax residence"),value:p.tax_residence,error:_.tax_residence&&d.tax_residence,disabled:f.tax_residence&&o,list_items:m,use_text:!0,onChange:function(e){return b("tax_residence",e.target.value,!0)},required:!0}))),i.createElement("fieldset",{className:"account-form__fieldset"},i.createElement(ne,{id:"real_mt5_tax_identification_number",name:"tax_identification_number",label:Object(u.localize)("Tax identification number"),placeholder:Object(u.localize)("Tax identification number"),value:p.tax_identification_number,onBlur:c,optional:!0})),i.createElement(L.a,{title:Object(u.localize)("Account opening reason")}),i.createElement(a.a,{name:"account_opening_reason"},(function(e){var t=e.field;return i.createElement(i.Fragment,null,i.createElement(s.DesktopWrapper,null,i.createElement(s.Dropdown,ee({placeholder:Object(u.localize)("Account opening reason"),is_align_text_left:!0,name:t.name,list:h,value:p.account_opening_reason,onChange:r,handleBlur:c,error:_.account_opening_reason&&d.account_opening_reason,list_portal_id:"modal_root"},t))),i.createElement(s.MobileWrapper,null,i.createElement(s.SelectNative,ee({placeholder:Object(u.localize)("Please select"),name:t.name,label:Object(u.localize)("Account opening reason"),list_items:h,value:p.account_opening_reason,error:_.account_opening_reason&&d.account_opening_reason,onChange:function(e){r(e),b("account_opening_reason",e.target.value,!0)}},t))))}))))),i.createElement(s.Modal.Footer,{is_bypassed:Object(l.isMobile)()},g&&i.createElement(s.FormSubmitErrorMessage,{message:g}),i.createElement(s.FormSubmitButton,{cancel_label:Object(u.localize)("Previous"),is_disabled:n||!y,is_absolute:Object(l.isMobile)(),label:Object(u.localize)("Next"),onCancel:function(){return v(p)}})))}))}))};oe.propTypes={is_fully_authenticated:o.a.bool,is_loading:o.a.bool,onCancel:o.a.func,onSave:o.a.func,onSubmit:o.a.func,residence_list:o.a.array,value:o.a.object,landing_company:o.a.object.isRequired};var ie,ce=oe;function se(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,r)}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function pe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var fe=function(e){var t=e.onSave,n=e.onCancel,r=e.index,o=e.onSubmit,c=e.refreshNotifications,d=pe(e,["onSave","onCancel","index","onSubmit","refreshNotifications"]),m=i.useRef(),_=me(i.useState(!0),2),p=_[0],f=_[1],b=me(Object(s.useStateCallback)({poa_status:"none",resubmit_poa:!1,has_poi:!1,form_error:""}),2),g=b[0],h=b[1],y=me(Object(s.useStateCallback)({files:[],error_message:null}),2),v=y[0],w=y[1],E=me(i.useState({}),2),O=E[0],j=E[1],z=function(e){t(r,e),n()},x=function(){var e,n=(e=regeneratorRuntime.mark((function e(n,a){var i,c,s,l,d,m,_,p,f,b,y,w,E,x,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.document_file,i=pe(n,["document_file"]),a.setSubmitting(!0),e.next=4,A.a.setSettings(i);case 4:if(!(c=e.sent).error){e.next=9;break}return h(ue(ue({},g),{form_error:c.error.message})),a.setSubmitting(!1),e.abrupt("return");case 9:return e.next=11,A.a.authorized.storage.getSettings();case 11:if(s=e.sent,l=s.error,d=s.get_settings,!l){e.next=17;break}return h(ue(ue({},g),{form_error:l.message})),e.abrupt("return");case 17:return m=d.address_line_1,_=d.address_line_2,p=d.address_city,f=d.address_state,b=d.address_postcode,j({address_line_1:m,address_line_2:_,address_city:p,address_postcode:b,address_state:f}),h(ue(ue({},g),{form_error:""})),e.prev=20,e.next=23,ie.current.upload();case 23:if(!(y=e.sent).warning){e.next=28;break}return h(ue(ue({},g),{form_error:y.warning})),a.setSubmitting(!1),e.abrupt("return");case 28:return e.next=30,A.a.authorized.storage.getAccountStatus();case 30:if(w=e.sent,E=w.error,x=w.get_account_status,!E){e.next=37;break}return h(ue(ue({},g),{form_error:l.message})),a.setSubmitting(!1),e.abrupt("return");case 37:(S=x.authentication.identity)&&"none"===S.status?(h(ue(ue({},g),{form_error:Object(u.localize)("Identity confirmation failed. You will be redirected to the previous step.")})),setTimeout((function(){z(d)}),3e3)):(M=void 0,P=void 0,M=v.files,P=v.error_message,o(r,ue(ue(ue({},O),g),{document_file:M,file_error_message:P}))),e.next=45;break;case 42:e.prev=42,e.t0=e.catch(20),h(ue(ue({},g),{form_error:e.t0.message}));case 45:a.setSubmitting(!1),t(r,n),o(r,n,a.setSubmitting);case 48:case"end":return e.stop()}var M,P}),e,null,[[20,42]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){se(o,a,r,i,c,"next",e)}function c(e){se(o,a,r,i,c,"throw",e)}i(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();i.useEffect((function(){A.a.authorized.getAccountStatus().then((function(e){A.a.wait("states_list").then((function(){var t=e.get_account_status.authentication,n=t.document,a=t.identity,r=!(!a||"none"!==a.status);h(ue(ue({},g),{poa_status:n.status,has_poi:r}),(function(){f(!1),c()}))}))}))}),[c,h]);var S=function(e,t){return g.poa_status!==X.a.verified&&0!==Object.keys(t).length},M=function(){h(ue(ue({},g),{resubmit_poa:!0}))},P=d.states_list,N=d.value,k=N.address_line_1,T=N.address_line_2,C=N.address_city,I=N.address_state,F=N.address_postcode,B=g.form_error,U=g.has_poi,V=g.poa_status,Y=g.resubmit_poa,$=g.submitted_poa,G=!p&&(Y||V===X.a.none);return i.createElement(a.c,{initialValues:{address_line_1:k,address_line_2:T,address_city:C,address_state:I,address_postcode:F,document_file:v.files},validateOnMount:!0,validate:function(e){if([X.a.verified,X.a.pending].includes(g.poa_status))return{};var t={address_line_1:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return Object(l.validAddress)(e)},function(e){return Object(l.validLength)(e,{max:70})}],address_line_2:[function(e){return!e||Object(l.validAddress)(e)},function(e){return Object(l.validLength)(e,{max:70})}],address_city:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return Object(l.validLength)(e,{min:1,max:35})},function(e){return Object(l.validLetterSymbol)(e)}],address_state:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return!e||Object(l.validLength)(e,{min:1,max:35})}],address_postcode:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return Object(l.validLength)(e,{min:1,max:20})},function(e){return Object(l.validPostCode)(e)}]},n={address_line_1:[Object(u.localize)("First line of address is required"),Object(u.localize)("First line of address is not in a proper format."),Object(u.localize)("This should not exceed {{max}} characters.",{max:70})],address_line_2:[Object(u.localize)("Second line of address is not in a proper format."),Object(u.localize)("This should not exceed {{max}} characters.",{max:70})],address_city:[Object(u.localize)("Town/City is required."),Object(u.localize)("This should not exceed {{max_number}} characters.",{max_number:35}),Object(u.localize)("Town/City is not in a proper format.")],address_state:[Object(u.localize)("State/Province is required."),Object(u.localize)("State/Province is not in a proper format.")],address_postcode:[Object(u.localize)("Postal/ZIP code is required"),Object(u.localize)("This should not exceed {{max_number}} characters.",{max_number:20}),Object(u.localize)("Only letters, numbers, space, and hyphen are allowed.")]},a={};return Object.entries(t).forEach((function(t){var r=me(t,2),o=r[0],i=r[1].findIndex((function(t){return!t(e[o])}));-1!==i&&(a[o]=n[o][i])})),a},enableReinitialize:!0,onSubmit:x,innerRef:m},(function(e){e.dirty;var n=e.errors,o=e.handleSubmit,c=e.isSubmitting,d=e.handleBlur,m=e.handleChange,_=e.setFieldTouched,f=e.setFieldValue,b=e.values,g=e.touched;return i.createElement(s.AutoHeightWrapper,{default_height:200},(function(e){var h=e.setRef,y=e.height;return i.createElement("form",{ref:h,onSubmit:o,className:"mt5-proof-of-address"},i.createElement(s.Div100vhContainer,{className:"details-form",height_offset:"100px",is_disabled:Object(l.isDesktop)()},p&&i.createElement(s.Loading,{is_fullscreen:!1}),G&&i.createElement(s.ThemedScrollbars,{autohide:!1,height:"".concat(y-77,"px"),is_bypassed:Object(l.isMobile)()},i.createElement("div",{className:"mt5-proof-of-address__field-area"},i.createElement(L.a,{subtitle:Object(u.localize)("(All fields are required)"),title:Object(u.localize)("Address information")}),i.createElement(ne,{name:"address_line_1",maxLength:255,required:!0,label:Object(u.localize)("First line of address*"),placeholder:Object(u.localize)("First line of address*"),onBlur:d}),i.createElement(ne,{name:"address_line_2",maxLength:255,label:Object(u.localize)("Second line of address (optional)"),optional:!0,placeholder:Object(u.localize)("Second line of address"),onBlur:d}),i.createElement("div",{className:"mt5-proof-of-address__inline-fields"},i.createElement(ne,{maxLength:255,name:"address_city",required:!0,label:Object(u.localize)("Town/City*"),placeholder:Object(u.localize)("Town/City*"),onBlur:d}),i.createElement("fieldset",{className:"address-state__fieldset"},(null==P?void 0:P.length)>0?i.createElement(i.Fragment,null,i.createElement(s.DesktopWrapper,null,i.createElement(a.a,{name:"address_state"},(function(e){var t=e.field;return i.createElement(s.Dropdown,{id:"address_state",required:!0,className:"address_state-dropdown",is_align_text_left:!0,list:P,error:g[t.name]&&n[t.name],name:"address_state",value:b.address_state,onChange:m,placeholder:Object(u.localize)("State/Province*"),list_portal_id:"modal_root"})}))),i.createElement(s.MobileWrapper,null,i.createElement(s.SelectNative,{label:Object(u.localize)("State/Province*"),value:b.address_state,list_items:P,error:g.address_state&&n.address_state,onChange:function(e){m(e),f("address_state",e.target.value,!0)},required:!0}))):i.createElement(ne,{name:"address_state",label:Object(u.localize)("State/Province*"),placeholder:Object(u.localize)("State/Province*"),value:b.address_state,required:!0,onBlur:d})),i.createElement(ne,{maxLength:255,name:"address_postcode",label:Object(u.localize)("Postal/ZIP code*"),placeholder:Object(u.localize)("Postal/ZIP code*"),onBlur:d,required:!0})),i.createElement("div",{className:"mt5-proof-of-address__file-upload"},i.createElement(D.a,{onRef:function(e){return ie=e},getSocket:A.a.getSocket,onFileDrop:function(e){return function(e,n,a,o,i){a("document_file",!0),o("document_file",e),w({files:e,error_message:n},(function(){"function"==typeof t&&t(r,ue(ue({},i),{document_file:e}))}))}(e.files,e.error_message,_,f,b)}})))),V!==X.a.none&&!Y&&i.createElement(s.ThemedScrollbars,{height:y,is_bypassed:Object(l.isMobile)()},$&&i.createElement(K.a,{is_description_disabled:!0,has_poi:U}),V===X.a.pending&&i.createElement(W.a,{is_description_disabled:!0}),V===X.a.verified&&i.createElement(q.a,{is_description_disabled:!0,has_poi:U}),V===X.a.expired&&i.createElement(R.a,{onClick:M}),(V===X.a.rejected||V===X.a.suspected)&&i.createElement(H.a,null)),i.createElement(s.Modal.Footer,{is_bypassed:Object(l.isMobile)()},(V===X.a.verified||G)&&i.createElement(s.FormSubmitButton,{has_cancel:!0,cancel_label:Object(u.localize)("Previous"),is_disabled:S(0,n)||!(V===X.a.verified)&&v.files&&v.files.length<1||!!v.error_message,label:V===X.a.verified?Object(u.localize)("Submit"):Object(u.localize)("Next"),is_absolute:Object(l.isMobile)(),is_loading:c,form_error:B,onCancel:function(){return z(b)}}))))}))}))};fe.propTypes={onCancel:o.a.func,onSave:o.a.func,onSubmit:o.a.func,storeProofOfAddress:o.a.func,value:o.a.object};var be=fe,ge=n("@deriv/account/dist/js/proof-of-identity-container"),he=n.n(ge);function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ee(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Oe=function(e){var t=e.authentication_status,n=e.form_error,r=e.index,o=e.onCancel,c=e.onSubmit,d=e.value,m=Ee(e,["authentication_status","form_error","index","onCancel","onSubmit","value"]),_=t.identity_status,p=ve(i.useState("none"),2),f=p[0],b=p[1],g=i.useCallback((function(){var e={};return["pending","verified"].includes(f)||["pending","verified"].includes(_)||(e.poi_state=!0),e}),[f,_]);return i.createElement(a.c,{initialValues:{poi_state:d.poi_state},validate:g,onSubmit:function(e,t){return c(r,{poi_state:f},t.setSubmitting)}},(function(e){var t=e.handleSubmit;return i.createElement(s.AutoHeightWrapper,{default_height:200},(function(e){var a=e.setRef,r=e.height;return i.createElement("form",{ref:a,className:"mt5-proof-of-identity",onSubmit:t},i.createElement("div",{className:"details-form"},i.createElement("input",{type:"hidden",name:"poi_state",value:f,readOnly:!0}),i.createElement(s.Div100vhContainer,{className:"mt5-proof-of-identity__fields",height_offset:"180px",is_disabled:Object(l.isDesktop)()},i.createElement(he.a,ye({},m,{serviceToken:A.a.serviceToken,notificationEvent:A.a.notificationEvent,getAccountStatus:A.a.authorized.getAccountStatus,height:r,onStateChange:function(e){var t=e.status,n=["pending","verified"].includes(_)?_:t;b(n)},is_trading_button_enabled:!1,is_description_enabled:!1}))),i.createElement(s.Modal.Footer,{is_bypassed:Object(l.isMobile)()},i.createElement(s.FormSubmitButton,{has_cancel:!0,cancel_label:Object(u.localize)("Previous"),is_disabled:!["pending","verified"].includes(f),is_absolute:Object(l.isMobile)(),label:Object(u.localize)("Next"),onCancel:o,form_error:n}))))}))}))};Oe.propTypes={authentication_status:o.a.object,form_error:o.a.string,index:o.a.number,onCancel:o.a.func,onSave:o.a.func,onSubmit:o.a.func,refreshNotifications:o.a.func,addNotificationByKey:o.a.func,removeNotificationMessage:o.a.func,value:o.a.object};var je=Oe;function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Pe(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,r)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){Pe(o,a,r,i,c,"next",e)}function c(e){Pe(o,a,r,i,c,"throw",e)}i(void 0)}))}}function ke(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=De(e);if(t){var r=De(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ce(this,n)}}function Ce(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ie=0,Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(o,e);var t,n,a,r=Ae(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).clearError=function(){t.setState({form_error:""})},t.nextStep=function(){t.clearError(),t.has_more_steps?t.goNext():t.finishWizard()},t.finishWizard=function(){t.props.openPendingDialog(),t.props.toggleModal()},t.prevStep=function(){t.setState({step:t.state.step-1,form_error:""})},t.updateValue=function(){var e=Ne(regeneratorRuntime.mark((function e(n,a,r){var o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(i.length>3&&void 0!==i[3])||i[3])||Ie!==n){e.next=10;break}return e.next=4,A.a.setSettings(a);case 4:if(!(o=e.sent).error){e.next=9;break}return t.setState({form_error:o.error.message}),r(!1),e.abrupt("return");case 9:t.initiatePersonalDetails(r);case 10:t.saveFormData(n,a),t.nextStep(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),t.initiatePersonalDetails=function(){var e=Ne(regeneratorRuntime.mark((function e(n){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.authorized.storage.getSettings();case 2:if(!(a=e.sent).error){e.next=7;break}return t.setState({form_error:a.error.message}),"function"==typeof n&&n(!1),e.abrupt("return");case 7:r=Object.assign([],t.state.items),a.get_settings.citizen&&(r[Ie].form_value.citizen=t.transform(a.get_settings.citizen)),a.get_settings.tax_residence&&(r[Ie].form_value.tax_residence=t.transform(a.get_settings.tax_residence)),a.get_settings.tax_identification_number&&(r[Ie].form_value.tax_identification_number=a.get_settings.tax_identification_number),a.get_settings.account_opening_reason&&(r[Ie].form_value.account_opening_reason=a.get_settings.account_opening_reason),t.setState({items:r},t.props.refreshNotifications);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.transform=function(e){var n=Se(t.props.residence_list.filter((function(t){return t.value===e})),1)[0];return Object(l.getPropertyValue)(n,["text"])||e},t.goNext=function(){t.setState({step:t.state.step+1})},t.getCurrent=function(e){return e?t.state.items[t.state_index][e]:t.state.items[t.state_index]},t.saveFormData=function(e,n){var a=Object.assign([],t.state.items);a[e].form_value=n,t.state_index===Ie&&(a[Ie].form_value.citizen=t.transform(n.citizen),a[Ie].form_value.tax_residence=t.transform(n.tax_residence)),t.setState({items:a})},t.state={finished:void 0,step:0,form_error:"",is_loading:!1,items:[{header:{active_title:Object(u.localize)("Complete your personal details"),title:Object(u.localize)("Personal details")},body:ce,form_value:{citizen:"",tax_residence:"",tax_identification_number:"",account_opening_reason:""},props:["residence_list","is_fully_authenticated","landing_company"]},{header:{active_title:Object(u.localize)("Complete your proof of identity"),title:Object(u.localize)("Proof of identity")},body:je,form_value:{poi_state:"unknown"},props:["addNotificationByKey","authentication_status","refreshNotifications","removeNotificationMessage","removeNotificationByKey"]},{header:{active_title:Object(u.localize)("Complete your proof of address"),title:Object(u.localize)("Proof of address")},body:be,form_value:{address_line_1:e.get_settings.address_line_1,address_line_2:e.get_settings.address_line_2,address_city:e.get_settings.address_city,address_state:e.get_settings.address_state,address_postcode:e.get_settings.address_postcode,upload_file:""},props:["states_list","get_settings","storeProofOfAddress","refreshNotifications"]}]},t}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this;this.state_index===Ie&&(this.setState({is_loading:!0}),this.initiatePersonalDetails().then((function(){e.setState({is_loading:!1})})))}},{key:"render",value:function(){var e=this,t=this.getCurrent("body"),n=this.getCurrent("form_value"),a=(this.getCurrent("props")||[]).reduce((function(t,n){return Object.assign(t,(a={},r=n,o=e.props[n],r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o,a));var a,r,o}),{}),r=this.getCurrent("height")||"auto";return i.createElement(s.Div100vhContainer,{className:"mt5-financial-stp-modal",id:"real_mt5_financial_stp_account_opening",is_disabled:Object(l.isDesktop)(),height_offset:"40px"},i.createElement("div",{className:"mt5-financial-stp-modal__heading"},this.getCurrent()&&i.createElement(i.Fragment,null,i.createElement(s.DesktopWrapper,null,i.createElement(s.FormProgress,{steps:this.state.items,current_step:this.state.step})),i.createElement(s.MobileWrapper,null,i.createElement("div",{className:"mt5-financial-stp-modal__header-steps"},i.createElement("h4",{className:"mt5-financial-stp-modal__header-steps-title"},i.createElement(u.Localize,{i18n_default_text:"Step {{step}}: {{step_title}} ({{step}} of {{steps}})",values:{step:this.state.step+1,steps:this.state.items.length,step_title:this.state.items[this.state.step].header.title}})),this.state.items[this.state.step].header.active_title&&i.createElement("h4",{className:"mt5-financial-stp-modal__header-steps-subtitle"},this.state.items[this.state.step].header.active_title))))),i.createElement("div",{className:"mt5-financial-stp-modal__body"},i.createElement(t,xe({value:n,index:this.state_index,onSubmit:this.updateValue,height:r,is_loading:this.state.is_loading,onCancel:this.prevStep,onSave:this.saveFormData,form_error:this.state.form_error},a))))}},{key:"state_index",get:function(){return this.state.step}},{key:"has_more_steps",get:function(){return this.state.step+1<this.state.items.length}}])&&ke(t.prototype,n),a&&ke(t,a),o}(i.Component);Le.propTypes={openPendingDialog:o.a.func,toggleModal:o.a.func};var Fe=Object(f.b)((function(e){var t=e.client,n=e.modules.mt5,a=e.ui;return{addNotificationByKey:a.addNotificationMessageByKey,authentication_status:t.authentication_status,get_settings:t.account_settings,is_fully_authenticated:t.is_fully_authenticated,landing_company:t.landing_company,openPendingDialog:n.openPendingDialog,refreshNotifications:t.refreshNotifications,removeNotificationMessage:a.removeNotificationMessage,removeNotificationByKey:a.removeNotificationByKey,residence_list:t.residence_list,states_list:t.states_list,storeProofOfAddress:n.storeProofOfAddress}}))(Le),Re=Object(f.b)((function(e){var t=e.ui,n=e.modules;return{disableApp:t.disableApp,disableMt5FinancialStpModal:n.mt5.disableMt5FinancialStpModal,enableApp:t.enableApp,is_mt5_financial_stp_modal_open:n.mt5.is_mt5_financial_stp_modal_open}}))((function(e){var t=e.disableApp,n=e.disableMt5FinancialStpModal,a=e.enableApp,r=e.is_mt5_financial_stp_modal_open;return i.createElement(i.Fragment,null,i.createElement(s.DesktopWrapper,null,i.createElement(s.Modal,{id:"mt5_financial_stp_signup_modal",className:"mt5-financial-stp-signup-modal",disableApp:t,width:"904px",title:Object(u.localize)("Create a DMT5 real Financial STP account"),enableApp:a,is_open:r,has_close_icon:!0,height:"740px",toggleModal:n},i.createElement(Fe,{toggleModal:n}))),i.createElement(s.MobileWrapper,null,i.createElement(s.MobileDialog,{portal_element_id:"modal_root",title:Object(u.localize)("Create a DMT5 real Financial STP account"),wrapper_classname:"mt5-financial-stp-signup-modal",visible:r,onClose:n},i.createElement(Fe,{toggleModal:n}))))}));function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var He=function(e){var t=e.is_visible,n=e.toggleModal,a=e.message;return i.createElement(s.Modal,{is_open:t,small:!0,toggleModal:n},i.createElement(s.Modal.Body,null,a),i.createElement(s.Modal.Footer,null,i.createElement(s.Button,{has_effect:!0,text:Object(u.localize)("OK"),onClick:n,primary:!0})))},Ye=function(e){var t=e.name,n=e.tooltip,a=e.counter,r=qe(i.useState(!1),2),o=r[0],c=r[1],l=function(){return c(!o)};return n?i.createElement(i.Fragment,null,i.createElement(s.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"mt5-attribute-describer",onClick:l},t,i.createElement(s.MobileWrapper,null,i.createElement(s.Text,{weight:"bold",line_height:"x",size:"xxxs",className:"counter"},a))),i.createElement(s.DesktopWrapper,null,i.createElement(s.Popover,{alignment:"right",icon:"counter",counter:a,message:n,zIndex:9998})),i.createElement(s.MobileWrapper,null,i.createElement(He,{toggleModal:l,is_visible:o,message:n}))):i.createElement(s.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"mt5-attribute-describer"},t)},Ke=function(e){var t=e.landing_companies,n=e.is_eu,a=e.is_eu_country,r=e.is_logged_in,o=r&&n||!r&&a;return function(e,t,n){return t.map((function(t){var a,r,o,i=t.attribute,c=t.synthetic,s=t.financial_stp,l=t.financial;return n?We(We(We({attribute:i},(null==e||null===(a=e.mt_gaming_company)||void 0===a?void 0:a.financial)?{synthetic:c}:{}),(null==e||null===(r=e.mt_financial_company)||void 0===r?void 0:r.financial)?{financial:l}:{}),(null==e||null===(o=e.mt_financial_company)||void 0===o?void 0:o.financial_stp)?{financial_stp:s}:{}):We(We(We({attribute:i},{synthetic:c}),{financial:l}),{financial_stp:s})}))}(t,[{attribute:i.createElement(Ye,{name:Object(u.localize)("Account currency")}),synthetic:o?Object(u.localize)("EUR"):Object(u.localize)("USD"),financial:o?Object(u.localize)("EUR/GBP"):Object(u.localize)("USD"),financial_stp:Object(u.localize)("USD")},{attribute:i.createElement(Ye,{name:Object(u.localize)("Maximum leverage")}),synthetic:Object(u.localize)("Up to 1:1000"),financial:o?Object(u.localize)("Up to 1:30"):Object(u.localize)("Up to 1:1000"),financial_stp:Object(u.localize)("Up to 1:100")},{attribute:i.createElement(Ye,{name:Object(u.localize)("Order execution")}),synthetic:Object(u.localize)("Market"),financial:Object(u.localize)("Market"),financial_stp:Object(u.localize)("Market")},{attribute:i.createElement(Ye,{name:Object(u.localize)("Spread")}),synthetic:Object(u.localize)("Fixed/Variable"),financial:Object(u.localize)("Variable"),financial_stp:Object(u.localize)("Variable")},{attribute:i.createElement(Ye,{name:Object(u.localize)("Commission")}),synthetic:Object(u.localize)("No"),financial:Object(u.localize)("No"),financial_stp:Object(u.localize)("No")},{attribute:i.createElement(Ye,{name:Object(u.localize)("Minimum deposit")}),synthetic:Object(u.localize)("No"),financial:Object(u.localize)("No"),financial_stp:Object(u.localize)("No")},{attribute:i.createElement(Ye,{name:Object(u.localize)("Margin call")}),synthetic:Object(u.localize)("100%"),financial:o?Object(u.localize)("100%"):Object(u.localize)("150%"),financial_stp:Object(u.localize)("150%")},{attribute:i.createElement(Ye,{name:Object(u.localize)("Stop out level")}),synthetic:Object(u.localize)("50%"),financial:o?Object(u.localize)("50%"):Object(u.localize)("75%"),financial_stp:Object(u.localize)("75%")},{attribute:i.createElement(Ye,{name:Object(u.localize)("Number of assets")}),synthetic:Object(u.localize)("10+"),financial:Object(u.localize)("50+"),financial_stp:Object(u.localize)("50+")},{attribute:i.createElement(Ye,{name:Object(u.localize)("Cryptocurrency trading")}),synthetic:Object(u.localize)("N/A"),financial:Object(u.localize)("24/7"),financial_stp:Object(u.localize)("24/7")},{attribute:i.createElement(Ye,{name:Object(u.localize)("Trading instruments")}),synthetic:Object(u.localize)("Synthetics"),financial:o?Object(u.localize)("FX-majors (standard), FX-minors, Commodities, Cryptocurrencies"):Object(u.localize)("FX-majors (standard/micro lots), FX-minors, Commodities, Cryptocurrencies"),financial_stp:Object(u.localize)("FX-majors, FX-minors, FX-exotics, Cryptocurrencies")}],r)},$e=function(){return i.createElement("div",{className:"mt5-compare-account--hint"},i.createElement("div",{className:"mt5-compare-accounts__bullet-wrapper"},i.createElement("span",{className:"mt5-compare-accounts__bullet mt5-compare-accounts__bullet--circle"}),i.createElement(u.Localize,{i18n_default_text:"At bank rollover, liquidity in the forex markets is reduced and may increase the spread and processing time for client orders. This happens around 21:00 GMT during daylight saving time, and 22:00 GMT non-daylight saving time."})),i.createElement("div",{className:"mt5-compare-accounts__bullet-wrapper"},i.createElement(s.Text,{size:"xs",line_height:"x",weight:"bold",className:"mt5-compare-accounts__bullet mt5-compare-accounts__bullet--star mt5-compare-accounts__star"},"*"),i.createElement(u.Localize,{i18n_default_text:"To protect your portfolio from adverse market movements due to the market opening gap, we reserve the right to decrease leverage on all offered symbols for financial accounts before market close and increase it again after market open. Please make sure that you have enough funds available in your MT5 account to support your positions at all times."})))},Xe=function(e){var t,n,a,r=e.is_eu,o=e.landing_companies,c=e.is_eu_country,d=e.is_logged_in,m=qe(i.useState([]),2),_=m[0],p=m[1],f=qe(i.useState("1.5fr 1fr 2fr 1fr"),2),b=f[0],g=f[1];return i.useEffect((function(){var e,t,n;(p(Ke({landing_companies:o,is_eu:r,is_eu_country:c,is_logged_in:d})),d)&&g("1.5fr ".concat((null==o||null===(e=o.mt_gaming_company)||void 0===e?void 0:e.financial)?"1fr":""," ").concat((null==o||null===(t=o.mt_financial_company)||void 0===t?void 0:t.financial)?"2fr":""," ").concat((null==o||null===(n=o.mt_financial_company)||void 0===n?void 0:n.financial_stp)?" 1fr ":""))}),[o.mt_financial_company,o.mt_gaming_company,r,d,c,o]),i.createElement("div",{className:"mt5-compare-accounts",style:{"--mt5-compare-accounts-template-columns":b}},i.createElement(s.Table,{fixed:!0,scroll_height:Object(l.isMobile)()?"100%":"calc(100% - 130px)"},i.createElement(s.Table.Header,null,i.createElement(s.Table.Row,{className:"mt5-compare-accounts__table-row"},i.createElement(s.Table.Head,{fixed:!0}),d?i.createElement(i.Fragment,null,(null==o||null===(t=o.mt_gaming_company)||void 0===t?void 0:t.financial)&&i.createElement(s.Table.Head,null,Object(u.localize)("Synthetic")),(null==o||null===(n=o.mt_financial_company)||void 0===n?void 0:n.financial)&&i.createElement(s.Table.Head,null,Object(u.localize)("Financial"),i.createElement(s.Text,{size:"s",weight:"bold",className:"mt5-compare-accounts__star"},"*")),(null==o||null===(a=o.mt_financial_company)||void 0===a?void 0:a.financial_stp)&&i.createElement(s.Table.Head,null,Object(u.localize)("Financial STP"),i.createElement(s.Text,{size:"s",weight:"bold",className:"mt5-compare-accounts__star"},"*"))):i.createElement(i.Fragment,null,i.createElement(s.Table.Head,null,Object(u.localize)("Synthetic")),i.createElement(s.Table.Head,null,Object(u.localize)("Financial"),i.createElement(s.Text,{size:"s",weight:"bold",className:"mt5-compare-accounts__star"},"*")),i.createElement(s.Table.Head,null,Object(u.localize)("Financial STP"),i.createElement(s.Text,{size:"s",weight:"bold",className:"mt5-compare-accounts__star"},"*"))))),i.createElement(s.Table.Body,null,_.map((function(e,t){return i.createElement(s.Table.Row,{key:t,className:"mt5-compare-accounts__table-row"},Object.keys(e).map((function(t,n){return i.createElement(s.Table.Cell,{key:n,fixed:0===n},e[t])})))})))),i.createElement(s.DesktopWrapper,null,i.createElement($e,null)))},Ge=Object(f.b)((function(e){var t=e.modules,n=e.ui,a=e.client;return{disableApp:n.disableApp,enableApp:n.enableApp,is_compare_accounts_visible:t.mt5.is_compare_accounts_visible,is_loading:a.is_populating_mt5_account_list,is_eu:a.is_eu,is_eu_country:a.is_eu_country,is_logged_in:a.is_logged_in,landing_companies:a.landing_companies,toggleCompareAccounts:t.mt5.toggleCompareAccountsModal}}))((function(e){var t=e.disableApp,n=e.enableApp,a=e.is_compare_accounts_visible,r=e.landing_companies,o=e.is_loading,c=e.is_logged_in,l=e.is_eu,d=e.is_eu_country,m=e.toggleCompareAccounts;return i.createElement("div",{className:"mt5-compare-accounts-modal__wrapper"},i.createElement(s.Button,{className:"mt5-dashboard__welcome-message--button",has_effect:!0,text:Object(u.localize)("Compare accounts"),onClick:m,secondary:!0,disabled:o}),i.createElement(i.Suspense,{fallback:i.createElement(s.UILoader,null)},i.createElement(s.DesktopWrapper,null,i.createElement(s.Modal,{className:"mt5-dashboard__compare-accounts",disableApp:t,enableApp:n,is_open:a,title:Object(u.localize)("Compare accounts"),toggleModal:m,type:"button",height:"696px",width:"903px"},i.createElement(Xe,{is_logged_in:c,is_eu:l,is_eu_country:d,landing_companies:r}))),i.createElement(s.MobileWrapper,null,i.createElement(s.MobileDialog,{portal_element_id:"deriv_app",title:Object(u.localize)("Compare accounts"),wrapper_classname:"mt5-dashboard__compare-accounts",visible:a,onClose:m,footer:i.createElement($e,null)},i.createElement(Xe,{is_logged_in:c,is_eu:l,is_eu_country:d,landing_companies:r})))))})),Ze=function(e){return e?"Deriv-Demo":"Deriv-Server"},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;switch(e||Object(l.OSDetect)()){case"windows":return"https://download.mql5.com/cdn/web/deriv.limited/mt5/deriv5setup.exe";case"linux":return"https://www.metatrader5.com/en/terminal/help/start_advanced/install_linux";case"macos":return"https://download.mql5.com/cdn/web/metaquotes.software.corp/mt5/MetaTrader5.dmg";case"ios":return"https://download.mql5.com/cdn/mobile/mt5/ios?server=Deriv-Demo,Deriv-Server";case"android":return"https://download.mql5.com/cdn/mobile/mt5/android?server=Deriv-Demo,Deriv-Server";default:return Qe({category:"real"})}},Qe=function(e){var t=e.category,n=e.loginid,a="demo"===t?"Deriv-Demo":"Deriv-Server",r=null!=n?n:"";return"https://trade.mql5.com/trade?servers=".concat(a,"&trade_server=").concat(a).concat(r&&"&login=".concat(r))},et=function(){return i.createElement("div",{className:"mt5-dashboard__download-center"},i.createElement("h1",{className:"mt5-dashboard__download-center--heading"},i.createElement(u.Localize,{i18n_default_text:"Run MT5 from your browser or download the MT5 app for your devices"})),i.createElement("div",{className:"mt5-dashboard__download-center-options"},i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop"},i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop-links"},i.createElement("div",null,i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop-row"},i.createElement(s.Icon,{icon:"IcMt5DeviceDesktop",width:118,height:85}),i.createElement(s.Icon,{icon:"IcMt5DeviceLaptop",width:75,height:51})),i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop-row"},i.createElement("a",{href:Qe({category:"demo"}),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationWebDemo",width:138,height:40})),i.createElement("a",{href:Qe({category:"real"}),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationWebReal",width:138,height:40})))),i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop-download"},i.createElement("a",{href:Je("windows"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationWindows",width:138,height:40})),i.createElement("a",{href:Je("macos"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationMacos",width:138,height:40})),i.createElement("a",{href:Je("linux"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationLinux",width:138,height:40})))),i.createElement(s.Text,{as:"p",size:"xxxs",className:"mt5-dashboard__download-center--hint"},i.createElement(u.Localize,{i18n_default_text:"The MT5 desktop app is not supported by Windows XP, Windows 2003, and Windows Vista."}))),i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile"},i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile-devices"},i.createElement(s.Icon,{icon:"IcMt5DeviceTablet",width:133,height:106}),i.createElement(s.Icon,{icon:"IcMt5DevicePhone",width:48,height:74})),i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile-links"},i.createElement("a",{className:"mt5-dashboard__download-center-options--mobile-link",href:Je("android"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationGoogle",width:135,height:40})),i.createElement("a",{className:"mt5-dashboard__download-center-options--mobile-link",href:Je("ios"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationApple",width:120,height:40}))))))},tt=n("./Stores/Modules/MT5/mt5-store.js");function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,r)}function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var lt=function(e){var t=e.count_from,n=void 0===t?60:t,a=e.onTimeout,r=ct(i.useState(n),2),o=r[0],c=r[1];return i.useEffect((function(){if(0!==o){var e=setTimeout((function(){c(o-1)}),1e3);return function(){return clearTimeout(e)}}return a(),function(){}}),[o]),i.createElement("span",{className:"countdown"},o)},ut=function(e){var t=e.sendVerifyEmail,n=e.account_type,a=e.account_group,r=e.server,o=e.password_type,c=ct(i.useState(!1),2),l=c[0],d=c[1],m=ct(i.useState(!1),2),_=m[0],p=m[1];i.useEffect((function(){localStorage.setItem("mt5_reset_password_intent",[r,a,n].join(".")),localStorage.setItem("mt5_reset_password_type",o),t()}),[]);return i.createElement("div",{className:"mt5-verification-email-sent"},i.createElement(s.Icon,{icon:"IcEmailSent",size:128}),i.createElement("h2",{className:"mt5-verification-email-sent__title"},i.createElement(u.Localize,{i18n_default_text:"We've sent you an email"})),i.createElement(s.Text,{as:"p",size:"xs",align:"center"},i.createElement(u.Localize,{i18n_default_text:"Please click on the link in the email to reset your password."})),!l&&i.createElement(s.Button,{className:"mt5-verification-email-sent__resend-button",primary:!0,onClick:function(){d(!0)}},i.createElement(u.Localize,{i18n_default_text:"Didn't receive the email?"})),l&&i.createElement(i.Fragment,null,i.createElement(s.Text,{as:"p",size:"xs",align:"center",weight:"bold",className:"mt5-verification-email-sent__title--sub"},i.createElement(u.Localize,{i18n_default_text:"Didn't receive the email?"})),i.createElement(s.Text,{as:"p",size:"xs",align:"center"},i.createElement(u.Localize,{i18n_default_text:"Check your spam or junk folder. If it's not there, try resending the email."})),i.createElement(s.Button,{className:"mt5-verification-email-sent__resend-button",large:!0,primary:!0,disabled:_,onClick:function(){t(),p(!0)}},!_&&i.createElement(u.Localize,{i18n_default_text:"Resend email"}),_&&i.createElement(i.Fragment,null,i.createElement(u.Localize,{i18n_default_text:"Resend in <0 /> seconds",components:[i.createElement(lt,{key:0,onTimeout:function(){return p(!1)},count_from:60})]})))))},dt=function(e){var t=e.toggleModal,n=e.is_investor;return i.createElement("div",{className:"mt5-password-manager__success"},i.createElement(s.Icon,{icon:"IcPasswordUpdated",size:128}),i.createElement("h1",{className:"mt5-password-manager__success-header"},i.createElement(u.Localize,{i18n_default_text:"Password changed"})),i.createElement(s.Text,{as:"p",size:"xxs",align:"center"},n?i.createElement(u.Localize,{i18n_default_text:"Your investor password has been changed."}):i.createElement(u.Localize,{i18n_default_text:"Your password has been changed."})),i.createElement(s.Button,{onClick:t,className:"mt5-password-manager__success-btn",primary:!0,large:!0},i.createElement("p",{className:"dc-btn__text"},Object(u.localize)("OK"))))},mt=function(e){var t=e.multi_step_ref,n=e.steps;return i.createElement(s.MultiStep,{ref:t,steps:n,className:"mt5-password-manager",lbl_previous:Object(u.localize)("Back")})},_t=function(e){var t=e.is_submit_success_main,n=e.toggleModal,r=e.onSubmit,o=e.validatePassword,c=e.error_message_main,d=e.setPasswordType,m=e.multi_step_ref;if(t)return i.createElement(dt,{toggleModal:n});return i.createElement(a.c,{initialValues:{old_password:"",new_password:"",password_type:"main"},validate:o,onSubmit:r},(function(e){var t=e.isSubmitting,n=e.errors,r=e.setFieldTouched,o=e.values,_=e.touched;return i.createElement(a.b,{className:"mt5-password-manager__main-form",noValidate:!0},c&&i.createElement("p",{className:"mt5-password-manager--error-message"},c),i.createElement(a.a,{name:"old_password"},(function(e){var t=e.field;return i.createElement(s.PasswordInput,it({},t,{autoComplete:"current-password",label:Object(u.localize)("Current password"),error:_.old_password&&n.old_password,required:!0}))})),i.createElement(a.a,{name:"new_password"},(function(e){var t=e.field;return i.createElement(s.PasswordMeter,{input:t.value,has_error:!(!_.new_password||!n.new_password),custom_feedback_messages:Object(l.getErrorMessages)().password_warnings},(function(e){var a=e.has_warning;return i.createElement(s.PasswordInput,it({},t,{autoComplete:"new-password",label:Object(u.localize)("New password"),hint:!a&&Object(u.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters and numbers."),error:_.new_password&&n.new_password,onChange:function(e){r("new_password",!0,!0),t.onChange(e)},className:"mt5-password-manager__new-password",required:!0}))}))})),i.createElement("div",{className:"mt5-password-manager__actions"},i.createElement(s.Button,{className:"mt5-password-manager--button",is_disabled:t||!o.old_password||!o.new_password||Object.keys(n).length>0,is_loading:t,text:Object(u.localize)("Change password"),primary:!0,large:!0}),i.createElement(s.Button,{className:"mt5-password-manager--button",type:"button",onClick:function(){var e;d("main"),null===(e=m.current)||void 0===e||e.goNextStep()},text:Object(u.localize)("Reset main password"),tertiary:!0,large:!0})))}))},pt=function(e){var t=e.error_message_investor,n=e.is_submit_success_investor,r=e.multi_step_ref,o=e.onSubmit,c=e.setPasswordType,d=e.toggleModal,m=e.validatePassword;if(n)return i.createElement(dt,{toggleModal:d,is_investor:!0});return i.createElement("div",{className:"mt5-password-manager__investor-wrapper"},i.createElement(s.Text,{as:"p",size:"xs",className:"mt5-password-manager--paragraph"},i.createElement(u.Localize,{i18n_default_text:"Use this password to grant viewing access to another user. While they may view your trading account, they will not be able to trade or take any other actions."})),i.createElement(s.Text,{as:"p",size:"xs",className:"mt5-password-manager--paragraph"},i.createElement(u.Localize,{i18n_default_text:"If this is the first time you try to create a password, or you have forgotten your password, please reset it."})),t&&i.createElement(s.Text,{as:"p",color:"loss-danger",size:"xs",className:"mt5-password-manager--error-message"},t),i.createElement(a.c,{initialValues:{old_password:"",new_password:"",password_type:"investor"},validate:m,onSubmit:o},(function(e){var t=e.isSubmitting,n=e.errors,o=e.setFieldTouched,d=e.values,m=e.touched;return i.createElement(a.b,{className:"mt5-password-manager__investor-form",noValidate:!0},i.createElement(a.a,{name:"old_password"},(function(e){var t=e.field;return i.createElement(s.PasswordInput,it({},t,{autoComplete:"current-password",label:Object(u.localize)("Current investor password"),error:m.old_password&&n.old_password,required:!0}))})),i.createElement(a.a,{name:"new_password"},(function(e){var t=e.field;return i.createElement(s.PasswordMeter,{input:t.value,has_error:!(!m.new_password||!n.new_password),custom_feedback_messages:Object(l.getErrorMessages)().password_warnings},(function(e){var a=e.has_warning;return i.createElement(s.PasswordInput,it({},t,{autoComplete:"new-password",label:Object(u.localize)("New investor password"),hint:!a&&Object(u.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters and numbers."),error:m.new_password&&n.new_password,onChange:function(e){o("new_password",!0,!0),t.onChange(e)},className:"mt5-password-manager__new-password",required:!0}))}))})),i.createElement("div",{className:"mt5-password-manager__actions"},i.createElement(s.Button,{className:"mt5-password-manager--button",is_disabled:t||!d.old_password||!d.new_password||Object.keys(n).length>0,is_loading:t,text:Object(u.localize)("Change investor password"),primary:!0,large:!0}),i.createElement(s.Button,{className:"mt5-password-manager--button",type:"button",onClick:function(){var e;c("investor"),null===(e=r.current)||void 0===e||e.goNextStep()},text:Object(u.localize)("Create or reset investor password"),tertiary:!0,large:!0})))})))},ft=function(e){var t=e.toggleModal,n=e.selected_login,a=e.email,r=e.setPasswordType,o=e.multi_step_ref,c=ct(i.useState(0),2),d=c[0],m=c[1],_=ct(i.useState(""),2),p=_[0],f=_[1],b=ct(i.useState(!1),2),g=b[0],h=b[1],y=ct(i.useState(""),2),v=y[0],w=y[1],E=ct(i.useState(!1),2),O=E[0],j=E[1],z=function(e){var t={};return Object(l.validLength)(e.new_password,{min:8,max:25})?Object(l.validPassword)(e.new_password)?e.new_password.toLowerCase()===a.toLowerCase()&&(t.new_password=Object(u.localize)("Your password cannot be the same as your email address.")):t.new_password=Object(l.getErrorMessages)().password():t.new_password=Object(u.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),e.old_password||void 0===e.old_password||(t.old_password=Object(u.localize)("This field is required")),t},x=function(e){"main"===e?(f(""),h(!0)):(w(""),j(!0))},S=i.useCallback(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,tt.default.changePassword(at({login:n},t));case 4:(a=e.sent)?(r=t.password_type,o=a,"main"===r?f(o):w(o)):x(t.password_type);case 6:case"end":return e.stop()}var r,o}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){ot(o,a,r,i,c,"next",e)}function c(e){ot(o,a,r,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[n]);return i.createElement(i.Fragment,null,i.createElement(s.Tabs,{active_index:d,onTabItemClick:function(e){m(e),f(""),h(!1),w(""),j(!1)},top:!0},i.createElement("div",{label:Object(u.localize)("Main password")},i.createElement(s.DesktopWrapper,null,i.createElement(s.ThemedScrollbars,{height:"calc(100vh - 84px - 5.6rem - 8.8rem - 4rem)",is_bypassed:Object(l.isMobile)(),autohide:!1},i.createElement(_t,{is_submit_success_main:g,toggleModal:t,onSubmit:S,validatePassword:z,error_message_main:p,setPasswordType:r,multi_step_ref:o}))),i.createElement(s.MobileWrapper,null,i.createElement(s.Div100vhContainer,{className:"mt5-password-manager__scroll-wrapper",height_offset:"120px"},i.createElement(_t,{is_submit_success_main:g,toggleModal:t,onSubmit:S,validatePassword:z,error_message_main:p,setPasswordType:r,multi_step_ref:o})))),i.createElement("div",{label:Object(u.localize)("Investor password")},i.createElement(s.DesktopWrapper,null,i.createElement(s.ThemedScrollbars,{height:"calc(100vh - 84px - 5.6rem - 8.8rem - 4rem)"},i.createElement(pt,{is_submit_success_investor:O,toggleModal:t,error_message_investor:v,validatePassword:z,onSubmit:S,setPasswordType:r,multi_step_ref:o}))),i.createElement(s.MobileWrapper,null,i.createElement(s.Div100vhContainer,{className:"mt5-password-manager__scroll-wrapper",height_offset:"120px"},i.createElement(pt,{is_submit_success_investor:O,toggleModal:t,error_message_investor:v,validatePassword:z,onSubmit:S,setPasswordType:r,multi_step_ref:o}))))))},bt=function(e){var t=e.enableApp,n=e.email,a=e.disableApp,r=e.is_visible,o=e.selected_login,c=e.selected_account,l=e.toggleModal,d=e.selected_account_type,m=e.selected_account_group,_=e.selected_server,p=e.sendVerifyEmail,f=i.useRef(),b=ct(i.useState("main"),2),g=b[0],h=b[1];if(!o)return null;var y=[{component:i.createElement(ft,{email:n,selected_login:o,toggleModal:l,password_type:g,setPasswordType:h,multi_step_ref:f})},{component:i.createElement(ut,{server:_,sendVerifyEmail:p,account_type:d,account_group:m,password_type:g})}];return i.createElement(i.Suspense,{fallback:i.createElement(s.UILoader,null)},i.createElement(s.DesktopWrapper,null,i.createElement(s.Modal,{className:"mt5-password-manager__modal",disableApp:a,enableApp:t,is_open:r,title:"real"===m?Object(u.localize)("Manage DMT5 Real {{account_title}} account password",{account_title:c}):Object(u.localize)("Manage DMT5 Demo {{account_title}} account password",{account_title:c}),toggleModal:l,height:"688px",width:"904px"},i.createElement(mt,{steps:y,multi_step_ref:f}))),i.createElement(s.MobileWrapper,null,i.createElement(s.PageOverlay,{is_open:r,portal_id:"deriv_app",header:Object(u.localize)("Manage password"),onClickClose:l},i.createElement(mt,{steps:y,multi_step_ref:f}))))};bt.propTypes={email:o.a.string,is_visible:o.a.bool,selected_account:o.a.string,selected_server:o.a.string,selected_login:o.a.string,toggleModal:o.a.func};var gt=Object(f.b)((function(e){var t=e.modules.mt5,n=e.client,a=e.ui;return{email:n.email,enableApp:a.enableApp,disableApp:a.disableApp,sendVerifyEmail:t.sendVerifyEmail}}))(bt),ht=function(e){var t=e.mt5_companies,n=e.current_account,a=e.closeSuccessTopUpModal,r=e.closeTopUpModal,o=e.is_top_up_virtual_open,c=e.is_top_up_virtual_in_progress,l=e.is_top_up_virtual_success,d=e.topUpVirtual,m=i.useCallback((function(){return t&&n?t[n.category][n.type].title:""}),[t,n]);if(!t||!n)return null;var _={currency:"USD",minimum_amount:1e3,additional_amount:1e4},f=_.currency,b=_.minimum_amount,g=_.additional_amount;return i.createElement(i.Fragment,null,i.createElement(s.Modal,{toggleModal:r,is_open:o,className:"top-up-virtual",title:Object(u.localize)("Fund top up"),width:"384px"},i.createElement("div",{className:"dc-modal__container_top-up-virtual__body"},i.createElement(s.Text,{as:"p",align:"center",size:"xxs",line_height:"xs",className:"dc-modal__container_top-up-virtual__description"},i.createElement(u.Localize,{i18n_default_text:"You can top up your demo account with an additional <0></0> if your balance is <1></1> or less.",components:[i.createElement(s.Money,{key:0,amount:g,currency:f,show_currency:!0}),i.createElement(s.Money,{key:1,amount:b,currency:f,show_currency:!0})]})),i.createElement("h4",{className:"dc-modal__container_top-up-virtual--h4"},i.createElement(u.Localize,{i18n_default_text:"DMT5 {{ account_title }} account",values:{account_title:m()}})),i.createElement("div",null,i.createElement(s.Text,{as:"p",align:"center",size:"xxs"},i.createElement(u.Localize,{i18n_default_text:"Current balance"})),i.createElement("div",{className:"dc-modal__container_top-up-virtual--balance"},i.createElement(s.Money,{amount:n.display_balance,currency:n.currency}))),i.createElement("div",{className:"dc-modal__container_top-up-virtual--button"},i.createElement(s.Button,{is_disabled:n.balance>1e3||c,type:"button",is_loading:c,onClick:d,primary:!0,large:!0},!c&&i.createElement(u.Localize,{i18n_default_text:"Top up Â <0></0>",components:[i.createElement(s.Money,{key:0,amount:g,currency:f,show_currency:!0})]}))))),i.createElement(p,{is_open:l,toggleModal:function(){a()},has_close_icon:!0,title:Object(u.localize)("Fund top up"),icon:i.createElement(s.Icon,{icon:"IcCashierWallet",size:128}),heading:i.createElement("h3",{className:"mt5-success-topup__heading"},i.createElement(u.Localize,{i18n_default_text:"<0></0> has been credited into your DMT5 {{title}} account.",values:{title:m()},components:[i.createElement(s.Money,{key:0,amount:g,currency:f,show_currency:!0})]})),message:i.createElement("div",{className:"mt5-success-topup__description"},i.createElement("p",null,i.createElement(u.Localize,{i18n_default_text:"New current balance"})),i.createElement("div",{className:"dc-modal__container_top-up-virtual--balance"},i.createElement(s.Money,{amount:n.balance,currency:n.currency}))),icon_size:"large",has_cancel:!1,has_submit:!1,width:"384px"}))};ht.propTypes={account_title:o.a.string,closeSuccessTopUpModal:o.a.func,closeTopUpVirtual:o.a.func,currency:o.a.string,display_balance:o.a.string,is_top_up_virtual_open:o.a.bool,is_top_up_virtual_in_progress:o.a.bool,is_top_up_virtual_success:o.a.bool,topUpVirtual:o.a.func};var yt=Object(f.b)((function(e){var t=e.ui,n=e.modules;return{is_top_up_virtual_open:t.is_top_up_virtual_open,is_top_up_virtual_in_progress:t.is_top_up_virtual_in_progress,is_top_up_virtual_success:t.is_top_up_virtual_success,closeTopUpModal:t.closeTopUpModal,closeSuccessTopUpModal:t.closeSuccessTopUpModal,current_account:n.mt5.current_account,mt5_companies:n.mt5.mt5_companies,topUpVirtual:n.mt5.topUpVirtual}}))(ht),vt=n("react-router-dom"),wt=n("./Stores/Modules/MT5/Helpers/mt5-config.js");function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Mt(e);if(t){var r=Mt(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return St(this,n)}}function St(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function At(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ct=function(e){var t,n,a,r,o,i=e.current_list,c=e.children,s=At(e,["current_list","children"]),l=localStorage.getItem("mt5_reset_password_intent"),u=localStorage.getItem("mt5_reset_password_type")||"main";if(l&&/(real|demo)\.(financial_stp|financial|synthetic)/.test(l)&&i){var d=kt(l.split("."),3);o=d[0],t=d[1],n=d[2],a=i["".concat(t,".").concat(n,"@").concat(o)].login,r=Object(wt.a)()[t][n].title}else if(i){var m=kt(Object.keys(i).pop().split("."),3);o=m[0],t=m[1],n=m[2],a=i["".concat(t,".").concat(n,"@").concat(o)].login,r=Object(wt.a)()[t][n].title}else a="",r="";return c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({login:a,title:r,type:u},s))},Dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(c,e);var t,n,r,o=xt(c);function c(){var e;Ot(this,c);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=o.call.apply(o,[this].concat(n))).state={has_error:!1,error_message:void 0,is_finished:!1,changed_password_type:""},e.renderErrorBox=function(t){e.setState({has_error:!0,error_message:t.message})},e.clearAddressBar=function(){localStorage.removeItem("mt5_reset_password_intent"),localStorage.removeItem("mt5_reset_password_type"),localStorage.removeItem("mt5_reset_password_code"),e.props.history.push("".concat(l.routes.mt5))},e.validatePassword=function(t){var n={};return Object(l.validLength)(t.new_password,{min:8,max:25})?Object(l.validPassword)(t.new_password)||(n.new_password=Object(l.getErrorMessages)().password()):n.new_password=Object(u.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),t.new_password.toLowerCase()===e.props.email.toLowerCase()&&(n.new_password=Object(u.localize)("Your password cannot be the same as your email address.")),n},e.resetPassword=function(t,n,a,r){var o=r.setSubmitting;o(!0);var i={login:a,password_type:n,new_password:t.new_password,verification_code:localStorage.getItem("mt5_reset_password_code")};A.a.mt5PasswordReset(i).then((function(t){t.error&&"InvalidToken"===t.error.code?e.renderErrorBox(t.error):(e.setState({is_finished:!0,changed_password_type:n}),e.clearAddressBar()),o(!1)}))},e}return t=c,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.is_mt5_reset_password_modal_enabled,r=t.setMt5PasswordResetModal,o=t.current_list;return i.createElement(s.Modal,{className:"mt5-reset-password-modal",is_open:n,toggleModal:function(){return r(!1)},title:Object(u.localize)("Reset DMT5 password")},!this.is_list_fetched&&!this.state.has_error&&i.createElement(s.Loading,{is_fullscreen:!1}),this.is_list_fetched&&!this.state.has_error&&!this.state.is_finished&&i.createElement(Ct,{current_list:o},(function(t){var n=t.title,r=t.type,o=t.login;return i.createElement(a.c,{initialValues:{new_password:""},validate:e.validatePassword,onSubmit:function(t,n){return e.resetPassword(t,r,o,n)}},(function(e){var t=e.handleSubmit,a=e.errors,o=e.values,c=e.isSubmitting,d=e.handleChange,m=e.handleBlur,_=e.touched;return i.createElement("form",{autoComplete:"off",onSubmit:t},i.createElement("div",{className:"mt5-reset-password"},i.createElement("div",{className:"mt5-reset-password__container"},i.createElement("h2",{className:"mt5-reset-password__heading"},i.createElement(u.Localize,{i18n_default_text:"Reset DMT5 {{title}} password",values:{title:n}})),i.createElement("div",{className:"mt5-reset-password__password-area"},i.createElement(s.PasswordMeter,{input:o.new_password,has_error:!(!_.new_password||!a.new_password),custom_feedback_messages:Object(l.getErrorMessages)().password_warnings},(function(e){var t=e.has_warning;return i.createElement(s.PasswordInput,{autoComplete:"new-password",className:"mt5-reset-password__password-field",name:"new_password",label:Object(u.localize)("New {{type}} password",{type:r}),onChange:d,onBlur:m,error:_.new_password&&a.new_password,value:o.new_password,"data-lpignore":"true",required:!0,hint:!t&&Object(u.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters and numbers.")})}))),c&&i.createElement(s.Loading,{is_fullscreen:!1}),!c&&i.createElement(s.FormSubmitButton,{is_disabled:c||!o.new_password||Object.keys(a).length>0,errors:a,is_center:!0,large:!0,label:Object(u.localize)("Create {{type}} password",{type:r})}))))}))})),this.state.has_error&&i.createElement("div",{className:"mt5-reset-password__error"},i.createElement(s.Icon,{icon:"IcMt5Expired",size:128}),i.createElement(s.Text,{as:"p",size:"xs",weight:"bold",align:"center",className:"mt5-reset-password__heading"},this.state.error_message),i.createElement(s.Text,{as:"p",color:"prominent",size:"xs",align:"center",className:"mt5-reset-password__description--is-centered"},i.createElement(u.Localize,{i18n_default_text:"Please request a new password and check your email for the new token."})),i.createElement(s.Button,{primary:!0,large:!0,onClick:function(){e.clearAddressBar(),r(!1)}},i.createElement(u.Localize,{i18n_default_text:"Ok"}))),this.state.is_finished&&i.createElement("div",{className:"mt5-reset-password__success"},i.createElement(s.Icon,{icon:"IcMt5PasswordUpdated",size:128}),i.createElement("div",{className:"mt5-reset-password__heading"},i.createElement(u.Localize,{i18n_default_text:"Password saved"})),i.createElement("div",{className:"mt5-reset-password__description"},i.createElement(u.Localize,{i18n_default_text:"Your {{account_type}} password has been changed.",values:{account_type:"main"===this.state.changed_password_type?Object(u.localize)("main"):Object(u.localize)("investor")}})),i.createElement(s.Button,{primary:!0,large:!0,onClick:function(){return r(!1)}},i.createElement(u.Localize,{i18n_default_text:"Ok"}))))}},{key:"is_list_fetched",get:function(){return 0!==Object.keys(this.props.current_list).length}}])&&jt(t.prototype,n),r&&jt(t,r),c}(i.Component);Dt.propTypes={email:r.string,is_mt5_reset_password_modal_enabled:r.any,setMt5PasswordResetModal:r.any,current_list:r.any};var It,Lt,Ft,Rt,Bt=Object(vt.withRouter)(Object(f.b)((function(e){var t=e.modules.mt5;return{email:e.client.email,is_mt5_reset_password_modal_enabled:t.is_mt5_reset_password_modal_enabled,setMt5PasswordResetModal:t.setMt5PasswordResetModal,current_list:t.current_list}}))(Dt)),Wt=Object(f.b)((function(e){var t=e.ui,n=e.modules.mt5;return{enableApp:t.enableApp,disableApp:t.disableApp,toggleModal:n.closeMT5PendingDialog,is_mt5_pending_dialog_open:n.is_mt5_pending_dialog_open}}))((function(e){var t=e.enableApp,n=e.disableApp,a=e.toggleModal,r=e.is_mt5_pending_dialog_open;return i.createElement(s.Modal,{title:Object(u.localize)("Thanks for submitting your documents!"),className:"mt5-pending-dialog",is_open:r,disableApp:n,enableApp:t,toggleModal:a,has_close_icon:!1,small:!0},i.createElement(s.Modal.Body,null,i.createElement(u.Localize,{i18n_default_text:"Weâ€™ll process your documents within 1-3 days. Once they are verified, weâ€™ll notify you via email."})),i.createElement(s.Modal.Footer,null,i.createElement(s.Button,{has_effect:!0,text:Object(u.localize)("OK"),onClick:a,primary:!0})))})),Ut=function(e){var t=e.display_name,n=e.label,a=e.success_msg,r=e.info_msg,o=e.text_copy;return i.createElement("div",{className:"mt5-dashboard__info-copy"},i.createElement("div",{className:"mt5-dashboard__info-display"},i.createElement(s.Text,{className:"mt5-dashboard__info-label"},n,":"),t),i.createElement(s.Clipboard,{text_copy:o,info_message:r,success_message:a}))};function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=(qt(It={},Object(u.localize)("Leverage"),Object(u.localize)("Up to 1:1000")),qt(It,Object(u.localize)("Margin call"),Object(u.localize)("100%")),qt(It,Object(u.localize)("Stop out level"),Object(u.localize)("50%")),qt(It,Object(u.localize)("Number of assets"),Object(u.localize)("10+")),It),Ht=(qt(Lt={},Object(u.localize)("Leverage"),Object(u.localize)("Up to 1:1000")),qt(Lt,Object(u.localize)("Margin call"),Object(u.localize)("150%")),qt(Lt,Object(u.localize)("Stop out level"),Object(u.localize)("75%")),qt(Lt,Object(u.localize)("Number of assets"),Object(u.localize)("50+")),Lt),Yt=(qt(Ft={},Object(u.localize)("Leverage"),Object(u.localize)("Up to 1:30")),qt(Ft,Object(u.localize)("Margin call"),Object(u.localize)("100%")),qt(Ft,Object(u.localize)("Stop out level"),Object(u.localize)("50%")),qt(Ft,Object(u.localize)("Number of assets"),Object(u.localize)("50+")),Ft),Kt=(qt(Rt={},Object(u.localize)("Leverage"),Object(u.localize)("Up to 1:100")),qt(Rt,Object(u.localize)("Margin call"),Object(u.localize)("150%")),qt(Rt,Object(u.localize)("Stop out level"),Object(u.localize)("75%")),qt(Rt,Object(u.localize)("Number of assets"),Object(u.localize)("50+")),Rt),$t=n("../../../node_modules/react-transition-group/esm/CSSTransition.js");function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=tn(e);if(t){var r=tn(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return en(this,n)}}function en(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(o,e);var t,n,a,r=Qt(o);function o(){return Gt(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return i.createElement(s.Clipboard,{text_copy:this.props.text,info_message:Object(u.localize)("Click here to copy account login number and paste into the login box in MT5 platform along with your password."),success_message:Object(u.localize)("Account login number copied!")})}}])&&Zt(t.prototype,n),a&&Zt(t,a),o}(i.PureComponent),an={synthetic:"IcMt5SyntheticPlatform",financial:"IcMt5FinancialPlatform",financial_stp:"IcMt5FinancialStpPlatform"},rn=i.forwardRef((function(e,t){var n=e.onSelectAccount,a=e.is_disabled;return i.createElement("div",{onClick:a?null:n,className:m()("mt5-account-card__add-server",{"mt5-account-card__add-server--disabled":a}),ref:t},i.createElement("span",{className:"mt5-account-card__add-server--icon"},"+"),i.createElement(u.Localize,{i18n_default_text:"Add more trade servers"}))}));rn.displayName="AddTradeServerButton";var on=function(e){var t=e.display_login;return i.createElement("div",{className:"mt5-account-card__login"},i.createElement(u.Localize,{i18n_default_text:"<0>Account login no.</0><1>{{display_login}}</1>",values:{display_login:t},components:[i.createElement("span",{key:0}),i.createElement("strong",{key:1})]}),i.createElement(nn,{text:t}))},cn=function(e){var t=e.button_label,n=e.handleClickSwitchAccount,a=e.has_real_account,r=e.is_accounts_switcher_on,o=e.is_button_primary,c=e.is_disabled,l=e.is_virtual,d=e.onSelectAccount,_=e.type;if(l&&a&&"real"===_.category&&"financial_stp"===_.type&&"function"==typeof n)return i.createElement("div",{className:"mt5-account-card__action-wrapper"},i.createElement(u.Localize,{i18n_default_text:"<0>Switch to your real account</0><1> to create a DMT5 Financial STP account.</1>",components:[i.createElement("a",{className:m()("mt5-account-card__action-wrapper__link link link--orange",{"mt5-account-card__action-wrapper__link--disabled":r}),key:0,onClick:n}),i.createElement(s.Text,{key:1,line_height:"s",size:"xxs"})]}));var p="real"===_.category?i.createElement(u.Localize,{i18n_default_text:"Add real account"}):i.createElement(u.Localize,{i18n_default_text:"Add demo account"}),f=t||p;return i.createElement(s.Button,{className:"mt5-account-card__account-selection",onClick:d,type:"button",is_disabled:c,primary:o,secondary:!o,large:!0},f)},sn=function(e){var t=e.button_label,n=e.commission_message,a=e.descriptor,r=e.is_hovered,o=e.existing_data,c=e.has_mt5_account,l=e.has_mt5_account_error,d=e.has_real_account,_=e.is_accounts_switcher_on,p=e.is_button_primary,f=e.is_disabled,b=e.is_logged_in,g=e.is_virtual,h=e.onHover,y=e.specs,v=e.title,w=e.type,E=e.onSelectAccount,O=e.onClickFund,j=e.onPasswordManager,z=e.should_show_trade_servers,x=e.is_trade_server_button_visible,S=e.toggleAccountsDialog,M=e.toggleShouldShowRealAccountsList,P=e.trading_servers,N=w.type?i.createElement(s.Icon,{icon:an[w.type],size:64}):null,k="synthetic"===w.type&&"real"===w.category&&!o,T="demo"===w.category,A=o&&"real"===w.category&&"synthetic"===w.type&&P.some((function(e){return e.id===o.server})),C=i.useRef(),D=i.useRef(),I=i.useRef();i.useEffect((function(){if(o){var e,t=function(){null==h||h(o.group)};return C.current.addEventListener("mouseenter",t),null==I||null===(e=I.current)||void 0===e||e.addEventListener("mouseenter",t),function(){var e;C.current.removeEventListener("mouseenter",t),null==I||null===(e=I.current)||void 0===e||e.removeEventListener("mouseenter",(function(){return t}))}}return function(){}}),[h]);var L=i.useCallback((function(e){var t=null==P?void 0:P.find((function(t){return t.id===e.server}));return t?"".concat(t.geolocation.region," ").concat(1===t.geolocation.sequence?"":t.geolocation.sequence):""}),[o,P]);return i.createElement("div",{ref:D,className:m()("mt5-account-card__wrapper",{"mt5-account-card__wrapper-shrinked":x&&"real"===w.category&&(!z||!r)})},i.createElement("div",{className:m()("mt5-account-card",{"mt5-account-card__logged-out":!b}),ref:C},k&&i.createElement("div",{className:"mt5-account-card__banner"},i.createElement(u.Localize,{i18n_default_text:"Most popular"})),T&&i.createElement("div",{className:"mt5-account-card__banner mt5-account-card__banner--demo"},i.createElement(u.Localize,{i18n_default_text:"DEMO"})),A&&i.createElement("div",{className:"mt5-account-card__banner mt5-account-card__banner--server"},L(o)),i.createElement("div",{className:m()("mt5-account-card__type",{"mt5-account-card__type--has-banner":k||T}),id:"mt5_".concat(w.category,"_").concat(w.type)},N,i.createElement("div",{className:"mt5-account-card__type--description"},i.createElement("h1",{className:"mt5-account-card--heading"},v),(!o||!b)&&i.createElement("p",{className:"mt5-account-card--paragraph"},a),o&&o.display_balance&&b&&i.createElement("p",{className:"mt5-account-card--balance"},i.createElement(s.Money,{amount:o.display_balance,currency:o.currency,has_sign:o.balance<0,show_currency:!0})))),i.createElement("div",{className:"mt5-account-card__cta"},i.createElement("div",{className:"mt5-account-card__specs"},i.createElement("table",{className:"mt5-account-card__specs-table"},i.createElement("tbody",null,Object.keys(y).map((function(e,t){return i.createElement("tr",{key:t,className:"mt5-account-card__specs-table-row"},i.createElement("td",{className:"mt5-account-card__specs-table-attribute"},i.createElement("p",{className:"mt5-account-card--paragraph"},e)),i.createElement("td",{className:"mt5-account-card__specs-table-data"},i.createElement("p",{className:"mt5-account-card--paragraph"},y[e])))})),A&&o&&"synthetic"===w.type&&"real"===w.category&&i.createElement("tr",{key:o.server,className:"mt5-account-card__specs-table-row"},i.createElement("td",{className:"mt5-account-card__specs-table-attribute"},i.createElement("p",{className:"mt5-account-card--paragraph"},i.createElement(u.Localize,{i18n_default_text:"Trade server: "}))),i.createElement("td",{className:"mt5-account-card__specs-table-data"},i.createElement("p",{className:"mt5-account-card--paragraph"},L(o))))))),(null==o?void 0:o.login)&&b&&i.createElement(on,{display_login:o.display_login}),(!o&&n||!b)&&i.createElement("div",{className:"mt5-account-card__commission"},i.createElement(s.Text,{as:"p",color:"general",size:"xs",styles:{margin:"1.6rem auto"}},n)),o&&b&&i.createElement("div",{className:"mt5-account-card__manage"},i.createElement(s.Button,{onClick:function(){return O(o)},type:"button",secondary:!0},"real"===w.category&&i.createElement(u.Localize,{i18n_default_text:"Fund transfer"}),"demo"===w.category&&i.createElement(u.Localize,{i18n_default_text:"Fund top up"})),i.createElement(s.Button,{onClick:function(){j(o.login,v,w.category,w.type,o.server)},type:"button",secondary:!0},i.createElement(u.Localize,{i18n_default_text:"Password"}))),!o&&c&&i.createElement(s.Button,{className:"mt5-account-card__account-selection",onClick:E,type:"button"},i.createElement(u.Localize,{i18n_default_text:"Select"})),o&&b&&i.createElement("a",{className:"dc-btn mt5-account-card__account-selection mt5-account-card__account-selection--primary",type:"button",href:Qe({category:w.category,loginid:o.display_login}),target:"_blank",rel:"noopener noreferrer"},i.createElement(u.Localize,{i18n_default_text:"Trade on web terminal"})),!o&&!c&&b&&i.createElement(cn,{button_label:t,handleClickSwitchAccount:function(){M(!0),S(!0)},has_real_account:d,is_accounts_switcher_on:_,is_button_primary:p,is_disabled:f,is_virtual:g,onSelectAccount:E,type:w})),i.createElement(i.Fragment,null,z&&i.createElement(s.MobileWrapper,null,i.createElement(rn,{ref:I,onSelectAccount:E,is_disabled:l})))),i.createElement(s.DesktopWrapper,null,i.createElement($t.a,{in:r&&z,timeout:0,classNames:"mt5-account-card__add-server",unmountOnExit:!0},i.createElement(rn,{ref:I,onSelectAccount:E,is_disabled:l}))))};function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var un=function(e){var t,n,a,r,o,c,s=e.is_eu,l=e.is_eu_country,d=e.has_maltainvest_account,m=e.has_mt5_account_error,_=e.openAccountNeededModal,p=e.standpoint,f=e.is_loading,b=e.is_logged_in,g=e.landing_companies,h=e.onSelectAccount,y=e.openAccountTransfer,v=e.current_list,w=e.has_mt5_account,E=e.openPasswordManager;return f?i.createElement("div",{className:"mt5-demo-accounts-display"},i.createElement(P.a,null)):i.createElement("div",{className:"mt5-demo-accounts-display"},((null==g||null===(t=g.mt_gaming_company)||void 0===t?void 0:t.financial)||!b)&&i.createElement(sn,{has_mt5_account:w,title:Object(u.localize)("Synthetic"),type:{category:"demo",type:"synthetic"},is_disabled:m,is_logged_in:b,existing_data:v[Object.keys(v).find((function(e){return e.startsWith("demo.synthetic")}))],commission_message:Object(u.localize)("No commission"),onSelectAccount:function(){return h({category:"demo",type:"synthetic"})},onPasswordManager:E,onClickFund:function(){return y(v[Object.keys(v).find((function(e){return e.startsWith("demo.synthetic")}))],{category:"demo",type:"synthetic"})},descriptor:Object(u.localize)("Trade CFDs on our Synthetic Indices that simulate real-world market movement."),specs:(n={},ln(n,Object(u.localize)("Leverage"),Object(u.localize)("Up to 1:1000")),ln(n,Object(u.localize)("Margin call"),Object(u.localize)("100%")),ln(n,Object(u.localize)("Stop out level"),Object(u.localize)("50%")),ln(n,Object(u.localize)("Number of assets"),Object(u.localize)("10+")),n)}),((null==g||null===(a=g.mt_financial_company)||void 0===a?void 0:a.financial)||!b)&&i.createElement(sn,{has_mt5_account:w,title:Object(u.localize)("Financial"),is_disabled:m,is_logged_in:b,type:{category:"demo",type:"financial"},existing_data:v[Object.keys(v).find((function(e){return e.startsWith("demo.financial@")}))],commission_message:Object(u.localize)("No commission"),onSelectAccount:function(){s&&!d&&p.iom?_("maltainvest",Object(u.localize)("Deriv Financial"),Object(u.localize)("DMT5 Demo Financial")):h({category:"demo",type:"financial"})},onPasswordManager:E,onClickFund:function(){return y(v[Object.keys(v).find((function(e){return e.startsWith("demo.financial@")}))],{category:"demo",type:"financial"})},descriptor:s||l?Object(u.localize)("Trade commodities, cryptocurrencies, major (standard) and minor currency pairs with high leverage."):Object(u.localize)("Trade commodities, cryptocurrencies, major (standard and micro-lots) and minor currency pairs with high leverage."),specs:s||l?Yt:(r={},ln(r,Object(u.localize)("Leverage"),Object(u.localize)("Up to 1:1000")),ln(r,Object(u.localize)("Margin call"),Object(u.localize)("150%")),ln(r,Object(u.localize)("Stop out level"),Object(u.localize)("75%")),ln(r,Object(u.localize)("Number of assets"),Object(u.localize)("50+")),r)}),((null==g||null===(o=g.mt_financial_company)||void 0===o?void 0:o.financial_stp)||!b)&&i.createElement(sn,{has_mt5_account:w,title:Object(u.localize)("Financial STP"),type:{category:"demo",type:"financial_stp"},is_disabled:m,is_logged_in:b,existing_data:v[Object.keys(v).find((function(e){return e.startsWith("demo.financial_stp@")}))],commission_message:Object(u.localize)("No commission"),onSelectAccount:function(){return h({category:"demo",type:"financial_stp"})},onPasswordManager:E,onClickFund:function(){return y(v[Object.keys(v).find((function(e){return e.startsWith("demo.financial_stp@")}))],{category:"demo",type:"financial_stp"})},descriptor:Object(u.localize)("Trade major, minor, exotic currency pairs, and cryptocurrencies with Straight-Through Processing (STP) of your orders direct to the market."),specs:(c={},ln(c,Object(u.localize)("Leverage"),Object(u.localize)("Up to 1:100")),ln(c,Object(u.localize)("Margin call"),Object(u.localize)("150%")),ln(c,Object(u.localize)("Stop out level"),Object(u.localize)("75%")),ln(c,Object(u.localize)("Number of assets"),Object(u.localize)("50+")),c)}))};function dn(e){return function(e){if(Array.isArray(e))return pn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||_n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(e,t){if(e){if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(e,t):void 0}}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var fn=function(e){var t,n,a,r=e.has_real_account,o=e.is_accounts_switcher_on,c=e.is_eu,d=e.is_eu_country,m=e.has_malta_account,_=e.has_maltainvest_account,p=e.has_mt5_account_error,f=e.is_fully_authenticated,b=e.is_pending_authentication,g=e.is_virtual,h=e.landing_companies,y=e.onSelectAccount,v=e.openAccountTransfer,w=e.openPasswordModal,E=e.isAccountOfTypeDisabled,O=e.current_list,j=e.has_mt5_account,z=e.openPasswordManager,x=e.account_settings,S=e.openAccountNeededModal,M=e.standpoint,P=e.is_logged_in,N=e.toggleAccountsDialog,k=e.toggleShouldShowRealAccountsList,T=e.trading_servers,A=e.can_have_more_real_synthetic_mt5,C=(P?!c&&r:!d)&&A,D=mn(i.useState(0),2),I=D[0],L=D[1],F=x.citizen&&x.tax_identification_number&&x.tax_residence,R=function(e,t,n){return e&&n?i.createElement(u.Localize,{i18n_default_text:"Set your password"}):t?i.createElement(u.Localize,{i18n_default_text:"Pending verification"}):i.createElement(u.Localize,{i18n_default_text:"Add real account"})}(f,b,F),B=!r||b,W=function(){c&&M.malta&&!m?S("malta",Object(u.localize)("Deriv Synthetic"),Object(u.localize)("DMT5 Synthetic")):y({type:"synthetic",category:"real"})},U=function(e){return v(O[Object(l.getMT5AccountListKey)(e)],{category:e.account_type,type:Object(l.getMT5AccountKey)(e.market_type,e.sub_account_type)})},q=function(e){var t=Object.keys(O).filter((function(e){return e.startsWith("real.synthetic")}));L(t.findIndex((function(t){return O[t].group===e})))},V=function(e){if(p)return!0;if(c){var t=Object(l.getAccountTypeFields)({category:"real",type:e});return E(null==t?void 0:t.account_type)}switch(e){case"synthetic":case"financial":return!r;case"financial_stp":return B;default:return!1}},H=P&&c||!P&&d,Y=((null==h||null===(t=h.mt_gaming_company)||void 0===t?void 0:t.financial)||!P)&&(Object.keys(O).some((function(e){return e.startsWith("real.synthetic")}))?Object.keys(O).filter((function(e){return e.startsWith("real.synthetic")})).reduce((function(e,t){return e.push(O[t]),e}),[]).map((function(e,t){return i.createElement(sn,{key:t,has_mt5_account:j,has_mt5_account_error:p,title:Object(u.localize)("Synthetic"),is_hovered:t===I,is_disabled:V("synthetic"),type:{category:"real",type:"synthetic"},is_logged_in:P,should_show_trade_servers:C,is_trade_server_button_visible:C,existing_data:e,commission_message:Object(u.localize)("No commission"),onSelectAccount:W,onPasswordManager:z,onClickFund:U,descriptor:Object(u.localize)("Trade CFDs on our Synthetic Indices that simulate real-world market movement."),specs:Vt,trading_servers:T,onHover:q})})):[i.createElement(sn,{key:"real.synthetic",has_mt5_account:j,title:Object(u.localize)("Synthetic"),is_disabled:V("synthetic"),type:{category:"real",type:"synthetic"},is_logged_in:P,should_show_trade_servers:C,is_trade_server_button_visible:C,existing_data:void 0,commission_message:Object(u.localize)("No commission"),onSelectAccount:W,onPasswordManager:z,onClickFund:U,descriptor:Object(u.localize)("Trade CFDs on our Synthetic Indices that simulate real-world market movement."),specs:Vt,trading_servers:T,onHover:q})]),K=((null==h||null===(n=h.mt_financial_company)||void 0===n?void 0:n.financial_stp)||!P)&&i.createElement(sn,{key:"real.financial_stp",has_mt5_account:j,title:Object(u.localize)("Financial STP"),type:{category:"real",type:"financial_stp"},is_logged_in:P,existing_data:O[Object.keys(O).find((function(e){return e.startsWith("real.financial_stp@")}))],commission_message:Object(u.localize)("No commission"),onSelectAccount:function(){var e={category:"real",type:"financial_stp"};f&&F?w(e):(f||B)&&F||y(e)},button_label:R,is_button_primary:b,onPasswordManager:z,onClickFund:U,descriptor:Object(u.localize)("Trade major, minor, exotic currency pairs, and cryptocurrencies with Straight-Through Processing (STP) of your orders direct to the market."),specs:Kt,is_disabled:V("financial_stp"),is_virtual:g,has_real_account:r,toggleAccountsDialog:N,toggleShouldShowRealAccountsList:k,is_accounts_switcher_on:o,is_trade_server_button_visible:C}),$=((null==h||null===(a=h.mt_financial_company)||void 0===a?void 0:a.financial)||!P)&&i.createElement(sn,{key:"real.financial",has_mt5_account:j,is_disabled:V("financial"),title:Object(u.localize)("Financial"),type:{category:"real",type:"financial"},existing_data:O[Object.keys(O).find((function(e){return e.startsWith("real.financial@")}))],commission_message:Object(u.localize)("No commission"),onSelectAccount:function(){c&&!_?S("maltainvest",Object(u.localize)("Deriv Financial"),Object(u.localize)("DMT5 Real Financial")):y({type:"financial",category:"real"})},onPasswordManager:z,onClickFund:U,descriptor:c||d?Object(u.localize)("Trade commodities, cryptocurrencies, major (standard) and minor currency pairs with high leverage."):Object(u.localize)("Trade commodities, cryptocurrencies, major (standard and micro-lots) and minor currency pairs with high leverage."),specs:H?Yt:Ht,is_logged_in:P,is_trade_server_button_visible:C}),X=[].concat(dn(Y||[]),[$,K]).filter(Boolean);return i.createElement("div",{className:"mt5-real-accounts-display"},i.createElement(s.DesktopWrapper,null,i.createElement(s.Carousel,{list:X,width:328,nav_position:"middle",show_bullet:!1,item_per_window:3,className:"mt5-real-accounts-display__carousel"})),i.createElement(s.MobileWrapper,null,X.map((function(e){return e}))))};n("./sass/app/modules/mt5/mt5-dashboard.scss");function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t,n,a,r,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,r)}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=On(e);if(t){var r=On(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return En(this,n)}}function En(e,t){return!t||"object"!==bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var zn=function(e){var t=e.children,n=e.is_loading,a=e.loading_component,r=jn(e,["children","is_loading","loading_component"]),o=a;return n?i.createElement(o,null):i.createElement(s.Tabs,r,t)},xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(d,e);var t,n,a,r,o,c=wn(d);function d(){var e;hn(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=c.call.apply(c,[this].concat(n))).state={active_index:0,is_account_needed_modal_open:!1,is_demo_tab:!0,required_account:{},password_manager:{is_visible:!1,selected_login:"",selected_account:"",selected_account_type:"",selected_account_group:"",selected_server:""}},e.openResetPassword=function(){/reset-password/.test(e.props.location.hash)&&e.props.setMt5PasswordResetModal(!0)},e.getIndexToSet=function(){if(e.props.location.hash)return/demo/.test(e.props.location.hash)?1:0},e.updateActiveIndex=function(t){var n={};1===t?n.is_demo_tab=!0:0===t&&(n.is_demo_tab=!1);var a=e.getIndexToSet();e.state.active_index!==a&&(n.active_index=a),Object(l.isEmptyObject)(n)||e.setState(n)},e.openAccountTransfer=function(t,n){"real"===n.category?(sessionStorage.setItem("mt5_transfer_to_login_id",t.login),e.props.disableMt5PasswordModal(),e.props.history.push(l.routes.cashier_acc_transfer)):(e.props.setCurrentAccount(t,n),e.props.openTopUpModal())},e.togglePasswordManagerModal=function(t,n,a,r,o){e.setState((function(e){return{active_index:e.active_index,password_manager:{is_visible:!e.password_manager.is_visible,selected_login:"string"==typeof t?t:"",selected_account:"string"==typeof n?n:"",selected_account_group:a,selected_account_type:r,selected_server:o}}}))},e.openRealPasswordModal=function(t){e.props.setAccountType(t),e.props.openPasswordModal()},e}return t=d,(n=[{key:"componentDidMount",value:(r=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateActiveIndex(this.getIndexToSet()),this.openResetPassword(),this.props.onMount();case 3:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){gn(o,n,a,i,c,"next",e)}function c(e){gn(o,n,a,i,c,"throw",e)}i(void 0)}))},function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"componentDidUpdate",value:function(){this.updateActiveIndex(),this.props.checkShouldOpenAccount()}},{key:"render",value:function(){var e=this.props,t=e.account_settings,n=e.account_status,a=e.beginRealSignupForMt5,r=e.country,o=e.createMT5Account,c=e.current_list,d=e.isAccountOfTypeDisabled,m=e.is_accounts_switcher_on,_=e.is_eu,p=e.is_eu_country,f=e.is_fully_authenticated,b=e.is_loading,g=e.is_logged_in,h=e.is_logging_in,y=e.is_mt5_allowed,v=e.is_pending_authentication,w=e.is_virtual,E=e.landing_companies,O=e.has_malta_account,j=e.has_maltainvest_account,z=e.has_mt5_account,S=e.has_mt5_account_error,P=e.mt5_disabled_signup_types,k=e.has_real_account,A=e.NotificationMessages,C=e.openAccountNeededModal,D=e.standpoint,I=e.toggleAccountsDialog,L=e.toggleShouldShowRealAccountsList,F=e.trading_servers,R=e.can_have_more_real_synthetic_mt5,B=e.upgradeable_landing_companies,W=!_&&g&&!k&&(null==B?void 0:B.length)>0;return!r&&g||h?i.createElement(s.Loading,null):i.createElement(i.Fragment,null,y||!g?i.createElement("div",{className:"mt5-dashboard__container"},i.createElement(A,null),i.createElement("div",{className:"mt5-dashboard"},i.createElement("div",{className:"mt5-dashboard__welcome-message"},i.createElement("h1",{className:"mt5-dashboard__welcome-message--heading"},g?i.createElement(u.Localize,{i18n_default_text:"Welcome to your MetaTrader 5 (DMT5 account dashboard)"}):i.createElement(u.Localize,{i18n_default_text:"Welcome to MetaTrader 5 (DMT5 account dashboard)"}))),S&&i.createElement("div",{className:"mt5-dashboard__accounts-error"},i.createElement(s.Text,{as:"p",className:"mt5-dashboard__accounts-error-message",lineHeight:"l",size:"xxs",color:"prominent",weight:"normal",align:"center"},i.createElement(u.Localize,{i18n_default_text:"Due to an issue on our server, some of your MT5 accounts are unavailable at the moment. Please bear with us and thank you for your patience."}))),i.createElement("div",{className:"mt5-dashboard__accounts-display"},i.createElement(gt,{is_visible:this.state.password_manager.is_visible,selected_login:this.state.password_manager.selected_login,selected_account:this.state.password_manager.selected_account,selected_account_group:this.state.password_manager.selected_account_group,selected_account_type:this.state.password_manager.selected_account_type,selected_server:this.state.password_manager.selected_server,toggleModal:this.togglePasswordManagerModal}),i.createElement(zn,{active_index:this.state.active_index,top:!0,center:!0,is_loading:b,is_logged_in:g,loading_component:N,onTabItemClick:this.updateActiveIndex,should_update_hash:!0},i.createElement("div",{label:Object(u.localize)("Real account"),"data-hash":"real"},i.createElement(i.Fragment,null,W&&i.createElement(T,{onClickSignup:a}),i.createElement(fn,{is_accounts_switcher_on:m,is_eu:_,is_eu_country:p,is_logged_in:g,has_maltainvest_account:j,has_malta_account:O,has_mt5_account_error:P.demo,openAccountNeededModal:C,current_list:c,account_status:n,has_mt5_account:z,onSelectAccount:o,account_settings:t,landing_companies:E,is_pending_authentication:v,is_fully_authenticated:f,is_virtual:w,openAccountTransfer:this.openAccountTransfer,openPasswordManager:this.togglePasswordManagerModal,openPasswordModal:this.openRealPasswordModal,isAccountOfTypeDisabled:d,has_real_account:k,standpoint:D,toggleAccountsDialog:I,toggleShouldShowRealAccountsList:L,trading_servers:F,can_have_more_real_synthetic_mt5:R}))),i.createElement("div",{label:Object(u.localize)("Demo account"),"data-hash":"demo"},i.createElement(un,{is_eu:_,is_logged_in:g,has_maltainvest_account:j,has_mt5_account_error:P.real,openAccountNeededModal:C,standpoint:D,is_loading:b,has_mt5_account:z,current_list:c,onSelectAccount:o,landing_companies:E,openAccountTransfer:this.openAccountTransfer,openPasswordManager:this.togglePasswordManagerModal}))),i.createElement("div",{className:"mt5-dashboard__info"},i.createElement("div",{className:"mt5-dashboard__info-description"},i.createElement(u.Localize,{i18n_default_text:"Use these in your apps"})),i.createElement(Ut,{display_name:"Deriv Limited",text_copy:"Deriv Limited",label:Object(u.localize)("Broker"),info_msg:Object(u.localize)("Click here to copy broker name."),success_msg:Object(u.localize)("Broker name copied!")}),i.createElement(Ut,{display_name:Ze(this.state.is_demo_tab),text_copy:Ze(this.state.is_demo_tab),label:Object(u.localize)("Server"),info_msg:Object(u.localize)("Click here to copy server name."),success_msg:Object(u.localize)("Server name copied!")})),i.createElement(Ge,null),i.createElement("div",{className:"mt5-dashboard__maintenance"},i.createElement(s.Icon,{icon:"IcAlertWarning",size:Object(l.isMobile)()?28:16,className:"mt5-dashboard__maintenance-icon"}),i.createElement("div",{className:"mt5-dashboard__maintenance-text"},i.createElement(u.Localize,{i18n_default_text:"Server maintenance starting 03:00 GMT every Sunday. This process may take up to 2 hours to complete. <0 />Service may be disrupted during this time.",components:[i.createElement("br",{key:0})]})))),i.createElement(s.DesktopWrapper,null,i.createElement(et,null)),i.createElement(s.MobileWrapper,null,i.createElement("div",{className:"mt5-dashboard__download-center"},i.createElement("h1",{className:"mt5-dashboard__download-center--heading"},i.createElement(u.Localize,{i18n_default_text:"Download the MT5 app"})),i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile"},i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile-devices"},i.createElement(s.Icon,{icon:"IcMt5DeviceTablet",width:133,height:106}),i.createElement(s.Icon,{icon:"IcMt5DevicePhone",width:48,height:74})),i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile-links"},i.createElement("a",{href:Je("android"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationGoogle",width:135,height:40})),i.createElement("a",{href:Je("ios"),target:"_blank",rel:"noopener noreferrer"},i.createElement(s.Icon,{icon:"IcInstallationApple",width:135,height:40})))))),i.createElement(yt,null),i.createElement(x,null),i.createElement(M,null),i.createElement(Re,null),i.createElement(Wt,null),i.createElement(Bt,null))):i.createElement(s.PageError,{buttonSize:"medium",header:i.createElement(u.Localize,{i18n_default_text:"DMT5 is not available in {{country}}",values:{country:t.residence},components:[i.createElement("br",{key:0})]}),messages:[i.createElement(u.Localize,{key:0,i18n_default_text:"Please explore our other platforms."})],redirect_urls:[l.routes.trade,l.routes.bot],redirect_labels:[i.createElement(u.Localize,{key:0,i18n_default_text:"Explore DTrader"}),i.createElement(u.Localize,{key:1,i18n_default_text:"Explore DBot"})]}))}}])&&yn(t.prototype,n),a&&yn(t,a),d}(i.Component),Sn=Object(c.withRouter)(Object(f.b)((function(e){var t=e.client,n=e.modules,a=e.ui;return{beginRealSignupForMt5:n.mt5.beginRealSignupForMt5,checkShouldOpenAccount:n.mt5.checkShouldOpenAccount,country:t.account_settings.residence,createMT5Account:n.mt5.createMT5Account,current_list:n.mt5.current_list,landing_companies:t.landing_companies,isAccountOfTypeDisabled:t.isAccountOfTypeDisabled,is_logged_in:t.is_logged_in,is_logging_in:t.is_logging_in,is_eu:t.is_eu,is_eu_country:t.is_eu_country,is_virtual:t.is_virtual,is_mt5_allowed:t.is_mt5_allowed,mt5_disabled_signup_types:t.mt5_disabled_signup_types,has_maltainvest_account:t.has_maltainvest_account,has_malta_account:t.has_malta_account,can_upgrade_to:t.can_upgrade_to,account_settings:t.account_settings,disableMt5PasswordModal:n.mt5.disableMt5PasswordModal,is_pending_authentication:t.is_pending_authentication,is_compare_accounts_visible:n.mt5.is_compare_accounts_visible,is_fully_authenticated:t.is_fully_authenticated,openPasswordModal:n.mt5.enableMt5PasswordModal,openAccountNeededModal:a.openAccountNeededModal,is_loading:t.is_populating_mt5_account_list,residence:t.residence,has_mt5_account:n.mt5.has_mt5_account,has_mt5_account_error:t.has_account_error_in_mt5_list,has_real_account:t.has_active_real_account,setAccountType:n.mt5.setAccountType,setMt5PasswordResetModal:n.mt5.setMt5PasswordResetModal,setCurrentAccount:n.mt5.setCurrentAccount,standpoint:t.standpoint,toggleCompareAccounts:n.mt5.toggleCompareAccountsModal,is_accounts_switcher_on:a.is_accounts_switcher_on,openTopUpModal:a.openTopUpModal,NotificationMessages:a.notification_messages_ui,onMount:n.mt5.onMount,onUnmount:n.mt5.onUnmount,toggleAccountsDialog:a.toggleAccountsDialog,toggleShouldShowRealAccountsList:a.toggleShouldShowRealAccountsList,trading_servers:t.trading_servers,can_have_more_real_synthetic_mt5:t.can_have_more_real_synthetic_mt5,upgradeable_landing_companies:t.upgradeable_landing_companies}}))(xn))},"./sass/app/modules/mt5/mt5-dashboard.scss":function(e,t,n){},"./sass/app/modules/mt5/mt5.scss":function(e,t,n){},"./templates/_common/components/loading.jsx":function(e,t,n){"use strict";var a=n("../../../node_modules/classnames/index.js"),r=n.n(a),o=n("react");t.a=function(e){var t=e.className,n=e.is_invisible,a=e.theme,i=e.id;return o.createElement("div",{id:i,className:r()("barspinner","barspinner--".concat(a||"dark"),{invisible:n},t)},Array.from(new Array(5)).map((function(e,t){return o.createElement("div",{key:t,className:"barspinner__rect barspinner__rect--".concat(t+1," rect").concat(t+1)})})))}}}]);
//# sourceMappingURL=trader.mt5.9e0f87df4b3910af5e35.js.map