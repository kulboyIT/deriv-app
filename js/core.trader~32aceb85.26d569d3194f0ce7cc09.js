(self.webpackChunk=self.webpackChunk||[]).push([[245],{55711:(t,e,r)=>{var n,o,i,a,s,c,u,l,p,f,d,h,y,m,_,b,g,v,w,O;self,t.exports=(n=r(45326),o=r(32452),i=r(46340),a=r(32253),s=r(1263),c=r(14571),u=r(9185),l=r(79642),p=r(68969),f=r(51553),d=r(77395),h=r(38605),y=r(48680),m=r(20374),_=r(59001),b=r(16),g=r(32735),v=r(12788),w=r(13799),O=r(14956),(()=>{var t,e,r,S,k,x,P,E={"../../../node_modules/@babel/runtime/helpers/extends/_index.mjs":(t,e,r)=>{"use strict";function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}r.d(e,{Z:()=>n})},"../../../node_modules/@babel/runtime/helpers/inheritsLoose/_index.mjs":(t,e,r)=>{"use strict";function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)}r.d(e,{Z:()=>o})},"../../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose/_index.mjs":(t,e,r)=>{"use strict";function n(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}r.d(e,{Z:()=>n})},"../../../node_modules/classnames/index.js":(t,e)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&t.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()},"../../../node_modules/event-source-polyfill/src/eventsource.js":function(t,e){var r,n,o;!function(i){"use strict";var a=i.setTimeout,s=i.clearTimeout,c=i.XMLHttpRequest,u=i.XDomainRequest,l=i.ActiveXObject,p=i.EventSource,f=i.document,d=i.Promise,h=i.fetch,y=i.Response,m=i.TextDecoder,_=i.TextEncoder,b=i.AbortController;if("undefined"==typeof window||"readyState"in f||null!=f.body||(f.readyState="loading",window.addEventListener("load",(function(t){f.readyState="complete"}),!1)),null==c&&null!=l&&(c=function(){return new l("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),Date.now||(Date.now=function(){return(new Date).getTime()}),null==b){var g=h;h=function(t,e){var r=e.signal;return g(t,{headers:e.headers,credentials:e.credentials,cache:e.cache}).then((function(t){var e=t.body.getReader();return r._reader=e,r._aborted&&r._reader.cancel(),{status:t.status,statusText:t.statusText,headers:t.headers,body:{getReader:function(){return e}}}}))},b=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function v(){this.bitsNeeded=0,this.codePoint=0}v.prototype.decode=function(t){function e(t,e,r){if(1===r)return t>=128>>e&&t<<e<=2047;if(2===r)return t>=2048>>e&&t<<e<=55295||t>=57344>>e&&t<<e<=65535;if(3===r)return t>=65536>>e&&t<<e<=1114111;throw new Error}function r(t,e){if(6===t)return e>>6>15?3:e>31?2:1;if(12===t)return e>15?3:2;if(18===t)return 3;throw new Error}for(var n=65533,o="",i=this.bitsNeeded,a=this.codePoint,s=0;s<t.length;s+=1){var c=t[s];0!==i&&(c<128||c>191||!e(a<<6|63&c,i-6,r(i,a)))&&(i=0,a=n,o+=String.fromCharCode(a)),0===i?(c>=0&&c<=127?(i=0,a=c):c>=192&&c<=223?(i=6,a=31&c):c>=224&&c<=239?(i=12,a=15&c):c>=240&&c<=247?(i=18,a=7&c):(i=0,a=n),0===i||e(a,i,r(i,a))||(i=0,a=n)):(i-=6,a=a<<6|63&c),0===i&&(a<=65535?o+=String.fromCharCode(a):(o+=String.fromCharCode(55296+(a-65535-1>>10)),o+=String.fromCharCode(56320+(a-65535-1&1023))))}return this.bitsNeeded=i,this.codePoint=a,o},null!=m&&null!=_&&function(){try{return"test"===(new m).decode((new _).encode("test"),{stream:!0})}catch(t){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+t)}return!1}()||(m=v);var w=function(){};function O(t){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=w,this.onload=w,this.onerror=w,this.onreadystatechange=w,this._contentType="",this._xhr=t,this._sendTimeout=0,this._abort=w}function S(t){return t.replace(/[A-Z]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)+32)}))}function k(t){for(var e=Object.create(null),r=t.split("\r\n"),n=0;n<r.length;n+=1){var o=r[n].split(": "),i=o.shift(),a=o.join(": ");e[S(i)]=a}this._map=e}function x(){}function P(t){this._headers=t}function E(){}function C(){this._listeners=Object.create(null)}function j(t){a((function(){throw t}),0)}function D(t){this.type=t,this.target=void 0}function T(t,e){D.call(this,t),this.data=e.data,this.lastEventId=e.lastEventId}function M(t,e){D.call(this,t),this.status=e.status,this.statusText=e.statusText,this.headers=e.headers}function A(t,e){D.call(this,t),this.error=e.error}O.prototype.open=function(t,e){this._abort(!0);var r=this,n=this._xhr,o=1,i=0;this._abort=function(t){0!==r._sendTimeout&&(s(r._sendTimeout),r._sendTimeout=0),1!==o&&2!==o&&3!==o||(o=4,n.onload=w,n.onerror=w,n.onabort=w,n.onprogress=w,n.onreadystatechange=w,n.abort(),0!==i&&(s(i),i=0),t||(r.readyState=4,r.onabort(null),r.onreadystatechange())),o=0};var u=function(){if(1===o){var t=0,e="",i=void 0;if("contentType"in n)t=200,e="OK",i=n.contentType;else try{t=n.status,e=n.statusText,i=n.getResponseHeader("Content-Type")}catch(r){t=0,e="",i=void 0}0!==t&&(o=2,r.readyState=2,r.status=t,r.statusText=e,r._contentType=i,r.onreadystatechange())}},l=function(){if(u(),2===o||3===o){o=3;var t="";try{t=n.responseText}catch(t){}r.readyState=3,r.responseText=t,r.onprogress()}},p=function(t,e){if(null!=e&&null!=e.preventDefault||(e={preventDefault:w}),l(),1===o||2===o||3===o){if(o=4,0!==i&&(s(i),i=0),r.readyState=4,"load"===t)r.onload(e);else if("error"===t)r.onerror(e);else{if("abort"!==t)throw new TypeError;r.onabort(e)}r.onreadystatechange()}},f=function(){i=a((function(){f()}),500),3===n.readyState&&l()};"onload"in n&&(n.onload=function(t){p("load",t)}),"onerror"in n&&(n.onerror=function(t){p("error",t)}),"onabort"in n&&(n.onabort=function(t){p("abort",t)}),"onprogress"in n&&(n.onprogress=l),"onreadystatechange"in n&&(n.onreadystatechange=function(t){!function(t){null!=n&&(4===n.readyState?"onload"in n&&"onerror"in n&&"onabort"in n||p(""===n.responseText?"error":"load",t):3===n.readyState?"onprogress"in n||l():2===n.readyState&&u())}(t)}),!("contentType"in n)&&"ontimeout"in c.prototype||(e+=(-1===e.indexOf("?")?"?":"&")+"padding=true"),n.open(t,e,!0),"readyState"in n&&(i=a((function(){f()}),0))},O.prototype.abort=function(){this._abort(!1)},O.prototype.getResponseHeader=function(t){return this._contentType},O.prototype.setRequestHeader=function(t,e){var r=this._xhr;"setRequestHeader"in r&&r.setRequestHeader(t,e)},O.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},O.prototype.send=function(){if("ontimeout"in c.prototype&&("sendAsBinary"in c.prototype||"mozAnon"in c.prototype)||null==f||null==f.readyState||"complete"===f.readyState){var t=this._xhr;"withCredentials"in t&&(t.withCredentials=this.withCredentials);try{t.send(void 0)}catch(t){throw t}}else{var e=this;e._sendTimeout=a((function(){e._sendTimeout=0,e.send()}),4)}},k.prototype.get=function(t){return this._map[S(t)]},null!=c&&null==c.HEADERS_RECEIVED&&(c.HEADERS_RECEIVED=2),x.prototype.open=function(t,e,r,n,o,i,a){t.open("GET",o);var s=0;for(var u in t.onprogress=function(){var e=t.responseText.slice(s);s+=e.length,r(e)},t.onerror=function(t){t.preventDefault(),n(new Error("NetworkError"))},t.onload=function(){n(null)},t.onabort=function(){n(null)},t.onreadystatechange=function(){if(t.readyState===c.HEADERS_RECEIVED){var r=t.status,n=t.statusText,o=t.getResponseHeader("Content-Type"),i=t.getAllResponseHeaders();e(r,n,o,new k(i))}},t.withCredentials=i,a)Object.prototype.hasOwnProperty.call(a,u)&&t.setRequestHeader(u,a[u]);return t.send(),t},P.prototype.get=function(t){return this._headers.get(t)},E.prototype.open=function(t,e,r,n,o,i,a){var s=null,c=new b,u=c.signal,l=new m;return h(o,{headers:a,credentials:i?"include":"same-origin",signal:u,cache:"no-store"}).then((function(t){return s=t.body.getReader(),e(t.status,t.statusText,t.headers.get("Content-Type"),new P(t.headers)),new d((function(t,e){var n=function(){s.read().then((function(e){if(e.done)t(void 0);else{var o=l.decode(e.value,{stream:!0});r(o),n()}})).catch((function(t){e(t)}))};n()}))})).catch((function(t){return"AbortError"===t.name?void 0:t})).then((function(t){n(t)})),{abort:function(){null!=s&&s.cancel(),c.abort()}}},C.prototype.dispatchEvent=function(t){t.target=this;var e=this._listeners[t.type];if(null!=e)for(var r=e.length,n=0;n<r;n+=1){var o=e[n];try{"function"==typeof o.handleEvent?o.handleEvent(t):o.call(this,t)}catch(t){j(t)}}},C.prototype.addEventListener=function(t,e){t=String(t);var r=this._listeners,n=r[t];null==n&&(n=[],r[t]=n);for(var o=!1,i=0;i<n.length;i+=1)n[i]===e&&(o=!0);o||n.push(e)},C.prototype.removeEventListener=function(t,e){t=String(t);var r=this._listeners,n=r[t];if(null!=n){for(var o=[],i=0;i<n.length;i+=1)n[i]!==e&&o.push(n[i]);0===o.length?delete r[t]:r[t]=o}},T.prototype=Object.create(D.prototype),M.prototype=Object.create(D.prototype),A.prototype=Object.create(D.prototype);var R=-1,N=-1,z=/^text\/event\-stream(;.*)?$/i,L=function(t,e){var r=null==t?e:parseInt(t,10);return r!=r&&(r=e),I(r)},I=function(t){return Math.min(Math.max(t,1e3),18e6)},U=function(t,e,r){try{"function"==typeof e&&e.call(t,r)}catch(t){j(t)}};function F(t,e){C.call(this),e=e||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(t,e,r){e=String(e);var n=Boolean(r.withCredentials),o=r.lastEventIdQueryParameterName||"lastEventId",i=I(1e3),l=L(r.heartbeatTimeout,45e3),p="",f=i,d=!1,h=0,y=r.headers||{},m=r.Transport,_=Y&&null==m?void 0:new O(null!=m?new m:null!=c&&"withCredentials"in c.prototype||null==u?new c:new u),b=null!=m&&"string"!=typeof m?new m:null==_?new E:new x,g=void 0,v=0,w=R,S="",k="",P="",C="",j=0,D=0,F=0,H=function(e,r,n,o){if(0===w)if(200===e&&null!=n&&z.test(n)){w=1,d=Date.now(),f=i,t.readyState=1;var a=new M("open",{status:e,statusText:r,headers:o});t.dispatchEvent(a),U(t,t.onopen,a)}else{var s="";200!==e?(r&&(r=r.replace(/\s+/g," ")),s="EventSource's response has a status "+e+" "+r+" that is not 200. Aborting the connection."):s="EventSource's response has a Content-Type specifying an unsupported type: "+(null==n?"-":n.replace(/\s+/g," "))+". Aborting the connection.",W(),a=new M("error",{status:e,statusText:r,headers:o}),t.dispatchEvent(a),U(t,t.onerror,a),console.error(s)}},V=function(e){if(1===w){for(var r=-1,n=0;n<e.length;n+=1)(u=e.charCodeAt(n))!=="\n".charCodeAt(0)&&u!=="\r".charCodeAt(0)||(r=n);var o=(-1!==r?C:"")+e.slice(0,r+1);C=(-1===r?C:"")+e.slice(r+1),""!==e&&(d=Date.now(),h+=e.length);for(var c=0;c<o.length;c+=1){var u=o.charCodeAt(c);if(j===N&&u==="\n".charCodeAt(0))j=0;else if(j===N&&(j=0),u==="\r".charCodeAt(0)||u==="\n".charCodeAt(0)){if(0!==j){1===j&&(F=c+1);var y=o.slice(D,F-1),m=o.slice(F+(F<c&&o.charCodeAt(F)===" ".charCodeAt(0)?1:0),c);"data"===y?(S+="\n",S+=m):"id"===y?k=m:"event"===y?P=m:"retry"===y?(i=L(m,i),f=i):"heartbeatTimeout"===y&&(l=L(m,l),0!==v&&(s(v),v=a((function(){G()}),l)))}if(0===j){if(""!==S){p=k,""===P&&(P="message");var _=new T(P,{data:S.slice(1),lastEventId:k});if(t.dispatchEvent(_),"open"===P?U(t,t.onopen,_):"message"===P?U(t,t.onmessage,_):"error"===P&&U(t,t.onerror,_),2===w)return}S="",P=""}j=u==="\r".charCodeAt(0)?N:0}else 0===j&&(D=c,j=1),1===j?u===":".charCodeAt(0)&&(F=c+1,j=2):2===j&&(j=3)}}},B=function(e){if(1===w||0===w){w=R,0!==v&&(s(v),v=0),v=a((function(){G()}),f),f=I(Math.min(16*i,2*f)),t.readyState=0;var r=new A("error",{error:e});t.dispatchEvent(r),U(t,t.onerror,r),null!=e&&console.error(e)}},W=function(){w=2,null!=g&&(g.abort(),g=void 0),0!==v&&(s(v),v=0),t.readyState=2},G=function(){if(v=0,w===R){d=!1,h=0,v=a((function(){G()}),l),w=0,S="",P="",k=p,C="",D=0,F=0,j=0;var r=e;"data:"!==e.slice(0,5)&&"blob:"!==e.slice(0,5)&&""!==p&&(r+=(-1===e.indexOf("?")?"?":"&")+o+"="+encodeURIComponent(p));var n=t.withCredentials,i={Accept:"text/event-stream"},s=t.headers;if(null!=s)for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(i[c]=s[c]);try{g=b.open(_,H,V,B,r,n,i)}catch(t){throw W(),t}}else if(d||null==g){var u=Math.max((d||Date.now())+l-Date.now(),1);d=!1,v=a((function(){G()}),u)}else B(new Error("No activity within "+l+" milliseconds. "+(0===w?"No response received.":h+" chars received.")+" Reconnecting.")),null!=g&&(g.abort(),g=void 0)};t.url=e,t.readyState=0,t.withCredentials=n,t.headers=y,t._close=W,G()}(this,t,e)}var Y=null!=h&&null!=y&&"body"in y.prototype;F.prototype=Object.create(C.prototype),F.prototype.CONNECTING=0,F.prototype.OPEN=1,F.prototype.CLOSED=2,F.prototype.close=function(){this._close()},F.CONNECTING=0,F.OPEN=1,F.CLOSED=2,F.prototype.withCredentials=void 0;var H=p;null==c||null!=p&&"withCredentials"in p.prototype||(H=F),function(i){if("object"==typeof t.exports){var a=i(e);void 0!==a&&(t.exports=a)}else n=[e],void 0===(o="function"==typeof(r=i)?r.apply(e,n):r)||(t.exports=o)}((function(t){t.EventSourcePolyfill=F,t.NativeEventSource=p,t.EventSource=H}))}("undefined"==typeof globalThis?"undefined"!=typeof window?window:"undefined"!=typeof self?self:this:globalThis)},"../../../node_modules/extend/index.js":t=>{"use strict";var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},a=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var n,o=e.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&e.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!i)return!1;for(n in t);return void 0===n||e.call(t,n)},s=function(t,e){n&&"__proto__"===e.name?n(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,r){if("__proto__"===r){if(!e.call(t,r))return;if(o)return o(t,r).value}return t[r]};t.exports=function t(){var e,r,n,o,u,l,p=arguments[0],f=1,d=arguments.length,h=!1;for("boolean"==typeof p&&(h=p,p=arguments[1]||{},f=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});f<d;++f)if(null!=(e=arguments[f]))for(r in e)n=c(p,r),p!==(o=c(e,r))&&(h&&o&&(a(o)||(u=i(o)))?(u?(u=!1,l=n&&i(n)?n:[]):l=n&&a(n)?n:{},s(p,{name:r,newValue:t(h,l,o)})):void 0!==o&&s(p,{name:r,newValue:o}));return p}},"../../../node_modules/lodash.debounce/index.js":(t,e,r)=>{var n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,u="object"==typeof self&&self&&self.Object===Object&&self,l=c||u||Function("return this")(),p=Object.prototype.toString,f=Math.max,d=Math.min,h=function(){return l.Date.now()};function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==p.call(t)}(t))return NaN;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var r=i.test(t);return r||a.test(t)?s(t.slice(2),r?2:8):o.test(t)?NaN:+t}t.exports=function(t,e,r){var n,o,i,a,s,c,u=0,l=!1,p=!1,_=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var r=n,i=o;return n=o=void 0,u=e,a=t.apply(i,r)}function g(t){return u=t,s=setTimeout(w,e),l?b(t):a}function v(t){var r=t-c;return void 0===c||r>=e||r<0||p&&t-u>=i}function w(){var t=h();if(v(t))return O(t);s=setTimeout(w,function(t){var r=e-(t-c);return p?d(r,i-(t-u)):r}(t))}function O(t){return s=void 0,_&&n?b(t):(n=o=void 0,a)}function S(){var t=h(),r=v(t);if(n=arguments,o=this,c=t,r){if(void 0===s)return g(c);if(p)return s=setTimeout(w,e),b(c)}return void 0===s&&(s=setTimeout(w,e)),a}return e=m(e)||0,y(r)&&(l=!!r.leading,i=(p="maxWait"in r)?f(m(r.maxWait)||0,e):i,_="trailing"in r?!!r.trailing:_),S.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=c=o=s=void 0},S.flush=function(){return void 0===s?a:O(h())},S}},"../../../node_modules/lodash.throttle/index.js":(t,e,r)=>{var n="Expected a function",o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,l="object"==typeof self&&self&&self.Object===Object&&self,p=u||l||Function("return this")(),f=Object.prototype.toString,d=Math.max,h=Math.min,y=function(){return p.Date.now()};function m(t,e,r){var o,i,a,s,c,u,l=0,p=!1,f=!1,m=!0;if("function"!=typeof t)throw new TypeError(n);function g(e){var r=o,n=i;return o=i=void 0,l=e,s=t.apply(n,r)}function v(t){return l=t,c=setTimeout(O,e),p?g(t):s}function w(t){var r=t-u;return void 0===u||r>=e||r<0||f&&t-l>=a}function O(){var t=y();if(w(t))return S(t);c=setTimeout(O,function(t){var r=e-(t-u);return f?h(r,a-(t-l)):r}(t))}function S(t){return c=void 0,m&&o?g(t):(o=i=void 0,s)}function k(){var t=y(),r=w(t);if(o=arguments,i=this,u=t,r){if(void 0===c)return v(u);if(f)return c=setTimeout(O,e),g(u)}return void 0===c&&(c=setTimeout(O,e)),s}return e=b(e)||0,_(r)&&(p=!!r.leading,a=(f="maxWait"in r)?d(b(r.maxWait)||0,e):a,m="trailing"in r?!!r.trailing:m),k.cancel=function(){void 0!==c&&clearTimeout(c),l=0,o=u=i=c=void 0},k.flush=function(){return void 0===c?s:S(y())},k}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==f.call(t)}(t))return NaN;if(_(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=a.test(t);return r||s.test(t)?c(t.slice(2),r?2:8):i.test(t)?NaN:+t}t.exports=function(t,e,r){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError(n);return _(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),m(t,e,{leading:o,maxWait:e,trailing:i})}},"../../../node_modules/moment/moment.js":function(t,e,r){(t=r.nmd(t)).exports=function(){"use strict";var e,r;function n(){return e.apply(null,arguments)}function o(t){e=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(s(t,e))return!1;return!0}function u(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function p(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function f(t,e){var r,n=[];for(r=0;r<t.length;++r)n.push(e(t[r],r));return n}function d(t,e){for(var r in e)s(e,r)&&(t[r]=e[r]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,r,n){return Gr(t,e,r,n,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(t){return null==t._pf&&(t._pf=y()),t._pf}function _(t){if(null==t._isValid){var e=m(t),n=r.call(e.parsedDateParts,(function(t){return null!=t})),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function b(t){var e=h(NaN);return null!=t?d(m(e),t):m(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){var e,r=Object(this),n=r.length>>>0;for(e=0;e<n;e++)if(e in r&&t.call(this,r[e],e,r))return!0;return!1};var g=n.momentProperties=[],v=!1;function w(t,e){var r,n,o;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=m(e)),u(e._locale)||(t._locale=e._locale),g.length>0)for(r=0;r<g.length;r++)u(o=e[n=g[r]])||(t[n]=o);return t}function O(t){w(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function S(t){return t instanceof O||null!=t&&null!=t._isAMomentObject}function k(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,e){var r=!0;return d((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),r){var o,i,a,c=[];for(i=0;i<arguments.length;i++){if(o="","object"==typeof arguments[i]){for(a in o+="\n["+i+"] ",arguments[0])s(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[i];c.push(o)}k(t+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),r=!1}return e.apply(this,arguments)}),e)}var P,E={};function C(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),E[t]||(k(e),E[t]=!0)}function j(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t){var e,r;for(r in t)s(t,r)&&(j(e=t[r])?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(t,e){var r,n=d({},t);for(r in e)s(e,r)&&(a(t[r])&&a(e[r])?(n[r]={},d(n[r],t[r]),d(n[r],e[r])):null!=e[r]?n[r]=e[r]:delete n[r]);for(r in t)s(t,r)&&!s(e,r)&&a(t[r])&&(n[r]=d({},n[r]));return n}function M(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,P=Object.keys?Object.keys:function(t){var e,r=[];for(e in t)s(t,e)&&r.push(e);return r};var A={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return j(n)?n.call(e,r):n}function N(t,e,r){var n=""+Math.abs(t),o=e-n.length;return(t>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,I={},U={};function F(t,e,r,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(U[t]=o),e&&(U[e[0]]=function(){return N(o.apply(this,arguments),e[1],e[2])}),r&&(U[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function Y(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function H(t){var e,r,n=t.match(z);for(e=0,r=n.length;e<r;e++)U[n[e]]?n[e]=U[n[e]]:n[e]=Y(n[e]);return function(e){var o,i="";for(o=0;o<r;o++)i+=j(n[o])?n[o].call(e,t):n[o];return i}}function V(t,e){return t.isValid()?(e=B(e,t.localeData()),I[e]=I[e]||H(e),I[e](t)):t.localeData().invalidDate()}function B(t,e){var r=5;function n(t){return e.longDateFormat(t)||t}for(L.lastIndex=0;r>=0&&L.test(t);)t=t.replace(L,n),L.lastIndex=0,r-=1;return t}var W={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(z).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var q="Invalid date";function Z(){return this._invalidDate}var X="%d",$=/\d{1,2}/;function J(t){return this._ordinal.replace("%d",t)}var K={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(t,e,r,n){var o=this._relativeTime[r];return j(o)?o(t,e,r,n):o.replace(/%d/i,t)}function tt(t,e){var r=this._relativeTime[t>0?"future":"past"];return j(r)?r(e):r.replace(/%s/i,e)}var et={};function rt(t,e){var r=t.toLowerCase();et[r]=et[r+"s"]=et[e]=t}function nt(t){return"string"==typeof t?et[t]||et[t.toLowerCase()]:void 0}function ot(t){var e,r,n={};for(r in t)s(t,r)&&(e=nt(r))&&(n[e]=t[r]);return n}var it={};function at(t,e){it[t]=e}function st(t){var e,r=[];for(e in t)s(t,e)&&r.push({unit:e,priority:it[e]});return r.sort((function(t,e){return t.priority-e.priority})),r}function ct(t){return t%4==0&&t%100!=0||t%400==0}function ut(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function lt(t){var e=+t,r=0;return 0!==e&&isFinite(e)&&(r=ut(e)),r}function pt(t,e){return function(r){return null!=r?(dt(this,t,r),n.updateOffset(this,e),this):ft(this,t)}}function ft(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function dt(t,e,r){t.isValid()&&!isNaN(r)&&("FullYear"===e&&ct(t.year())&&1===t.month()&&29===t.date()?(r=lt(r),t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),Qt(r,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](r))}function ht(t){return j(this[t=nt(t)])?this[t]():this}function yt(t,e){if("object"==typeof t){var r,n=st(t=ot(t));for(r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit])}else if(j(this[t=nt(t)]))return this[t](e);return this}var mt,_t=/\d/,bt=/\d\d/,gt=/\d{3}/,vt=/\d{4}/,wt=/[+-]?\d{6}/,Ot=/\d\d?/,St=/\d\d\d\d?/,kt=/\d\d\d\d\d\d?/,xt=/\d{1,3}/,Pt=/\d{1,4}/,Et=/[+-]?\d{1,6}/,Ct=/\d+/,jt=/[+-]?\d+/,Dt=/Z|[+-]\d\d:?\d\d/gi,Tt=/Z|[+-]\d\d(?::?\d\d)?/gi,Mt=/[+-]?\d+(\.\d{1,3})?/,At=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Rt(t,e,r){mt[t]=j(e)?e:function(t,n){return t&&r?r:e}}function Nt(t,e){return s(mt,t)?mt[t](e._strict,e._locale):new RegExp(zt(t))}function zt(t){return Lt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,r,n,o){return e||r||n||o})))}function Lt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}mt={};var It={};function Ut(t,e){var r,n=e;for("string"==typeof t&&(t=[t]),l(e)&&(n=function(t,r){r[e]=lt(t)}),r=0;r<t.length;r++)It[t[r]]=n}function Ft(t,e){Ut(t,(function(t,r,n,o){n._w=n._w||{},e(t,n._w,n,o)}))}function Yt(t,e,r){null!=e&&s(It,t)&&It[t](e,r._a,r,t)}var Ht,Vt=0,Bt=1,Wt=2,Gt=3,qt=4,Zt=5,Xt=6,$t=7,Jt=8;function Kt(t,e){return(t%e+e)%e}function Qt(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=Kt(e,12);return t+=(e-r)/12,1===r?ct(t)?29:28:31-r%7%2}Ht=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},F("M",["MM",2],"Mo",(function(){return this.month()+1})),F("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),F("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),rt("month","M"),at("month",8),Rt("M",Ot),Rt("MM",Ot,bt),Rt("MMM",(function(t,e){return e.monthsShortRegex(t)})),Rt("MMMM",(function(t,e){return e.monthsRegex(t)})),Ut(["M","MM"],(function(t,e){e[Bt]=lt(t)-1})),Ut(["MMM","MMMM"],(function(t,e,r,n){var o=r._locale.monthsParse(t,n,r._strict);null!=o?e[Bt]=o:m(r).invalidMonth=t}));var te="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),re=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ne=At,oe=At;function ie(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||re).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone}function ae(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[re.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function se(t,e,r){var n,o,i,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=h([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?"MMM"===e?-1!==(o=Ht.call(this._shortMonthsParse,a))?o:null:-1!==(o=Ht.call(this._longMonthsParse,a))?o:null:"MMM"===e?-1!==(o=Ht.call(this._shortMonthsParse,a))||-1!==(o=Ht.call(this._longMonthsParse,a))?o:null:-1!==(o=Ht.call(this._longMonthsParse,a))||-1!==(o=Ht.call(this._shortMonthsParse,a))?o:null}function ce(t,e,r){var n,o,i;if(this._monthsParseExact)return se.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=h([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(r&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function ue(t,e){var r;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=lt(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return r=Math.min(t.date(),Qt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function le(t){return null!=t?(ue(this,t),n.updateOffset(this,!0),this):ft(this,"Month")}function pe(){return Qt(this.year(),this.month())}function fe(t){return this._monthsParseExact?(s(this,"_monthsRegex")||he.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=ne),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function de(t){return this._monthsParseExact?(s(this,"_monthsRegex")||he.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=oe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function he(){function t(t,e){return e.length-t.length}var e,r,n=[],o=[],i=[];for(e=0;e<12;e++)r=h([2e3,e]),n.push(this.monthsShort(r,"")),o.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(n.sort(t),o.sort(t),i.sort(t),e=0;e<12;e++)n[e]=Lt(n[e]),o[e]=Lt(o[e]);for(e=0;e<24;e++)i[e]=Lt(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ye(t){return ct(t)?366:365}F("Y",0,0,(function(){var t=this.year();return t<=9999?N(t,4):"+"+t})),F(0,["YY",2],0,(function(){return this.year()%100})),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),rt("year","y"),at("year",1),Rt("Y",jt),Rt("YY",Ot,bt),Rt("YYYY",Pt,vt),Rt("YYYYY",Et,wt),Rt("YYYYYY",Et,wt),Ut(["YYYYY","YYYYYY"],Vt),Ut("YYYY",(function(t,e){e[Vt]=2===t.length?n.parseTwoDigitYear(t):lt(t)})),Ut("YY",(function(t,e){e[Vt]=n.parseTwoDigitYear(t)})),Ut("Y",(function(t,e){e[Vt]=parseInt(t,10)})),n.parseTwoDigitYear=function(t){return lt(t)+(lt(t)>68?1900:2e3)};var me=pt("FullYear",!0);function _e(){return ct(this.year())}function be(t,e,r,n,o,i,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,r,n,o,i,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,r,n,o,i,a),s}function ge(t){var e,r;return t<100&&t>=0?((r=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function ve(t,e,r){var n=7+e-r;return-(7+ge(t,0,n).getUTCDay()-e)%7+n-1}function we(t,e,r,n,o){var i,a,s=1+7*(e-1)+(7+r-n)%7+ve(t,n,o);return s<=0?a=ye(i=t-1)+s:s>ye(t)?(i=t+1,a=s-ye(t)):(i=t,a=s),{year:i,dayOfYear:a}}function Oe(t,e,r){var n,o,i=ve(t.year(),e,r),a=Math.floor((t.dayOfYear()-i-1)/7)+1;return a<1?n=a+Se(o=t.year()-1,e,r):a>Se(t.year(),e,r)?(n=a-Se(t.year(),e,r),o=t.year()+1):(o=t.year(),n=a),{week:n,year:o}}function Se(t,e,r){var n=ve(t,e,r),o=ve(t+1,e,r);return(ye(t)-n+o)/7}function ke(t){return Oe(t,this._week.dow,this._week.doy).week}F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),rt("week","w"),rt("isoWeek","W"),at("week",5),at("isoWeek",5),Rt("w",Ot),Rt("ww",Ot,bt),Rt("W",Ot),Rt("WW",Ot,bt),Ft(["w","ww","W","WW"],(function(t,e,r,n){e[n.substr(0,1)]=lt(t)}));var xe={dow:0,doy:6};function Pe(){return this._week.dow}function Ee(){return this._week.doy}function Ce(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function je(t){var e=Oe(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function De(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Te(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Me(t,e){return t.slice(e,7).concat(t.slice(0,e))}F("d",0,"do","day"),F("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),F("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),F("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),rt("day","d"),rt("weekday","e"),rt("isoWeekday","E"),at("day",11),at("weekday",11),at("isoWeekday",11),Rt("d",Ot),Rt("e",Ot),Rt("E",Ot),Rt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Rt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Rt("dddd",(function(t,e){return e.weekdaysRegex(t)})),Ft(["dd","ddd","dddd"],(function(t,e,r,n){var o=r._locale.weekdaysParse(t,n,r._strict);null!=o?e.d=o:m(r).invalidWeekday=t})),Ft(["d","e","E"],(function(t,e,r,n){e[n]=lt(t)}));var Ae="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Re="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ne="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ze=At,Le=At,Ie=At;function Ue(t,e){var r=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Me(r,this._week.dow):t?r[t.day()]:r}function Fe(t){return!0===t?Me(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ye(t){return!0===t?Me(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function He(t,e,r){var n,o,i,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=h([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?"dddd"===e?-1!==(o=Ht.call(this._weekdaysParse,a))?o:null:"ddd"===e?-1!==(o=Ht.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=Ht.call(this._minWeekdaysParse,a))?o:null:"dddd"===e?-1!==(o=Ht.call(this._weekdaysParse,a))||-1!==(o=Ht.call(this._shortWeekdaysParse,a))||-1!==(o=Ht.call(this._minWeekdaysParse,a))?o:null:"ddd"===e?-1!==(o=Ht.call(this._shortWeekdaysParse,a))||-1!==(o=Ht.call(this._weekdaysParse,a))||-1!==(o=Ht.call(this._minWeekdaysParse,a))?o:null:-1!==(o=Ht.call(this._minWeekdaysParse,a))||-1!==(o=Ht.call(this._weekdaysParse,a))||-1!==(o=Ht.call(this._shortWeekdaysParse,a))?o:null}function Ve(t,e,r){var n,o,i;if(this._weekdaysParseExact)return He.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=h([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(r&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(r&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function Be(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=De(t,this.localeData()),this.add(t-e,"d")):e}function We(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ge(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Te(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function qe(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$e.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=ze),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ze(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$e.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Le),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xe(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$e.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ie),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $e(){function t(t,e){return e.length-t.length}var e,r,n,o,i,a=[],s=[],c=[],u=[];for(e=0;e<7;e++)r=h([2e3,1]).day(e),n=Lt(this.weekdaysMin(r,"")),o=Lt(this.weekdaysShort(r,"")),i=Lt(this.weekdays(r,"")),a.push(n),s.push(o),c.push(i),u.push(n),u.push(o),u.push(i);a.sort(t),s.sort(t),c.sort(t),u.sort(t),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Je(){return this.hours()%12||12}function Ke(){return this.hours()||24}function Qe(t,e){F(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function tr(t,e){return e._meridiemParse}function er(t){return"p"===(t+"").toLowerCase().charAt(0)}F("H",["HH",2],0,"hour"),F("h",["hh",2],0,Je),F("k",["kk",2],0,Ke),F("hmm",0,0,(function(){return""+Je.apply(this)+N(this.minutes(),2)})),F("hmmss",0,0,(function(){return""+Je.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)})),F("Hmm",0,0,(function(){return""+this.hours()+N(this.minutes(),2)})),F("Hmmss",0,0,(function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)})),Qe("a",!0),Qe("A",!1),rt("hour","h"),at("hour",13),Rt("a",tr),Rt("A",tr),Rt("H",Ot),Rt("h",Ot),Rt("k",Ot),Rt("HH",Ot,bt),Rt("hh",Ot,bt),Rt("kk",Ot,bt),Rt("hmm",St),Rt("hmmss",kt),Rt("Hmm",St),Rt("Hmmss",kt),Ut(["H","HH"],Gt),Ut(["k","kk"],(function(t,e,r){var n=lt(t);e[Gt]=24===n?0:n})),Ut(["a","A"],(function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t})),Ut(["h","hh"],(function(t,e,r){e[Gt]=lt(t),m(r).bigHour=!0})),Ut("hmm",(function(t,e,r){var n=t.length-2;e[Gt]=lt(t.substr(0,n)),e[qt]=lt(t.substr(n)),m(r).bigHour=!0})),Ut("hmmss",(function(t,e,r){var n=t.length-4,o=t.length-2;e[Gt]=lt(t.substr(0,n)),e[qt]=lt(t.substr(n,2)),e[Zt]=lt(t.substr(o)),m(r).bigHour=!0})),Ut("Hmm",(function(t,e,r){var n=t.length-2;e[Gt]=lt(t.substr(0,n)),e[qt]=lt(t.substr(n))})),Ut("Hmmss",(function(t,e,r){var n=t.length-4,o=t.length-2;e[Gt]=lt(t.substr(0,n)),e[qt]=lt(t.substr(n,2)),e[Zt]=lt(t.substr(o))}));var rr=/[ap]\.?m?\.?/i,nr=pt("Hours",!0);function or(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var ir,ar={calendar:A,longDateFormat:W,invalidDate:q,ordinal:X,dayOfMonthOrdinalParse:$,relativeTime:K,months:te,monthsShort:ee,week:xe,weekdays:Ae,weekdaysMin:Ne,weekdaysShort:Re,meridiemParse:rr},sr={},cr={};function ur(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function lr(t){return t?t.toLowerCase().replace("_","-"):t}function pr(t){for(var e,r,n,o,i=0;i<t.length;){for(e=(o=lr(t[i]).split("-")).length,r=(r=lr(t[i+1]))?r.split("-"):null;e>0;){if(n=fr(o.slice(0,e).join("-")))return n;if(r&&r.length>=e&&ur(o,r)>=e-1)break;e--}i++}return ir}function fr(e){var r=null;if(void 0===sr[e]&&t&&t.exports)try{r=ir._abbr,Object(function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}()),dr(r)}catch(t){sr[e]=null}return sr[e]}function dr(t,e){var r;return t&&((r=u(e)?mr(t):hr(t,e))?ir=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ir._abbr}function hr(t,e){if(null!==e){var r,n=ar;if(e.abbr=t,null!=sr[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=sr[t]._config;else if(null!=e.parentLocale)if(null!=sr[e.parentLocale])n=sr[e.parentLocale]._config;else{if(null==(r=fr(e.parentLocale)))return cr[e.parentLocale]||(cr[e.parentLocale]=[]),cr[e.parentLocale].push({name:t,config:e}),null;n=r._config}return sr[t]=new M(T(n,e)),cr[t]&&cr[t].forEach((function(t){hr(t.name,t.config)})),dr(t),sr[t]}return delete sr[t],null}function yr(t,e){if(null!=e){var r,n,o=ar;null!=sr[t]&&null!=sr[t].parentLocale?sr[t].set(T(sr[t]._config,e)):(null!=(n=fr(t))&&(o=n._config),e=T(o,e),null==n&&(e.abbr=t),(r=new M(e)).parentLocale=sr[t],sr[t]=r),dr(t)}else null!=sr[t]&&(null!=sr[t].parentLocale?(sr[t]=sr[t].parentLocale,t===dr()&&dr(t)):null!=sr[t]&&delete sr[t]);return sr[t]}function mr(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ir;if(!i(t)){if(e=fr(t))return e;t=[t]}return pr(t)}function _r(){return P(sr)}function br(t){var e,r=t._a;return r&&-2===m(t).overflow&&(e=r[Bt]<0||r[Bt]>11?Bt:r[Wt]<1||r[Wt]>Qt(r[Vt],r[Bt])?Wt:r[Gt]<0||r[Gt]>24||24===r[Gt]&&(0!==r[qt]||0!==r[Zt]||0!==r[Xt])?Gt:r[qt]<0||r[qt]>59?qt:r[Zt]<0||r[Zt]>59?Zt:r[Xt]<0||r[Xt]>999?Xt:-1,m(t)._overflowDayOfYear&&(e<Vt||e>Wt)&&(e=Wt),m(t)._overflowWeeks&&-1===e&&(e=$t),m(t)._overflowWeekday&&-1===e&&(e=Jt),m(t).overflow=e),t}var gr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wr=/Z|[+-]\d\d(?::?\d\d)?/,Or=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kr=/^\/?Date\((-?\d+)/i,xr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Pr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Er(t){var e,r,n,o,i,a,s=t._i,c=gr.exec(s)||vr.exec(s);if(c){for(m(t).iso=!0,e=0,r=Or.length;e<r;e++)if(Or[e][1].exec(c[1])){o=Or[e][0],n=!1!==Or[e][2];break}if(null==o)return void(t._isValid=!1);if(c[3]){for(e=0,r=Sr.length;e<r;e++)if(Sr[e][1].exec(c[3])){i=(c[2]||" ")+Sr[e][0];break}if(null==i)return void(t._isValid=!1)}if(!n&&null!=i)return void(t._isValid=!1);if(c[4]){if(!wr.exec(c[4]))return void(t._isValid=!1);a="Z"}t._f=o+(i||"")+(a||""),Ur(t)}else t._isValid=!1}function Cr(t,e,r,n,o,i){var a=[jr(t),ee.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(o,10)];return i&&a.push(parseInt(i,10)),a}function jr(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Dr(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Tr(t,e,r){return!t||Re.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(m(r).weekdayMismatch=!0,r._isValid=!1,!1)}function Mr(t,e,r){if(t)return Pr[t];if(e)return 0;var n=parseInt(r,10),o=n%100;return(n-o)/100*60+o}function Ar(t){var e,r=xr.exec(Dr(t._i));if(r){if(e=Cr(r[4],r[3],r[2],r[5],r[6],r[7]),!Tr(r[1],e,t))return;t._a=e,t._tzm=Mr(r[8],r[9],r[10]),t._d=ge.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function Rr(t){var e=kr.exec(t._i);null===e?(Er(t),!1===t._isValid&&(delete t._isValid,Ar(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:n.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Nr(t,e,r){return null!=t?t:null!=e?e:r}function zr(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Lr(t){var e,r,n,o,i,a=[];if(!t._d){for(n=zr(t),t._w&&null==t._a[Wt]&&null==t._a[Bt]&&Ir(t),null!=t._dayOfYear&&(i=Nr(t._a[Vt],n[Vt]),(t._dayOfYear>ye(i)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),r=ge(i,0,t._dayOfYear),t._a[Bt]=r.getUTCMonth(),t._a[Wt]=r.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=n[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Gt]&&0===t._a[qt]&&0===t._a[Zt]&&0===t._a[Xt]&&(t._nextDay=!0,t._a[Gt]=0),t._d=(t._useUTC?ge:be).apply(null,a),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Gt]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(m(t).weekdayMismatch=!0)}}function Ir(t){var e,r,n,o,i,a,s,c,u;null!=(e=t._w).GG||null!=e.W||null!=e.E?(i=1,a=4,r=Nr(e.GG,t._a[Vt],Oe(qr(),1,4).year),n=Nr(e.W,1),((o=Nr(e.E,1))<1||o>7)&&(c=!0)):(i=t._locale._week.dow,a=t._locale._week.doy,u=Oe(qr(),i,a),r=Nr(e.gg,t._a[Vt],u.year),n=Nr(e.w,u.week),null!=e.d?((o=e.d)<0||o>6)&&(c=!0):null!=e.e?(o=e.e+i,(e.e<0||e.e>6)&&(c=!0)):o=i),n<1||n>Se(r,i,a)?m(t)._overflowWeeks=!0:null!=c?m(t)._overflowWeekday=!0:(s=we(r,n,o,i,a),t._a[Vt]=s.year,t._dayOfYear=s.dayOfYear)}function Ur(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],m(t).empty=!0;var e,r,o,i,a,s,c=""+t._i,u=c.length,l=0;for(o=B(t._f,t._locale).match(z)||[],e=0;e<o.length;e++)i=o[e],(r=(c.match(Nt(i,t))||[])[0])&&((a=c.substr(0,c.indexOf(r))).length>0&&m(t).unusedInput.push(a),c=c.slice(c.indexOf(r)+r.length),l+=r.length),U[i]?(r?m(t).empty=!1:m(t).unusedTokens.push(i),Yt(i,r,t)):t._strict&&!r&&m(t).unusedTokens.push(i);m(t).charsLeftOver=u-l,c.length>0&&m(t).unusedInput.push(c),t._a[Gt]<=12&&!0===m(t).bigHour&&t._a[Gt]>0&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[Gt]=Fr(t._locale,t._a[Gt],t._meridiem),null!==(s=m(t).era)&&(t._a[Vt]=t._locale.erasConvertYear(s,t._a[Vt])),Lr(t),br(t)}else Ar(t);else Er(t)}function Fr(t,e,r){var n;return null==r?e:null!=t.meridiemHour?t.meridiemHour(e,r):null!=t.isPM?((n=t.isPM(r))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function Yr(t){var e,r,n,o,i,a,s=!1;if(0===t._f.length)return m(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)i=0,a=!1,e=w({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Ur(e),_(e)&&(a=!0),i+=m(e).charsLeftOver,i+=10*m(e).unusedTokens.length,m(e).score=i,s?i<n&&(n=i,r=e):(null==n||i<n||a)&&(n=i,r=e,a&&(s=!0));d(t,r||e)}function Hr(t){if(!t._d){var e=ot(t._i),r=void 0===e.day?e.date:e.day;t._a=f([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Lr(t)}}function Vr(t){var e=new O(br(Br(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Br(t){var e=t._i,r=t._f;return t._locale=t._locale||mr(t._l),null===e||void 0===r&&""===e?b({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),S(e)?new O(br(e)):(p(e)?t._d=e:i(r)?Yr(t):r?Ur(t):Wr(t),_(t)||(t._d=null),t))}function Wr(t){var e=t._i;u(e)?t._d=new Date(n.now()):p(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Rr(t):i(e)?(t._a=f(e.slice(0),(function(t){return parseInt(t,10)})),Lr(t)):a(e)?Hr(t):l(e)?t._d=new Date(e):n.createFromInputFallback(t)}function Gr(t,e,r,n,o){var s={};return!0!==e&&!1!==e||(n=e,e=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(a(t)&&c(t)||i(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=r,s._i=t,s._f=e,s._strict=n,Vr(s)}function qr(t,e,r,n){return Gr(t,e,r,n,!1)}n.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Zr=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=qr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:b()})),Xr=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=qr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:b()}));function $r(t,e){var r,n;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return qr();for(r=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](r)||(r=e[n]);return r}function Jr(){return $r("isBefore",[].slice.call(arguments,0))}function Kr(){return $r("isAfter",[].slice.call(arguments,0))}var Qr=function(){return Date.now?Date.now():+new Date},tn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function en(t){var e,r,n=!1;for(e in t)if(s(t,e)&&(-1===Ht.call(tn,e)||null!=t[e]&&isNaN(t[e])))return!1;for(r=0;r<tn.length;++r)if(t[tn[r]]){if(n)return!1;parseFloat(t[tn[r]])!==lt(t[tn[r]])&&(n=!0)}return!0}function rn(){return this._isValid}function nn(){return En(NaN)}function on(t){var e=ot(t),r=e.year||0,n=e.quarter||0,o=e.month||0,i=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,c=e.minute||0,u=e.second||0,l=e.millisecond||0;this._isValid=en(e),this._milliseconds=+l+1e3*u+6e4*c+1e3*s*60*60,this._days=+a+7*i,this._months=+o+3*n+12*r,this._data={},this._locale=mr(),this._bubble()}function an(t){return t instanceof on}function sn(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function cn(t,e,r){var n,o=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0;for(n=0;n<o;n++)(r&&t[n]!==e[n]||!r&&lt(t[n])!==lt(e[n]))&&a++;return a+i}function un(t,e){F(t,0,0,(function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+N(~~(t/60),2)+e+N(~~t%60,2)}))}un("Z",":"),un("ZZ",""),Rt("Z",Tt),Rt("ZZ",Tt),Ut(["Z","ZZ"],(function(t,e,r){r._useUTC=!0,r._tzm=pn(Tt,t)}));var ln=/([\+\-]|\d\d)/gi;function pn(t,e){var r,n,o=(e||"").match(t);return null===o?null:0===(n=60*(r=((o[o.length-1]||[])+"").match(ln)||["-",0,0])[1]+lt(r[2]))?0:"+"===r[0]?n:-n}function fn(t,e){var r,o;return e._isUTC?(r=e.clone(),o=(S(t)||p(t)?t.valueOf():qr(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+o),n.updateOffset(r,!1),r):qr(t).local()}function dn(t){return-Math.round(t._d.getTimezoneOffset())}function hn(t,e,r){var o,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=pn(Tt,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&e&&(o=dn(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==t&&(!e||this._changeInProgress?Mn(this,En(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:dn(this)}function yn(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function mn(t){return this.utcOffset(0,t)}function _n(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(dn(this),"m")),this}function bn(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=pn(Dt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function gn(t){return!!this.isValid()&&(t=t?qr(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function vn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wn(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return w(e,this),(e=Br(e))._a?(t=e._isUTC?h(e._a):qr(e._a),this._isDSTShifted=this.isValid()&&cn(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function On(){return!!this.isValid()&&!this._isUTC}function Sn(){return!!this.isValid()&&this._isUTC}function kn(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var xn=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Pn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function En(t,e){var r,n,o,i=t,a=null;return an(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:l(t)||!isNaN(+t)?(i={},e?i[e]=+t:i.milliseconds=+t):(a=xn.exec(t))?(r="-"===a[1]?-1:1,i={y:0,d:lt(a[Wt])*r,h:lt(a[Gt])*r,m:lt(a[qt])*r,s:lt(a[Zt])*r,ms:lt(sn(1e3*a[Xt]))*r}):(a=Pn.exec(t))?(r="-"===a[1]?-1:1,i={y:Cn(a[2],r),M:Cn(a[3],r),w:Cn(a[4],r),d:Cn(a[5],r),h:Cn(a[6],r),m:Cn(a[7],r),s:Cn(a[8],r)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=Dn(qr(i.from),qr(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),n=new on(i),an(t)&&s(t,"_locale")&&(n._locale=t._locale),an(t)&&s(t,"_isValid")&&(n._isValid=t._isValid),n}function Cn(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function jn(t,e){var r={};return r.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function Dn(t,e){var r;return t.isValid()&&e.isValid()?(e=fn(e,t),t.isBefore(e)?r=jn(t,e):((r=jn(e,t)).milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function Tn(t,e){return function(r,n){var o;return null===n||isNaN(+n)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),Mn(this,En(r,n),t),this}}function Mn(t,e,r,o){var i=e._milliseconds,a=sn(e._days),s=sn(e._months);t.isValid()&&(o=null==o||o,s&&ue(t,ft(t,"Month")+s*r),a&&dt(t,"Date",ft(t,"Date")+a*r),i&&t._d.setTime(t._d.valueOf()+i*r),o&&n.updateOffset(t,a||s))}En.fn=on.prototype,En.invalid=nn;var An=Tn(1,"add"),Rn=Tn(-1,"subtract");function Nn(t){return"string"==typeof t||t instanceof String}function zn(t){return S(t)||p(t)||Nn(t)||l(t)||In(t)||Ln(t)||null==t}function Ln(t){var e,r,n=a(t)&&!c(t),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<i.length;e+=1)r=i[e],o=o||s(t,r);return n&&o}function In(t){var e=i(t),r=!1;return e&&(r=0===t.filter((function(e){return!l(e)&&Nn(t)})).length),e&&r}function Un(t){var e,r,n=a(t)&&!c(t),o=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<i.length;e+=1)r=i[e],o=o||s(t,r);return n&&o}function Fn(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Yn(t,e){1===arguments.length&&(arguments[0]?zn(arguments[0])?(t=arguments[0],e=void 0):Un(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||qr(),o=fn(r,this).startOf("day"),i=n.calendarFormat(this,o)||"sameElse",a=e&&(j(e[i])?e[i].call(this,r):e[i]);return this.format(a||this.localeData().calendar(i,this,qr(r)))}function Hn(){return new O(this)}function Vn(t,e){var r=S(t)?t:qr(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf())}function Bn(t,e){var r=S(t)?t:qr(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf())}function Wn(t,e,r,n){var o=S(t)?t:qr(t),i=S(e)?e:qr(e);return!!(this.isValid()&&o.isValid()&&i.isValid())&&("("===(n=n||"()")[0]?this.isAfter(o,r):!this.isBefore(o,r))&&(")"===n[1]?this.isBefore(i,r):!this.isAfter(i,r))}function Gn(t,e){var r,n=S(t)?t:qr(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf()))}function qn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Zn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Xn(t,e,r){var n,o,i;if(!this.isValid())return NaN;if(!(n=fn(t,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),e=nt(e)){case"year":i=$n(this,n)/12;break;case"month":i=$n(this,n);break;case"quarter":i=$n(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-o)/864e5;break;case"week":i=(this-n-o)/6048e5;break;default:i=this-n}return r?i:ut(i)}function $n(t,e){if(t.date()<e.date())return-$n(e,t);var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,"months");return-(r+(e-n<0?(e-n)/(n-t.clone().add(r-1,"months")):(e-n)/(t.clone().add(r+1,"months")-n)))||0}function Jn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Kn(t){if(!this.isValid())return null;var e=!0!==t,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?V(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):j(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(r,"Z")):V(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Qn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,r,n,o="moment",i="";return this.isLocal()||(o=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),t="["+o+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",n=i+'[")]',this.format(t+e+r+n)}function to(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=V(this,t);return this.localeData().postformat(e)}function eo(t,e){return this.isValid()&&(S(t)&&t.isValid()||qr(t).isValid())?En({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ro(t){return this.from(qr(),t)}function no(t,e){return this.isValid()&&(S(t)&&t.isValid()||qr(t).isValid())?En({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function oo(t){return this.to(qr(),t)}function io(t){var e;return void 0===t?this._locale._abbr:(null!=(e=mr(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ao=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function so(){return this._locale}var co=1e3,uo=60*co,lo=60*uo,po=3506328*lo;function fo(t,e){return(t%e+e)%e}function ho(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-po:new Date(t,e,r).valueOf()}function yo(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-po:Date.UTC(t,e,r)}function mo(t){var e,r;if(void 0===(t=nt(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?yo:ho,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=fo(e+(this._isUTC?0:this.utcOffset()*uo),lo);break;case"minute":e=this._d.valueOf(),e-=fo(e,uo);break;case"second":e=this._d.valueOf(),e-=fo(e,co)}return this._d.setTime(e),n.updateOffset(this,!0),this}function _o(t){var e,r;if(void 0===(t=nt(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?yo:ho,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=lo-fo(e+(this._isUTC?0:this.utcOffset()*uo),lo)-1;break;case"minute":e=this._d.valueOf(),e+=uo-fo(e,uo)-1;break;case"second":e=this._d.valueOf(),e+=co-fo(e,co)-1}return this._d.setTime(e),n.updateOffset(this,!0),this}function bo(){return this._d.valueOf()-6e4*(this._offset||0)}function go(){return Math.floor(this.valueOf()/1e3)}function vo(){return new Date(this.valueOf())}function wo(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Oo(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function So(){return this.isValid()?this.toISOString():null}function ko(){return _(this)}function xo(){return d({},m(this))}function Po(){return m(this).overflow}function Eo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Co(t,e){var r,o,i,a=this._eras||mr("en")._eras;for(r=0,o=a.length;r<o;++r){switch(typeof a[r].since){case"string":i=n(a[r].since).startOf("day"),a[r].since=i.valueOf()}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=n(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf()}}return a}function jo(t,e,r){var n,o,i,a,s,c=this.eras();for(t=t.toUpperCase(),n=0,o=c.length;n<o;++n)if(i=c[n].name.toUpperCase(),a=c[n].abbr.toUpperCase(),s=c[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(a===t)return c[n];break;case"NNNN":if(i===t)return c[n];break;case"NNNNN":if(s===t)return c[n]}else if([i,a,s].indexOf(t)>=0)return c[n]}function Do(t,e){var r=t.since<=t.until?1:-1;return void 0===e?n(t.since).year():n(t.since).year()+(e-t.offset)*r}function To(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].name;if(n[t].until<=r&&r<=n[t].since)return n[t].name}return""}function Mo(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].narrow;if(n[t].until<=r&&r<=n[t].since)return n[t].narrow}return""}function Ao(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].abbr;if(n[t].until<=r&&r<=n[t].since)return n[t].abbr}return""}function Ro(){var t,e,r,o,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,o=this.clone().startOf("day").valueOf(),i[t].since<=o&&o<=i[t].until||i[t].until<=o&&o<=i[t].since)return(this.year()-n(i[t].since).year())*r+i[t].offset;return this.year()}function No(t){return s(this,"_erasNameRegex")||Ho.call(this),t?this._erasNameRegex:this._erasRegex}function zo(t){return s(this,"_erasAbbrRegex")||Ho.call(this),t?this._erasAbbrRegex:this._erasRegex}function Lo(t){return s(this,"_erasNarrowRegex")||Ho.call(this),t?this._erasNarrowRegex:this._erasRegex}function Io(t,e){return e.erasAbbrRegex(t)}function Uo(t,e){return e.erasNameRegex(t)}function Fo(t,e){return e.erasNarrowRegex(t)}function Yo(t,e){return e._eraYearOrdinalRegex||Ct}function Ho(){var t,e,r=[],n=[],o=[],i=[],a=this.eras();for(t=0,e=a.length;t<e;++t)n.push(Lt(a[t].name)),r.push(Lt(a[t].abbr)),o.push(Lt(a[t].narrow)),i.push(Lt(a[t].name)),i.push(Lt(a[t].abbr)),i.push(Lt(a[t].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function Vo(t,e){F(0,[t,t.length],0,e)}function Bo(t){return $o.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wo(t){return $o.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Go(){return Se(this.year(),1,4)}function qo(){return Se(this.isoWeekYear(),1,4)}function Zo(){var t=this.localeData()._week;return Se(this.year(),t.dow,t.doy)}function Xo(){var t=this.localeData()._week;return Se(this.weekYear(),t.dow,t.doy)}function $o(t,e,r,n,o){var i;return null==t?Oe(this,n,o).year:(e>(i=Se(t,n,o))&&(e=i),Jo.call(this,t,e,r,n,o))}function Jo(t,e,r,n,o){var i=we(t,e,r,n,o),a=ge(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ko(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}F("N",0,0,"eraAbbr"),F("NN",0,0,"eraAbbr"),F("NNN",0,0,"eraAbbr"),F("NNNN",0,0,"eraName"),F("NNNNN",0,0,"eraNarrow"),F("y",["y",1],"yo","eraYear"),F("y",["yy",2],0,"eraYear"),F("y",["yyy",3],0,"eraYear"),F("y",["yyyy",4],0,"eraYear"),Rt("N",Io),Rt("NN",Io),Rt("NNN",Io),Rt("NNNN",Uo),Rt("NNNNN",Fo),Ut(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,r,n){var o=r._locale.erasParse(t,n,r._strict);o?m(r).era=o:m(r).invalidEra=t})),Rt("y",Ct),Rt("yy",Ct),Rt("yyy",Ct),Rt("yyyy",Ct),Rt("yo",Yo),Ut(["y","yy","yyy","yyyy"],Vt),Ut(["yo"],(function(t,e,r,n){var o;r._locale._eraYearOrdinalRegex&&(o=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[Vt]=r._locale.eraYearOrdinalParse(t,o):e[Vt]=parseInt(t,10)})),F(0,["gg",2],0,(function(){return this.weekYear()%100})),F(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Vo("gggg","weekYear"),Vo("ggggg","weekYear"),Vo("GGGG","isoWeekYear"),Vo("GGGGG","isoWeekYear"),rt("weekYear","gg"),rt("isoWeekYear","GG"),at("weekYear",1),at("isoWeekYear",1),Rt("G",jt),Rt("g",jt),Rt("GG",Ot,bt),Rt("gg",Ot,bt),Rt("GGGG",Pt,vt),Rt("gggg",Pt,vt),Rt("GGGGG",Et,wt),Rt("ggggg",Et,wt),Ft(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,r,n){e[n.substr(0,2)]=lt(t)})),Ft(["gg","GG"],(function(t,e,r,o){e[o]=n.parseTwoDigitYear(t)})),F("Q",0,"Qo","quarter"),rt("quarter","Q"),at("quarter",7),Rt("Q",_t),Ut("Q",(function(t,e){e[Bt]=3*(lt(t)-1)})),F("D",["DD",2],"Do","date"),rt("date","D"),at("date",9),Rt("D",Ot),Rt("DD",Ot,bt),Rt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Ut(["D","DD"],Wt),Ut("Do",(function(t,e){e[Wt]=lt(t.match(Ot)[0])}));var Qo=pt("Date",!0);function ti(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}F("DDD",["DDDD",3],"DDDo","dayOfYear"),rt("dayOfYear","DDD"),at("dayOfYear",4),Rt("DDD",xt),Rt("DDDD",gt),Ut(["DDD","DDDD"],(function(t,e,r){r._dayOfYear=lt(t)})),F("m",["mm",2],0,"minute"),rt("minute","m"),at("minute",14),Rt("m",Ot),Rt("mm",Ot,bt),Ut(["m","mm"],qt);var ei=pt("Minutes",!1);F("s",["ss",2],0,"second"),rt("second","s"),at("second",15),Rt("s",Ot),Rt("ss",Ot,bt),Ut(["s","ss"],Zt);var ri,ni,oi=pt("Seconds",!1);for(F("S",0,0,(function(){return~~(this.millisecond()/100)})),F(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),F(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),F(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),F(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),F(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),F(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),rt("millisecond","ms"),at("millisecond",16),Rt("S",xt,_t),Rt("SS",xt,bt),Rt("SSS",xt,gt),ri="SSSS";ri.length<=9;ri+="S")Rt(ri,Ct);function ii(t,e){e[Xt]=lt(1e3*("0."+t))}for(ri="S";ri.length<=9;ri+="S")Ut(ri,ii);function ai(){return this._isUTC?"UTC":""}function si(){return this._isUTC?"Coordinated Universal Time":""}ni=pt("Milliseconds",!1),F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var ci=O.prototype;function ui(t){return qr(1e3*t)}function li(){return qr.apply(null,arguments).parseZone()}function pi(t){return t}ci.add=An,ci.calendar=Yn,ci.clone=Hn,ci.diff=Xn,ci.endOf=_o,ci.format=to,ci.from=eo,ci.fromNow=ro,ci.to=no,ci.toNow=oo,ci.get=ht,ci.invalidAt=Po,ci.isAfter=Vn,ci.isBefore=Bn,ci.isBetween=Wn,ci.isSame=Gn,ci.isSameOrAfter=qn,ci.isSameOrBefore=Zn,ci.isValid=ko,ci.lang=ao,ci.locale=io,ci.localeData=so,ci.max=Xr,ci.min=Zr,ci.parsingFlags=xo,ci.set=yt,ci.startOf=mo,ci.subtract=Rn,ci.toArray=wo,ci.toObject=Oo,ci.toDate=vo,ci.toISOString=Kn,ci.inspect=Qn,"undefined"!=typeof Symbol&&null!=Symbol.for&&(ci[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ci.toJSON=So,ci.toString=Jn,ci.unix=go,ci.valueOf=bo,ci.creationData=Eo,ci.eraName=To,ci.eraNarrow=Mo,ci.eraAbbr=Ao,ci.eraYear=Ro,ci.year=me,ci.isLeapYear=_e,ci.weekYear=Bo,ci.isoWeekYear=Wo,ci.quarter=ci.quarters=Ko,ci.month=le,ci.daysInMonth=pe,ci.week=ci.weeks=Ce,ci.isoWeek=ci.isoWeeks=je,ci.weeksInYear=Zo,ci.weeksInWeekYear=Xo,ci.isoWeeksInYear=Go,ci.isoWeeksInISOWeekYear=qo,ci.date=Qo,ci.day=ci.days=Be,ci.weekday=We,ci.isoWeekday=Ge,ci.dayOfYear=ti,ci.hour=ci.hours=nr,ci.minute=ci.minutes=ei,ci.second=ci.seconds=oi,ci.millisecond=ci.milliseconds=ni,ci.utcOffset=hn,ci.utc=mn,ci.local=_n,ci.parseZone=bn,ci.hasAlignedHourOffset=gn,ci.isDST=vn,ci.isLocal=On,ci.isUtcOffset=Sn,ci.isUtc=kn,ci.isUTC=kn,ci.zoneAbbr=ai,ci.zoneName=si,ci.dates=x("dates accessor is deprecated. Use date instead.",Qo),ci.months=x("months accessor is deprecated. Use month instead",le),ci.years=x("years accessor is deprecated. Use year instead",me),ci.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yn),ci.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wn);var fi=M.prototype;function di(t,e,r,n){var o=mr(),i=h().set(n,e);return o[r](i,t)}function hi(t,e,r){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return di(t,e,r,"month");var n,o=[];for(n=0;n<12;n++)o[n]=di(t,n,r,"month");return o}function yi(t,e,r,n){"boolean"==typeof t?(l(e)&&(r=e,e=void 0),e=e||""):(r=e=t,t=!1,l(e)&&(r=e,e=void 0),e=e||"");var o,i=mr(),a=t?i._week.dow:0,s=[];if(null!=r)return di(e,(r+a)%7,n,"day");for(o=0;o<7;o++)s[o]=di(e,(o+a)%7,n,"day");return s}function mi(t,e){return hi(t,e,"months")}function _i(t,e){return hi(t,e,"monthsShort")}function bi(t,e,r){return yi(t,e,r,"weekdays")}function gi(t,e,r){return yi(t,e,r,"weekdaysShort")}function vi(t,e,r){return yi(t,e,r,"weekdaysMin")}fi.calendar=R,fi.longDateFormat=G,fi.invalidDate=Z,fi.ordinal=J,fi.preparse=pi,fi.postformat=pi,fi.relativeTime=Q,fi.pastFuture=tt,fi.set=D,fi.eras=Co,fi.erasParse=jo,fi.erasConvertYear=Do,fi.erasAbbrRegex=zo,fi.erasNameRegex=No,fi.erasNarrowRegex=Lo,fi.months=ie,fi.monthsShort=ae,fi.monthsParse=ce,fi.monthsRegex=de,fi.monthsShortRegex=fe,fi.week=ke,fi.firstDayOfYear=Ee,fi.firstDayOfWeek=Pe,fi.weekdays=Ue,fi.weekdaysMin=Ye,fi.weekdaysShort=Fe,fi.weekdaysParse=Ve,fi.weekdaysRegex=qe,fi.weekdaysShortRegex=Ze,fi.weekdaysMinRegex=Xe,fi.isPM=er,fi.meridiem=or,dr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===lt(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=x("moment.lang is deprecated. Use moment.locale instead.",dr),n.langData=x("moment.langData is deprecated. Use moment.localeData instead.",mr);var wi=Math.abs;function Oi(){var t=this._data;return this._milliseconds=wi(this._milliseconds),this._days=wi(this._days),this._months=wi(this._months),t.milliseconds=wi(t.milliseconds),t.seconds=wi(t.seconds),t.minutes=wi(t.minutes),t.hours=wi(t.hours),t.months=wi(t.months),t.years=wi(t.years),this}function Si(t,e,r,n){var o=En(e,r);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function ki(t,e){return Si(this,t,e,1)}function xi(t,e){return Si(this,t,e,-1)}function Pi(t){return t<0?Math.floor(t):Math.ceil(t)}function Ei(){var t,e,r,n,o,i=this._milliseconds,a=this._days,s=this._months,c=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*Pi(ji(s)+a),a=0,s=0),c.milliseconds=i%1e3,t=ut(i/1e3),c.seconds=t%60,e=ut(t/60),c.minutes=e%60,r=ut(e/60),c.hours=r%24,a+=ut(r/24),s+=o=ut(Ci(a)),a-=Pi(ji(o)),n=ut(s/12),s%=12,c.days=a,c.months=s,c.years=n,this}function Ci(t){return 4800*t/146097}function ji(t){return 146097*t/4800}function Di(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if("month"===(t=nt(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,r=this._months+Ci(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(ji(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function Ti(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*lt(this._months/12):NaN}function Mi(t){return function(){return this.as(t)}}var Ai=Mi("ms"),Ri=Mi("s"),Ni=Mi("m"),zi=Mi("h"),Li=Mi("d"),Ii=Mi("w"),Ui=Mi("M"),Fi=Mi("Q"),Yi=Mi("y");function Hi(){return En(this)}function Vi(t){return t=nt(t),this.isValid()?this[t+"s"]():NaN}function Bi(t){return function(){return this.isValid()?this._data[t]:NaN}}var Wi=Bi("milliseconds"),Gi=Bi("seconds"),qi=Bi("minutes"),Zi=Bi("hours"),Xi=Bi("days"),$i=Bi("months"),Ji=Bi("years");function Ki(){return ut(this.days()/7)}var Qi=Math.round,ta={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ea(t,e,r,n,o){return o.relativeTime(e||1,!!r,t,n)}function ra(t,e,r,n){var o=En(t).abs(),i=Qi(o.as("s")),a=Qi(o.as("m")),s=Qi(o.as("h")),c=Qi(o.as("d")),u=Qi(o.as("M")),l=Qi(o.as("w")),p=Qi(o.as("y")),f=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||a<=1&&["m"]||a<r.m&&["mm",a]||s<=1&&["h"]||s<r.h&&["hh",s]||c<=1&&["d"]||c<r.d&&["dd",c];return null!=r.w&&(f=f||l<=1&&["w"]||l<r.w&&["ww",l]),(f=f||u<=1&&["M"]||u<r.M&&["MM",u]||p<=1&&["y"]||["yy",p])[2]=e,f[3]=+t>0,f[4]=n,ea.apply(null,f)}function na(t){return void 0===t?Qi:"function"==typeof t&&(Qi=t,!0)}function oa(t,e){return void 0!==ta[t]&&(void 0===e?ta[t]:(ta[t]=e,"s"===t&&(ta.ss=e-1),!0))}function ia(t,e){if(!this.isValid())return this.localeData().invalidDate();var r,n,o=!1,i=ta;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(o=t),"object"==typeof e&&(i=Object.assign({},ta,e),null!=e.s&&null==e.ss&&(i.ss=e.s-1)),n=ra(this,!o,i,r=this.localeData()),o&&(n=r.pastFuture(+this,n)),r.postformat(n)}var aa=Math.abs;function sa(t){return(t>0)-(t<0)||+t}function ca(){if(!this.isValid())return this.localeData().invalidDate();var t,e,r,n,o,i,a,s,c=aa(this._milliseconds)/1e3,u=aa(this._days),l=aa(this._months),p=this.asSeconds();return p?(t=ut(c/60),e=ut(t/60),c%=60,t%=60,r=ut(l/12),l%=12,n=c?c.toFixed(3).replace(/\.?0+$/,""):"",o=p<0?"-":"",i=sa(this._months)!==sa(p)?"-":"",a=sa(this._days)!==sa(p)?"-":"",s=sa(this._milliseconds)!==sa(p)?"-":"",o+"P"+(r?i+r+"Y":"")+(l?i+l+"M":"")+(u?a+u+"D":"")+(e||t||c?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(c?s+n+"S":"")):"P0D"}var ua=on.prototype;return ua.isValid=rn,ua.abs=Oi,ua.add=ki,ua.subtract=xi,ua.as=Di,ua.asMilliseconds=Ai,ua.asSeconds=Ri,ua.asMinutes=Ni,ua.asHours=zi,ua.asDays=Li,ua.asWeeks=Ii,ua.asMonths=Ui,ua.asQuarters=Fi,ua.asYears=Yi,ua.valueOf=Ti,ua._bubble=Ei,ua.clone=Hi,ua.get=Vi,ua.milliseconds=Wi,ua.seconds=Gi,ua.minutes=qi,ua.hours=Zi,ua.days=Xi,ua.weeks=Ki,ua.months=$i,ua.years=Ji,ua.humanize=ia,ua.toISOString=ca,ua.toString=ca,ua.toJSON=ca,ua.locale=io,ua.localeData=so,ua.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ca),ua.lang=ao,F("X",0,0,"unix"),F("x",0,0,"valueOf"),Rt("x",jt),Rt("X",Mt),Ut("X",(function(t,e,r){r._d=new Date(1e3*parseFloat(t))})),Ut("x",(function(t,e,r){r._d=new Date(lt(t))})),n.version="2.29.1",o(qr),n.fn=ci,n.min=Jr,n.max=Kr,n.now=Qr,n.utc=h,n.unix=ui,n.months=mi,n.isDate=p,n.locale=dr,n.invalid=b,n.duration=En,n.isMoment=S,n.weekdays=bi,n.parseZone=li,n.localeData=mr,n.isDuration=an,n.monthsShort=_i,n.weekdaysMin=vi,n.defineLocale=hr,n.updateLocale=yr,n.locales=_r,n.weekdaysShort=gi,n.normalizeUnits=nt,n.relativeTimeRounding=na,n.relativeTimeThreshold=oa,n.calendarFormat=Fn,n.prototype=ci,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()},"../../../node_modules/prop-types/factoryWithThrowingShims.js":(t,e,r)=>{"use strict";var n=r("../../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},"../../../node_modules/prop-types/index.js":(t,e,r)=>{t.exports=r("../../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../../node_modules/prop-types/lib/ReactPropTypesSecret.js":t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"../../../node_modules/react-loadable/lib/index.js":(t,e,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=r("react"),c=r("../../../node_modules/prop-types/index.js"),u=[],l=[];function p(t){var e=t(),r={loading:!0,loaded:null,error:null};return r.promise=e.then((function(t){return r.loading=!1,r.loaded=t,t})).catch((function(t){throw r.loading=!1,r.error=t,t})),r}function f(t){var e={loading:!1,loaded:{},error:null},r=[];try{Object.keys(t).forEach((function(n){var o=p(t[n]);o.loading?e.loading=!0:(e.loaded[n]=o.loaded,e.error=o.error),r.push(o.promise),o.promise.then((function(t){e.loaded[n]=t})).catch((function(t){e.error=t}))}))}catch(t){e.error=t}return e.promise=Promise.all(r).then((function(t){return e.loading=!1,t})).catch((function(t){throw e.loading=!1,t})),e}function d(t,e){return s.createElement((r=t)&&r.__esModule?r.default:r,e);var r}function h(t,e){var p,f;if(!e.loading)throw new Error("react-loadable requires a `loading` component");var h=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:d,webpack:null,modules:null},e),y=null;function m(){return y||(y=t(h.loader)),y.promise}return u.push(m),"function"==typeof h.webpack&&l.push((function(){if(t=h.webpack,"object"===n(r.m)&&t().every((function(t){return void 0!==t&&void 0!==r.m[t]})))return m();var t})),f=p=function(e){function r(n){o(this,r);var a=i(this,e.call(this,n));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),y=t(h.loader),a._loadModule()},m(),a.state={error:y.error,pastDelay:!1,timedOut:!1,loading:y.loading,loaded:y.loaded},a}return a(r,e),r.preload=function(){return m()},r.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},r.prototype._loadModule=function(){var t=this;if(this.context.loadable&&Array.isArray(h.modules)&&h.modules.forEach((function(e){t.context.loadable.report(e)})),y.loading){"number"==typeof h.delay&&(0===h.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){t.setState({pastDelay:!0})}),h.delay)),"number"==typeof h.timeout&&(this._timeout=setTimeout((function(){t.setState({timedOut:!0})}),h.timeout));var e=function(){t._mounted&&(t.setState({error:y.error,loaded:y.loaded,loading:y.loading}),t._clearTimeouts())};y.promise.then((function(){e()})).catch((function(t){e()}))}},r.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},r.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},r.prototype.render=function(){return this.state.loading||this.state.error?s.createElement(h.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?h.render(this.state.loaded,this.props):null},r}(s.Component),p.contextTypes={loadable:c.shape({report:c.func.isRequired})},f}function y(t){return h(p,t)}y.Map=function(t){if("function"!=typeof t.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return h(f,t)};var m=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},e.prototype.render=function(){return s.Children.only(this.props.children)},e}(s.Component);function _(t){for(var e=[];t.length;){var r=t.pop();e.push(r())}return Promise.all(e).then((function(){if(t.length)return _(t)}))}m.propTypes={report:c.func.isRequired},m.childContextTypes={loadable:c.shape({report:c.func.isRequired}).isRequired},y.Capture=m,y.preloadAll=function(){return new Promise((function(t,e){_(u).then(t,e)}))},y.preloadReady=function(){return new Promise((function(t,e){_(l).then(t,t)}))},t.exports=y},"../../../node_modules/react-transition-group/esm/CSSTransition.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>S});var n=r("../../../node_modules/@babel/runtime/helpers/extends/_index.mjs"),o=r("../../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose/_index.mjs"),i=r("../../../node_modules/@babel/runtime/helpers/inheritsLoose/_index.mjs");function a(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}r("../../../node_modules/prop-types/index.js");var s=r("react"),c=r.n(s),u=r("react-dom"),l=r.n(u);const p=!1;var f=r("../../../node_modules/react-transition-group/esm/TransitionGroupContext.js"),d="unmounted",h="exited",y="entering",m="entered",_="exiting",b=function(t){function e(e,r){var n;n=t.call(this,e,r)||this;var o,i=r&&!r.isMounting?e.enter:e.appear;return n.appearStatus=null,e.in?i?(o=h,n.appearStatus=y):o=m:o=e.unmountOnExit||e.mountOnEnter?d:h,n.state={status:o},n.nextCallback=null,n}(0,i.Z)(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===d?{status:h}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(t){var e=null;if(t!==this.props){var r=this.state.status;this.props.in?r!==y&&r!==m&&(e=y):r!==y&&r!==m||(e=_)}this.updateStatus(!1,e)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var t,e,r,n=this.props.timeout;return t=e=r=n,null!=n&&"number"!=typeof n&&(t=n.exit,e=n.enter,r=void 0!==n.appear?n.appear:e),{exit:t,enter:e,appear:r}},r.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===y?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===h&&this.setState({status:d})},r.performEnter=function(t){var e=this,r=this.props.enter,n=this.context?this.context.isMounting:t,o=this.props.nodeRef?[n]:[l().findDOMNode(this),n],i=o[0],a=o[1],s=this.getTimeouts(),c=n?s.appear:s.enter;!t&&!r||p?this.safeSetState({status:m},(function(){e.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:y},(function(){e.props.onEntering(i,a),e.onTransitionEnd(c,(function(){e.safeSetState({status:m},(function(){e.props.onEntered(i,a)}))}))})))},r.performExit=function(){var t=this,e=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:l().findDOMNode(this);e&&!p?(this.props.onExit(n),this.safeSetState({status:_},(function(){t.props.onExiting(n),t.onTransitionEnd(r.exit,(function(){t.safeSetState({status:h},(function(){t.props.onExited(n)}))}))}))):this.safeSetState({status:h},(function(){t.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},r.setNextCallback=function(t){var e=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,e.nextCallback=null,t(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(t,e){this.setNextCallback(e);var r=this.props.nodeRef?this.props.nodeRef.current:l().findDOMNode(this),n=null==t&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===d)return null;var e=this.props,r=e.children,n=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,(0,o.Z)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return c().createElement(f.Z.Provider,{value:null},"function"==typeof r?r(t,n):c().cloneElement(c().Children.only(r),n))},e}(c().Component);function g(){}b.contextType=f.Z,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},b.UNMOUNTED=d,b.EXITED=h,b.ENTERING=y,b.ENTERED=m,b.EXITING=_;const v=b;var w=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return n=e,void((r=t).classList?r.classList.remove(n):"string"==typeof r.className?r.className=a(r.className,n):r.setAttribute("class",a(r.className&&r.className.baseVal||"",n)));var r,n}))},O=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,r){var n=e.resolveArguments(t,r),o=n[0],i=n[1];e.removeClasses(o,"exit"),e.addClass(o,i?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,r)},e.onEntering=function(t,r){var n=e.resolveArguments(t,r),o=n[0],i=n[1]?"appear":"enter";e.addClass(o,i,"active"),e.props.onEntering&&e.props.onEntering(t,r)},e.onEntered=function(t,r){var n=e.resolveArguments(t,r),o=n[0],i=n[1]?"appear":"enter";e.removeClasses(o,i),e.addClass(o,i,"done"),e.props.onEntered&&e.props.onEntered(t,r)},e.onExit=function(t){var r=e.resolveArguments(t)[0];e.removeClasses(r,"appear"),e.removeClasses(r,"enter"),e.addClass(r,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var r=e.resolveArguments(t)[0];e.addClass(r,"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var r=e.resolveArguments(t)[0];e.removeClasses(r,"exit"),e.addClass(r,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.resolveArguments=function(t,r){return e.props.nodeRef?[e.props.nodeRef.current,t]:[t,r]},e.getClassNames=function(t){var r=e.props.classNames,n="string"==typeof r,o=n?(n&&r?r+"-":"")+t:r[t];return{baseClassName:o,activeClassName:n?o+"-active":r[t+"Active"],doneClassName:n?o+"-done":r[t+"Done"]}},e}(0,i.Z)(e,t);var r=e.prototype;return r.addClass=function(t,e,r){var n=this.getClassNames(e)[r+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===e&&"done"===r&&o&&(n+=" "+o),"active"===r&&t&&t.scrollTop,n&&(this.appliedClasses[e][r]=n,function(t,e){t&&e&&e.split(" ").forEach((function(e){return n=e,void((r=t).classList?r.classList.add(n):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(r,n)||("string"==typeof r.className?r.className=r.className+" "+n:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+n)));var r,n}))}(t,n))},r.removeClasses=function(t,e){var r=this.appliedClasses[e],n=r.base,o=r.active,i=r.done;this.appliedClasses[e]={},n&&w(t,n),o&&w(t,o),i&&w(t,i)},r.render=function(){var t=this.props,e=(t.classNames,(0,o.Z)(t,["classNames"]));return c().createElement(v,(0,n.Z)({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(c().Component);O.defaultProps={classNames:""},O.propTypes={};const S=O},"../../../node_modules/react-transition-group/esm/TransitionGroupContext.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var n=r("react");const o=r.n(n)().createContext(null)},"./App/Components/Animations/index.js":(t,e,r)=>{"use strict";r.d(e,{s:()=>ho,o:()=>_o});var n=r("../../../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r.n(i),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function c(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var u=function(){return(u=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function l(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function p(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}var f=function(t,e){return function(r){return Math.max(Math.min(r,e),t)}},d=function(t){return t%1?Number(t.toFixed(5)):t},h=/(-)?(\d[\d\.]*)/g,y=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,m=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i,_={test:function(t){return"number"==typeof t},parse:parseFloat,transform:function(t){return t}},b=u(u({},_),{transform:f(0,1)}),g=u(u({},_),{default:1}),v=function(t){return{test:function(e){return"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length},parse:parseFloat,transform:function(e){return""+e+t}}},w=v("deg"),O=v("%"),S=v("px"),k=v("vh"),x=v("vw"),P=u(u({},O),{parse:function(t){return O.parse(t)/100},transform:function(t){return O.transform(100*t)}}),E=f(0,255),C=function(t){return void 0!==t.red},j=function(t){return void 0!==t.hue},D=function(t){return function(e){if("string"!=typeof e)return e;for(var r={},n=function(t){return function(t){return t.substring(t.indexOf("(")+1,t.lastIndexOf(")"))}(t).replace(/(,|\/)/g," ").split(/ \s*/)}(e),o=0;o<4;o++)r[t[o]]=void 0!==n[o]?parseFloat(n[o]):1;return r}},T=u(u({},_),{transform:function(t){return Math.round(E(t))}});function M(t,e){return t.startsWith(e)&&m.test(t)}var A={test:function(t){return"string"==typeof t?M(t,"rgb"):C(t)},parse:D(["red","green","blue","alpha"]),transform:function(t){var e=t.red,r=t.green,n=t.blue,o=t.alpha,i=void 0===o?1:o;return function(t){var e=t.red,r=t.green,n=t.blue,o=t.alpha;return"rgba("+e+", "+r+", "+n+", "+(void 0===o?1:o)+")"}({red:T.transform(e),green:T.transform(r),blue:T.transform(n),alpha:d(b.transform(i))})}},R={test:function(t){return"string"==typeof t?M(t,"hsl"):j(t)},parse:D(["hue","saturation","lightness","alpha"]),transform:function(t){var e=t.hue,r=t.saturation,n=t.lightness,o=t.alpha,i=void 0===o?1:o;return function(t){var e=t.hue,r=t.saturation,n=t.lightness,o=t.alpha;return"hsla("+e+", "+r+", "+n+", "+(void 0===o?1:o)+")"}({hue:Math.round(e),saturation:O.transform(d(r)),lightness:O.transform(d(n)),alpha:d(b.transform(i))})}},N=u(u({},A),{test:function(t){return"string"==typeof t&&M(t,"#")},parse:function(t){var e="",r="",n="";return t.length>4?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),e+=e,r+=r,n+=n),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:1}}}),z={test:function(t){return"string"==typeof t&&m.test(t)||C(t)||j(t)},parse:function(t){return A.test(t)?A.parse(t):R.test(t)?R.parse(t):N.test(t)?N.parse(t):t},transform:function(t){return C(t)?A.transform(t):j(t)?R.transform(t):t}},L="${c}",I="${n}",U=function(t){return"number"==typeof t?0:t},F={test:function(t){if("string"!=typeof t||!isNaN(t))return!1;var e=0,r=t.match(h),n=t.match(y);return r&&(e+=r.length),n&&(e+=n.length),e>0},parse:function(t){var e=t,r=[],n=e.match(y);n&&(e=e.replace(y,L),r.push.apply(r,n.map(z.parse)));var o=e.match(h);return o&&r.push.apply(r,o.map(_.parse)),r},createTransformer:function(t){var e=t,r=0,n=t.match(y),o=n?n.length:0;if(n)for(var i=0;i<o;i++)e=e.replace(n[i],L),r++;var a=e.match(h),s=a?a.length:0;if(a)for(i=0;i<s;i++)e=e.replace(a[i],I),r++;return function(t){for(var n=e,i=0;i<r;i++)n=n.replace(i<o?L:I,i<o?z.transform(t[i]):d(t[i]));return n}},getAnimatableNone:function(t){var e=F.parse(t);return F.createTransformer(t)(e.map(U))}},Y=0,H="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?function(t){return window.requestAnimationFrame(t)}:function(t){var e=Date.now(),r=Math.max(0,16.7-(e-Y));Y=e+r,setTimeout((function(){return t(Y)}),r)},V=1/60*1e3,B=!0,W=!1,G=!1,q={delta:0,timestamp:0},Z=["read","update","preRender","render","postRender"],X=function(t){return W=t},$=Z.reduce((function(t,e){return t[e]=function(t){var e=[],r=[],n=0,o=!1,i=0,a=new WeakSet,s=new WeakSet,c={cancel:function(t){var e=r.indexOf(t);a.add(t),-1!==e&&r.splice(e,1)},process:function(u){var l,p;if(o=!0,e=(l=[r,e])[0],(r=l[1]).length=0,n=e.length)for(i=0;i<n;i++)(p=e[i])(u),!0!==s.has(p)||a.has(p)||(c.schedule(p),t(!0));o=!1},schedule:function(t,i,c){void 0===i&&(i=!1),void 0===c&&(c=!1);var u=c&&o,l=u?e:r;a.delete(t),i&&s.add(t),-1===l.indexOf(t)&&(l.push(t),u&&(n=e.length))}};return c}(X),t}),{}),J=Z.reduce((function(t,e){var r=$[e];return t[e]=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),W||et(),r.schedule(t,e,n),t},t}),{}),K=Z.reduce((function(t,e){return t[e]=$[e].cancel,t}),{}),Q=function(t){return $[t].process(q)},tt=function(t){W=!1,q.delta=B?V:Math.max(Math.min(t-q.timestamp,40),1),B||(V=q.delta),q.timestamp=t,G=!0,Z.forEach(Q),G=!1,W&&(B=!1,H(tt))},et=function(){W=!0,B=!0,G||H(tt)},rt=function(){return q};const nt=J;var ot=function(t){return function(e){return 1-t(1-e)}},it=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},at=ot,st=function(t){return function(e){return e*e*((t+1)*e-t)}},ct=function(t){var e=st(t);return function(t){return(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}},ut=function(t){return t},lt=function(t){return function(e){return Math.pow(e,t)}}(2),pt=ot(lt),ft=it(lt),dt=function(t){return 1-Math.sin(Math.acos(t))},ht=ot(dt),yt=it(ht),mt=st(1.525),_t=ot(mt),bt=it(mt),gt=ct(1.525),vt=.1,wt="undefined"!=typeof Float32Array,Ot=function(t,e){return 1-3*e+3*t},St=function(t,e){return 3*e-6*t},kt=function(t){return 3*t},xt=function(t,e,r){return 3*Ot(e,r)*t*t+2*St(e,r)*t+kt(e)},Pt=function(t,e,r){return((Ot(e,r)*t+St(e,r))*t+kt(e))*t};function Et(t,e,r,n){var o=wt?new Float32Array(11):new Array(11),i=function(e){for(var n,i,a,s=0,c=1;10!==c&&o[c]<=e;++c)s+=vt;return--c,n=(e-o[c])/(o[c+1]-o[c]),(a=xt(i=s+n*vt,t,r))>=.001?function(e,n){for(var o=0,i=0;o<8;++o){if(0===(i=xt(n,t,r)))return n;n-=(Pt(n,t,r)-e)/i}return n}(e,i):0===a?i:function(e,n,o){var i,a,s=0;do{(i=Pt(a=n+(o-n)/2,t,r)-e)>0?o=a:n=a}while(Math.abs(i)>1e-7&&++s<10);return a}(e,s,s+vt)};return function(){for(var e=0;e<11;++e)o[e]=Pt(e*vt,t,r)}(),function(o){return t===e&&r===n?o:0===o?0:1===o?1:Pt(i(o),e,n)}}var Ct={x:0,y:0,z:0},jt=function(t){return"number"==typeof t},Dt=function(t){return 180*t/Math.PI},Tt=function(t,e){return void 0===e&&(e=Ct),Dt(Math.atan2(e.y-t.y,e.x-t.x))},Mt=function(t,e){var r=!0;return void 0===e&&(e=t,r=!1),function(n){return r?n-t+e:(t=n,r=!0,e)}},At=function(t){return function(e,r,n){return void 0!==n?t(e,r,n):function(n){return t(e,r,n)}}},Rt=At((function(t,e,r){return Math.min(Math.max(r,t),e)})),Nt=function(t){return t.hasOwnProperty("x")&&t.hasOwnProperty("y")},zt=function(t){return Nt(t)&&t.hasOwnProperty("z")},Lt=function(t,e){return Math.abs(t-e)},It=function(t,e){if(void 0===e&&(e=Ct),jt(t)&&jt(e))return Lt(t,e);if(Nt(t)&&Nt(e)){var r=Lt(t.x,e.x),n=Lt(t.y,e.y),o=zt(t)&&zt(e)?Lt(t.z,e.z):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2)+Math.pow(o,2))}return 0},Ut=function(t,e,r){var n=e-t;return 0===n?1:(r-t)/n},Ft=function(t,e,r){return-r*t+r*e+t},Yt=function(){return(Yt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ht=function(t,e,r){var n=t*t,o=e*e;return Math.sqrt(Math.max(0,r*(o-n)+n))},Vt=[N,A,R],Bt=function(t){return Vt.find((function(e){return e.test(t)}))},Wt=function(t){return"'"+t+"' is not an animatable color. Use the equivalent color code instead."},Gt=function(t,e){var r=Bt(t),n=Bt(e);Wt(t),Wt(e),r.transform,n.transform;var o=r.parse(t),i=n.parse(e),a=Yt({},o),s=r===R?Ft:Ht;return function(t){for(var e in a)"alpha"!==e&&(a[e]=s(o[e],i[e],t));return a.alpha=Ft(o.alpha,i.alpha,t),r.transform(a)}},qt=function(t,e){return function(r){return e(t(r))}},Zt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(qt)};function Xt(t,e){return jt(t)?function(r){return Ft(t,e,r)}:z.test(t)?Gt(t,e):Qt(t,e)}var $t=function(t,e){var r=t.slice(),n=r.length,o=t.map((function(t,r){return Xt(t,e[r])}));return function(t){for(var e=0;e<n;e++)r[e]=o[e](t);return r}},Jt=function(t,e){var r=Yt({},t,e),n={};for(var o in r)void 0!==t[o]&&void 0!==e[o]&&(n[o]=Xt(t[o],e[o]));return function(t){for(var e in n)r[e]=n[e](t);return r}};function Kt(t){for(var e=F.parse(t),r=e.length,n=0,o=0,i=0,a=0;a<r;a++)n||"number"==typeof e[a]?n++:void 0!==e[a].hue?i++:o++;return{parsed:e,numNumbers:n,numRGB:o,numHSL:i}}var Qt=function(t,e){var r=F.createTransformer(e),n=Kt(t),o=Kt(e);return n.numHSL===o.numHSL&&n.numRGB===o.numRGB&&(n.numNumbers,o.numNumbers),Zt($t(n.parsed,o.parsed),r)},te=function(t,e){return function(r){return Ft(t,e,r)}};function ee(t,e,r){for(var n,o=[],i=r||("number"==typeof(n=t[0])?te:"string"==typeof n?z.test(n)?Gt:Qt:Array.isArray(n)?$t:"object"==typeof n?Jt:void 0),a=t.length-1,s=0;s<a;s++){var c=i(t[s],t[s+1]);if(e){var u=Array.isArray(e)?e[s]:e;c=Zt(u,c)}o.push(c)}return o}var re,ne=function(t,e,r,n){return void 0===n&&(n=0),o=t+r*(e-t)/Math.max(n,r),void 0===i&&(i=2),i=Math.pow(10,i),Math.round(o*i)/i;var o,i},oe=function(t){return t},ie=function(t){return void 0===t&&(t=oe),At((function(e,r,n){var o=r-n,i=-(0-e+1)*(0-t(Math.abs(o)));return o<=0?r+i:r-i}))},ae=ie(),se=ie(Math.sqrt),ce=function(t,e){return jt(t)?t/(1e3/e):0},ue=function(t,e){return e?t*(1e3/e):0},le=At((function(t,e,r){var n=e-t;return((r-t)%n+n)%n+t})),pe=(Rt(0,1),function(t){var e=t.onRead,r=t.onRender,n=t.uncachedValues,o=void 0===n?new Set:n,i=t.useCache,a=void 0===i||i;return function(t){void 0===t&&(t={});var n=l(t,[]),i={},s=[],c=!1;function u(t,e){t.startsWith("--")&&(n.hasCSSVariable=!0);var r=i[t];i[t]=e,i[t]!==r&&(-1===s.indexOf(t)&&s.push(t),c||(c=!0,nt.render(p.render)))}var p={get:function(t,r){return void 0===r&&(r=!1),r||!a||o.has(t)||void 0===i[t]?e(t,n):i[t]},set:function(t,e){if("string"==typeof t)u(t,e);else for(var r in t)u(r,t[r]);return this},render:function(t){return void 0===t&&(t=!1),(c||!0===t)&&(r(i,n,s),c=!1,s.length=0),this}};return p}}),fe=/([a-z])([A-Z])/g,de=function(t){return t.replace(fe,"$1-$2").toLowerCase()},he=new Map,ye=new Map,me=["Webkit","Moz","O","ms",""],_e=me.length,be="undefined"!=typeof document,ge=function(t,e){return ye.set(t,de(e))},ve=function(t,e){void 0===e&&(e=!1);var r=e?ye:he;return r.has(t)||(be?function(t){re=re||document.createElement("div");for(var e=0;e<_e;e++){var r=me[e],n=""===r,o=n?t:r+t.charAt(0).toUpperCase()+t.slice(1);if(o in re.style||n){if(n&&"clipPath"===t&&ye.has(t))return;he.set(t,o),ge(t,(n?"":"-")+de(o))}}}(t):function(t){ge(t,t)}(t)),r.get(t)||t},we=["","X","Y","Z"],Oe=["translate","scale","rotate","skew","transformPerspective"].reduce((function(t,e){return we.reduce((function(t,r){return t.push(e+r),t}),t)}),["x","y","z"]),Se=Oe.reduce((function(t,e){return t[e]=!0,t}),{});function ke(t){return!0===Se[t]}function xe(t,e){return Oe.indexOf(t)-Oe.indexOf(e)}var Pe=new Set(["originX","originY","originZ"]);function Ee(t){return Pe.has(t)}var Ce=u(u({},_),{transform:Math.round}),je={color:z,backgroundColor:z,outlineColor:z,fill:z,stroke:z,borderColor:z,borderTopColor:z,borderRightColor:z,borderBottomColor:z,borderLeftColor:z,borderWidth:S,borderTopWidth:S,borderRightWidth:S,borderBottomWidth:S,borderLeftWidth:S,borderRadius:S,radius:S,borderTopLeftRadius:S,borderTopRightRadius:S,borderBottomRightRadius:S,borderBottomLeftRadius:S,width:S,maxWidth:S,height:S,maxHeight:S,size:S,top:S,right:S,bottom:S,left:S,padding:S,paddingTop:S,paddingRight:S,paddingBottom:S,paddingLeft:S,margin:S,marginTop:S,marginRight:S,marginBottom:S,marginLeft:S,rotate:w,rotateX:w,rotateY:w,rotateZ:w,scale:g,scaleX:g,scaleY:g,scaleZ:g,skew:w,skewX:w,skewY:w,distance:S,translateX:S,translateY:S,translateZ:S,x:S,y:S,z:S,perspective:S,opacity:b,originX:P,originY:P,originZ:S,zIndex:Ce,fillOpacity:b,strokeOpacity:b,numOctaves:Ce},De=function(t){return je[t]},Te=function(t,e){return e&&"number"==typeof t?e.transform(t):t},Me="scrollLeft",Ae="scrollTop",Re=new Set([Me,Ae]),Ne=new Set([Me,Ae,"transform"]),ze={x:"translateX",y:"translateY",z:"translateZ"};function Le(t){return"function"==typeof t}function Ie(t,e,r,n,o,i,a,s){void 0===e&&(e=!0),void 0===r&&(r={}),void 0===n&&(n={}),void 0===o&&(o={}),void 0===i&&(i=[]),void 0===a&&(a=!1),void 0===s&&(s=!0);var c=!0,u=!1,l=!1;for(var p in t){var f=t[p],d=De(p),h=Te(f,d);ke(p)?(u=!0,n[p]=h,i.push(p),c&&(d.default&&f!==d.default||!d.default&&0!==f)&&(c=!1)):Ee(p)?(o[p]=h,l=!0):Ne.has(p)&&Le(h)||(r[ve(p,a)]=h)}return(u||"function"==typeof t.transform)&&(r.transform=function(t,e,r,n,o,i){void 0===i&&(i=!0);var a="",s=!1;r.sort(xe);for(var c=r.length,u=0;u<c;u++){var l=r[u];a+=(ze[l]||l)+"("+e[l]+") ",s="z"===l||s}return!s&&o?a+="translateZ(0)":a=a.trim(),Le(t.transform)?a=t.transform(e,n?"":a):i&&n&&(a="none"),a}(t,n,i,c,e,s)),l&&(r.transformOrigin=(o.originX||"50%")+" "+(o.originY||"50%")+" "+(o.originZ||0)),r}function Ue(t){var e=void 0===t?{}:t,r=e.enableHardwareAcceleration,n=void 0===r||r,o=e.isDashCase,i=void 0===o||o,a=e.allowTransformNone,s=void 0===a||a,c={},u={},l={},p=[];return function(t){return p.length=0,Ie(t,n,c,u,l,p,i,s),c}}var Fe=pe({onRead:function(t,e){var r=e.element,n=e.preparseOutput,o=De(t);if(ke(t))return o&&o.default||0;if(Re.has(t))return r[t];var i=window.getComputedStyle(r,null).getPropertyValue(ve(t,!0))||0;return n&&o&&o.test(i)&&o.parse?o.parse(i):i},onRender:function(t,e,r){var n=e.element,o=e.buildStyles,i=e.hasCSSVariable;if(Object.assign(n.style,o(t)),i)for(var a=r.length,s=0;s<a;s++){var c=r[s];c.startsWith("--")&&n.style.setProperty(c,t[c])}-1!==r.indexOf(Me)&&(n.scrollLeft=t.scrollLeft),-1!==r.indexOf(Ae)&&(n.scrollTop=t.scrollTop)},uncachedValues:Re}),Ye=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]),He=function(t,e){return S.transform(t*e)},Ve={x:0,y:0,width:0,height:0};function Be(t,e,r){return"string"==typeof t?t:S.transform(e+r*t)}var We={enableHardwareAcceleration:!1,isDashCase:!1};function Ge(t,e,r,n,o,i){void 0===e&&(e=Ve),void 0===n&&(n=Ue(We)),void 0===o&&(o={style:{}}),void 0===i&&(i=!0);var a=t.attrX,s=t.attrY,c=t.originX,u=t.originY,p=t.pathLength,f=t.pathSpacing,d=void 0===f?1:f,h=t.pathOffset,y=void 0===h?0:h,m=n(l(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]));for(var _ in m)"transform"===_?o.style.transform=m[_]:o[i&&!Ye.has(_)?de(_):_]=m[_];return(void 0!==c||void 0!==u||m.transform)&&(o.style.transformOrigin=function(t,e,r){return Be(e,t.x,t.width)+" "+Be(r,t.y,t.height)}(e,void 0!==c?c:.5,void 0!==u?u:.5)),void 0!==a&&(o.x=a),void 0!==s&&(o.y=s),void 0!==r&&void 0!==p&&(o[i?"stroke-dashoffset":"strokeDashoffset"]=He(-y,r),o[i?"stroke-dasharray":"strokeDasharray"]=He(p,r)+" "+He(d,r)),o}function qe(t,e,r){void 0===r&&(r=!0);var n={style:{}},o=Ue(We);return function(i){return Ge(i,t,e,o,n,r)}}var Ze=pe({onRead:function(t,e){var r=e.element;if(ke(t=Ye.has(t)?t:de(t))){var n=De(t);return n&&n.default||0}return r.getAttribute(t)},onRender:function(t,e){var r=e.element,n=(0,e.buildAttrs)(t);for(var o in n)"style"===o?Object.assign(r.style,n.style):r.setAttribute(o,n[o])}}),Xe=pe({useCache:!1,onRead:function(t){return"scrollTop"===t?window.pageYOffset:window.pageXOffset},onRender:function(t){var e=t.scrollTop,r=void 0===e?0:e,n=t.scrollLeft,o=void 0===n?0:n;return window.scrollTo(o,r)}}),$e=new WeakMap,Je=function(t,e){var r,n,o,i;return t===window?r=Xe(t):function(t){return t instanceof HTMLElement||"function"==typeof t.click}(t)?r=function(t,e){void 0===e&&(e={});var r=e.enableHardwareAcceleration,n=e.allowTransformNone,o=l(e,["enableHardwareAcceleration","allowTransformNone"]);return Fe(u({element:t,buildStyles:Ue({enableHardwareAcceleration:r,allowTransformNone:n}),preparseOutput:!0},o))}(t,e):function(t){return t instanceof SVGElement||"ownerSVGElement"in t}(t)&&(o=function(t){try{return function(t){return"function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}(t)}catch(t){return{x:0,y:0,width:0,height:0}}}(n=t),i=function(t){return"path"===t.tagName}(n)&&n.getTotalLength?n.getTotalLength():void 0,r=Ze({element:n,buildAttrs:qe(o,i)})),$e.set(t,r),r};const Ke=function(t,e){return function(t,e){return $e.has(t)?$e.get(t):Je(t,e)}("string"==typeof t?document.querySelector(t):t,e)};var Qe=function(){function t(t){void 0===t&&(t={}),this.props=t}return t.prototype.applyMiddleware=function(t){return this.create(u(u({},this.props),{middleware:this.props.middleware?p([t],this.props.middleware):[t]}))},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=1===t.length?t[0]:Zt.apply(void 0,t);return this.applyMiddleware((function(t){return function(e){return t(r(e))}}))},t.prototype.while=function(t){return this.applyMiddleware((function(e,r){return function(n){return t(n)?e(n):r()}}))},t.prototype.filter=function(t){return this.applyMiddleware((function(e){return function(r){return t(r)&&e(r)}}))},t}(),tr=function(t,e){var r=this,n=t.middleware,o=t.onComplete;this.isActive=!0,this.update=function(t){r.observer.update&&r.updateObserver(t)},this.complete=function(){r.observer.complete&&r.isActive&&r.observer.complete(),r.onComplete&&r.onComplete(),r.isActive=!1},this.error=function(t){r.observer.error&&r.isActive&&r.observer.error(t),r.isActive=!1},this.observer=e,this.updateObserver=function(t){return e.update(t)},this.onComplete=o,e.update&&n&&n.length&&n.forEach((function(t){return r.updateObserver=t(r.updateObserver,r.complete)}))},er=function(t,e,r){var n=e.middleware;return new tr({middleware:n,onComplete:r},"function"==typeof t?{update:t}:t)},rr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.create=function(t){return new e(t)},e.prototype.start=function(t){void 0===t&&(t={});var e=!1,r={stop:function(){}},n=this.props,o=n.init,i=l(n,["init"]),a=o(er(t,i,(function(){e=!0,r.stop()})));return r=a?u(u({},r),a):r,t.registerParent&&t.registerParent(r),e&&r.stop(),r},e}(Qe),nr=function(t){return new rr({init:t})},or=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.subscribers=[],e}return c(e,t),e.prototype.complete=function(){this.subscribers.forEach((function(t){return t.complete()}))},e.prototype.error=function(t){this.subscribers.forEach((function(e){return e.error(t)}))},e.prototype.update=function(t){for(var e=0;e<this.subscribers.length;e++)this.subscribers[e].update(t)},e.prototype.subscribe=function(t){var e=this,r=er(t,this.props);return this.subscribers.push(r),{unsubscribe:function(){var t=e.subscribers.indexOf(r);-1!==t&&e.subscribers.splice(t,1)}}},e.prototype.stop=function(){this.parent&&this.parent.stop()},e.prototype.registerParent=function(t){this.stop(),this.parent=t},e}(Qe),ir=function(t,e){var r=1/(t-1),n=1/(2*(t-1)),o=Math.min(e,1)/n;return Math.floor((o+1)/2)*r},ar=function(t){function e(e){var r,n=t.call(this,e)||this;return n.scheduleVelocityCheck=function(){return nt.postRender(n.velocityCheck)},n.velocityCheck=function(t){t.timestamp!==n.lastUpdated&&(n.prev=n.current)},n.prev=n.current=e.value||0,"string"==(r=typeof n.current)||"number"===r?(n.updateCurrent=function(t){return n.current=t},n.getVelocityOfCurrent=function(){return n.getSingleVelocity(n.current,n.prev)}):function(t){return Array.isArray(t)}(n.current)?(n.updateCurrent=function(t){return n.current=p(t)},n.getVelocityOfCurrent=function(){return n.getListVelocity()}):(n.updateCurrent=function(t){for(var e in n.current={},t)t.hasOwnProperty(e)&&(n.current[e]=t[e])},n.getVelocityOfCurrent=function(){return n.getMapVelocity()}),e.initialSubscription&&n.subscribe(e.initialSubscription),n}return c(e,t),e.prototype.create=function(t){return new e(t)},e.prototype.get=function(){return this.current},e.prototype.getVelocity=function(){return this.getVelocityOfCurrent()},e.prototype.update=function(e){t.prototype.update.call(this,e),this.prev=this.current,this.updateCurrent(e);var r=rt(),n=r.delta,o=r.timestamp;this.timeDelta=n,this.lastUpdated=o,nt.postRender(this.scheduleVelocityCheck)},e.prototype.subscribe=function(e){var r=t.prototype.subscribe.call(this,e);return this.subscribers[this.subscribers.length-1].update(this.current),r},e.prototype.getSingleVelocity=function(t,e){return"number"==typeof t&&"number"==typeof e?ue(t-e,this.timeDelta):ue(parseFloat(t)-parseFloat(e),this.timeDelta)||0},e.prototype.getListVelocity=function(){var t=this;return this.current.map((function(e,r){return t.getSingleVelocity(e,t.prev[r])}))},e.prototype.getMapVelocity=function(){var t={};for(var e in this.current)this.current.hasOwnProperty(e)&&(t[e]=this.getSingleVelocity(this.current[e],this.prev[e]));return t},e}(or),sr=function(t,e){return new ar({value:t,initialSubscription:e})},cr=function(t){var e=t.getCount,r=t.getFirst,n=t.getOutput,o=t.mapApi,i=t.setProp,a=t.startActions;return function(t){return nr((function(s){var c=s.update,u=s.complete,l=s.error,p=e(t),f=n(),d=function(){return c(f)},h=0,y=a(t,(function(t,e){var r=!1;return t.start({complete:function(){r||(r=!0,++h===p&&nt.update(u))},error:l,update:function(t){i(f,e,t),nt.update(d,!1,!0)}})}));return Object.keys(r(y)).reduce((function(t,e){return t[e]=o(y,e),t}),{})}))}},ur=cr({getOutput:function(){return{}},getCount:function(t){return Object.keys(t).length},getFirst:function(t){return t[Object.keys(t)[0]]},mapApi:function(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Object.keys(t).reduce((function(n,o){var i;return t[o][e]&&(r[0]&&void 0!==r[0][o]?n[o]=t[o][e](r[0][o]):n[o]=(i=t[o])[e].apply(i,r)),n}),{})}},setProp:function(t,e,r){return t[e]=r},startActions:function(t,e){return Object.keys(t).reduce((function(r,n){return r[n]=e(t[n],n),r}),{})}}),lr=cr({getOutput:function(){return[]},getCount:function(t){return t.length},getFirst:function(t){return t[0]},mapApi:function(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.map((function(t,n){if(t[e])return Array.isArray(r[0])?t[e](r[0][n]):t[e].apply(t,r)}))}},setProp:function(t,e,r){return t[e]=r},startActions:function(t,e){return t.map((function(t,r){return e(t,r)}))}}),pr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return lr(t)},fr=[S,O,w,k,x],dr=function(t){return fr.find((function(e){return e.test(t)}))},hr=function(t,e){return t(e)},yr=function(t,e,r){var n=r[0],o=e[n].map((function(n,o){var i=r.reduce(function(t){return function(e,r){return e[r]=e[r][t],e}}(o),u({},e));return Or(n)(t,i)}));return pr.apply(void 0,o)},mr=function(t,e,r){var n=r[0],o=Object.keys(e[n]).reduce((function(o,i){var a=r.reduce(function(t){return function(e,r){return e[r]=e[r][t],e}}(i),u({},e));return o[i]=Or(e[n][i])(t,a),o}),{});return ur(o)},_r=function(t,e){var r=e.from,n=e.to,o=l(e,["from","to"]),i=dr(r)||dr(n),a=i.transform,s=i.parse;return t(u(u({},o),{from:"string"==typeof r?s(r):r,to:"string"==typeof n?s(n):n})).pipe(a)},br=function(t){return function(e,r){var n=r.from,o=r.to,i=l(r,["from","to"]);return e(u(u({},i),{from:0,to:1})).pipe(t(n,o))}},gr=br(Gt),vr=br(Qt),wr=function(t,e){var r=function(t){var e=Object.keys(t),r=function(e,r){return void 0!==e&&!t[r](e)};return{getVectorKeys:function(t){return e.reduce((function(e,n){return r(t[n],n)&&e.push(n),e}),[])},testVectorProps:function(t){return t&&e.some((function(e){return r(t[e],e)}))}}}(e),n=r.testVectorProps,o=r.getVectorKeys;return function(e){if(!n(e))return t(e);var r=o(e),i=e[r[0]];return Or(i)(t,e,r)}},Or=function(t){return"number"==typeof t?hr:Array.isArray(t)?yr:function(t){return Boolean(dr(t))}(t)?_r:z.test(t)?gr:F.test(t)?vr:"object"==typeof t?mr:hr},Sr=wr((function(t){return void 0===t&&(t={}),nr((function(e){var r=e.complete,n=e.update,o=t.velocity,i=void 0===o?0:o,a=t.from,s=void 0===a?0:a,c=t.power,u=void 0===c?.8:c,l=t.timeConstant,p=void 0===l?350:l,f=t.restDelta,d=void 0===f?.5:f,h=t.modifyTarget,y=0,m=u*i,_=s+m,b=void 0===h?_:h(_);b!==_&&(m=b-s);var g=nt.update((function(t){var e=t.delta;y+=e;var o=-m*Math.exp(-y/p),i=o>d||o<-d;n(i?b+o:b),i||(K.update(g),r())}),!0);return{stop:function(){return K.update(g)}}}))}),{from:_.test,modifyTarget:function(t){return"function"==typeof t},velocity:_.test}),kr=wr((function(t){return void 0===t&&(t={}),nr((function(e){var r=e.update,n=e.complete,o=t.velocity,i=void 0===o?0:o,a=t.from,s=void 0===a?0:a,c=t.to,u=void 0===c?0:c,l=t.stiffness,p=void 0===l?100:l,f=t.damping,d=void 0===f?10:f,h=t.mass,y=void 0===h?1:h,m=t.restSpeed,_=void 0===m?.01:m,b=t.restDelta,g=void 0===b?.01:b,v=i?-i/1e3:0,w=0,O=u-s,S=s,k=S,x=nt.update((function(t){var e=t.delta;w+=e;var o=d/(2*Math.sqrt(p*y)),a=Math.sqrt(p/y)/1e3;if(k=S,o<1){var s=Math.exp(-o*a*w),c=a*Math.sqrt(1-o*o);S=u-s*((v+o*a*O)/c*Math.sin(c*w)+O*Math.cos(c*w))}else s=Math.exp(-a*w),S=u-s*(O+(v+a*O)*w);i=ue(S-k,e);var l=Math.abs(i)<=_,f=Math.abs(u-S)<=g;l&&f?(r(S=u),K.update(x),n()):r(S)}),!0);return{stop:function(){return K.update(x)}}}))}),{from:_.test,to:_.test,stiffness:_.test,damping:_.test,mass:_.test,velocity:_.test}),xr=wr((function(t){var e=t.from,r=void 0===e?0:e,n=t.to,o=void 0===n?1:n,i=t.ease,a=void 0===i?ut:i,s=t.reverseEase;return void 0!==s&&s&&(a=at(a)),nr((function(t){var e=t.update;return{seek:function(t){return e(t)}}})).pipe(a,(function(t){return Ft(r,o,t)}))}),{ease:function(t){return"function"==typeof t},from:_.test,to:_.test}),Pr=Rt(0,1),Er=function(t){return void 0===t&&(t={}),nr((function(e){var r,n=e.update,o=e.complete,i=t.duration,a=void 0===i?300:i,s=t.ease,c=void 0===s?pt:s,u=t.flip,l=void 0===u?0:u,p=t.loop,f=void 0===p?0:p,d=t.yoyo,h=void 0===d?0:d,y=t.repeatDelay,m=void 0===y?0:y,_=t.from,b=void 0===_?0:_,g=t.to,v=void 0===g?1:g,w=t.elapsed,O=void 0===w?0:w,S=t.flipCount,k=void 0===S?0:S,x=t.yoyoCount,P=void 0===x?0:x,E=t.loopCount,C=void 0===E?0:E,j=xr({from:b,to:v,ease:c}).start(n),D=0,T=!1,M=function(t){var e;void 0===t&&(t=!1),j=xr({from:b=(e=[v,b])[0],to:v=e[1],ease:c,reverseEase:t}).start(n)},A=function(){D=Pr(Ut(0,a,O)),j.seek(D)},R=function(){T=!0,r=nt.update((function(t){var e,n=t.delta;O+=n,A(),!(e=T&&O>a+m)||(!e||f||l||h)&&(O=a-(O-m),f&&C<f?(C++,1):l&&k<l?(k++,M(),1):h&&P<h&&(P++,M(P%2!=0),1))||(K.update(r),o&&nt.update(o,!1,!0))}),!0)},N=function(){T=!1,r&&K.update(r)};return R(),{isActive:function(){return T},getElapsed:function(){return Rt(0,a,O)},getProgress:function(){return D},stop:function(){N()},pause:function(){return N(),this},resume:function(){return T||R(),this},seek:function(t){return O=Ft(0,a,t),nt.update(A,!1,!0),this},reverse:function(){return M(),this}}}))},Cr=Rt(0,1),jr=function(t){var e=t.easings,r=t.ease,n=void 0===r?ut:r,o=t.times,i=t.values,a=l(t,["easings","ease","times","values"]);e=Array.isArray(e)?e:function(t,e){return t.map((function(){return e||pt})).splice(0,t.length-1)}(i,e),o=o||function(t){var e=t.length;return t.map((function(t,r){return 0!==r?r/(e-1):0}))}(i);var s=e.map((function(t,e){return xr({from:i[e],to:i[e+1],ease:t})}));return Er(u(u({},a),{ease:n})).applyMiddleware((function(t){return function(t,e,r){var n=t.length,o=n-1,i=o-1,a=e.map((function(t){return t.start(r)}));return function(e){e<=t[0]&&a[0].seek(0),e>=t[o]&&a[i].seek(1);for(var r=1;r<n&&!(t[r]>e||r===o);r++);var s=Ut(t[r-1],t[r],e);a[r-1].seek(Cr(s))}}(o,s,t)}))},Dr=wr((function(t){return void 0===t&&(t={}),nr((function(e){var r=e.complete,n=e.update,o=t.acceleration,i=void 0===o?0:o,a=t.friction,s=void 0===a?0:a,c=t.velocity,u=void 0===c?0:c,l=t.springStrength,p=t.to,f=t.restSpeed,d=void 0===f?.001:f,h=t.from,y=void 0===h?0:h,m=nt.update((function(t){var e=t.delta,o=Math.max(e,16);i&&(u+=ce(i,o)),s&&(u*=Math.pow(1-s,o/100)),void 0!==l&&void 0!==p&&(u+=(p-y)*ce(l,o)),y+=ce(u,o),n(y),!1!==d&&(!u||Math.abs(u)<=d)&&(K.update(m),r())}),!0);return{set:function(t){return y=t,this},setAcceleration:function(t){return i=t,this},setFriction:function(t){return s=t,this},setSpringStrength:function(t){return l=t,this},setSpringTarget:function(t){return p=t,this},setVelocity:function(t){return u=t,this},stop:function(){return K.update(m)}}}))}),{acceleration:_.test,friction:_.test,velocity:_.test,from:_.test,to:_.test,springStrength:_.test}),Tr=function(t,e,r){return nr((function(n){var o=n.update,i=e.split(" ").map((function(e){return t.addEventListener(e,o,r),e}));return{stop:function(){return i.forEach((function(e){return t.removeEventListener(e,o,r)}))}}}))},Mr=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},Ar=function(t,e){return void 0===e&&(e={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),e.clientX=e.x=t.clientX,e.clientY=e.y=t.clientY,e.pageX=t.pageX,e.pageY=t.pageY,e},Rr=[Mr()],Nr=!1;"undefined"!=typeof document&&Tr(document,"touchstart touchmove",{passive:!0,capture:!0}).start((function(t){var e=t.touches;Nr=!0;var r=e.length;Rr.length=0;for(var n=0;n<r;n++){var o=e[n];Rr.push(Ar(o))}}));var zr=Mr(),Lr=!1;"undefined"!=typeof document&&Tr(document,"mousedown mousemove",!0).start((function(t){Lr=!0,Ar(t,zr)}));var Ir=function(t){return t[0]},Ur=function(t){return void 0===t&&(t={}),Nr?function(t){var e=void 0===t?{}:t,r=e.preventDefault,n=void 0===r||r,o=e.scale,i=void 0===o?1:o,a=e.rotate,s=void 0===a?0:a;return nr((function(t){var e=t.update,r={touches:Rr,scale:i,rotate:s},o=0,a=0,c=Rr.length>1;if(c){var u=Rr[0],l=Rr[1];o=It(u,l),a=Tt(u,l)}var p=function(){if(c){var t=Rr[0],n=Rr[1],u=It(t,n),l=Tt(t,n);r.scale=i*(u/o),r.rotate=s+(l-a)}e(r)},f=Tr(document,"touchmove",{passive:!n}).start((function(t){(n||t.touches.length>1)&&t.preventDefault(),nt.update(p)}));return Nr&&nt.update(p),{stop:function(){K.update(p),f.stop()}}}))}(t).pipe((function(t){return t.touches}),Ir):function(t){var e=(void 0===t?{}:t).preventDefault,r=void 0===e||e;return nr((function(t){var e=t.update,n=function(){return e(zr)},o=Tr(document,"mousemove").start((function(t){r&&t.preventDefault(),nt.update(n)}));return Lr&&nt.update(n),{stop:function(){K.update(n),o.stop()}}}))}(t)},Fr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nr((function(e){var r,n=e.update,o=e.complete,i=0,a=function(){r=t[i].start({complete:function(){++i>=t.length?o():a()},update:n})};return a(),{stop:function(){return r&&r.stop()}}}))},Yr=function(t){return nr((function(e){var r=e.complete,n=setTimeout(r,t);return{stop:function(){return clearTimeout(n)}}}))},Hr=Object.freeze({__proto__:null,applyOffset:Mt,clamp:Rt,conditional:function(t,e){return function(r){return t(r)?e(r):r}},interpolate:function(t,e,r){var n=void 0===r?{}:r,o=n.clamp,i=void 0===o||o,a=n.ease,s=n.mixer,c=t.length;e.length,!a||!Array.isArray(a)||a.length,t[0]>t[c-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());var u=ee(e,a,s),l=2===c?function(t,e){var r=t[0],n=t[1],o=e[0];return function(t){return o(Ut(r,n,t))}}(t,u):function(t,e){var r=t.length,n=r-1;return function(o){var i=0,a=!1;if(o<=t[0]?a=!0:o>=t[n]&&(i=n-1,a=!0),!a){for(var s=1;s<r&&!(t[s]>o||s===n);s++);i=s-1}var c=Ut(t[i],t[i+1],o);return e[i](c)}}(t,u);return i?Zt(Rt(t[0],t[c-1]),l):l},blendArray:$t,blendColor:Gt,pipe:Zt,smooth:function(t){void 0===t&&(t=50);var e=0,r=0;return function(n){var o=rt().timestamp,i=o!==r?o-r:0,a=i?ne(e,n,i,t):e;return r=o,e=a,a}},snap:function(t){if("number"==typeof t)return function(e){return Math.round(e/t)*t};var e=0,r=t.length;return function(n){var o=Math.abs(t[0]-n);for(e=1;e<r;e++){var i=t[e],a=Math.abs(i-n);if(0===a)return i;if(a>o)return t[e-1];if(e===r-1)return i;o=a}}},generateStaticSpring:ie,nonlinearSpring:se,linearSpring:ae,wrap:le,appendUnit:function(t){return function(e){return""+e+t}},steps:function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),function(n){var o=Ut(e,r,n);return Ft(e,r,ir(t,o))}},transformMap:function(t){return function(e){var r=u({},e);for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];r[n]=o(e[n])}return r}}}),Vr=function(t){return t.transition,t.flip,t.delay,t.delayChildren,t.staggerChildren,t.staggerDirection,t.afterChildren,t.beforeChildren,t.preTransition,t.applyAtStart,t.applyAtEnd,l(t,["transition","flip","delay","delayChildren","staggerChildren","staggerDirection","afterChildren","beforeChildren","preTransition","applyAtStart","applyAtEnd"])},Br=function(t,e){return"function"==typeof t?t(e):t},Wr=function(t,e,r,n){return t&&void 0!==t[e]?Br(t[e],n):r},Gr=function(t,e,r,n,o,i){var a;if("function"==typeof t){var s=t(n);a=Gr(s,e,r,n,o,i)}else if(t[e]||t.default){var c=t[e]||t.default;a="function"==typeof c?c(n):c}else a=t;return!1===a?i(r,n):o(r,a,n)},qr=function(t,e,r,n,o){return Object.keys(t).forEach((function(i){var a=Br(t[i],r);e.has(i)?n(e.get(i),a):o(i,a,r)}))},Zr=function(t){var e=t.state,r=t.poses,n=t.startAction,o=t.stopAction,i=t.getInstantTransition,a=t.addActionDelay,s=t.getTransitionProps,c=t.resolveTarget,l=t.transformPose,f=t.posePriority,d=t.convertTransitionDefinition,h=t.setValue,y=t.setValueNative,m=t.forceRender;return function(t,_,b){void 0===_&&(_={}),void 0===b&&(b=!0);var g=e.children,v=e.values,w=e.props,O=e.activeActions,S=e.activePoses,k=_.delay,x=void 0===k?0:k,P=g.size,E=u(u({},w),_),C=r[t],j=function(){return P&&b?function(t,e,r,n){var o=[],i=Wr(r,"delayChildren",0,n),a=Wr(r,"staggerChildren",0,n),s=Wr(r,"staggerDirection",1,n),c=(t.size-1)*a,u=1===s?function(t){return t*a}:function(t){return c-t*a};return Array.from(t).forEach((function(t,r){o.push(t.set(e,{delay:i+u(r)}))})),o}(g,t,C,E):[]},D=function(){if(!C)return[];var r=C.applyAtStart;r&&(qr(r,v,E,h,y),m&&m(E)),l&&(C=l(C,t,e));var p=C.preTransition,_=C.transition,b=C.applyAtEnd;p&&p(E);var g=Object.keys(Vr(C)).map((function(e){var r=(S.has(e)||S.set(e,[]),S.get(e)),l=r.indexOf(t);-1!==l&&r.splice(l,1);var p=f?f.indexOf(t):0,h=p<=0?0:function(t,e,r){for(var n=0,o=r-1;o>=0;o--){var i=t.indexOf(e[o]);if(-1!==i){n=i+1;break}}return n}(r,f,p);return r.splice(h,0,t),0===h?new Promise((function(t){var r=v.get(e),l=u(u({},E),{key:e,value:r}),p=c(r,Br(C[e],l));O.has(e)&&o(O.get(e));var f=u(u({to:p},l),s(r,p,l)),h=Gr(_,e,r,f,d,i),y=x||Br(C.delay,l);y&&(h=a(y,h)),O.set(e,n(r,h,t))})):Promise.resolve()}));return b?[Promise.all(g).then((function(){qr(b,v,E,h,y)}))]:g};if(C&&P){if(Br(C.beforeChildren,E))return Promise.all(D()).then((function(){return Promise.all(j())}));if(Br(C.afterChildren,E))return Promise.all(j()).then((function(){return Promise.all(D())}))}return Promise.all(p(D(),j()))}},Xr="init",$r=function(t){return function(t){return t.includes("scale")}(t)?1:0},Jr=function(t){var e=Array.isArray(t)?t:[t];return e.push(Xr),e},Kr=function(t,e,r,n,o,i){void 0===o&&(o=$r);var a=Jr(r).filter(Boolean).find((function(r){var n=t[r];return n&&(void 0!==n[e]||n.applyAtStart&&void 0!==n.applyAtStart[e]||n.applyAtEnd&&void 0!==n.applyAtEnd[e])}));return i.set(e,[a||Xr]),a?function(t,e,r){var n=t.applyAtEnd&&void 0!==t.applyAtEnd[e]?t.applyAtEnd[e]:void 0!==t[e]?t[e]:t.applyAtStart&&void 0!==t.applyAtStart[e]?t.applyAtStart[e]:0;return Br(n,r)}(t[a],e,n):o(e,n)},Qr=function(t,e){return function(r){var n=e.poses[r];Object.keys(Vr(n)).forEach(function(t,e){var r=e.userSetValues,n=e.createValue,o=e.convertValue,i=e.readValueFromSource,a=e.initialPose,s=e.poses,c=e.activePoses,u=e.props;return function(e){if(!t.has(e)){var l;if(r&&void 0!==r[e])l=o(r[e],e,u);else{var p=Kr(s,e,a,u,i,c);l=n(p,e,u)}t.set(e,l)}}}(t,e))}},tn=function(t){var e=t.poses,r=t.passive,n=new Map;return Object.keys(e).forEach(Qr(n,t)),function(t){var e=t.setValueNative,r=t.initialPose,n=t.props,o=t.poses,i=new Set,a=function(t,r){if(t[r])for(var o in t[r])i.has(o)||(i.add(o),e(o,Br(t[r][o],n),n))};Jr(r).forEach((function(t){var e=o[t];e&&(a(e,"applyAtEnd"),a(e,"applyAtStart"))}))}(t),r&&Object.keys(r).forEach(function(t,e){var r=e.passive,n=e.ancestorValues,o=e.createValue,i=e.readValue,a=e.props;return function(e){var s=r[e],c=s[0],u=s[1],l=s[2],p=l&&n.length?function(t,e,r){if(!0===e)return r[0]&&r[0].values.get(t);var n=r.find((function(t){return t.label===e}));return n&&n.values.get(t)}(c,l,n):!!t.has(c)&&t.get(c);if(p){var f=o(i(p),e,a,{passiveParentKey:c,passiveParent:p,passiveProps:u});t.set(e,f)}}}(n,t)),n},en=function(t,e){return Object.keys(t).forEach((function(r){var n=t[r];t[r]=void 0!==n.transition?n:function(t,e,r){return u(u({},t),{transition:r.has(e)?r.get(e):r.get("default")})}(n,r,e)})),t};const rn=function(t){var e=t.getDefaultProps,r=t.defaultTransitions,n=t.bindOnChange,o=t.startAction,i=t.stopAction,a=t.readValue,s=t.readValueFromSource,c=t.resolveTarget,f=t.setValue,d=t.setValueNative,h=t.createValue,y=t.convertValue,m=t.getInstantTransition,_=t.getTransitionProps,b=t.addActionDelay,g=t.selectValueToRead,v=t.convertTransitionDefinition,w=t.transformPose,O=t.posePriority,S=t.forceRender,k=t.extendAPI;return function(t){var x=t.parentValues,P=t.ancestorValues,E=void 0===P?[]:P;x&&E.unshift({values:x});var C=new Map,j=new Map,D=new Set,T=en(function(t){return t.label,t.props,t.values,t.parentValues,t.ancestorValues,t.onChange,t.passive,t.initialPose,l(t,["label","props","values","parentValues","ancestorValues","onChange","passive","initialPose"])}(t),r),M=t.props,A=void 0===M?{}:M;e&&(A=u(u({},e(t)),A));var R=t.passive,N=t.values,z=t.initialPose,L=void 0===z?Xr:z,I=tn({poses:T,passive:R,ancestorValues:E,readValue:a,setValueNative:d,createValue:h,convertValue:y,readValueFromSource:s,userSetValues:N,initialPose:L,activePoses:j,props:A}),U={activeActions:C,activePoses:j,children:D,props:A,values:I},F=t.onChange;F&&Object.keys(F).forEach(n(I,F));var Y=Zr({state:U,poses:T,getInstantTransition:m,getTransitionProps:_,convertTransitionDefinition:v,setValue:f,setValueNative:d,startAction:o,stopAction:i,resolveTarget:c,addActionDelay:b,transformPose:w,posePriority:O,forceRender:S});return k({set:Y,unset:function(t,e){var r=[];j.forEach((function(e){var n=e.indexOf(t);if(-1!==n){var o=e[0];e.splice(n,1);var i=e[0];i!==o&&-1===r.indexOf(i)&&r.push(i)}}));var n,o=r.sort((n=O,function(t,e){var r=n.indexOf(t),o=n.indexOf(e);return-1===r&&-1!==o?-1:-1!==r&&-1===o?1:r-o})).map((function(t){return Y(t,e,!1)}));return D.forEach((function(e){return o.push(e.unset(t))})),Promise.all(o)},get:function(t){return t?g(I.get(t)):function(t,e){var r={};return t.forEach((function(t,n){return r[n]=e(t)})),r}(I,g)},has:function(t){return!!T[t]},setProps:function(t){return U.props=u(u({},U.props),t)},_addChild:function(e,r){var n=r(u(u({initialPose:L},e),{ancestorValues:p([{label:t.label,values:I}],E)}));return D.add(n),n},removeChild:function(t){return D.delete(t)},clearChildren:function(){D.forEach((function(t){return t.destroy()})),D.clear()},destroy:function(){C.forEach(i),D.forEach((function(t){return t.destroy()}))}},U,t)}};var nn,on=function(){return(on=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function an(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}!function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"}(nn||(nn={}));var sn=function(t,e){return"function"==typeof t?t(e):t},cn=Hr.interpolate,un=function(t){return function(e){var r;return function(t){void 0===t&&(t={});var e=t.x,r=t.y,n=l(t,["x","y"]);if(void 0!==e||void 0!==r){var o=Mt(e||0),i=Mt(r||0),a={x:0,y:0};return Ur(n).pipe((function(t){return a.x=o(t.x),a.y=i(t.y),a}))}return Ur(n)}((r={},r[t]="string"==typeof e?parseFloat(e):e,r)).pipe((function(e){return e[t]}))}},ln=un("x"),pn=un("y"),fn=function(t,e,r,n){return function(o){var i=o.from,a=o.type,s=o.dimensions,c=o.dragBounds,u=t(s.measurementAsPixels(n,i,a)),l=[];if(c){var p=sn(c,o);void 0!==p[e]&&l.push((function(t){return Math.max(t,s.measurementAsPixels(n,p[e],a))})),void 0!==p[r]&&l.push((function(t){return Math.min(t,s.measurementAsPixels(n,p[r],a))}))}return a===O&&l.push(cn([0,s.get(n)],[0,100],{clamp:!1}),(function(t){return t+"%"})),l.length?u.pipe.apply(u,l):u}},dn=function(t){return nr((function(e){var r=e.update,n=e.complete;r(t),n()}))},hn=function(t){var e=t.from,r=t.velocity,n=t.to;return kr({from:e,to:n,velocity:r,stiffness:500,damping:25,restDelta:.5,restSpeed:10})},yn=function(t){var e=t.from,r=t.velocity,n=t.to;return kr({from:e,to:n,velocity:r,stiffness:700,damping:0===n?100:35})},mn={x:hn,y:hn,z:hn,rotate:hn,rotateX:hn,rotateY:hn,rotateZ:hn,scaleX:yn,scaleY:yn,scale:yn,opacity:function(t){var e=t.from,r=t.to;return Er({from:e,to:r,ease:ut})},default:Er},_n=on(on({},mn),{x:fn(ln,"left","right",nn.width),y:fn(pn,"top","bottom",nn.height)}),bn=function(t){var e=t.from;return dn(e)},gn=new Map([["default",mn],["drag",_n],["dragEnd",on(on({},mn),{x:bn,y:bn})]]),vn={tween:Er,spring:kr,decay:Sr,keyframes:jr,physics:Dr},wn={linear:ut,easeIn:lt,easeOut:pt,easeInOut:ft,circIn:dt,circOut:ht,circInOut:yt,backIn:mt,backOut:_t,backInOut:bt,anticipate:gt},On=[_,w,O,S,x,k,{test:function(t){return"auto"===t},parse:function(t){return t}}],Sn=function(t){return On.find(function(t){return function(e){return e.test(t)}}(t))},kn=function(t,e){return void 0===t&&(t=0),Fr(Yr(t),e)},xn=function(t){var e=t.transformPose,r=t.addListenerToValue,n=t.extendAPI,o=t.readValueFromSource,i=t.posePriority,a=t.setValueNative;return rn({bindOnChange:function(t,e){return function(r){t.has(r)&&t.get(r).raw.subscribe(e[r])}},readValue:function(t){return t.raw.get()},setValue:function(t,e){return t.raw.update(e)},createValue:function(t,e,n,o){var i=n.elementStyler,a=void 0===o?{}:o,s=a.passiveParent,c=a.passiveProps,u=s?function(t,e,r){var n=sr(r(t));return e.raw.subscribe((function(t){return n.update(r(t))})),{raw:n}}(t,s,c):function(t){var e=Sn(t);return{raw:sr(t),type:e}}(t);return u.raw.subscribe(r(e,i)),u},convertValue:function(t,e,n){var o=n.elementStyler;return t.subscribe(r(e,o)),{raw:t,type:Sn(t.get())}},getTransitionProps:function(t,e){var r=t.raw,n=t.type;return{from:r.get(),velocity:r.getVelocity(),to:e,type:n}},resolveTarget:function(t,e){return e},selectValueToRead:function(t){return t.raw},startAction:function(t,e,r){var n=t.raw,o={update:function(t){return n.update(t)},complete:r};return e.start(o)},stopAction:function(t){return t.stop()},getInstantTransition:function(t,e){var r=e.to;return dn(r)},convertTransitionDefinition:function(t,e,r){if(function(t){return void 0!==t.start}(e))return e;var n=e.delay,o=e.min,i=e.max,a=e.round,s=function(t,e,r){var n,o=r.from,i=r.to,a=r.velocity,s=e.type,c=void 0===s?"tween":s,u=e.ease,l=an(e,["type","ease"]);vn[c],"tween"===c&&"function"!=typeof u&&("string"==typeof u?n=wn[u]:Array.isArray(u)&&"number"==typeof u[0]&&(u.length,n=Et(u[0],u[1],u[2],u[3]))),n=n||u;var p="keyframes"!==c?{from:o,to:i,velocity:a,ease:n}:{ease:n};return vn[c](on(on({},p),l))}(0,an(e,["delay","min","max","round"]),r),c=[];return n&&(s=kn(n,s)),void 0!==o&&c.push((function(t){return Math.max(t,o)})),void 0!==i&&c.push((function(t){return Math.min(t,i)})),a&&c.push(Math.round),c.length?s.pipe.apply(s,c):s},setValueNative:a,addActionDelay:kn,defaultTransitions:gn,transformPose:e,readValueFromSource:o,posePriority:i,extendAPI:n})},Pn=function(t){var e=!1,r={width:0,height:0,top:0,left:0,bottom:0,right:0};return{get:function(t){return t?r[t]:r},measure:function(){return r=t.getBoundingClientRect(),e=!0,r},measurementAsPixels:function(t,e,n){return n===O?("string"==typeof e?parseFloat(e):e)/100*r[t]:e},has:function(){return e}}},En=function(t){var e=t.startEvents,r=t.endEvents,n=t.startPose,o=t.endPose,i=t.startCallback,a=t.endCallback,s=t.useDocumentToEnd,c=t.preventScroll;return function(t,u,l,p){var f=n+"Start",d=n+"End",h=n+"Move";if(c){var y=Tr(t,"touchmove",{passive:!1}).start((function(t){t.preventDefault()}));u.set(h,y)}var m=Tr(t,e).start((function(e){l.unset(o),l.set(n),i&&p[i]&&p[i](e);var c=Tr(s?document.documentElement:t,r+(s?" mouseenter":"")).start((function(t){s&&"mouseenter"===t.type&&1===t.buttons||(u.get(d).stop(),l.unset(n),l.set(o),a&&p[a]&&p[a](t))}));u.set(d,c)}));u.set(f,m)}},Cn={draggable:En({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"drag",endPose:"dragEnd",startCallback:"onDragStart",endCallback:"onDragEnd",useDocumentToEnd:!0,preventScroll:!0}),hoverable:En({startEvents:"mouseenter",endEvents:"mouseleave",startPose:"hover",endPose:"hoverEnd"}),focusable:En({startEvents:"focus",endEvents:"blur",startPose:"focus",endPose:"blur"}),pressable:En({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"press",endPose:"pressEnd",startCallback:"onPressStart",endCallback:"onPressEnd",useDocumentToEnd:!0})},jn=Object.keys(Cn),Dn="50%",Tn="100%",Mn=function(t){var e=t.top,r=t.right,n=t.bottom;return{x:(t.left+r)/2,y:(e+n)/2}},An=["width","height","top","left","bottom","right"],Rn=new Set(An),Nn=function(t){return Rn.has(t)},zn=function(t,e,r){var n=t.values,o=t.props;if(n.has(e)){var i=n.get(e).raw;i.update(r),i.update(r)}else n.set(e,{raw:sr(r,(function(t){return o.elementStyler.set(e,t)}))})},Ln=function(t,e){var r=t.props,n=r.dimensions,o=r.element,i=r.elementStyler;if(!n.has())return{};var a=n.get(),s=function(t){var e=t.style.transform;t.style.transform="";var r=t.getBoundingClientRect();return t.style.transform=e,r}(o),c=a.left===s.left?0:a.right===s.right?Tn:Dn,u=a.top===s.top?0:a.bottom===s.bottom?Tn:Dn;i.set({originX:c,originY:u}),a.width!==s.width&&(zn(t,"scaleX",a.width/s.width),e.scaleX=1),a.height!==s.height&&(zn(t,"scaleY",a.height/s.height),e.scaleY=1);var l=Mn(a),p=Mn(s);return c===Dn&&(zn(t,"x",l.x-p.x),e.x=0),u===Dn&&(zn(t,"y",l.y-p.y),e.y=0),i.render(),e},In=function(t,e){return function(t){return Object.keys(t).some(Nn)}(e)?function(t,e){var r=t.props,n=r.dimensions,o=r.elementStyler;n.measure(),e.width,e.height,e.top,e.left,e.bottom,e.right,e.position;var i=an(e,["width","height","top","left","bottom","right","position"]),a=An.concat("position").reduce((function(r,n){return void 0!==e[n]&&(r[n]=sn(e[n],t.props)),r}),{});return o.set(a).render(),Ln(t,i)}(t,e):Ln(t,e)},Un=function(t,e){return parseFloat(t.split(", ")[e])},Fn=function(t,e){return function(r,n,o){var i=o.transform;if(!i||"none"===i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);return a?Un(a[1],e):Un(i.match(/^matrix\((.+)\)$/)[1],t)}},Yn={width:function(t,e){return e.width},height:function(t,e){return e.height},top:function(t,e,r){var n=r.top;return parseFloat(n)},left:function(t,e,r){var n=r.left;return parseFloat(n)},bottom:function(t,e,r){var n=e.height,o=r.top;return parseFloat(o)+n},right:function(t,e,r){var n=e.width,o=r.left;return parseFloat(o)+n},x:Fn(4,13),y:Fn(5,14)},Hn=function(t){return void 0!==Yn[t]},Vn=function(t){return function(e){return e.elementStyler.get(t)}},Bn=function(t,e){var r=e.onDragStart,n=e.onDragEnd,o=e.onPressStart,i=e.onPressEnd,a=e.draggable,s=e.hoverable,c=e.focusable,u=e.pressable,l=e.dragBounds,p=an(e,["onDragStart","onDragEnd","onPressStart","onPressEnd","draggable","hoverable","focusable","pressable","dragBounds"]),f=on(on({flip:{}},p),{props:on(on({},p.props),{onDragStart:r,onDragEnd:n,onPressStart:o,onPressEnd:i,dragBounds:l,draggable:a,hoverable:s,focusable:c,pressable:u,element:t,elementStyler:Ke(t,{preparseOutput:!1}),dimensions:Pn(t)})});if(a){var d=function(t){var e={preTransition:function(t){return t.dimensions.measure()}},r={};return!0!==t&&"x"!==t||(e.x=r.x=Vn("x")),!0!==t&&"y"!==t||(e.y=r.y=Vn("y")),{drag:e,dragEnd:r}}(a),h=d.drag,y=d.dragEnd;f.drag=on(on({},h),f.drag),f.dragEnd=on(on({},y),f.dragEnd)}return f},Wn=xn({posePriority:["drag","press","focus","hover"],transformPose:function(t,e,r){var n=t.flip,o=an(t,["flip"]);return function(t,e,r){return r.props.element instanceof HTMLElement&&(!0===t||"flip"===e)}(n,e,r)?In(r,o):function(t){return Object.keys(t).some(Hn)}(o)?function(t,e){var r=t.values,n=t.props,o=n.element,i=n.elementStyler,a=Object.keys(e).filter(Hn),s=[],c=getComputedStyle(o),u=!1;if(a.forEach((function(o){var i=r.get(o),a=Sn(i.raw.get()),c=sn(e[o],n);a!==Sn(c)&&(s.push(o),u||(u=!0,e.applyAtEnd=e.applyAtEnd?on({},e.applyAtEnd):{}),e.applyAtEnd[o]=e.applyAtEnd[o]||e[o],zn(t,o,c))})),!s.length)return e;var l=o.getBoundingClientRect(),p={top:c.top,left:c.left,bottom:c.bottom,right:c.right,transform:c.transform};i.render();var f=o.getBoundingClientRect();return s.forEach((function(r){zn(t,r,Yn[r](o,l,p)),e[r]=Yn[r](o,f,c)})),i.render(),e}(r,o):o},forceRender:function(t){t.elementStyler.render()},addListenerToValue:function(t,e){return function(r){return e.set(t,r)}},readValueFromSource:function(t,e){var r=e.elementStyler,n=e.dragBounds,o=r.get(t);if(n&&("x"===t||"y"===t)){var i="x"===t?n.left||n.right:n.top||n.bottom;i&&(o=Sn(i).transform(o))}return isNaN(o)?o:parseFloat(o)},setValueNative:function(t,e,r){return r.elementStyler.set(t,e)},extendAPI:function(t,e,r){var n=e.props,o=e.activeActions,i=n.dimensions.measure,a=on(on({},t),{addChild:function(e,r){return t._addChild(Bn(e,r),Wn)},measure:i,flip:function(e){return e&&(i(),e()),t.set("flip")}});return n.elementStyler.render(),function(t,e,r,n){var o=n.props;jn.forEach((function(n){o[n]&&Cn[n](t,e,r,o)}))}(n.element,o,a,r),a}});const Gn=function(t,e){return Wn(Bn(t,e))};var qn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const Zn=function(t){var e={};return function(r){return void 0===e[r]&&(e[r]=t(r)),e[r]}}((function(t){return qn.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));var Xn=(0,i.createContext)({}),$n=Xn.Consumer,Jn=Xn.Provider,Kn=function(t,e){return Array.isArray(t)?-1!==t.indexOf(e):t===e},Qn=function(){return!0},to=function(t){return t.elementType,t.poseConfig,t.onValueChange,t.innerRef,t._pose,t.pose,t.initialPose,t.poseKey,t.onPoseComplete,t.getParentPoseConfig,t.registerChild,t.onUnmount,t.getInitialPoseFromParent,t.popFromFlow,t.values,t.parentValues,t.onDragStart,t.onDragEnd,t.onPressStart,t.onPressEnd,l(t,["elementType","poseConfig","onValueChange","innerRef","_pose","pose","initialPose","poseKey","onPoseComplete","getParentPoseConfig","registerChild","onUnmount","getInitialPoseFromParent","popFromFlow","values","parentValues","onDragStart","onDragEnd","onPressStart","onPressEnd"])},eo=function(t){function e(e){var r=t.call(this,e)||this;r.children=new Set,r.childrenHandlers={registerChild:function(t){r.children.add(t),r.poser&&r.flushChildren()},onUnmount:function(t){return r.poser.removeChild(t)},getParentPoseConfig:function(){return r.poseConfig},getInitialPoseFromParent:function(){return r.getInitialPose()}},r.setRef=function(t){null===t||t instanceof Element&&r.ref,r.ref=t;var e=r.props.innerRef;e&&("function"==typeof e?e(t):e.current=t)},r.shouldForwardProp="string"==typeof r.props.elementType?Zn:Qn;var n=r.props.poseConfig;return r.poseConfig="function"==typeof n?n(to(e)):n,r}return c(e,t),e.prototype.getInitialPose=function(){var t=this.props,e=t.getInitialPoseFromParent,r=t.pose,n=t._pose,o=t.initialPose;if(o)return o;var i=e&&e(),a=(Array.isArray(i)?i:[i]).concat(r,n).filter(Boolean);return a.length>0?a:void 0},e.prototype.getFirstPose=function(){var t=this.props,e=t.initialPose,r=t.pose,n=t._pose;if(e){var o=(Array.isArray(r)?r:[r]).concat(n).filter(Boolean);return 1===o.length?o[0]:o}},e.prototype.getSetProps=function(){var t,e=to(this.props);return this.props.popFromFlow&&this.ref&&this.ref instanceof HTMLElement?this.popStyle?e.style=this.popStyle:(e.style=u(u({},e.style),{position:"absolute",top:(t=this.ref).offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}),this.popStyle=e.style):this.popStyle=null,e},e.prototype.componentDidMount=function(){var t=this;this.ref,Element;var e,r=this.props,n=r.onValueChange,o=r.registerChild,i=r.values,a=r.parentValues,s=r.onDragStart,c=r.onDragEnd,l=r.onPressStart,p=r.onPressEnd,f=u(u({},this.poseConfig),{initialPose:this.getInitialPose(),values:i||this.poseConfig.values,parentValues:a?(e=a,Object.keys(e).reduce((function(t,r){return t.set(r,{raw:e[r]}),t}),new Map)):void 0,props:this.getSetProps(),onDragStart:s,onDragEnd:c,onPressStart:l,onPressEnd:p,onChange:n});o?o({element:this.ref,poseConfig:f,onRegistered:function(e){return t.initPoser(e)}}):this.initPoser(Gn(this.ref,f))},e.prototype.getSnapshotBeforeUpdate=function(){var t=this.props,e=t.pose,r=t._pose;return(Kn(e,"flip")||Kn(r,"flip"))&&this.poser.measure(),null},e.prototype.componentDidUpdate=function(t){var e=this.props,r=e.pose,n=e._pose,o=e.poseKey;this.poser.setProps(this.getSetProps()),(o!==t.poseKey||function(t,e){if(t===e)return!1;var r=Array.isArray(t),n=Array.isArray(e);if(r!==n||!r&&!n)return!0;if(r&&n){var o=t.length;if(o!==e.length)return!0;for(var i=0;i<o;i++)if(t[i]!==e[i])return!0}return!1}(t.pose,r)||"flip"===r)&&this.setPose(r),n===t._pose&&"flip"!==n||this.setPose(n)},e.prototype.componentWillUnmount=function(){if(this.poser){var t=this.props.onUnmount;t&&t(this.poser),this.poser.destroy()}},e.prototype.initPoser=function(t){this.poser=t,this.flushChildren();var e=this.getFirstPose();e&&this.setPose(e)},e.prototype.setPose=function(t){var e=this,r=this.props.onPoseComplete,n=Array.isArray(t)?t:[t];Promise.all(n.map((function(t){return t&&e.poser.set(t)}))).then((function(){return r&&r(t)}))},e.prototype.flushChildren=function(){var t=this;this.children.forEach((function(e){var r=e.element,n=e.poseConfig;return(0,e.onRegistered)(t.poser.addChild(r,n))})),this.children.clear()},e.prototype.render=function(){var t,e=this.props.elementType;return a().createElement(Jn,{value:this.childrenHandlers},(0,i.createElement)(e,(t=this.shouldForwardProp,[this.getSetProps(),{ref:this.setRef}].reduce((function(e,r){for(var n in r)t(n)&&(e[n]=r[n]);return e}),{}))))},e}(i.PureComponent),ro=new Map,no=function(t){var e=function(e){return void 0===e&&(e={}),(0,i.forwardRef)((function(r,n){var o=r.withParent,i=void 0===o||o,s=l(r,["withParent"]);return s.innerRef,!i||s.parentValues?a().createElement(eo,u({poseConfig:e,innerRef:n,elementType:t},s)):a().createElement($n,null,(function(r){return a().createElement(eo,u({poseConfig:e,elementType:t,innerRef:n},s,r))}))}))};return ro.set(t,e),e},oo=function(t){return e=t,ro.has(e)?ro.get(e):no(e);var e};["a","article","aside","audio","b","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dialog","div","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","label","legend","li","nav","object","ol","option","p","param","picture","pre","progress","q","section","select","span","strong","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","ul","video","circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce((function(t,e){return t[e]=no(e),t}),oo);var io=function(t){return t&&t.key,("number"==typeof t.key?t.key.toString():t.key).replace(".$","")},ao=function(t,e){return(0,i.createElement)(t.type,u(u({key:t.key,ref:t.ref},e),t.props))},so=function(t,e){var r=function(t,e){var r=e.displayedChildren,n=e.finishedLeaving,o=e.hasInitialized,a=e.indexedChildren,s=e.scheduleChildRemoval,c=t.children,u=t.preEnterPose,p=t.enterPose,f=t.exitPose,d=t.animateOnMount,h=(t.enterAfterExit,t.flipMove),y=(t.onRest,l(t,["children","preEnterPose","enterPose","exitPose","animateOnMount","enterAfterExit","flipMove","onRest"])),m=co(c),_={displayedChildren:[]},b=r.map(io),g=m.map(io),v=0!==Object.keys(y).length,w=new Set(g.filter((function(t){return n.hasOwnProperty(t)||-1===b.indexOf(t)})));w.forEach((function(t){return delete n[t]}));var O=[],S={};b.forEach((function(t){if(!w.has(t)){var e=n.hasOwnProperty(t);(e||-1===g.indexOf(t))&&(O.push(t),e||(n[t]=!1,S[t]=!0))}}));var k=new Set(b.filter((function(t,e){return!w.has(t)||-1===O.indexOf(t)})));return m.forEach((function(t){var e={};w.has(t.key)?((o||d)&&(e.initialPose=u),e._pose=p):k.has(t.key)&&h?e._pose=[p,"flip"]:e._pose=p;var r=(0,i.cloneElement)(t,e);a[t.key]=r,_.displayedChildren.push(v?ao(r,y):r)})),O.forEach((function(t){var e=a[t],r=S[t]?(0,i.cloneElement)(e,{_pose:f,onPoseComplete:function(r){r===f&&s(t);var n=e.props.onPoseComplete;n&&n(r)},popFromFlow:h}):e,n=b.indexOf(t);a[e.key]=r,_.displayedChildren.splice(n,0,v?ao(r,y):r)})),_}(t,e);return r.hasInitialized=!0,r},co=function(t){var e=[];return i.Children.forEach(t,(function(t){return t&&e.push(t)})),e},uo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={displayedChildren:[],finishedLeaving:{},hasInitialized:!1,indexedChildren:{},scheduleChildRemoval:function(t){return e.removeChild(t)}},e}return c(e,t),e.prototype.removeChild=function(t){var e=this.state,r=e.displayedChildren,n=e.finishedLeaving,o=this.props,i=o.enterAfterExit,a=o.onRest;if(n.hasOwnProperty(t)&&(n[t]=!0,Object.keys(n).every((function(t){return n[t]})))){var s=r.filter((function(t){return!n.hasOwnProperty(t.key)})),c=i?u({finishedLeaving:{}},so(u(u({},this.props),{enterAfterExit:!1}),u(u({},this.state),{displayedChildren:s}))):{finishedLeaving:{},displayedChildren:s};this.setState(c,a)}},e.prototype.shouldComponentUpdate=function(t,e){return this.state!==e},e.prototype.render=function(){return this.state.displayedChildren},e.defaultProps={flipMove:!1,enterAfterExit:!1,preEnterPose:"exit",enterPose:"enter",exitPose:"exit"},e.getDerivedStateFromProps=so,e}(i.Component),lo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.render=function(){return(0,i.createElement)(uo,u({},this.props))},e.defaultProps={flipMove:!0},e}(i.Component);const po=oo;var fo=po.div({enter:{y:0,opacity:1,transition:{y:{type:"spring",stiffness:500,damping:15},default:{duration:300}}},exit:{y:35,opacity:0,transition:{duration:0}}}),ho=function(t){var e=t.children,r=t.className,n=t.is_visible,o=t.keyname;return n?i.createElement(lo,null,i.createElement(fo,{className:r,key:o},e)):null};ho.propTypes={children:o().node,is_visible:o().bool,keyname:o().string};var yo=po.div({enter:{y:0,opacity:1,transition:{duration:200}},exit:{y:-20,opacity:0,transition:{duration:100}}}),mo=po.div({enter:{y:0,opacity:1,transition:{duration:200}},exit:{y:20,opacity:0,transition:{duration:100}}}),_o=function(t){var e=t.children,r=t.className,n=t.keyname,o=t.is_visible;return"bottom"===t.type?i.createElement(lo,{flipMove:!1},o&&i.createElement(mo,{className:r,key:n},e)):i.createElement(lo,{flipMove:!1},o&&i.createElement(yo,{className:r,key:n},e))};_o.propTypes={children:o().node,is_visible:o().bool,keyname:o().string,type:o().string}},"./App/Components/Elements/ContentLoader/index.js":(t,e,r)=>{"use strict";r.d(e,{rl:()=>f,Ro:()=>d,G_:()=>y});var n=r("react"),o=function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=function(){return Math.random().toString(36).substring(2)},a=function(t){var e=t.rtl,r=t.speed,a=t.interval,s=t.style,c=t.width,u=t.height,l=t.baseUrl,p=t.gradientRatio,f=t.animate,d=t.ariaLabel,h=t.children,y=t.className,m=t.uniquekey,_=t.primaryColor,b=t.primaryOpacity,g=t.secondaryColor,v=t.secondaryOpacity,w=t.preserveAspectRatio,O=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(t,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),S=m?m+"-idClip":i(),k=m?m+"-idGradient":i(),x=e?{transform:"scaleX(-1)"}:{},P="0; "+a+"; 1",E=r+"s";return(0,n.createElement)("svg",o({role:"img",style:o(o({},s),x),className:y,"aria-label":d||null,viewBox:"0 0 "+c+" "+u,preserveAspectRatio:w},O),d?(0,n.createElement)("title",null,d):null,(0,n.createElement)("rect",{x:"0",y:"0",width:c,height:u,clipPath:"url("+l+"#"+S+")",style:{fill:"url("+l+"#"+k+")"}}),(0,n.createElement)("defs",null,(0,n.createElement)("clipPath",{id:S},h),(0,n.createElement)("linearGradient",{id:k},(0,n.createElement)("stop",{offset:"0%",stopColor:_,stopOpacity:b},f&&(0,n.createElement)("animate",{attributeName:"offset",values:-p+"; "+-p+"; 1",keyTimes:P,dur:E,repeatCount:"indefinite"})),(0,n.createElement)("stop",{offset:"50%",stopColor:g,stopOpacity:v},f&&(0,n.createElement)("animate",{attributeName:"offset",values:-p/2+"; "+-p/2+"; "+(1+p/2),keyTimes:P,dur:E,repeatCount:"indefinite"})),(0,n.createElement)("stop",{offset:"100%",stopColor:_,stopOpacity:b},f&&(0,n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+p),keyTimes:P,dur:E,repeatCount:"indefinite"})))))},s={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},c=function(t){return(0,n.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:t.width,height:t.height})};const u=function(t){var e=o(o({},s),t);return(0,n.createElement)(a,o({},e),t.children||(0,n.createElement)(c,o({},e)))};var l=r("../../../node_modules/prop-types/index.js"),p=r.n(l),f=function(t){var e=t.speed;return n.createElement(u,{height:173,width:218,speed:e,primaryColor:"var(--general-section-1)",secondaryColor:"var(--general-hover)"},n.createElement("rect",{x:"43",y:"19",rx:"0",ry:"0",width:"56",height:"8"}),n.createElement("rect",{x:"147",y:"19",rx:"0",ry:"0",width:"56",height:"8"}),n.createElement("rect",{x:"12",y:"50",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"13",y:"68",rx:"0",ry:"0",width:"192",height:"8"}),n.createElement("rect",{x:"5",y:"89",rx:"0",ry:"0",width:"208",height:"1"}),n.createElement("rect",{x:"12",y:"104",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"12",y:"9",rx:"0",ry:"0",width:"24",height:"24"}),n.createElement("rect",{x:"116",y:"11",rx:"0",ry:"0",width:"24",height:"24"}),n.createElement("rect",{x:"12",y:"118",rx:"0",ry:"0",width:"88",height:"8"}),n.createElement("rect",{x:"116",y:"104",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"116",y:"118",rx:"0",ry:"0",width:"88",height:"8"}),n.createElement("rect",{x:"12",y:"139",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"12",y:"153",rx:"0",ry:"0",width:"88",height:"8"}),n.createElement("rect",{x:"116",y:"139",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"116",y:"153",rx:"0",ry:"0",width:"88",height:"8"}))};f.propTypes={speed:p().number};var d=function(t){var e=t.speed;return n.createElement(u,{height:64,width:992,speed:e,primaryColor:"var(--general-hover)",secondaryColor:"var(--general-active)"},n.createElement("rect",{x:"16",y:"16",rx:"4",ry:"4",width:"32",height:"32"}),n.createElement("rect",{x:"52",y:"16",rx:"4",ry:"4",width:"32",height:"32"}),n.createElement("rect",{x:"132",y:"28",rx:"4",ry:"4",width:"101",height:"8"}),n.createElement("rect",{x:"273",y:"28",rx:"4",ry:"4",width:"120",height:"8"}),n.createElement("rect",{x:"460",y:"28",rx:"4",ry:"4",width:"46",height:"8"}),n.createElement("rect",{x:"593",y:"28",rx:"4",ry:"4",width:"46",height:"8"}),n.createElement("rect",{x:"726",y:"28",rx:"4",ry:"4",width:"64",height:"8"}),n.createElement("rect",{x:"906",y:"28",rx:"4",ry:"4",width:"64",height:"8"}))};d.propTypes={speed:p().number};var h=r("@deriv/components"),y=function(t){var e=t.speed;return n.createElement(n.Fragment,null,n.createElement(h.MobileWrapper,null,n.createElement(u,{height:214,width:344,speed:e,primaryColor:"var(--general-section-1)",secondaryColor:"var(--general-hover)"},n.createElement("rect",{x:"148",y:"24",rx:"3",ry:"3",width:"40",height:"4"}),n.createElement("rect",{x:"8",y:"40",rx:"4",ry:"4",width:"328",height:"40"}),n.createElement("rect",{x:"8",y:"88",rx:"4",ry:"4",width:"328",height:"40"}),n.createElement("rect",{x:"8",y:"136",rx:"4",ry:"4",width:"160",height:"70"}),n.createElement("rect",{x:"176",y:"136",rx:"4",ry:"4",width:"160",height:"70"}))),n.createElement(h.DesktopWrapper,null,n.createElement(u,{height:548,width:240,speed:e,primaryColor:"var(--general-section-1)",secondaryColor:"var(--general-hover)"},n.createElement("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"240",height:"76"}),n.createElement("rect",{x:"0",y:"84",rx:"4",ry:"4",width:"240",height:"132"}),n.createElement("rect",{x:"0",y:"224",rx:"4",ry:"4",width:"240",height:"120"}),n.createElement("rect",{x:"0",y:"352",rx:"4",ry:"4",width:"240",height:"194"}))))};y.propTypes={speed:p().number}},"./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card.jsx":(t,e,r)=>{"use strict";r.d(e,{Z:()=>y});var n=r("../../../node_modules/classnames/index.js"),o=r.n(n),i=r("../../../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("react-router-dom"),u=r("@deriv/components"),l=r("@deriv/shared"),p=r("./Constants/contract.js"),f=r("./Stores/connect.js"),d=r("./Stores/Modules/Contract/Helpers/multiplier.js"),h=function(t){var e=t.addToast,r=t.className,n=t.display_name,i=t.contract_info,a=t.contract_update,f=t.currency,h=t.current_focus,y=t.getContractById,m=t.is_mobile,_=t.is_sell_requested,b=t.is_unsupported,g=t.is_link_disabled,v=t.profit_loss,w=t.onClickCancel,O=t.onClickSell,S=t.onClickRemove,k=t.onFooterEntered,x=t.onMouseEnter,P=t.onMouseLeave,E=t.removeToast,C=t.result,j=t.setCurrentFocus,D=t.server_time,T=t.should_show_transition,M=t.should_show_cancellation_warning,A=t.status,R=t.toggleCancellationWarning,N=t.toggleUnsupportedContractModal,z=(0,l.isMultiplierContract)(i.contract_type),L=(0,l.isCryptoContract)(i.underlying),I=!z||L&&z,U=s.createElement("div",{className:"dc-contract-card__content-loader"},s.createElement(u.ContractCard.Loader,{speed:2})),F=s.createElement(u.ContractCard.Header,{contract_info:i,display_name:n,getCardLabels:p.gk,getContractTypeDisplay:p.h8,has_progress_slider:!m&&I,is_mobile:m,is_positions:!0,is_sell_requested:_,onClickSell:O,server_time:D}),Y=s.createElement(u.ContractCard.Body,{addToast:e,connectWithContractUpdate:d.tP,contract_info:i,contract_update:a,currency:f,current_focus:h,getCardLabels:p.gk,getContractById:y,onMouseLeave:function(){"function"==typeof P&&P()},is_mobile:m,is_multiplier:z,has_progress_slider:m&&I,removeToast:E,server_time:D,setCurrentFocus:j,should_show_cancellation_warning:M,status:A,toggleCancellationWarning:R}),H=s.createElement(u.ContractCard.Footer,{contract_info:i,getCardLabels:p.gk,is_multiplier:z,is_positions:!0,is_sell_requested:_,onClickCancel:w,onClickSell:O,onFooterEntered:k,server_time:D,should_show_transition:T}),V=s.createElement(s.Fragment,null,F,Y);return s.createElement(u.ContractCard,{contract_info:i,getCardLabels:p.gk,getContractPath:l.getContractPath,is_multiplier:z,is_positions:!0,is_unsupported:b,onClickRemove:S,profit_loss:v,result:C,should_show_result_overlay:!0,toggleUnsupportedContractModal:N},s.createElement("div",{id:"dc_contract_card_".concat(i.contract_id),className:r,onMouseEnter:function(){"function"==typeof x&&x()},onMouseLeave:function(){"function"==typeof P&&P()},onClick:function(){"function"==typeof P&&P()}},b?s.createElement("div",{className:o()("dc-contract-card",{"dc-contract-card--green":!z&&v>0&&!C,"dc-contract-card--red":!z&&v<0&&!C}),onClick:function(){return N(!0)}},i.underlying?V:U):g?s.createElement("div",{className:o()("dc-contract-card",{"dc-contract-card--green":!z&&v>0&&!C,"dc-contract-card--red":!z&&v<0&&!C})},i.underlying?V:U):s.createElement(c.NavLink,{className:o()("dc-contract-card",{"dc-contract-card--green":!z&&v>0&&!C,"dc-contract-card--red":!z&&v<0&&!C}),to:{pathname:"/contract/".concat(i.contract_id),state:{}}},i.underlying?V:U),H))};h.propTypes={addToast:a().func,className:a().string,contract_info:a().object,currency:a().string,current_focus:a().string,current_tick:a().number,duration:a().oneOfType([a().number,a().string]),duration_unit:a().string,exit_spot:a().oneOfType([a().number,a().string]),id:a().number,indicative:a().number,is_loading:a().bool,is_mobile:a().bool,is_sell_requested:a().bool,is_unsupported:a().bool,is_valid_to_sell:a().oneOfType([a().number,a().bool]),onClickRemove:a().func,onClickSell:a().func,onClickCancel:a().func,profit_loss:a().number,result:a().string,sell_time:a().number,setCurrentFocus:a().func,status:a().string,toggleUnsupportedContractModal:a().func,type:a().string};const y=(0,f.$j)((function(t){var e=t.modules,r=t.ui,n=t.client,o=t.common;return{currency:n.currency,server_time:o.server_time,addToast:r.addToast,current_focus:r.current_focus,onClickCancel:e.portfolio.onClickCancel,onClickSell:e.portfolio.onClickSell,onClickRemove:e.portfolio.removePositionById,getContractById:e.contract_trade.getContractById,is_mobile:r.is_mobile,removeToast:r.removeToast,setCurrentFocus:r.setCurrentFocus,should_show_cancellation_warning:r.should_show_cancellation_warning,toggleCancellationWarning:r.toggleCancellationWarning,toggleUnsupportedContractModal:r.toggleUnsupportedContractModal}}))(h)},"./App/Components/Elements/PositionsDrawer/helpers/index.js":(t,e,r)=>{"use strict";r.d(e,{Ew:()=>s,_M:()=>f,Bs:()=>c,rh:()=>u,qm:()=>l});var n=r("@deriv/translations"),o=r("@deriv/shared"),i=r("./Stores/Modules/Trading/Constants/contract.js"),a=r("./Stores/Modules/Contract/Helpers/contract-type.js"),s=function(t,e){if(!t||isNaN(t))return t;var r=String(e?(+t).toFixed(e):t),n=r.indexOf(".");return r.replace(/\d(?=(?:\d{3})+(?:\.|$))/g,(function(t,e){return n<=0||e<n?"".concat(t,","):t}))},c=function(t){return l(t.contract_type)?(0,n.localize)("Target"):(0,n.localize)("Barrier")},u=function(t){return l(t.contract_type)?p(t)[t.contract_type]:s(t.barrier)},l=function(t){return/digit/.test(t.toLowerCase())},p=function(t){return{DIGITDIFF:(0,n.localize)("Not {{barrier}}",{barrier:t.barrier}),DIGITEVEN:(0,n.localize)("Even"),DIGITMATCH:(0,n.localize)("Equals {{barrier}}",{barrier:t.barrier}),DIGITODD:(0,n.localize)("Odd"),DIGITOVER:(0,n.localize)("Over {{barrier}}",{barrier:t.barrier}),DIGITUNDER:(0,n.localize)("Under {{barrier}}",{barrier:t.barrier})}},f=function(t,e){var r,n=t.contract_type,s=t.shortcode,c=(0,a.a)(e),u=(0,o.isHighLow)({shortcode:s}),l=c?["CALL","CALLE","PUT","PUTE"]:null===(r=(0,i.r2)()[e])||void 0===r?void 0:r.trade_types,p=null==l?void 0:l.includes(n);return"high_low"===e?u:p&&!u}},"./App/Components/Elements/chart-loader.jsx":(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r("../../../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("../../../node_modules/classnames/index.js"),s=r.n(a),c=r("@deriv/components"),u=function(t){var e=t.className,r=t.id,n=t.is_fullscreen,o=void 0===n||n,a=t.is_slow_loading,u=t.status,l=t.theme,p=l?"barspinner-".concat(l):"barspinner-light";return i.createElement("div",{className:s()("initial-loader",{"initial-loader--fullscreen":o},e)},i.createElement("div",{id:r,className:s()("initial-loader__barspinner","barspinner",p)},Array.from(new Array(5)).map((function(t,e){return i.createElement("div",{key:e,className:"initial-loader__barspinner--rect barspinner__rect barspinner__rect--".concat(e+1," rect").concat(e+1)})}))),a&&u.map((function(t,e){return i.createElement(c.Text,{as:"h3",color:"prominent",size:"xs",align:"center",key:e},t)})))};u.propTypes={id:o().oneOfType([o().string,o().number]),is_slow_loading:o().bool,status:o().array,theme:o().string};const l=u;var p=function(t){var e=t.is_dark;return t.is_visible?i.createElement("div",{className:"chart-container__loader"},i.createElement(l,{theme:e?"dark":"light"})):null};p.propTypes={is_dark:o().bool,is_visible:o().bool};const f=p},"./App/Components/Elements/market-countdown-timer.jsx":(t,e,r)=>{"use strict";r.d(e,{Z:()=>k});var n=r("../../../node_modules/classnames/index.js"),o=r.n(n),i=r("react"),a=r("../../../node_modules/prop-types/index.js"),s=r.n(a),c=r("../../../node_modules/moment/moment.js"),u=r.n(c),l=r("@deriv/components"),p=r("@deriv/shared"),f=r("@deriv/translations"),d=r("./Services/ws-methods.js"),h=r("./Stores/connect.js"),y=r("./Stores/Modules/Trading/Helpers/active-symbols.js");function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function g(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){b(i,n,o,a,s,"next",t)}function s(t){b(i,n,o,a,s,"throw",t)}a(void 0)}))}}var v=function(){var t=g(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.WS.tradingTimes(e);case 2:if(!(r=t.sent).error){t.next=5;break}return t.abrupt("return",{api_initial_load_error:r.error.message});case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(t,e){for(var r,n=e.markets,o=0;o<n.length;o++)for(var i=n[o].submarkets,a=0;a<i.length;a++)if(void 0!==(r=i[a].symbols.find((function(e){return e.symbol===t}))))return r},O=function(t){var e=t-Date.now();return e>0?{days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}:{}},S=function(t){var e=t.active_symbols,r=t.is_main_page,n=t.setIsTimerLoading,a=t.onMarketOpen,s=t.symbol,c=(0,p.useIsMounted)(),d=m(i.useState({}),2),h=d[0],_=d[1],b=m(i.useState(O(null==h?void 0:h.remaining_time_to_open)),2),S=b[0],k=b[1],x=m(i.useState(!0),2),P=x[0],E=x[1],C=(0,l.usePrevious)(s);i.useEffect((function(){if(!r||r&&(0,y.pp)(e,s)&&C){E(!0);var t=function(){var e=g(regeneratorRuntime.mark((function e(r,n){var o,i,a,l,p,f,d,h,y,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r>7)){e.next=2;break}return e.abrupt("return",{});case 2:return i=u()(new Date).add(r,"days"),e.next=5,v(i.format("YYYY-MM-DD"));case 5:if((a=e.sent).api_initial_load_error){e.next=25;break}if(l=w(n,a.trading_times),p=l.times,f=p.open,d=p.close,1!==(null==f?void 0:f.length)||"--"!==f[0]||"--"!==d[0]){e.next=12;break}return e.abrupt("return",t(r+1,n));case 12:h=i.toISOString().substring(0,11),y=function(t){return new Date("".concat(h).concat(t,"Z"))},m=0;case 15:if(!(m<(null==f?void 0:f.length))){e.next=24;break}if(!(+y(f[m])-Date.now()>0)){e.next=21;break}if(o=+y(f[m]),!c()||n!==s){e.next=21;break}return e.abrupt("return",_({days_offset:r,opening_time:f[m],remaining_time_to_open:o}));case 21:m++,e.next=15;break;case 24:t(r+1,n);case 25:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();t(0,s)}}),[s]),i.useEffect((function(){var t;return null!=h&&h.remaining_time_to_open&&(t=setTimeout((function(){k(O(h.remaining_time_to_open)),new Date(h.remaining_time_to_open)-+new Date<1e3&&(E(!0),r&&a(!1))}),1e3)),function(){t&&clearTimeout(t)}}),[S,h]),i.useEffect((function(){P||n(!1)}),[P]);var j="";if(Object.keys(S).length){var D=(24*S.days+S.hours).toString().padStart(2,"0"),T=S.minutes.toString().padStart(2,"0"),M=S.seconds.toString().padStart(2,"0");j="".concat(D,":").concat(T,":").concat(M)}if(!h||!j)return null;var A=h.opening_time,R=h.days_offset,N=null;if(A){var z=u()(new Date).add(R,"days"),L=u()(A,"HH:mm"),I=L.format("HH"),U=L.format("mm"),F=Number(I)>11?"".concat(Number(I)%12,":").concat(U," pm"):"".concat(Number(I),":").concat(U," am"),Y=z.format("DD MMM YYYY"),H=z.format("dddd");N=i.createElement(l.Text,{align:"center",as:"p",className:"market-is-closed-overlay__open-date",line_height:"m",color:"prominent",size:r?"s":"xs",weight:"bold"},i.createElement(f.Localize,{i18n_default_text:"{{formatted_opening_time}} (GMT) on {{opening_day}},<0></0> {{opening_date}}.",components:[i.createElement("br",{key:0})],values:{formatted_opening_time:F,opening_day:H,opening_date:Y}}))}return P&&E(!1),i.createElement(i.Fragment,null,i.createElement(l.Text,{as:"p",className:o()("market-is-closed-overlay__open-at",{"market-is-closed-overlay__open-at--main-page":r}),line_height:"x",size:r?"xs":"xxs"},i.createElement(f.Localize,{i18n_default_text:"It will reopen at"})),N,i.createElement(l.Text,{align:"center",as:"p",className:o()("market-is-closed-overlay__come-back",{"market-is-closed-overlay__come-back--main-page":r}),line_height:"x",size:r?"xs":"xxs"},i.createElement(f.Localize,{i18n_default_text:"Please come back in"})),i.createElement(l.Text,{as:"p",className:o()("market-is-closed-overlay__timer",{"market-is-closed-overlay__timer--main-page":r}),line_height:"m",color:"prominent",size:r?"s":"xs",weight:"bold"},j),i.createElement("div",{className:"market-is-closed-overlay__separator"}))};S.propTypes={is_main_page:s().bool,setIsTimerLoading:s().func,onMarketOpen:s().func,symbol:s().string.isRequired};const k=(0,h.$j)((function(t){return{active_symbols:t.modules.trade.active_symbols}}))(S)},"./App/Components/Routes/helpers.js":(t,e,r)=>{"use strict";r.d(e,{AH:()=>i,U_:()=>a,uT:()=>s});var n=r("react-router"),o=r("@deriv/shared"),i=function(t){return/^\//.test(t)?t:"/".concat(t||"")},a=function t(e,r){var o;return r.some((function(r){var i;try{i=(0,n.matchPath)(e,r)}catch(t){if(/undefined/.test(t.message))return}return i?(o=r,!0):!!r.routes&&(o=t(e,r.routes))})),o},s=function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t.replace(":".concat(r),e[r])}),t)}(o.routes.contract,{contract_id:t})}},"./Constants/contract.js":(t,e,r)=>{"use strict";r.d(e,{gk:()=>c,lA:()=>u,n2:()=>l,NC:()=>p,FT:()=>f,h8:()=>d,ng:()=>h});var n=r("react"),o=r("@deriv/translations");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=function(){return{APPLY:(0,o.localize)("Apply"),STAKE:(0,o.localize)("Stake:"),CLOSE:(0,o.localize)("Close"),CANCEL:(0,o.localize)("Cancel"),CURRENT_STAKE:(0,o.localize)("Current stake:"),DEAL_CANCEL_FEE:(0,o.localize)("Deal cancel. fee:"),TAKE_PROFIT:(0,o.localize)("Take profit:"),BUY_PRICE:(0,o.localize)("Buy price:"),STOP_LOSS:(0,o.localize)("Stop loss:"),TOTAL_PROFIT_LOSS:(0,o.localize)("Total profit/loss:"),PROFIT_LOSS:(0,o.localize)("Profit/Loss:"),POTENTIAL_PROFIT_LOSS:(0,o.localize)("Potential profit/loss:"),INDICATIVE_PRICE:(0,o.localize)("Indicative price:"),PAYOUT:(0,o.localize)("Sell price:"),PURCHASE_PRICE:(0,o.localize)("Buy price:"),POTENTIAL_PAYOUT:(0,o.localize)("Payout limit:"),TICK:(0,o.localize)("Tick "),WON:(0,o.localize)("Won"),LOST:(0,o.localize)("Lost"),DAYS:(0,o.localize)("days"),DAY:(0,o.localize)("day"),SELL:(0,o.localize)("Sell"),INCREMENT_VALUE:(0,o.localize)("Increment value"),DECREMENT_VALUE:(0,o.localize)("Decrement value"),TAKE_PROFIT_LOSS_NOT_AVAILABLE:(0,o.localize)("Take profit and/or stop loss are not available while deal cancellation is active."),DONT_SHOW_THIS_AGAIN:(0,o.localize)("Don't show this again"),RESALE_NOT_OFFERED:(0,o.localize)("Resale not offered"),NOT_AVAILABLE:(0,o.localize)("N/A")}},u=function(){return{FRXAUDCAD:(0,o.localize)("AUD/CAD"),FRXAUDCHF:(0,o.localize)("AUD/CHF"),FRXAUDJPY:(0,o.localize)("AUD/JPY"),FRXAUDNZD:(0,o.localize)("AUD/NZD"),FRXAUDPLN:(0,o.localize)("AUD/PLN"),FRXAUDUSD:(0,o.localize)("AUD/USD"),FRXBROUSD:(0,o.localize)("Oil/USD"),FRXEURAUD:(0,o.localize)("EUR/AUD"),FRXEURCAD:(0,o.localize)("EUR/CAD"),FRXEURCHF:(0,o.localize)("EUR/CHF"),FRXEURGBP:(0,o.localize)("EUR/GBP"),FRXEURJPY:(0,o.localize)("EUR/JPY"),FRXEURNZD:(0,o.localize)("EUR/NZD"),FRXEURUSD:(0,o.localize)("EUR/USD"),FRXGBPAUD:(0,o.localize)("GBP/AUD"),FRXGBPCAD:(0,o.localize)("GBP/CAD"),FRXGBPCHF:(0,o.localize)("GBP/CHF"),FRXGBPJPY:(0,o.localize)("GBP/JPY"),FRXGBPNOK:(0,o.localize)("GBP/NOK"),FRXGBPUSD:(0,o.localize)("GBP/USD"),FRXNZDJPY:(0,o.localize)("NZD/JPY"),FRXNZDUSD:(0,o.localize)("NZD/USD"),FRXUSDCAD:(0,o.localize)("USD/CAD"),FRXUSDCHF:(0,o.localize)("USD/CHF"),FRXUSDJPY:(0,o.localize)("USD/JPY"),FRXUSDNOK:(0,o.localize)("USD/NOK"),FRXUSDPLN:(0,o.localize)("USD/PLN"),FRXUSDSEK:(0,o.localize)("USD/SEK"),FRXXAGUSD:(0,o.localize)("Silver/USD"),FRXXAUUSD:(0,o.localize)("Gold/USD"),FRXXPDUSD:(0,o.localize)("Palladium/USD"),FRXXPTUSD:(0,o.localize)("Platinum/USD"),OTC_AEX:(0,o.localize)("Dutch Index"),OTC_AS51:(0,o.localize)("Australian Index"),OTC_DJI:(0,o.localize)("Wall Street Index"),OTC_FCHI:(0,o.localize)("French Index"),OTC_FTSE:(0,o.localize)("UK Index"),OTC_GDAXI:(0,o.localize)("German Index"),OTC_HSI:(0,o.localize)("Hong Kong Index"),OTC_IBEX35:(0,o.localize)("Spanish Index"),OTC_N225:(0,o.localize)("Japanese Index"),OTC_NDX:(0,o.localize)("US Tech Index"),OTC_SPC:(0,o.localize)("US Index"),OTC_SSMI:(0,o.localize)("Swiss Index"),OTC_SX5E:(0,o.localize)("Euro 50 Index"),R_10:(0,o.localize)("Volatility 10 Index"),R_25:(0,o.localize)("Volatility 25 Index"),R_50:(0,o.localize)("Volatility 50 Index"),R_75:(0,o.localize)("Volatility 75 Index"),R_100:(0,o.localize)("Volatility 100 Index"),BOOM500:(0,o.localize)("Boom 500 Index"),BOOM1000:(0,o.localize)("Boom 1000 Index"),CRASH500:(0,o.localize)("Crash 500 Index"),CRASH1000:(0,o.localize)("Crash 1000 Index"),RDBEAR:(0,o.localize)("Bear Market Index"),RDBULL:(0,o.localize)("Bull Market Index"),STPRNG:(0,o.localize)("Step Index"),WLDAUD:(0,o.localize)("AUD Index"),WLDEUR:(0,o.localize)("EUR Index"),WLDGBP:(0,o.localize)("GBP Index"),WLDUSD:(0,o.localize)("USD Index"),"1HZ10V":(0,o.localize)("Volatility 10 (1s) Index"),"1HZ100V":(0,o.localize)("Volatility 100 (1s) Index"),CRYBCHUSD:(0,o.localize)("BCH/USD"),CRYBNBUSD:(0,o.localize)("BNB/USD"),CRYBTCLTC:(0,o.localize)("BTC/LTC"),CRYIOTUSD:(0,o.localize)("IOT/USD"),CRYNEOUSD:(0,o.localize)("NEO/USD"),CRYOMGUSD:(0,o.localize)("OMG/USD"),CRYTRXUSD:(0,o.localize)("TRX/USD"),CRYBTCETH:(0,o.localize)("BTC/ETH"),CRYZECUSD:(0,o.localize)("ZEC/USD"),CRYXMRUSD:(0,o.localize)("ZMR/USD"),CRYXMLUSD:(0,o.localize)("XLM/USD"),CRYXRPUSD:(0,o.localize)("XRP/USD"),CRYBTCUSD:(0,o.localize)("BTC/USD"),CRYDSHUSD:(0,o.localize)("DSH/USD"),CRYETHUSD:(0,o.localize)("ETH/USD"),CRYEOSUSD:(0,o.localize)("EOS/USD"),CRYLTCUSD:(0,o.localize)("LTC/USD")}},l=function(){return{EXPIRYMISS:{name:n.createElement(o.Localize,{i18n_default_text:"Ends Outside"}),position:"top"},EXPIRYRANGE:{name:n.createElement(o.Localize,{i18n_default_text:"Ends Between"}),position:"bottom"},RANGE:{name:n.createElement(o.Localize,{i18n_default_text:"Stays Between"}),position:"top"},UPORDOWN:{name:n.createElement(o.Localize,{i18n_default_text:"Goes Outside"}),position:"bottom"},RESETCALL:{name:n.createElement(o.Localize,{i18n_default_text:"Reset Call"}),position:"top"},RESETPUT:{name:n.createElement(o.Localize,{i18n_default_text:"Reset Put"}),position:"bottom"},TICKHIGH:{name:n.createElement(o.Localize,{i18n_default_text:"High Tick"}),position:"top"},TICKLOW:{name:n.createElement(o.Localize,{i18n_default_text:"Low Tick"}),position:"bottom"},ASIANU:{name:n.createElement(o.Localize,{i18n_default_text:"Asian Up"}),position:"top"},ASIAND:{name:n.createElement(o.Localize,{i18n_default_text:"Asian Down"}),position:"bottom"},LBFLOATCALL:{name:n.createElement(o.Localize,{i18n_default_text:"Close-to-Low"}),position:"top"},LBFLOATPUT:{name:n.createElement(o.Localize,{i18n_default_text:"High-to-Close"}),position:"top"},LBHIGHLOW:{name:n.createElement(o.Localize,{i18n_default_text:"High-to-Low"}),position:"top"},CALLSPREAD:{name:n.createElement(o.Localize,{i18n_default_text:"Spread Up"}),position:"top"},PUTSPREAD:{name:n.createElement(o.Localize,{i18n_default_text:"Spread Down"}),position:"bottom"},RUNHIGH:{name:n.createElement(o.Localize,{i18n_default_text:"Only Ups"}),position:"top"},RUNLOW:{name:n.createElement(o.Localize,{i18n_default_text:"Only Downs"}),position:"bottom"}}},p=function(t){return{CALL:{name:t?n.createElement(o.Localize,{i18n_default_text:"Higher"}):n.createElement(o.Localize,{i18n_default_text:"Rise"}),position:"top"},PUT:{name:t?n.createElement(o.Localize,{i18n_default_text:"Lower"}):n.createElement(o.Localize,{i18n_default_text:"Fall"}),position:"bottom"},CALLE:{name:n.createElement(o.Localize,{i18n_default_text:"Rise"}),position:"top"},PUTE:{name:n.createElement(o.Localize,{i18n_default_text:"Fall"}),position:"bottom"},DIGITMATCH:{name:n.createElement(o.Localize,{i18n_default_text:"Matches"}),position:"top"},DIGITDIFF:{name:n.createElement(o.Localize,{i18n_default_text:"Differs"}),position:"bottom"},DIGITEVEN:{name:n.createElement(o.Localize,{i18n_default_text:"Even"}),position:"top"},DIGITODD:{name:n.createElement(o.Localize,{i18n_default_text:"Odd"}),position:"bottom"},DIGITOVER:{name:n.createElement(o.Localize,{i18n_default_text:"Over"}),position:"top"},DIGITUNDER:{name:n.createElement(o.Localize,{i18n_default_text:"Under"}),position:"bottom"},ONETOUCH:{name:n.createElement(o.Localize,{i18n_default_text:"Touch"}),position:"top"},NOTOUCH:{name:n.createElement(o.Localize,{i18n_default_text:"No Touch"}),position:"bottom"},MULTUP:{name:n.createElement(o.Localize,{i18n_default_text:"Up"}),position:"top"},MULTDOWN:{name:n.createElement(o.Localize,{i18n_default_text:"Down"}),position:"bottom"}}},f=function(t){return a(a({},p(t)),l())},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f(e)[t]?f(e)[t.toUpperCase()].name:""},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f(e)[t]?f(e)[t.toUpperCase()].position:"top"}},"./Constants/index.js":(t,e,r)=>{"use strict";r.d(e,{FT:()=>n.FT,lA:()=>n.lA,NC:()=>n.NC,n2:()=>n.n2});var n=r("./Constants/contract.js")},"./Modules/Contract/Components/Digits/index.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>U});var n=r("../../../node_modules/classnames/index.js"),o=r.n(n),i=r("../../../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("mobx"),u=r("@deriv/components"),l=r("@deriv/shared"),p=r("@deriv/translations"),f=r("./Stores/Modules/Contract/Helpers/logic.js"),d=r("./App/Components/Animations/index.js"),h=r("./Constants/index.js"),y=function(t){var e=t.current_spot,r=t.is_selected_winning,n=t.is_lost,i=t.is_won;return s.createElement(s.Fragment,null,s.createElement(u.Text,{size:"xs",align:"center",weight:"bold",className:"digits__digit-spot-value"},e.slice(0,-1)),s.createElement("span",{className:o()("digits__digit-spot-last",{"digits__digit-spot-last--selected-win":r,"digits__digit-spot-last--win":i,"digits__digit-spot-last--loss":n})},e.slice(-1)))};y.propTypes={current_spot:a().string,is_lost:a().bool,is_won:a().bool};const m=y;var _=r("mobx-react"),b=function(t){var e=t.is_latest,r=t.is_lost,n=t.is_selected,i=t.is_won,a=t.percentage,c=t.value,u=a&&!isNaN(a)?parseFloat(a).toFixed(1):null;return s.createElement(s.Fragment,null,s.createElement("span",{className:o()("digits__digit-value",{"digits__digit-value--latest":e,"digits__digit-value--selected":n,"digits__digit-value--win":i&&e,"digits__digit-value--loss":r&&e})},s.createElement("i",{className:o()("digits__digit-display-value",{"digits__digit-display-value--no-stats":!u})},c),!!u&&s.createElement("i",{className:"digits__digit-display-percentage"},u,"%")))};b.propTypes={is_latest:a().bool,is_lost:a().bool,is_selected:a().bool,is_trade_page:a().bool,is_won:a().bool,value:a().number};const g=b;var v=function(t){var e=t.is_max,r=t.is_min,n=t.is_selected,i=t.percentage,a=(i-10)/4;a=((a=Math.min(Math.max(a,-1),1))+1)/2*.85+.15;var c=339.292,u=(20*i-102)/3/100;return u=Math.max(Math.min(u,.66),.06),s.createElement("div",{className:o()("digits__pie-container",{"digits__pie-container--selected":n})},s.createElement("svg",{className:"digits__pie-progress",width:"120",height:"120",viewBox:"0 0 120 120"},s.createElement("circle",{className:"progress__bg",cx:"60",cy:"60",r:"54",fill:"none",stroke:"#E8EEFC",strokeWidth:"12"}),i&&s.createElement("circle",{className:o()("progress__value",{"progress__value--is-max":e,"progress__value--is-min":r}),cx:"60",cy:"60",r:"54",fill:"none",strokeOpacity:e||r?1:a,strokeWidth:"12",strokeDasharray:[c*u,c*(1-u)],strokeDashoffset:c*((u+1)/2)})))};v.propTypes={is_max:a().bool,is_min:a().bool,percentage:a().number};const w=v;var O=function(t){var e=t.barrier,r=t.is_digit_contract,n=t.has_entry_spot,i=t.is_lost,a=t.is_max,c=t.is_min,p=t.is_won,f=t.onSelect,h=t.latest_digit,y=t.selected_digit,_=t.status,b=t.stats,v=t.value,O=t.onLastDigitSpot,S=h.digit,k=h.spot,x=v===S,P=v===e,E=S===e,C=b?100*b/1e3:null;s.useEffect((function(){O&&O({spot:k,is_lost:i,is_selected_winning:E,is_latest:x,is_won:p})}),[h,k,e,v,i,E,x,p,O]);var j=(0,l.isMobile)()&&"function"==typeof f&&!_,D=(0,l.isMobile)()&&v===y&&!_;return s.createElement("div",{className:o()("digits__digit",{"digits__digit--latest":x,"digits__digit--win":p&&x,"digits__digit--loss":i&&x,"digits__digit--is-selectable":j,"digits__digit--is-selected":D}),onClick:function(){j&&f(v)}},s.createElement(w,{is_min:c,is_max:a,is_selected:P,percentage:C}),s.createElement(u.DesktopWrapper,null,s.createElement(d.s,{is_visible:!!(r&&x&&k&&_&&n),className:"digits__digit-spot",keyname:"digits__digit-spot"},s.createElement(m,{current_spot:k,is_lost:i,is_selected_winning:E,is_visible:!(!x||!k),is_won:p}))),s.createElement(g,{is_latest:x,is_lost:i,is_selected:P,is_won:p,percentage:C,value:v}))};O.propTypes={barrier:a().number,has_entry_spot:a().bool,is_lost:a().bool,is_won:a().bool,latest_digit:a().object,value:a().number};const S=(0,_.observer)(O);var k=function(t){var e=t.is_lost,r=t.is_trade_page,n=t.is_won,i=t.position;return s.createElement(s.Fragment,null,!!i&&s.createElement("span",{className:"digits__pointer",style:{transform:"translate3d(calc(".concat(i.left,"px), ").concat(i.top,"px, 0px)")}},s.createElement(u.Icon,{icon:"IcProfit",className:o()("digits__icon",{"digits__icon--win":n&&!r,"digits__icon--loss":e&&!r}),color:n?"green":"red",custom_color:n||e?void 0:"var(--brand-orange)"})))};k.propTypes={is_lost:a().bool,is_won:a().bool,position:a().object};const x=k;function P(t){return function(t){if(Array.isArray(t))return j(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||C(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||C(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){if(t){if("string"==typeof t)return j(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(t,e):void 0}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var D=Array.from(Array(10).keys()),T=function(t){var e=t.barrier,r=t.contract_type,n=t.digits,i=t.digits_info,a=t.dimension,c=t.is_digit_contract,u=t.has_entry_spot,p=t.is_ended,f=t.is_trade_page,d=t.onDigitChange,h=t.onLastDigitSpot,y=t.selected_digit,m=t.status,_=t.tick,b=t.trade_type,g=E(s.useState({0:{left:6,top:0},1:{left:6+1*a,top:0},2:{left:6+2*a,top:0},3:{left:6+3*a,top:0},4:{left:6+4*a,top:0},5:{left:6+5*a,top:0},6:{left:6+6*a,top:0},7:{left:6+7*a,top:0},8:{left:6+8*a,top:0},9:{left:6+9*a,top:0}}),1)[0],v=E(s.useState({0:{left:6,top:-60},1:{left:6+1*a,top:-60},2:{left:6+2*a,top:-60},3:{left:6+3*a,top:-60},4:{left:6+4*a,top:-60},5:{left:6+0*a,top:8},6:{left:6+1*a,top:8},7:{left:6+2*a,top:8},8:{left:6+3*a,top:8},9:{left:6+4*a,top:8}}),1)[0],w=function(t){k()&&t!==y&&"function"==typeof d&&d({target:{name:"last_digit",value:t}})},O=function(){return(0,l.isMobile)()?v:g},k=function(){return!!(0,l.isMobile)()&&"even_odd"!==b},C=Object.keys(i).sort().map((function(t){return i[t]})).slice(-1)[0]||{},j=p&&"won"===m&&c,T=p&&"lost"===m&&c,M=n?Math.min.apply(Math,P(n)):null,A=n?Math.max.apply(Math,P(n)):null,R=_?+_.pip_size:null,N=_&&_.ask?_.ask.toFixed(R):null,z=N?+N.split("").pop():null,L=_?O()[z]:O()[C.digit],I=j||T?C:{digit:z,spot:N};return s.createElement("div",{className:o()("digits",{"digits--trade":f})},D.map((function(t){return s.createElement(S,{barrier:(o=t,i={DIGITMATCH:function(t){return t===e},DIGITDIFF:function(t){return t!==e&&!isNaN(e)},DIGITOVER:function(t){return t>e},DIGITUNDER:function(t){return t<e},DIGITODD:function(t){return t%2},DIGITEVEN:function(t){return!(t%2)}},r&&i[r]&&i[r](o)?o:null),has_entry_spot:u,is_digit_contract:c,is_lost:T,is_trade_page:f,is_won:j,key:t,is_max:n?n[t]===A:null,is_min:n?n[t]===M:null,stats:n?n[t]:null,status:m,latest_digit:f?I:C,value:t,onLastDigitSpot:h,onSelect:k()?w:null,selected_digit:!!k()&&y});var o,i})),s.createElement(x,{is_lost:T,is_trade_page:f,is_won:j,position:L}))};T.propTypes={barrier:a().number,contract_type:a().string,digits_info:a().object,is_ended:a().bool,status:a().string,trade_type:a().string,onDigitChange:a().func,selected_digit:a().number};const M=(0,_.observer)(T);function A(){return(A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var L=function(t){var e=t.contract_info,r=t.digits_array,n=t.digits_info,o=t.display_status,i=t.is_digit_contract,a=t.is_ended,u=t.is_trade_page,p=t.onDigitChange,d=t.selected_digit,h=t.trade_type,y=t.onChangeStatus,m=z(t,["contract_info","digits_array","digits_info","display_status","is_digit_contract","is_ended","is_trade_page","onDigitChange","selected_digit","trade_type","onChangeStatus"]),_=e.date_start,b=m.tick,g=!u||!!b,v=!!u&&(0,f.xF)(e,b),w=!v&&g?o:null;if(_&&!v){b=null;var O=e.tick_stream;if(O&&O.length){var S=(0,c.toJS)(O.slice(-1)[0]);b={ask:S.tick,bid:S.tick,epoch:S.epoch,pip_size:S.tick_display_value.split(".")[1].length,current_tick:O.length}}}return s.useEffect((function(){y&&y({status:w,current_tick:b?b.current_tick:null})}),[b,u,o,y,w]),s.createElement(M,{dimension:(0,l.isMobile)()?64:52,has_entry_spot:!!e.entry_tick,barrier:!v&&g?+e.barrier:null,contract_type:!v&&g?e.contract_type:null,digits:r,digits_info:!v&&g?n:{},is_digit_contract:i,is_ended:a,is_trade_page:u,status:w,tick:b,trade_type:h,onDigitChange:p,selected_digit:d,onLastDigitSpot:m.onLastDigitSpot})},I=s.memo((function(t){var e,r=R(s.useState(),2),n=r[0],i=r[1],a=R(s.useState(),2),c=a[0],f=a[1],y=R(s.useState(),2),_=y[0],b=y[1],g=R(s.useState(),2),v=g[0],w=g[1],O=R(s.useState(),2),S=O[0],k=O[1],x=R(s.useState(),2),P=x[0],E=x[1],C=R(s.useState(),2),j=C[0],D=C[1],T=(0,l.useIsMounted)(),M=t.contract_info,N=t.digits_array,z=t.is_digit_contract,I=t.is_trade_page,U=t.underlying;return s.createElement(s.Fragment,null,s.createElement(u.DesktopWrapper,null,s.createElement(d.o,{is_visible:(N||z)&&T(),className:"digits__container",keyname:"digits",type:"bottom"},I&&s.createElement("div",{className:"digits__tooltip-container"},s.createElement(u.Popover,{alignment:"top",classNameBubble:"digits__tooltip-bubble",icon:"info",id:"dt_last_digits_info_tooltip",margin:4,message:(e=I?U:M.underlying,(0,p.localize)("Last digit stats for latest 1000 ticks for {{underlying_name}}",{underlying_name:(0,h.lA)()[e.toUpperCase()]}))})),s.createElement(L,t))),s.createElement(u.MobileWrapper,null,s.createElement("div",{className:"digits__container"},s.createElement(d.s,{is_visible:!!(z&&n&&_&&M.entry_tick),className:o()("digits__digit-spot",{"digits__digit-spot--is-trading":I}),keyname:"digits__digit-spot"},I&&s.createElement("span",{className:"digits__digit-spot-value"},s.createElement(p.Localize,{i18n_default_text:"Tick {{current_tick}} - ",values:{current_tick:c}})),s.createElement(m,{current_spot:_,is_lost:j,is_selected_winning:v,is_visible:!(!S||!_),is_won:P})),s.createElement(L,A({},t,{onChangeStatus:function(t){i(t.status),f(t.current_tick)},onLastDigitSpot:function(t){b(t.spot),D(t.is_lost),w(t.is_selected_winning),k(t.is_latest),E(t.is_won)}})))))}));I.displayName="Digits",I.propTypes={contract_info:a().object,digits_info:a().object,display_status:a().string,is_digit_contract:a().bool,is_ended:a().bool,is_trade_page:a().bool,trade_type:a().string,onDigitChange:a().func,selected_digit:a().number};const U=I},"./Modules/Page404/index.js":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>s});var n=r("react"),o=r("@deriv/components"),i=r("@deriv/shared"),a=r("@deriv/translations");const s=function(){return n.createElement(o.PageError,{header:(0,a.localize)("We couldnt find that page"),messages:[(0,a.localize)("You may have followed a broken link, or the page has moved to a new address."),(0,a.localize)("Error Code: {{error_code}} page not found",{error_code:404})],redirect_urls:[i.routes.trade],redirect_labels:[(0,a.localize)("Return to Trade")],classNameImage:"page-404__image",image_url:(0,i.getUrlBase)("/public/images/common/404.png")})}},"./Modules/Reports/Helpers/market-underlying.js":(t,e,r)=>{"use strict";r.d(e,{cS:()=>i,lA:()=>a,ti:()=>s,yu:()=>c});var n=r("./Constants/index.js"),o=r("@deriv/translations"),i=function(t){var e={category:"",underlying:""},r=new RegExp("^([A-Z]+)_((1HZ[0-9-V]+)|((CRASH|BOOM)[0-9\\d]+)|(OTC_[A-Z0-9]+)|R_[\\d]{2,3}|[A-Z]+)").exec(t);return null!==r&&(e.category=r[1].toLowerCase(),e.underlying=r[2]),e},a=function(t){return t?(0,n.lA)()[t.toUpperCase()]:null},s=function(t){return t?(0,n.FT)()[t.toUpperCase()].name:null},c=function(t,e){if(/^MULTUP|MULTDOWN/.test(e))return"";var r=new RegExp("ticks|tick|seconds|minutes|minute|hour|hours").exec(t);if(null!==r){var n=r[0],i=n[0].toUpperCase()+n.slice(1);return i.endsWith("s")?i:"".concat(i,"s")}return(0,o.localize)("Days")}},"./Modules/SmartChart/Components/bottom-widgets.jsx":(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r("../../../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=function(t){var e=t.Digits;return i.createElement("div",{className:"bottom-widgets"},e)};a.propTypes={Digits:o().node};const s=a},"./Modules/SmartChart/Components/top-widgets.jsx":(t,e,r)=>{"use strict";r.d(e,{Z:()=>y});var n=r("../../../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("react-dom"),s=r.n(a),c=r("@deriv/components"),u=r("@deriv/translations"),l=r("@deriv/shared"),p=r("./Stores/connect.js"),f=r("./Modules/SmartChart/index.js"),d=(0,p.$j)((function(t){var e=t.modules;return{granularity:e.contract_trade.granularity,markers_array:e.contract_trade.markers_array}}))((function(t){var e=t.markers_array,r=t.granularity,n=e[e.length-1];if(!n||!n.contract_info.tick_stream)return null;if((0,l.isEnded)(n.contract_info)||0!==r)return null;var o=n.contract_info,a=o.contract_type,s=o.tick_stream,p=o.tick_count,f=(0,l.isDigitContract)(a)?s.length:Math.max(s.length-1,0);return i.createElement(c.Text,{weight:"bold",className:"recent-trade-info"},(0,u.localize)("Tick")," ",f,"/",p)})),h=function(t){var e=t.InfoBox,r=t.is_mobile,n=t.is_title_enabled,o=void 0===n||n,a=t.onSymbolChange,u=t.y_axis_width,l=t.theme,p=t.open_market,h=t.open,y=t.is_digits_widget_active,m=i.createElement(f.oP,{open_market:p,open:h,enabled:o,onChange:a,searchInputClassName:"data-hj-whitelist",isNestedList:r,portalNodeId:r?"deriv_app":void 0}),_=s().createPortal(i.createElement("div",{className:"smartcharts-".concat(l)},i.createElement("div",{className:"top-widgets-portal",style:{width:"calc(100% - ".concat(u?u+5:0,"px)")}},m,!y&&i.createElement(d,null))),document.getElementById("app_contents"));return i.createElement(i.Fragment,null,e,i.createElement(c.MobileWrapper,null,_),i.createElement(c.DesktopWrapper,null,m))};h.propTypes={InfoBox:o().node,is_mobile:o().bool,is_title_enabled:o().bool,onSymbolChange:o().func};const y=h},"./Modules/SmartChart/index.js":(t,e,r)=>{"use strict";r.d(e,{Xb:()=>s,oP:()=>c,oY:()=>u,NU:()=>l,mB:()=>p,as:()=>f,kO:()=>d,av:()=>h,KW:()=>y,If:()=>m});var n=r("react"),o=r("@deriv/shared"),i=Promise.resolve().then(r.t.bind(r,"@deriv/deriv-charts",23));i.then((function(t){(0,t.setSmartChartsPublicPath)((0,o.getUrlBase)("/js/smartcharts/"))}));var a=function(t){return function(){return i.then((function(e){return{default:e[t]}}))}},s=n.lazy(a("SmartChart")),c=n.lazy(a("ChartTitle")),u=(a("ChartSize"),n.lazy(a("ChartMode"))),l=n.lazy(a("DrawTools")),p=n.lazy(a("Share")),f=n.lazy(a("StudyLegend")),d=n.lazy(a("Views")),h=n.lazy(a("ToolbarWidget")),y=n.lazy(a("FastMarker")),m=n.lazy(a("RawMarker"))},"./Modules/Trading/Containers/toast-popup.jsx":(t,e,r)=>{"use strict";r.d(e,{a:()=>m,S:()=>b});var n=r("../../../node_modules/classnames/index.js"),o=r.n(n),i=r("../../../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("react-dom"),u=r.n(c),l=r("@deriv/components"),p=r("./Stores/connect.js");function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function y(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var m=function(t){var e=t.portal_id,r=void 0===e?"popup_root":e,n=t.children,i=t.className,a=y(t,["portal_id","children","className"]);return document.getElementById(r)?u().createPortal(s.createElement(l.Toast,h({className:o()("dc-toast-popup",i)},a),n),document.getElementById(r)):null},_=function(t){var e=t.status,r=t.portal_id,n=t.message,i=f(s.useState(!1),2),a=i[0],c=i[1];return document.getElementById(r)&&n?(a||"online"===e?a&&"online"===e&&setTimeout((function(){c(!1)}),1500):c(!0),u().createPortal(s.createElement(l.MobileWrapper,null,s.createElement(l.Toast,{className:o()({"dc-toast--blinker":"blinker"===e}),is_open:a,timeout:0,type:"error"},n)),document.getElementById(r))):null};_.propTypes={portal_id:a().string,status:a().string,message:a().string};var b=(0,p.$j)((function(t){return{network_status:t.common.network_status}}))((function(t){var e=t.network_status;return s.createElement(_,{portal_id:"popup_root",message:e.tooltip,status:e.class})}))},"./Modules/Trading/Helpers/digits.js":(t,e,r)=>{"use strict";r.d(e,{A:()=>i,H:()=>a});var n=["even_odd","match_diff","over_under"],o=["DIGITDIFF","DIGITMATCH","DIGITOVER","DIGITUNDER","DIGITEVEN","DIGITODD"],i=function(t){return n.includes(t)},a=function(t){return o.includes(t)}},"./Services/ws-methods.js":(t,e,r)=>{"use strict";var n;r.d(e,{WS:()=>n,g:()=>o});var o=function(t){n=t}},"./Stores/Modules/Contract/Helpers/contract-type.js":(t,e,r)=>{"use strict";r.d(e,{a:()=>n});var n=function(t){return"rise_fall"===t||"rise_fall_equal"===t||"high_low"===t}},"./Stores/Modules/Contract/Helpers/logic.js":(t,e,r)=>{"use strict";r.d(e,{f6:()=>c,aG:()=>p,xF:()=>h,$B:()=>y,z9:()=>m,NQ:()=>_,f:()=>b,W9:()=>g});var n=r("../../../node_modules/moment/moment.js"),o=r.n(n),i=r("@deriv/shared"),a=r("./_common/base/server_time.js"),s=r.n(a),c=function(t){if((0,i.isEmptyObject)(t))return null;var e=t.date_start,r=_(t),n=f(e,r||null),o=p(e,r||null);return{chart_type:t.tick_count?"mountain":o,granularity:t.tick_count?0:n,end_epoch:r,start_epoch:e,scroll_to_epoch:t.purchase_time}},u=[[1,0],[2,120],[6,600],[24,900],[120,3600],[720,14400]],l=function(t){return t||s().get().unix()},p=function(t,e){return o().duration(o().unix(l(e)).diff(o().unix(t))).asHours()<=1?"mountain":"candle"},f=function(t,e){return d(l(e)-t)},d=function(t){return(u.find((function(e){return t<=3600*e[0]}))||[null,86400])[1]},h=function(t,e){if((0,i.isEmptyObject)(e)||(0,i.isEmptyObject)(t))return!1;var r=_(t);return!(!r||!e.epoch)&&o().duration(o().unix(e.epoch).diff(o().unix(r))).asSeconds()>=2},y=function(t){return"cancelled"===t.status},m=function(t){return!!(t.cancellation.date_expiry<s().get().unix())},_=function(t){var e=t.exit_tick_time,r=t.date_expiry,n=t.is_expired,o=t.is_path_dependent,a=t.sell_time,s=t.status,c=t.tick_count;if(n&&"open"!==s||(0,i.isUserSold)(t)||y(t))return(0,i.isUserSold)(t)?a>r?r:a:!c&&a>r||r>e&&!+o?r:e},b=function(t){return t.contract_info.buy_price},g=function(t){var e=t.contract_update,r=t.limit_order,n=(0,i.getLimitOrderAmount)(r||e),o=n.stop_loss,a=n.take_profit;return{contract_update_stop_loss:o?Math.abs(o).toString():"",contract_update_take_profit:a?a.toString():"",has_contract_update_stop_loss:!!o,has_contract_update_take_profit:!!a}}},"./Stores/Modules/Contract/Helpers/multiplier.js":(t,e,r)=>{"use strict";r.d(e,{Lf:()=>a,Qu:()=>s,tP:()=>c});var n=r("./Stores/connect.js");function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=function(t){var e=!t.has_cancellation;(0,t.onChangeMultiple)(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({has_cancellation:e},e?{has_stop_loss:!1,has_take_profit:!1}:{cancellation_price:void 0}))},s=function(t){var e=t.event;(0,t.onChangeMultiple)({has_cancellation:!0,has_take_profit:!1,has_stop_loss:!1,cancellation_duration:e.target.value})},c=(0,n.$j)((function(t,e){!function(t){if(null==t)throw new TypeError("Cannot destructure undefined")}(t);var r=e.contract,n=void 0===r?{}:r;return{validation_errors:n.validation_errors,contract_update_take_profit:n.contract_update_take_profit,contract_update_stop_loss:n.contract_update_stop_loss,has_contract_update_take_profit:n.has_contract_update_take_profit,has_contract_update_stop_loss:n.has_contract_update_stop_loss}}))},"./Stores/Modules/MT5/Helpers/mt5-config.js":(t,e,r)=>{"use strict";r.d(e,{D:()=>o});var n=r("@deriv/translations"),o=function(){var t={account_type:"",leverage:500,short_title:(0,n.localize)("Synthetic")},e={account_type:"financial",leverage:1e3,short_title:(0,n.localize)("Financial")},r={account_type:"financial_stp",leverage:100,short_title:(0,n.localize)("Financial STP")};return{demo:{synthetic:{mt5_account_type:t.account_type,leverage:t.leverage,title:(0,n.localize)("Demo Synthetic"),short_title:t.short_title},financial:{mt5_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Demo Financial"),short_title:e.short_title},financial_stp:{mt5_account_type:r.account_type,leverage:r.leverage,title:(0,n.localize)("Demo Financial STP"),short_title:r.short_title}},real:{synthetic:{mt5_account_type:t.account_type,leverage:t.leverage,title:(0,n.localize)("Synthetic"),short_title:t.short_title},financial:{mt5_account_type:e.account_type,leverage:e.leverage,title:(0,n.localize)("Financial"),short_title:e.short_title},financial_stp:{mt5_account_type:r.account_type,leverage:r.leverage,title:(0,n.localize)("Financial STP"),short_title:r.short_title}}}}},"./Stores/Modules/MT5/mt5-store.js":(t,e,r)=>{"use strict";r.d(e,{default:()=>pt});var n,o,i,a,s,c,u,l,p,f,d,h,y,m,_,b,g,v,w,O,S,k,x,P,E,C,j,D,T,M,A,R,N,z,L,I,U,F,Y,H,V,B=r("mobx"),W=r("@deriv/shared"),G=r("./Services/ws-methods.js"),q=r("./Stores/base-store.js"),Z=r("./Stores/Modules/MT5/Helpers/mt5-config.js");function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function J(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){$(i,n,o,a,s,"next",t)}function s(t){$(i,n,o,a,s,"throw",t)}a(void 0)}))}}function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(r),!0).forEach((function(e){rt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function rt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nt(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ut(t);if(e){var o=ut(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return st(this,r)}}function st(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?ct(t):e}function ct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lt(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var pt=(n=B.action.bound,o=B.action.bound,i=B.action.bound,a=B.action.bound,s=B.action.bound,c=B.action.bound,u=B.action.bound,l=B.action.bound,p=B.action.bound,f=B.action.bound,d=B.action.bound,h=B.action.bound,y=B.action.bound,m=B.action.bound,_=B.action.bound,b=B.action.bound,g=B.action.bound,v=B.action.bound,w=B.action.bound,O=B.action.bound,S=B.action.bound,k=B.action.bound,x=B.action.bound,P=B.action.bound,E=B.action.bound,C=B.action.bound,V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(c,t);var e,r,n,o,i,a,s=at(c);function c(t){var e,r=t.root_store;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),nt(e=s.call(this,{root_store:r}),"is_compare_accounts_visible",D,ct(e)),nt(e,"account_type",T,ct(e)),nt(e,"new_account_response",M,ct(e)),nt(e,"map_type",A,ct(e)),nt(e,"has_mt5_error",R,ct(e)),nt(e,"error_message",N,ct(e)),nt(e,"is_mt5_success_dialog_enabled",z,ct(e)),nt(e,"is_mt5_financial_stp_modal_open",L,ct(e)),nt(e,"is_mt5_password_modal_enabled",I,ct(e)),nt(e,"is_mt5_reset_password_modal_enabled",U,ct(e)),nt(e,"is_mt5_pending_dialog_open",F,ct(e)),nt(e,"current_account",Y,ct(e)),nt(e,"error_type",H,ct(e)),e}return e=c,r=[{key:"has_mt5_account",get:function(){return this.current_list.length>0}},{key:"account_title",get:function(){return this.account_type.category?(0,Z.D)()[this.account_type.category][this.account_type.type].title:""}},{key:"current_list",get:function(){var t=[];return this.root_store.client.mt5_login_list.forEach((function(e){t[(0,W.getMT5AccountListKey)(e)]=et({},e)})),t}},{key:"mt5_companies",get:function(){return(0,Z.D)()}},{key:"onMount",value:function(){this.checkShouldOpenAccount(),this.onRealAccountSignupEnd(this.realAccountSignupEndListener),this.root_store.ui.is_mt5_page=!0}},{key:"onUnmount",value:function(){this.disposeRealAccountSignupEnd(),this.root_store.ui.is_mt5_page=!1}},{key:"checkShouldOpenAccount",value:function(){var t=sessionStorage.getItem("open_mt5_account_type");if(t){var e=K(t.split("."),3),r=e[0],n=e[1],o=e[2];this.createMT5Account({category:r,type:n,set_password:o}),sessionStorage.removeItem("open_mt5_account_type")}}},{key:"realAccountSignupEndListener",value:function(){var t=JSON.parse(sessionStorage.getItem("post_real_account_signup"));return t&&t.category&&t.type&&(sessionStorage.removeItem("post_real_account_signup"),this.enableMt5PasswordModal()),Promise.resolve()}},{key:"resetFormErrors",value:function(){this.error_message="",this.error_type=void 0,this.has_mt5_error=!1}},{key:"clearMt5Error",value:function(){this.resetFormErrors(),this.is_mt5_password_modal_enabled=!1}},{key:"createMT5Account",value:function(t){var e=t.category,r=t.type,n=t.set_password;this.clearMt5Error(),this.setAccountType({category:e,type:r}),"real"===e?this.realMt5Signup(n):this.demoMt5Signup()}},{key:"demoMt5Signup",value:function(){this.enableMt5PasswordModal()}},{key:"disableMt5PasswordModal",value:function(){this.is_mt5_password_modal_enabled=!1}},{key:"enableMt5PasswordModal",value:function(){this.is_mt5_password_modal_enabled=!0}},{key:"getName",value:function(){var t=(this.root_store.client.account_settings&&this.root_store.client.account_settings).first_name,e=this.mt5_companies[this.account_type.category][this.account_type.type].title;return t?[t,e].join(" "):e}},{key:"openAccount",value:function(t){var e=this.getName(),r=this.mt5_companies[this.account_type.category][this.account_type.type].leverage,n=(0,W.getAccountTypeFields)(this.account_type);return G.WS.mt5NewAccount(et(et({mainPassword:t.password,email:this.root_store.client.email_address,leverage:r,name:e},t.server?{server:t.server}:{}),n))}},{key:"beginRealSignupForMt5",value:function(){sessionStorage.setItem("post_real_account_signup",JSON.stringify(this.account_type)),this.root_store.ui.openRealAccountSignup()}},{key:"realMt5Signup",value:function(t){switch(this.account_type.type){case"financial":this.enableMt5PasswordModal();break;case"financial_stp":this.root_store.client.fetchResidenceList(),this.root_store.client.fetchStatesList(),this.root_store.client.fetchAccountSettings(),t?this.enableMt5PasswordModal():this.enableMt5FinancialStpModal();break;case"synthetic":this.enableMt5PasswordModal();break;default:throw new Error("Cannot determine mt5 account signup.")}}},{key:"enableMt5FinancialStpModal",value:function(){"real"===this.account_type.category&&"financial_stp"===this.account_type.type&&(this.is_mt5_financial_stp_modal_open=!0)}},{key:"setAccountType",value:function(t){this.account_type=t}},{key:"setCurrentAccount",value:function(t,e){this.current_account=et(et({},e),t)}},{key:"setError",value:function(t,e){var r;this.has_mt5_error=t,this.error_message=e?e.message:"",this.error_type=null!==(r=null==e?void 0:e.code)&&void 0!==r?r:void 0}},{key:"setMt5Account",value:function(t){this.new_account_response=t}},{key:"setMt5SuccessDialog",value:function(t){this.is_mt5_success_dialog_enabled=!!t}},{key:"storeProofOfAddress",value:function(t,e,r){var n=this,o=r.setStatus;return new Promise((function(r,i){o({msg:""}),n.setState({is_btn_loading:!0}),G.WS.setSettings(e).then((function(e){e.error?(o({msg:e.error.message}),i(e)):(n.root_store.fetchAccountSettings(),t.current.upload().then((function(t){t.warning?(o({msg:t.message}),i(t)):G.WS.authorized.storage.getAccountStatus().then((function(t){var e=t.error,n=t.get_account_status;e&&i(e);var o=n.authentication.identity,a=!(o&&"none"===o.status);r({identity:o,has_poi:a})}))})))}))}))}},{key:"submitMt5Password",value:(a=J(regeneratorRuntime.mark((function t(e,r){var n,o,i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.resetFormErrors(),t.next=3,this.openAccount(e);case 3:if((n=t.sent).error){t.next=24;break}return G.WS.authorized.storage.mt5LoginList().then(this.root_store.client.responseMt5LoginList),r.setStatus({success:!0}),r.setSubmitting(!1),this.setError(!1),this.setMt5SuccessDialog(!0),G.WS.transferBetweenAccounts(),t.t0=this.root_store.client,t.next=14,G.WS.tradingServers();case 14:return t.t1=t.sent,t.t0.responseTradingServers.call(t.t0,t.t1),t.next=18,G.WS.getAccountStatus();case 18:o=t.sent,i=o.get_account_status,this.root_store.client.setAccountStatus(i),(0,B.runInAction)((function(){a.setMt5Account(n.mt5_new_account)})),t.next=28;break;case 24:this.setError(!0,n.error),r.resetForm({}),r.setSubmitting(!1),r.setStatus({success:!1});case 28:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"toggleCompareAccountsModal",value:function(){this.is_compare_accounts_visible=!this.is_compare_accounts_visible}},{key:"disableMt5FinancialStpModal",value:function(){this.is_mt5_financial_stp_modal_open=!1}},{key:"topUpVirtual",value:(i=J(regeneratorRuntime.mark((function t(){var e,r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.root_store.ui.setTopUpInProgress(!0),t.next=3,G.WS.authorized.mt5Deposit({to_mt5:this.current_account.login});case 3:if((e=t.sent).error){t.next=12;break}return t.next=7,G.WS.authorized.mt5LoginList().then(this.root_store.client.responseMt5LoginList);case 7:r=this.root_store.client.mt5_login_list.find((function(t){return t.login===n.current_account.login})).balance,(0,B.runInAction)((function(){n.root_store.ui.is_top_up_virtual_open=!1,n.current_account.balance=r})),setTimeout((function(){(0,B.runInAction)((function(){n.root_store.ui.is_top_up_virtual_success=!0}))}),250),t.next=13;break;case 12:console.error(e);case 13:this.root_store.ui.setTopUpInProgress(!1);case 14:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"closeMT5PendingDialog",value:function(){this.is_mt5_pending_dialog_open=!1}},{key:"openPendingDialog",value:function(){var t=this;setTimeout((0,B.runInAction)((function(){t.is_mt5_pending_dialog_open=!0})),300)}},{key:"sendVerifyEmail",value:function(){return G.WS.verifyEmail(this.root_store.client.email,"trading_platform_investor_password_reset")}},{key:"setMt5PasswordResetModal",value:function(t){this.is_mt5_reset_password_modal_enabled=!!t}}],n=[{key:"changePassword",value:(o=J(regeneratorRuntime.mark((function t(e){var r,n,o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.login,i=e.old_password,a=e.new_password,"investor"!==e.password_type){t.next=7;break}return t.next=4,G.WS.authorized.tradingPlatformInvestorPasswordChange({account_id:o,old_password:i,new_password:a,platform:"mt5"});case 4:s=t.sent,t.next=10;break;case 7:return t.next=9,G.WS.authorized.tradingPlatformPasswordChange({account_id:o,old_password:i,new_password:a,platform:"mt5"});case 9:s=t.sent;case 10:return t.abrupt("return",null===(r=s)||void 0===r||null===(n=r.error)||void 0===n?void 0:n.message);case 11:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})}],r&&ot(e.prototype,r),n&&ot(e,n),c}(q.Z),D=lt((j=V).prototype,"is_compare_accounts_visible",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=lt(j.prototype,"account_type",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{category:void 0,type:void 0}}}),M=lt(j.prototype,"new_account_response",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),A=lt(j.prototype,"map_type",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),R=lt(j.prototype,"has_mt5_error",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=lt(j.prototype,"error_message",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=lt(j.prototype,"is_mt5_success_dialog_enabled",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=lt(j.prototype,"is_mt5_financial_stp_modal_open",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=lt(j.prototype,"is_mt5_password_modal_enabled",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=lt(j.prototype,"is_mt5_reset_password_modal_enabled",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=lt(j.prototype,"is_mt5_pending_dialog_open",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=lt(j.prototype,"current_account",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),H=lt(j.prototype,"error_type",[B.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),lt(j.prototype,"has_mt5_account",[B.computed],Object.getOwnPropertyDescriptor(j.prototype,"has_mt5_account"),j.prototype),lt(j.prototype,"account_title",[B.computed],Object.getOwnPropertyDescriptor(j.prototype,"account_title"),j.prototype),lt(j.prototype,"current_list",[B.computed],Object.getOwnPropertyDescriptor(j.prototype,"current_list"),j.prototype),lt(j.prototype,"onMount",[n],Object.getOwnPropertyDescriptor(j.prototype,"onMount"),j.prototype),lt(j.prototype,"onUnmount",[o],Object.getOwnPropertyDescriptor(j.prototype,"onUnmount"),j.prototype),lt(j.prototype,"realAccountSignupEndListener",[i],Object.getOwnPropertyDescriptor(j.prototype,"realAccountSignupEndListener"),j.prototype),lt(j.prototype,"resetFormErrors",[a],Object.getOwnPropertyDescriptor(j.prototype,"resetFormErrors"),j.prototype),lt(j.prototype,"clearMt5Error",[s],Object.getOwnPropertyDescriptor(j.prototype,"clearMt5Error"),j.prototype),lt(j.prototype,"createMT5Account",[c],Object.getOwnPropertyDescriptor(j.prototype,"createMT5Account"),j.prototype),lt(j.prototype,"disableMt5PasswordModal",[u],Object.getOwnPropertyDescriptor(j.prototype,"disableMt5PasswordModal"),j.prototype),lt(j.prototype,"enableMt5PasswordModal",[l],Object.getOwnPropertyDescriptor(j.prototype,"enableMt5PasswordModal"),j.prototype),lt(j.prototype,"getName",[p],Object.getOwnPropertyDescriptor(j.prototype,"getName"),j.prototype),lt(j.prototype,"openAccount",[f],Object.getOwnPropertyDescriptor(j.prototype,"openAccount"),j.prototype),lt(j.prototype,"beginRealSignupForMt5",[d],Object.getOwnPropertyDescriptor(j.prototype,"beginRealSignupForMt5"),j.prototype),lt(j.prototype,"enableMt5FinancialStpModal",[h],Object.getOwnPropertyDescriptor(j.prototype,"enableMt5FinancialStpModal"),j.prototype),lt(j.prototype,"setAccountType",[y],Object.getOwnPropertyDescriptor(j.prototype,"setAccountType"),j.prototype),lt(j.prototype,"setCurrentAccount",[m],Object.getOwnPropertyDescriptor(j.prototype,"setCurrentAccount"),j.prototype),lt(j.prototype,"setError",[_],Object.getOwnPropertyDescriptor(j.prototype,"setError"),j.prototype),lt(j.prototype,"setMt5Account",[b],Object.getOwnPropertyDescriptor(j.prototype,"setMt5Account"),j.prototype),lt(j.prototype,"setMt5SuccessDialog",[g],Object.getOwnPropertyDescriptor(j.prototype,"setMt5SuccessDialog"),j.prototype),lt(j.prototype,"storeProofOfAddress",[v],Object.getOwnPropertyDescriptor(j.prototype,"storeProofOfAddress"),j.prototype),lt(j.prototype,"submitMt5Password",[w],Object.getOwnPropertyDescriptor(j.prototype,"submitMt5Password"),j.prototype),lt(j.prototype,"toggleCompareAccountsModal",[O],Object.getOwnPropertyDescriptor(j.prototype,"toggleCompareAccountsModal"),j.prototype),lt(j.prototype,"disableMt5FinancialStpModal",[S],Object.getOwnPropertyDescriptor(j.prototype,"disableMt5FinancialStpModal"),j.prototype),lt(j.prototype,"topUpVirtual",[k],Object.getOwnPropertyDescriptor(j.prototype,"topUpVirtual"),j.prototype),lt(j.prototype,"closeMT5PendingDialog",[x],Object.getOwnPropertyDescriptor(j.prototype,"closeMT5PendingDialog"),j.prototype),lt(j.prototype,"openPendingDialog",[P],Object.getOwnPropertyDescriptor(j.prototype,"openPendingDialog"),j.prototype),lt(j.prototype,"sendVerifyEmail",[E],Object.getOwnPropertyDescriptor(j.prototype,"sendVerifyEmail"),j.prototype),lt(j.prototype,"setMt5PasswordResetModal",[C],Object.getOwnPropertyDescriptor(j.prototype,"setMt5PasswordResetModal"),j.prototype),j)},"./Stores/Modules/Portfolio/Helpers/details.js":(t,e,r)=>{"use strict";r.d(e,{uZ:()=>a,BX:()=>s,H3:()=>c,Cc:()=>u});var n=r("@deriv/shared"),o=r("@deriv/translations"),i=function(t){return t%1!=0},a=function(){return{d:{name_plural:(0,o.localize)("days"),name_singular:(0,o.localize)("day")},h:{name_plural:(0,o.localize)("hours"),name_singular:(0,o.localize)("hour")},m:{name_plural:(0,o.localize)("minutes"),name_singular:(0,o.localize)("minute")},s:{name:(0,o.localize)("seconds")}}},s=function(t){var e=a(),r=t.asMilliseconds()/1e3;if(r){if(r>=864e5)return r/864e5<=2?e.d.name_singular:e.d.name_plural;if(r>=36e5&&r<864e5)return i(r/36e5)?"":36e5===r?e.h.name_singular:e.h.name_plural;if(r>=6e4&&r<36e5)return i(r/6e4)?"":6e4===r?e.m.name_singular:e.m.name_plural;if(r>=1e3&&r<6e4)return e.s.name}return e.s.name},c=function(t){return(0,n.getDiffDuration)((0,n.epochToMoment)(t.date_start||t.purchase_time),(0,n.epochToMoment)(t.date_expiry))},u=function(t){return t.tick_count?t.tick_count:function(t){var e=t.asMilliseconds()/1e3;if(e>=864e5){var r=e/864e5;return Math.floor(r)}if(e>=36e5&&e<864e5){var o=i(e/36e5),a=i(e/6e4)?"HH[h] mm[m] ss[s]":"HH[h] mm[m]";return o?(0,n.formatMiliseconds)(e,a):Math.floor(e/36e5)}return e>=6e4&&e<36e5?i(e/6e4)?(0,n.formatMiliseconds)(e,"mm[m] ss[s]"):Math.floor(e/6e4):Math.floor(e/1e3)}(c(t))}},"./Stores/Modules/Trading/Constants/contract.js":(t,e,r)=>{"use strict";r.d(e,{jK:()=>c,r2:()=>u,GF:()=>l,f:()=>p});var n=r("@deriv/translations"),o=r("@deriv/shared");function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var c=function(){return{payout:(0,n.localize)("Payout"),stake:(0,n.localize)("Stake"),multiplier:(0,n.localize)("Multiplier")}},u=function(t){return{rise_fall:{title:(0,n.localize)("Rise/Fall"),trade_types:["CALL","PUT"],basis:["stake","payout"],components:["start_date"],barrier_count:0},rise_fall_equal:{title:(0,n.localize)("Rise/Fall"),trade_types:["CALLE","PUTE"],basis:["stake","payout"],components:["start_date"],barrier_count:0},high_low:{title:(0,n.localize)("Higher/Lower"),trade_types:["CALL","PUT"],basis:["stake","payout"],components:["barrier"],barrier_count:1},touch:{title:(0,n.localize)("Touch/No Touch"),trade_types:["ONETOUCH","NOTOUCH"],basis:["stake","payout"],components:["barrier"]},end:{title:(0,n.localize)("Ends In/Ends Out"),trade_types:["EXPIRYMISS","EXPIRYRANGE"],basis:["stake","payout"],components:["barrier"]},stay:{title:(0,n.localize)("Stays In/Goes Out"),trade_types:["RANGE","UPORDOWN"],basis:["stake","payout"],components:["barrier"]},asian:{title:(0,n.localize)("Asian Up/Asian Down"),trade_types:["ASIANU","ASIAND"],basis:["stake","payout"],components:[]},match_diff:{title:(0,n.localize)("Matches/Differs"),trade_types:["DIGITMATCH","DIGITDIFF"],basis:["stake","payout"],components:["last_digit"]},even_odd:{title:(0,n.localize)("Even/Odd"),trade_types:["DIGITODD","DIGITEVEN"],basis:["stake","payout"],components:[]},over_under:{title:(0,n.localize)("Over/Under"),trade_types:["DIGITOVER","DIGITUNDER"],basis:["stake","payout"],components:["last_digit"]},lb_call:{title:(0,n.localize)("Close-to-Low"),trade_types:["LBFLOATCALL"],basis:["multiplier"],components:[]},lb_put:{title:(0,n.localize)("High-to-Close"),trade_types:["LBFLOATPUT"],basis:["multiplier"],components:[]},lb_high_low:{title:(0,n.localize)("High-to-Low"),trade_types:["LBHIGHLOW"],basis:["multiplier"],components:[]},tick_high_low:{title:(0,n.localize)("High Tick/Low Tick"),trade_types:["TICKHIGH","TICKLOW"],basis:[],components:[]},run_high_low:{title:(0,n.localize)("Only Ups/Only Downs"),trade_types:["RUNHIGH","RUNLOW"],basis:[],components:[]},reset:{title:(0,n.localize)("Reset Up/Reset Down"),trade_types:["RESETCALL","RESETPUT"],basis:[],components:[]},callputspread:{title:(0,n.localize)("Spread Up/Spread Down"),trade_types:["CALLSPREAD","PUTSPREAD"],basis:[],components:[]},multiplier:{title:(0,n.localize)("Multipliers"),trade_types:["MULTUP","MULTDOWN"],basis:["stake"],components:["take_profit","stop_loss"].concat(a((0,o.shouldShowCancellation)(t)?["cancellation"]:[]),a((0,o.shouldShowExpiration)(t)?["expiration"]:[])),config:{hide_duration:!0}}}},l=function(){var t;return i(t={},(0,n.localize)("Multipliers"),["multiplier"]),i(t,(0,n.localize)("Ups & Downs"),["rise_fall","rise_fall_equal","run_high_low","reset","asian","callputspread"]),i(t,(0,n.localize)("Highs & Lows"),["high_low","touch","tick_high_low"]),i(t,(0,n.localize)("Ins & Outs"),["end","stay"]),i(t,(0,n.localize)("Look Backs"),["lb_high_low","lb_put","lb_call"]),i(t,(0,n.localize)("Digits"),["match_diff","even_odd","over_under"]),t},p=["callputspread","run_high_low","reset","asian","tick_high_low","end","stay","lb_call","lb_put","lb_high_low"]},"./Stores/Modules/Trading/Helpers/active-symbols.js":(t,e,r)=>{"use strict";r.d(e,{c:()=>u,pp:()=>l,jt:()=>p,Uf:()=>m,rh:()=>g});var n=r("mobx"),o=r("@deriv/shared"),i=r("@deriv/translations"),a=r("./Services/ws-methods.js");function s(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){s(i,n,o,a,c,"next",t)}function c(t){s(i,n,o,a,c,"throw",t)}a(void 0)}))}}var u=(0,n.flow)(regeneratorRuntime.mark((function t(e,r){var n,s,c,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.WS.wait("website_status");case 2:return n=t.sent,t.next=5,a.WS.residenceList();case 5:s=t.sent,c=n.website_status.clients_country,u=(s.residence_list.find((function(t){return t.value===c}))||{}).text,l=u?(0,i.localize)("Sorry, this app is unavailable in {{clients_country}}.",{clients_country:u}):(0,i.localize)("Sorry, this app is unavailable in your current location."),e({message:(0,i.localize)("If you have an account, log in to continue."),header:l,redirect_label:(0,i.localize)("Log in"),redirectOnClick:function(){return(0,o.redirectToLogin)(r,(0,i.getLanguage)())},should_show_refresh:!1});case 10:case"end":return t.stop()}}),t)}))),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return!!t.length&&!!t.filter((function(t){return t.symbol===e}))[0]&&!t.filter((function(t){return t.symbol===e}))[0].exchange_is_open},p=function(){var t=c(regeneratorRuntime.mark((function t(){var e,r,n,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=o.length>0&&void 0!==o[0]?o[0]:[]).length){t.next=3;break}return t.abrupt("return","");case 3:return t.next=5,f(e);case 5:if(!(r=t.sent)){t.next=8;break}return t.abrupt("return",r);case 8:return t.next=10,d(e);case 10:return n=t.sent,t.abrupt("return",n);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=c(regeneratorRuntime.mark((function t(e){var r,n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=o.LocalStore.get("cq-favorites")){t.next=4;break}return t.abrupt("return",void 0);case 4:if(n=JSON.parse(r)["chartTitle&Comparison"],!(i=n.map((function(t){return e.find((function(e){return e.symbol===t}))})))){t.next=14;break}if(!(a=i.filter((function(t){return t})).find(_))){t.next=14;break}return t.next=11,b(a);case 11:if(!t.sent){t.next=14;break}return t.abrupt("return",a.symbol);case 14:return t.abrupt("return",void 0);case 17:return t.prev=17,t.t0=t.catch(0),t.abrupt("return",void 0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=c(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e,"1HZ100V");case 2:if(t.t1=t.sent,t.t1){t.next=7;break}return t.next=6,y(e,/random_index/);case 6:t.t1=t.sent;case 7:if(t.t0=t.t1,t.t0){t.next=12;break}return t.next=11,y(e,/major_pairs/);case 11:t.t0=t.sent;case 12:if(!(r=t.t0)){t.next=15;break}return t.abrupt("return",r.symbol);case 15:return t.abrupt("return",e.find((function(t){return"major_pairs"===t.submarket})).symbol);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=c(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.find((function(t){return t.symbol===r&&_(t)})),t.next=3,b(n);case 3:if(!t.sent){t.next=6;break}return t.abrupt("return",n);case 6:return t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),y=function(){var t=c(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.find((function(t){return r.test(t.submarket)&&_(t)})),t.next=3,b(n);case 3:if(!t.sent){t.next=6;break}return t.abrupt("return",n);case 6:return t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),m=function(){var t=c(regeneratorRuntime.mark((function t(e,r){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.shift(),o=e.find((function(t){return n===t.market&&_(t)})),t.next=4,b(o);case 4:if(!t.sent){t.next=9;break}return t.abrupt("return",{category:o.market,subcategory:o.submarket});case 9:if(!(r.length>0)){t.next=11;break}return t.abrupt("return",m(e,r));case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),_=function(t){return 1===t.exchange_is_open},b=function(){var t=c(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.WS.storage.contractsFor(null==e?void 0:e.symbol);case 2:return n=t.sent,t.abrupt("return",!["InvalidSymbol","InputValidationFailed"].includes(null===(r=n.error)||void 0===r?void 0:r.code));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=arguments.length>1?arguments[1]:void 0;return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((function(e){return e.symbol.toUpperCase()===t.toUpperCase()}))||{display_name:""}).display_name}},"./Stores/Modules/Trading/Helpers/barrier.js":(t,e,r)=>{"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,{t:()=>o,l:()=>i});var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:t.barriers};if(t.barriers){var r={};return["barrier","low_barrier","high_barrier"].forEach((function(e){e in t&&(r[e]=t[e])})),Object.assign(e||{},n({},t.expiry_type,r))}},i=function(t){return Math.floor(t)===t||t.length<1||t%1==0||isNaN(t)?0:t.toString().split(".")[1].length||0}},"./Stores/Modules/Trading/Helpers/contract-type.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>X});var n,o,i,a,s,c,u,l,p,f,d,h,y,m,_,b,g,v,w,O,S,k,x,P,E,C,j=r("@deriv/shared"),D=r("./_common/base/server_time.js"),T=r.n(D),M=r("@deriv/translations"),A=r("./Services/ws-methods.js"),R=r("./Stores/Modules/Portfolio/Helpers/details.js"),N=r("./Stores/Modules/Trading/Helpers/barrier.js"),z=r("./Stores/Modules/Trading/Helpers/duration.js"),L=r("./Stores/Modules/Trading/Helpers/start-date.js"),I=r("./Stores/Modules/Trading/Constants/contract.js");function U(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function F(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){U(i,n,o,a,s,"next",t)}function s(t){U(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||V(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t){return function(t){if(Array.isArray(t))return B(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||V(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){if(t){if("string"==typeof t)return B(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(t,e):void 0}}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?W(Object(r),!0).forEach((function(e){q(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function q(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}const X=(o={},i={},a={},s={},c=!1,u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[t.contract_type]=t.contract_display,e},l=function(t,e){return-1!==t.indexOf(e)?e:t[0]},p=function(t){return{form_components:["duration","amount"].concat(H(n[t].components)).filter((function(e){return!("duration"===e&&n[t].config&&n[t].config.hide_duration)}))}},f=function(t,e){return{duration_units_list:(0,j.getPropertyValue)(o,[t,"config","durations","units_display",e])||[]}},d=function(t,e,r){var n=(0,j.getPropertyValue)(o,[e,"config","durations","units_display",r])||[],i=[];return n.forEach((function(t){i.push(t.value)})),{duration_unit:l(i,t)}},h=function(t,e,r){var n=(0,j.getPropertyValue)(o,[t,"config","durations","min_max",e])||{};return r&&(n=n[r]||{}),{duration_min_max:n}},y=function(t){return{contract_start_type:t===Number(0)?"spot":"forward"}},m=function(t,e){var r=(0,j.getPropertyValue)(o,[t,"config"]),n=[];return r.has_spot&&n.push({text:(0,M.localize)("Now"),value:Number(0)}),r.forward_starting_dates&&n.push.apply(n,H(r.forward_starting_dates)),{start_date:n.find((function(t){return t.value===e}))?e:n[0].value,start_dates_list:n}},_=H(Array(24).keys()).map((function(t){return"0".concat(t).slice(-2)})),b=H(Array(12).keys()).map((function(t){return"0".concat(5*t).slice(-2)})),g=function(t,e,r){return t&&!(0,L.Y)(t,e)&&(e.minute(b.find((function(r){return(0,L.Y)(t,e.minute(r))}))||e.format("mm")),(0,L.Y)(t,e)||(e.minute(0),e.hour(_.find((function(n){return(0,L.Y)(t,e.hour(n),r,!0)}))||e.format("HH")),e.minute(b.find((function(r){return(0,L.Y)(t,e.minute(r))}))||e.format("mm")))),e.format("HH:mm")},v=function(t,e){var r=Y((0,j.isTimeValid)(e)?e.split(":"):[0,0],2),n=r[0],o=r[1];return(0,j.toMoment)(t||T().get()).hour(n).minute(o)},O=function(t){return t.minute(5*Math.ceil(t.minute()/5))},S=function(t){return{trade_types:(0,j.getPropertyValue)(o,[t,"config","trade_types"])}},x=function(t,e){var r=(0,j.getPropertyValue)(o,[t,"basis"])||[],n=(0,I.jK)();return{basis_list:r.reduce((function(t,e){return[].concat(H(t),[{text:n[e],value:e}])}),[]),basis:l(r,e)}},P=function(t,e){var r=(0,j.getPropertyValue)(o,[t,"config","multiplier_range"])||[];return{multiplier_range_list:r.map((function(t){return{text:"x".concat(t),value:t}})),multiplier:l(r,e)}},E=function(t,e,r){var n=(0,j.getPropertyValue)(o,[t,"config","cancellation_range"])||[],i=new RegExp("^([0-9]+)|([a-zA-Z]+)$","g"),a=(0,j.shouldShowCancellation)(r);return G({cancellation_duration:l(n,e),cancellation_range_list:n.map((function(t){return{text:"".concat((e=t,r=Y(e.match(i),2),n=r[0],o=r[1],a=(0,R.uZ)(),"".concat(n," ").concat(a[o].name_plural))),value:t};var e,r,n,o,a}))},a?{}:{has_cancellation:!1})},C=function(t){var e,r=null===(e=/^(.*)_equal$/.exec(t))||void 0===e?void 0:e[1];return r&&!o[r]?{is_equal:1,has_equals_only:!0}:{}},{buildContractTypesConfig:function(t){return A.WS.storage.contractsFor(t).then((function(e){var r=(0,j.getPropertyValue)(e,["contracts_for"]);if(c=r&&!e.contracts_for.available.find((function(t){return"forward"!==t.start_type})),r&&!c){var a=(0,I.GF)();n=(0,I.r2)(t),o={},i=(0,j.cloneObject)(a),e.contracts_for.available.forEach((function(t){var e=Object.keys(n).find((function(e){return-1!==n[e].trade_types.indexOf(t.contract_type)&&(void 0===n[e].barrier_count||+n[e].barrier_count===t.barriers)}));if(e){if(!o[e]){var r=i[Object.keys(i).find((function(t){return-1!==i[t].indexOf(e)}))];if(!r)return;r[r.indexOf(e)]={value:e,text:n[e].title},o[e]=(0,j.cloneObject)(n[e])}var a=o[e].config||{};a.has_spot=a.has_spot||"spot"===t.start_type,a.durations=!a.hide_duration&&(0,z.oR)(t,a.durations),a.trade_types=u(t,a.trade_types),a.barriers=(0,N.t)(t,a.barriers),a.forward_starting_dates=(0,L.H)(t,a.forward_starting_dates),a.multiplier_range=t.multiplier_range,a.cancellation_range=t.cancellation_range,o[e].config=a}})),Object.keys(i).forEach((function(t){i[t]=i[t].filter((function(t){return"object"===Z(t)})),0===i[t].length&&delete i[t]}))}}))},getBarriers:k=function(t,e){var r=(0,j.getPropertyValue)(o,[t,"config","barriers"])||{},n=r[e]||{},i=n.barrier||n.high_barrier||"",a=n.low_barrier||"";return{barrier_count:r.count||0,barrier_1:i.toString(),barrier_2:a.toString()}},getContractType:function(t,e){var r=Object.keys(t||{}).reduce((function(e,r){return[].concat(H(e),H(t[r].map((function(t){return t.value}))))}),[]).filter((function(t){return-1===I.f.indexOf(t)})).sort((function(t,e){return"multiplier"===t||"multiplier"===e?-1:0}));return{contract_type:l(r,e)}},getContractValues:function(t){var e=t.contract_expiry_type,r=t.contract_type,n=t.basis,o=t.duration_unit,i=t.expiry_type,a=t.multiplier,s=t.start_date,c=t.cancellation_duration,u=t.symbol;if(!r)return{};var l=p(r),_=x(r,n),b=S(r),g=m(r,s),v=y(g.start_date),O=k(r,e),j=d(o,r,v.contract_start_type),D=f(r,v.contract_start_type),T=h(r,v.contract_start_type),M=P(r,a),A=E(r,c,u),R=w(D,i),N=C(r);return G(G(G(G(G(G(G(G(G(G(G(G(G({},l),_),b),g),v),O),j),D),T),R),M),A),N)},getDurationMinMax:h,getDurationUnit:d,getDurationUnitsList:f,getFullContractTypes:function(){return o},getExpiryDate:function(t,e,r,n){var o=null;if("endtime"===r){var i=(0,j.toMoment)(n),a=(0,j.toMoment)(e);o=(0,z.o5)(t)?(a.isBefore(i,"day")||n&&a.isAfter(i.clone().add(1,"day"))?i:a).format("YYYY-MM-DD"):(a.isSameOrBefore(i,"day")?i.clone().add(1,"day"):a).format("YYYY-MM-DD")}return{expiry_date:o}},getExpiryTime:function(t,e,r,n,o,i,a){var s=null;if("endtime"===r){var c="23:59:59";if(n&&n.length&&"--"!==n[0]&&(c=n.slice(-1)[0]),!i&&T().get().isBefore(v(t),"day"))s=c;else{var u=i?v(i,a):T().get(),l=v(t,e);s=l.format("HH:mm");var p=[{open:u.clone().add(5,"minute"),close:(0,j.minDate)(u.clone().add(24,"hour"),v(t,c))}];if((0,L.Y)(p,l)||(s=g(p,l.clone(),u.clone())),l.isSameOrBefore(u)||l.diff(u,"minute")<5){var f=23===u.get("hours")&&u.get("minute")>=55,d=o&&!(0,L.Y)(o,u.clone().add(5,"minutes"));s=u.clone().add(f||d?0:5,"minutes"),s=O(s).format("HH:mm")}"00:00"===s&&u.isBefore(l,"day")&&(s=u.clone().subtract(5,"minute").format("HH:mm"))}}return{expiry_time:s}},getExpiryType:w=function(t,e){if(t){if(!e&&t.length>0||1===t.length&&"t"===t[0].value)return{expiry_type:"duration"};if(0===t.length)return{expiry_type:null}}return{expiry_type:e}},getSessions:function(t,e){return{sessions:((((0,j.getPropertyValue)(o,[t,"config"])||{}).forward_starting_dates||[]).find((function(t){return t.value===e}))||{}).sessions}},getStartTime:function(t,e,r){return{start_time:e?g(t,v(e,r)):null}},getStartType:y,getTradingEvents:function(){var t=F(regeneratorRuntime.mark((function t(e){var r,n,o,i,s,c,u,l,p=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=p.length>1&&void 0!==p[1]?p[1]:null,e){t.next=3;break}return t.abrupt("return",[]);case 3:if(e in a){t.next=8;break}return t.next=6,A.WS.tradingTimes(e);case 6:if(n=t.sent,(0,j.getPropertyValue)(n,["trading_times","markets"]))for(o=0;o<n.trading_times.markets.length;o++)if(i=n.trading_times.markets[o].submarkets)for(s=0;s<i.length;s++)if(c=i[s].symbols)for(u=0;u<c.length;u++)l=c[u],a[n.echo_req.trading_times]||(a[n.echo_req.trading_times]={}),a[n.echo_req.trading_times][l.symbol]=l.events;case 8:return t.abrupt("return",a[e][r]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getTradingTimes:function(){var t=F(regeneratorRuntime.mark((function t(e){var r,n,o,i,a,c,u,l,p=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=p.length>1&&void 0!==p[1]?p[1]:null,e){t.next=3;break}return t.abrupt("return",[]);case 3:if(e in s){t.next=8;break}return t.next=6,A.WS.tradingTimes(e);case 6:if(n=t.sent,(0,j.getPropertyValue)(n,["trading_times","markets"]))for(o=0;o<n.trading_times.markets.length;o++)if(i=n.trading_times.markets[o].submarkets)for(a=0;a<i.length;a++)if(c=i[a].symbols)for(u=0;u<c.length;u++)l=c[u],s[n.echo_req.trading_times]||(s[n.echo_req.trading_times]={}),s[n.echo_req.trading_times][l.symbol]={open:l.times.open,close:l.times.close};case 8:return t.abrupt("return",r?s[e][r]:s[e]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getContractCategories:function(){return{contract_types_list:i,has_only_forward_starting_contracts:c}}})},"./Stores/Modules/Trading/Helpers/duration.js":(t,e,r)=>{"use strict";r.d(e,{oR:()=>c,QJ:()=>p,ln:()=>f,o5:()=>d,I7:()=>h,P7:()=>y});var n=r("@deriv/translations"),o=r("@deriv/shared");function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=function(){return{t:{display:(0,n.localize)("Ticks"),order:1},s:{display:(0,n.localize)("Seconds"),order:2,to_second:1},m:{display:(0,n.localize)("Minutes"),order:3,to_second:60},h:{display:(0,n.localize)("Hours"),order:4,to_second:3600},d:{display:(0,n.localize)("Days"),order:5,to_second:86400}}},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{min_max:{},units_display:{}};e.min_max[t.start_type]=e.min_max[t.start_type]||{},e.units_display[t.start_type]=e.units_display[t.start_type]||[];var r=l(t.min_contract_duration),n=l(t.max_contract_duration);e.min_max[t.start_type][t.expiry_type]={min:u(r.duration,r.unit,"s"),max:u(n.duration,n.unit,"s")};var o=[];e.units_display[t.start_type].forEach((function(t){o.push(t.value)}));var a=s();return/^tick|daily$/.test(t.expiry_type)?-1===o.indexOf(r.unit)&&o.push(r.unit):Object.keys(a).forEach((function(t){"d"!==t&&-1===o.indexOf(t)&&a[t].order>=a[r.unit].order&&a[t].order<=a[n.unit].order&&o.push(t)})),e.units_display[t.start_type]=o.sort((function(t,e){return a[t].order>a[e].order?1:-1})).reduce((function(t,e){return[].concat(i(t),[{text:a[e].display,value:e}])}),[]),e},u=function(t,e,r){if(!t||!e||!r||isNaN(parseInt(t)))return null;var n=s();return e!==r&&"to_second"in n[e]?t*n[e].to_second/n[r].to_second:t},l=function(t){var e=t.toString().match(/[a-zA-Z]+|[0-9]+/g);return{duration:+e[0],unit:e[1]}},p=function(t){var e=t.duration_unit,r=t.expiry_date,n=t.expiry_type,i=t.duration_units_list,a=t.root_store.common.server_time,s="duration"===n&&"d"===e,c="endtime"===n&&((0,o.toMoment)(r).isAfter((0,o.toMoment)(a),"day")||!d(i)),u="daily";return s||c||(u="t"===e?"tick":"intraday"),u},f=function(t,e){if(!(t>=0&&e&&Number.isInteger(t)))return null;if("m"===e){var r=t/60;return r>=1?Math.floor(r):1}if("h"===e){var n=t/3600;return n>=1?Math.floor(n):1}if("d"===e){var o=t/86400;return o>=1?Math.floor(o):1}return t},d=function(t){return t.some((function(t){return-1!==["m","h"].indexOf(t.value)}))},h=function(t,e){return/^R_/.test(t)&&"endtime"===e?(0,o.toMoment)(null).format("DD MMM YYYY"):null},y=function(t,e,r){if(!t[e])return[];var n=f(+t[e].max,r);return[f(+t[e].min,r),n]}},"./Stores/Modules/Trading/Helpers/proposal.js":(t,e,r)=>{"use strict";r.d(e,{yr:()=>c,_N:()=>u,RX:()=>l});var n=r("@deriv/shared");function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s={barrier:"barrier_1",barrier2:"barrier_2",date_expiry:"expiry_date"},c=function(t){var e=(0,n.getPropertyValue)(t,["error","details","field"]);if(!e)return null;var r,o=s[e]||e,i=document.getElementsByName(o)[0];return i&&(r=i)&&(0!==r.offsetWidth||0!==r.offsetHeight)?o:null},u=function(t,e,r){var o,i,a,s=e.proposal||{},u=s.payout-s.ask_price||0,l=100*u/(s.ask_price||1),p=s.display_value,f=t.basis_list.find((function(e){return e.value!==t.basis}))||{},d="Stake"===f.text?p:s[f.value],h=d>r.value;r.value&&d!==r.value||(h=null);var y={text:f.text||"",value:d||""};return{commission:s.commission,cancellation:s.cancellation,id:s.id||"",has_error:!!e.error,has_error_details:!!c(e),error_code:null==e||null===(o=e.error)||void 0===o?void 0:o.code,error_field:null==e||null===(i=e.error)||void 0===i||null===(a=i.details)||void 0===a?void 0:a.field,has_increased:h,limit_order:s.limit_order,message:s.longcode||e.error.message,obj_contract_basis:y,payout:s.payout,profit:u.toFixed((0,n.getDecimalPlaces)(t.currency)),returns:"".concat(l.toFixed(2),"%"),stake:p}},l=function(t){var e={};return Object.keys(t.trade_types).forEach((function(r){var n=p(t,r);e[r]=n})),e},p=function(t,e){var r={},o={};if("endtime"===t.expiry_type){var a=(0,n.toMoment)(t.expiry_date);r.date_expiry=(0,n.convertToUnix)(a.unix(),t.expiry_time)}return"multiplier"===t.contract_type&&function(t,e){e.multiplier=t.multiplier,e.cancellation=t.has_cancellation?t.cancellation_duration:void 0,e.limit_order=t.has_take_profit||t.has_stop_loss?{}:void 0,t.has_take_profit&&t.take_profit&&(e.limit_order.take_profit=+t.take_profit||0),t.has_stop_loss&&t.stop_loss&&(e.limit_order.stop_loss=+t.stop_loss||0)}(t,o),i(i(i(i(i({proposal:1,subscribe:1,amount:parseFloat(t.amount)||0,basis:t.basis,contract_type:e,currency:t.currency,symbol:t.symbol},t.start_date&&{date_start:(0,n.convertToUnix)(t.start_date,t.start_time)}),"duration"===t.expiry_type?{duration:parseInt(t.duration),duration_unit:t.duration_unit}:r),(t.barrier_count>0||-1!==t.form_components.indexOf("last_digit"))&&{barrier:t.barrier_1||t.last_digit}),2===t.barrier_count&&{barrier2:t.barrier_2}),o)}},"./Stores/Modules/Trading/Helpers/start-date.js":(t,e,r)=>{"use strict";r.d(e,{H:()=>a,Y:()=>c});var n=r("./_common/base/server_time.js"),o=r.n(n),i=r("@deriv/shared"),a=function(t,e){var r=[];return(t.forward_starting_options||[]).length&&t.forward_starting_options.forEach((function(t){var e=r.find((function(e){return e.value===parseInt(t.date)})),n={open:(0,i.toMoment)(t.open),close:(0,i.toMoment)(t.close)};e?e.sessions.push(n):r.push({text:(0,i.toMoment)(t.date).format("ddd - DD MMM, YYYY"),value:parseInt(t.date),sessions:[n]})})),r.length?r:e},s=function(t,e,r){var n=(0,i.toMoment)(e);return r&&n.minute(0).second(0),t.isBefore(n)&&n.unix()!==t.unix()},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,i.toMoment)(o().get()),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.toMoment)(o().get()),n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!(s(e,o().get(),n)||s(e,r,n)||t.length&&!t.find((function(t){return e.isBetween(t.open,t.close,n?"hour":null,"[]")})))}},"./Stores/base-store.js":(t,e,r)=>{"use strict";r.d(e,{Z:()=>H});var n=r("mobx"),o=r("@deriv/shared"),i=r("./_common/utility.js");function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,r,n;return e=t,(r=[{key:"add",value:function(t,e){this.has(t)||(this.errors[t]=[]),-1===this.errors[t].indexOf(e)&&this.errors[t].push(e)}},{key:"all",value:function(){return this.errors}},{key:"first",value:function(t){return this.has(t)?this.errors[t][0]:null}},{key:"get",value:function(t){return this.has(t)?this.errors[t]:[]}},{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.errors,t)}}])&&a(e.prototype,r),n&&a(e,n),t}();function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const l=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c(this,t),this.input=e,this.rules=r,this.store=n,this.errors=new s,this.error_count=0}var e,r,n;return e=t,n=[{key:"getRuleObject",value:function(t){var e="string"==typeof t,r={name:e?t:t[0],options:e?{}:t[1]||{}};return r.validator="custom"===r.name?t[1].func:(0,o.getPreBuildDVRs)()[r.name].func,r}}],(r=[{key:"addFailure",value:function(t,e,r){var n=r||e.options.message||(0,o.getPreBuildDVRs)()[e.name].message();"length"===e.name?n=(0,i.template)(n,[e.options.min===e.options.max?e.options.min:"".concat(e.options.min,"-").concat(e.options.max)]):"min"===e.name?n=(0,i.template)(n,[e.options.min]):"not_equal"===e.name&&(n=(0,i.template)(n,[e.options.name1,e.options.name2])),this.errors.add(t,n),this.error_count++}},{key:"check",value:function(){var e=this;return Object.keys(this.input).forEach((function(r){Object.prototype.hasOwnProperty.call(e.rules,r)&&e.rules[r].forEach((function(n){var o=t.getRuleObject(n);if((o.validator||"function"==typeof o.validator)&&(!o.options.condition||o.options.condition(e.store))&&(""!==e.input[r]||"req"===o.name)){var i,a;if("number"===o.name){var s=o.validator(e.input[r],o.options,e.store,e.input);i=s.is_ok,a=s.message}else i=o.validator(e.input[r],o.options,e.store,e.input);i||e.addFailure(r,o,a)}}))})),!this.error_count}},{key:"isPassed",value:function(){return this.check()}}])&&u(e.prototype,r),n&&u(e,n),t}();var p,f,d,h,y,m,_,b,g,v,w,O,S,k,x,P,E,C,j,D,T,M;function A(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function R(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){A(i,n,o,a,s,"next",t)}function s(t){A(i,n,o,a,s,"throw",t)}a(void 0)}))}}function N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?N(Object(r),!0).forEach((function(e){L(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function L(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Y(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var H=(p=n.action.bound,f=n.action.bound,d=n.action.bound,h=n.action.bound,y=n.action.bound,m=n.action.bound,_=n.action.bound,b=n.action.bound,g=n.action.bound,v=n.action.bound,w=n.action.bound,O=n.action.bound,S=n.action.bound,k=n.action.bound,x=n.action.bound,P=n.action.bound,M=T=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};U(this,t),I(this,"validation_errors",C,this),I(this,"validation_rules",j,this),this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,I(this,"partial_fetch_time",D,this);var r=e.root_store,n=e.local_storage_properties,o=e.session_storage_properties,i=e.validation_rules,a=e.store_name;if(Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0}),n&&n.length||o&&o.length){if(!a)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:a,enumerable:!1,writable:!1})}this.root_store=r,this.local_storage_properties=n||[],this.session_storage_properties=o||[],this.setValidationRules(i),this.setupReactionForLocalStorage(),this.setupReactionForSessionStorage(),this.retrieveFromStorage()}var e,r,i;return e=t,(r=[{key:"getSnapshot",value:function(t){var e=(0,n.toJS)(this);return(0,o.isEmptyObject)(this.root_store)||(e.root_store=this.root_store),t&&t.length&&(e=t.reduce((function(t,r){return Object.assign(t,L({},r,e[r]))}),{})),e}},{key:"setupReactionForLocalStorage",value:function(){var e=this;this.local_storage_properties.length&&(0,n.reaction)((function(){return e.local_storage_properties.map((function(t){return e[t]}))}),(function(){return e.saveToStorage(e.local_storage_properties,t.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var e=this;this.session_storage_properties.length&&(0,n.reaction)((function(){return e.session_storage_properties.map((function(t){return e[t]}))}),(function(){return e.saveToStorage(e.session_storage_properties,t.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(e,r){var n=JSON.stringify(this.getSnapshot(e),(function(t,e){if(null!==e)return e}));r===t.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,n):r===t.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,n)}},{key:"retrieveFromStorage",value:function(){var t=this,e=JSON.parse(localStorage.getItem(this.store_name,{})),r=JSON.parse(sessionStorage.getItem(this.store_name,{})),n=z(z({},e),r);Object.keys(n).forEach((function(e){return t[e]=n[e]}))}},{key:"setValidationErrorMessages",value:function(t,e){var r=this;this.validation_errors[t]&&!r.validation_errors[t].filter((function(t){return!e.includes(t)})).concat(e.filter((function(e){return!r.validation_errors[t].includes(e)}))).length||(this.validation_errors[t]=e)}},{key:"setValidationRules",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(r){t.addRule(r,e[r])}))}},{key:"addRule",value:function(t,e){var r=this;this.validation_rules[t]=e,(0,n.intercept)(this,t,(function(e){return r.validateProperty(t,e.newValue),e}))}},{key:"validateProperty",value:function(t,e){var r=this,n=this.validation_rules[t].trigger,o=L({},t,void 0!==e?e:this[t]),i=L({},t,this.validation_rules[t].rules||[]);n&&Object.hasOwnProperty.call(this,n)&&(o[n]=this[n],i[n]=this.validation_rules[n].rules||[]);var a=new l(o,i,this);a.isPassed(),Object.keys(o).forEach((function(t){r.setValidationErrorMessages(t,a.errors.get(t))}))}},{key:"validateAllProperties",value:function(){var t=this,e=Object.keys(this.validation_rules),r=Object.keys(this.validation_errors);e.forEach((function(e){t.validateProperty(e,t[e])})),r.forEach((function(r){e.includes(r)||delete t.validation_errors[r]}))}},{key:"onSwitchAccount",value:function(t){var e=this;t&&(this.switch_account_listener=t,this.switchAccountDisposer=(0,n.when)((function(){return e.root_store.client.switch_broadcast}),(function(){try{var t=e.switch_account_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Switching account listeners are required to return a promise.");t.then((function(){e.root_store.client.switchEndSignal(),e.onSwitchAccount(e.switch_account_listener)}))}catch(t){(0,o.isProduction)()||console.error(t)}})))}},{key:"onPreSwitchAccount",value:function(t){var e=this;t&&(this.pre_switch_account_listener=t,this.preSwitchAccountDisposer=(0,n.when)((function(){return e.root_store.client.pre_switch_broadcast}),(function(){try{var t=e.pre_switch_account_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Pre-switch account listeners are required to return a promise.");t.then((function(){e.root_store.client.setPreSwitchAccount(!1),e.onPreSwitchAccount(e.pre_switch_account_listener)}))}catch(t){(0,o.isProduction)()||console.error(t)}})))}},{key:"onLogout",value:function(t){var e=this;this.logoutDisposer=(0,n.when)((function(){return e.root_store.client.has_logged_out}),R(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=e.logout_listener())||!r.then||"function"!=typeof r.then){t.next=6;break}r.then((function(){e.root_store.client.setLogout(!1),e.onLogout(e.logout_listener)})),t.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,o.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.logout_listener=t}},{key:"onClientInit",value:function(t){var e=this;this.clientInitDisposer=(0,n.when)((function(){return e.root_store.client.initialized_broadcast}),R(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=e.client_init_listener())||!r.then||"function"!=typeof r.then){t.next=6;break}r.then((function(){e.root_store.client.setInitialized(!1),e.onClientInit(e.client_init_listener)})),t.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,o.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.client_init_listener=t}},{key:"onNetworkStatusChange",value:function(t){var e=this;this.networkStatusChangeDisposer=(0,n.reaction)((function(){return e.root_store.common.is_network_online}),(function(t){try{e.network_status_change_listener(t)}catch(t){(0,o.isProduction)()||console.error(t)}})),this.network_status_change_listener=t}},{key:"onThemeChange",value:function(t){var e=this;this.themeChangeDisposer=(0,n.reaction)((function(){return e.root_store.ui.is_dark_mode_on}),(function(t){try{e.theme_change_listener(t)}catch(t){(0,o.isProduction)()||console.error(t)}})),this.theme_change_listener=t}},{key:"onRealAccountSignupEnd",value:function(t){var e=this;this.realAccountSignupEndedDisposer=(0,n.when)((function(){return e.root_store.ui.has_real_account_signup_ended}),(function(){try{var t=e.real_account_signup_ended_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Real account signup listeners are required to return a promise.");t.then((function(){e.root_store.ui.setRealAccountSignupEnd(!1),e.onRealAccountSignupEnd(e.real_account_signup_ended_listener)}))}catch(t){(0,o.isProduction)()||console.error(t)}})),this.real_account_signup_ended_listener=t}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(t){if(this.root_store.client.loginid!==t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach((function(t){return t()})),this.partial_fetch_time=!1}}}])&&F(e.prototype,r),i&&F(e,i),t}(),T.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")}),C=Y((E=M).prototype,"validation_errors",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),j=Y(E.prototype,"validation_rules",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),D=Y(E.prototype,"partial_fetch_time",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y(E.prototype,"retrieveFromStorage",[n.action],Object.getOwnPropertyDescriptor(E.prototype,"retrieveFromStorage"),E.prototype),Y(E.prototype,"setValidationErrorMessages",[n.action],Object.getOwnPropertyDescriptor(E.prototype,"setValidationErrorMessages"),E.prototype),Y(E.prototype,"setValidationRules",[n.action],Object.getOwnPropertyDescriptor(E.prototype,"setValidationRules"),E.prototype),Y(E.prototype,"addRule",[n.action],Object.getOwnPropertyDescriptor(E.prototype,"addRule"),E.prototype),Y(E.prototype,"validateProperty",[n.action],Object.getOwnPropertyDescriptor(E.prototype,"validateProperty"),E.prototype),Y(E.prototype,"validateAllProperties",[n.action],Object.getOwnPropertyDescriptor(E.prototype,"validateAllProperties"),E.prototype),Y(E.prototype,"onSwitchAccount",[p],Object.getOwnPropertyDescriptor(E.prototype,"onSwitchAccount"),E.prototype),Y(E.prototype,"onPreSwitchAccount",[f],Object.getOwnPropertyDescriptor(E.prototype,"onPreSwitchAccount"),E.prototype),Y(E.prototype,"onLogout",[d],Object.getOwnPropertyDescriptor(E.prototype,"onLogout"),E.prototype),Y(E.prototype,"onClientInit",[h],Object.getOwnPropertyDescriptor(E.prototype,"onClientInit"),E.prototype),Y(E.prototype,"onNetworkStatusChange",[y],Object.getOwnPropertyDescriptor(E.prototype,"onNetworkStatusChange"),E.prototype),Y(E.prototype,"onThemeChange",[m],Object.getOwnPropertyDescriptor(E.prototype,"onThemeChange"),E.prototype),Y(E.prototype,"onRealAccountSignupEnd",[_],Object.getOwnPropertyDescriptor(E.prototype,"onRealAccountSignupEnd"),E.prototype),Y(E.prototype,"disposePreSwitchAccount",[b],Object.getOwnPropertyDescriptor(E.prototype,"disposePreSwitchAccount"),E.prototype),Y(E.prototype,"disposeSwitchAccount",[g],Object.getOwnPropertyDescriptor(E.prototype,"disposeSwitchAccount"),E.prototype),Y(E.prototype,"disposeLogout",[v],Object.getOwnPropertyDescriptor(E.prototype,"disposeLogout"),E.prototype),Y(E.prototype,"disposeClientInit",[w],Object.getOwnPropertyDescriptor(E.prototype,"disposeClientInit"),E.prototype),Y(E.prototype,"disposeNetworkStatusChange",[O],Object.getOwnPropertyDescriptor(E.prototype,"disposeNetworkStatusChange"),E.prototype),Y(E.prototype,"disposeThemeChange",[S],Object.getOwnPropertyDescriptor(E.prototype,"disposeThemeChange"),E.prototype),Y(E.prototype,"disposeRealAccountSignupEnd",[k],Object.getOwnPropertyDescriptor(E.prototype,"disposeRealAccountSignupEnd"),E.prototype),Y(E.prototype,"onUnmount",[x],Object.getOwnPropertyDescriptor(E.prototype,"onUnmount"),E.prototype),Y(E.prototype,"assertHasValidCache",[P],Object.getOwnPropertyDescriptor(E.prototype,"assertHasValidCache"),E.prototype),E)},"./Stores/connect.js":(t,e,r)=>{"use strict";r.d(e,{z1:()=>u,$j:()=>l});var n=r("mobx-react"),o=r("react");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=o.createContext(null),u=function(t){var e=t.store,r=t.children;return o.createElement(c.Provider,{value:a(a({},e),{},{mobxStores:e})},r)},l=function(t){return function(e){return function(t,e){var r=function(r){var i=o.useContext(c),s=e;return function(t){return!("function"!=typeof t||!t.prototype||!t.prototype.isReactComponent)}(e)&&(s=function(t){return o.createElement(e,t)}),(0,n.useObserver)((function(){return s(a(a({},r),t(i,r)))}))};return r.displayName=e.name,r}(t,e)}}},"./_common/base/server_time.js":(t,e,r)=>{var n,o,i,a=r("./_common/utility.js").PromiseClass,s=(o=!1,i=new a,{init:function(t){o||(n=t,i.resolve(n.server_time),o=!0)},get:function(){return o&&n.server_time?n.server_time.clone():void 0},timePromise:function(){return o?Promise.resolve(n.server_time):i.promise}});t.exports=s},"./_common/utility.js":t=>{var e;t.exports={template:function(t,e){var r=e;return e&&!Array.isArray(e)&&(r=[e]),t.replace(/\[_(\d+)]/g,(function(t,e){return r[+e-1]}))},createElement:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(t);return Object.keys(e).forEach((function(t){var n=e[t];"text"===t?r.textContent=n:"html"===t?r.html(n):r.setAttribute(t,n)})),r},getStaticHash:function(){return e=e||(document.querySelector('script[src*="main"]').getAttribute("src")||"").split(".")[1]},PromiseClass:function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.promise=new Promise((function(t,r){e.reject=r,e.resolve=t}))}}},"./index.js":(t,e,r)=>{"use strict";r.d(e,{default:()=>_f});const n=function(t){var e=this.constructor;return this.then((function(r){return e.resolve(t()).then((function(){return r}))}),(function(r){return e.resolve(t()).then((function(){return e.reject(r)}))}))},o=function(t){return new this((function(e,r){if(!t||void 0===t.length)return r(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var o=n.length;function i(t,r){if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,(function(e){i(t,e)}),(function(r){n[t]={status:"rejected",reason:r},0==--o&&e(n)}))}n[t]={status:"fulfilled",value:r},0==--o&&e(n)}for(var a=0;a<n.length;a++)i(a,n[a])}))};var i=setTimeout;function a(t){return Boolean(t&&void 0!==t.length)}function s(){}function c(t){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function u(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,c._immediateFn((function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(t){return void p(e.promise,t)}l(e.promise,n)}else(1===t._state?l:p)(e.promise,t._value)}))):t._deferreds.push(e)}function l(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof c)return t._state=3,t._value=e,void f(t);if("function"==typeof r)return void h((n=r,o=e,function(){n.apply(o,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){p(t,e)}var n,o}function p(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&c._immediateFn((function(){t._handled||c._unhandledRejectionFn(t._value)}));for(var e=0,r=t._deferreds.length;e<r;e++)u(t,t._deferreds[e]);t._deferreds=null}function d(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function h(t,e){var r=!1;try{t((function(t){r||(r=!0,l(e,t))}),(function(t){r||(r=!0,p(e,t))}))}catch(t){if(r)return;r=!0,p(e,t)}}c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){var r=new this.constructor(s);return u(this,new d(t,e,r)),r},c.prototype.finally=n,c.all=function(t){return new c((function(e,r){if(!a(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var o=n.length;function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){i(t,e)}),r)}n[t]=a,0==--o&&e(n)}catch(t){r(t)}}for(var s=0;s<n.length;s++)i(s,n[s])}))},c.allSettled=o,c.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c?t:new c((function(e){e(t)}))},c.reject=function(t){return new c((function(e,r){r(t)}))},c.race=function(t){return new c((function(e,r){if(!a(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,o=t.length;n<o;n++)c.resolve(t[n]).then(e,r)}))},c._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){i(t,0)},c._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},r("../../../node_modules/event-source-polyfill/src/eventsource.js");var y=r("../../../node_modules/prop-types/index.js"),m=r.n(y),_=r("react"),b=r.n(_),g=r("../../../node_modules/react-loadable/lib/index.js"),v=r.n(g),w=r("mobx-react"),O=r("react-router"),S=r("@deriv/components"),k=r("@deriv/shared"),x=r("react-router-dom"),P=r("./App/Components/Routes/helpers.js"),E=r("@deriv/translations"),C=r("./App/Components/Elements/chart-loader.jsx"),j=r("./Modules/Trading/Helpers/digits.js"),D=r("./Stores/connect.js"),T=r("../../../node_modules/classnames/index.js"),M=r.n(T),A=r("../../../node_modules/react-transition-group/esm/CSSTransition.js");const R=function(t){var e=t.error;return _.createElement("div",{className:"portfolio-empty"},_.createElement("div",{className:"portfolio-empty__wrapper"},e?_.createElement(S.Text,{color:"disabled",size:"xs"},e):_.createElement(_.Fragment,null,_.createElement(S.Icon,{icon:"IcPortfolio",className:"portfolio-empty__icon",size:96,color:"disabled"}),_.createElement(S.Text,{color:"disabled",size:"xs"},(0,E.localize)("No open positions")))))};var N=r("./Stores/Modules/Trading/Constants/contract.js"),z=r("./Stores/Modules/Contract/Helpers/contract-type.js"),L=r("./App/Components/Elements/PositionsDrawer/helpers/index.js"),I=r("./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card.jsx");function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=W(t);if(e){var o=W(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return B(this,r)}}function B(t,e){return!e||"object"!==U(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(){return(G=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var q=function(t){var e=t.row,r=t.measure,n=t.onHoverPosition,o=t.is_new_row,i=(0,k.useNewRowTransition)(o).in_prop;return _.useEffect((function(){r()}),[e.contract_info.is_sold,r]),_.createElement(A.Z,{in:i,timeout:150,classNames:{appear:"dc-contract-card__wrapper--enter",enter:"dc-contract-card__wrapper--enter",enterDone:"dc-contract-card__wrapper--enter-done",exit:"dc-contract-card__wrapper--exit"},onEntered:r,unmountOnExit:!0},_.createElement("div",{className:"dc-contract-card__wrapper"},_.createElement(I.Z,G({},e,{onMouseEnter:function(){n(!0,e)},onMouseLeave:function(){n(!1,e)},onFooterEntered:r,should_show_transition:o}))))},Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(i,t);var e,r,n,o=V(i);function i(){var t;F(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))).state={},t.filterByContractType=function(e){var r,n=e.contract_type,o=e.shortcode,i=t.props.trade_contract_type,a=(0,z.a)(i),s=(0,k.isHighLow)({shortcode:o}),c=a?["CALL","CALLE","PUT","PUTE"]:null===(r=(0,N.r2)()[i])||void 0===r?void 0:r.trade_types,u=null==c?void 0:c.includes(n);return"high_low"===i?s:u&&!s},t}return e=i,(r=[{key:"componentDidMount",value:function(){this.props.onMount()}},{key:"componentWillReceiveProps",value:function(t){(this.props.symbol&&t.symbol!==this.props.symbol||this.props.trade_contract_type&&t.trade_contract_type!==this.props.trade_contract_type)&&this.list_ref&&this.scrollbar_ref&&(this.list_ref.scrollTo(0),this.scrollbar_ref.scrollToTop())}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"render",value:function(){var t=this,e=this.props,r=e.all_positions,n=e.error,o=e.is_positions_drawer_on,i=e.onHoverPosition,a=e.symbol,s=e.toggleDrawer,c=e.trade_contract_type;this.positions=r.filter((function(t){return t.contract_info&&a===t.contract_info.underlying&&(0,L._M)(t.contract_info,c)}));var u=_.createElement(S.DataList,{data_source:this.positions,rowRenderer:function(t){return _.createElement(q,G({onHoverPosition:i},t))},keyMapper:function(t){return t.id},row_gap:8});return _.createElement(_.Fragment,null,_.createElement("div",{className:M()("positions-drawer__bg",{"positions-drawer__bg--open":o})}),_.createElement("div",{id:"dt_positions_drawer",className:M()("positions-drawer",{"positions-drawer--open":o})},_.createElement("div",{className:"positions-drawer__header"},_.createElement(S.Text,{color:"prominent",weight:"bold",size:"xs"},(0,E.localize)("Recent positions")),_.createElement("div",{id:"dt_positions_drawer_close_icon",className:"positions-drawer__icon-close",onClick:s},_.createElement(S.Icon,{icon:"IcMinusBold"}))),_.createElement("div",{className:"positions-drawer__body",ref:function(e){t.drawer_ref=e}},0===this.positions.length||n?_.createElement(R,{error:n}):u),_.createElement("div",{className:"positions-drawer__footer"},_.createElement(x.NavLink,{id:"dt_positions_drawer_report_button",className:"dc-btn dc-btn--secondary dc-btn__large",to:k.routes.reports},_.createElement(S.Text,{size:"xs",weight:"bold"},(0,E.localize)("Go to Reports"))))))}}])&&Y(e.prototype,r),n&&Y(e,n),i}(_.Component);Z.propTypes={all_positions:w.PropTypes.arrayOrObservableArray,children:m().any,error:m().string,is_mobile:m().bool,is_positions_drawer_on:m().bool,onChangeContractUpdate:m().func,onClickContractUpdate:m().func,onMount:m().func,onUnmount:m().func,symbol:m().string,toggleDrawer:m().func};const X=(0,D.$j)((function(t){var e=t.modules,r=t.ui;return{all_positions:e.portfolio.all_positions,error:e.portfolio.error,onHoverPosition:e.portfolio.onHoverPosition,onMount:e.portfolio.onMount,onUnmount:e.portfolio.onUnmount,symbol:e.trade.symbol,trade_contract_type:e.trade.contract_type,is_mobile:r.is_mobile,is_positions_drawer_on:r.is_positions_drawer_on,toggleDrawer:r.togglePositionsDrawer}}))(Z);var $=r("./App/Components/Elements/market-countdown-timer.jsx");function J(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return K(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Q=function(t){var e=t.is_eu,r=t.is_market_available,n=t.is_synthetics_unavailable,o=t.onClick,i=t.onMarketOpen,a=t.symbol,s=J(_.useState(!0),2),c=s[0],u=s[1],l=_.createElement(E.Localize,{i18n_default_text:"In the meantime, try our synthetic indices. They simulate real-market volatility and are open 24/7."}),p=(0,E.localize)("Try Synthetic Indices");return(e||n)&&(l=null,p=(0,E.localize)("See open markets")),_.createElement("div",{className:M()("market-is-closed-overlay",{"market-is-closed-overlay--loading":c})},_.createElement(S.Text,{as:"p",className:"market-is-closed-overlay__main-heading",color:"prominent",weight:"bold"},_.createElement(E.Localize,{i18n_default_text:"This market is closed"})),_.createElement($.Z,{is_main_page:!0,setIsTimerLoading:u,onMarketOpen:i,symbol:a}),l&&_.createElement(S.Text,{align:"center",as:"p",className:"market-is-closed-overlay__main-message",size:"xs"},l),(!e||e&&r)&&_.createElement(S.Button,{className:"market-is-closed-overlay__button",onClick:o,text:p,primary:!0}))};Q.propTypes={is_eu:m().bool,is_market_available:m().bool,is_synthetics_unavailable:m().bool,onClick:m().func,onMarketOpen:m().func,symbol:m().string};const tt=Q;var et=r("mobx");function rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(r),!0).forEach((function(e){ot(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return st(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?st(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function lt(t,e){return(lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ht(t);if(e){var o=ht(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ft(this,r)}}function ft(t,e){return!e||"object"!==it(e)&&"function"!=typeof e?dt(t):e}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lt(t,e)}(i,t);var e,r,n,o=pt(i);function i(){var t;ct(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))).state={is_visible:!1,store:"trade"},t.setVisibility=t.stateVisibility.bind(dt(t)),t.styles={container:{fontSize:"10px",lineHeight:"15px",position:"absolute",zIndex:1,background:"rgba(0, 0, 0, 0.8)",color:"#ccc",padding:"10px",marginTop:"-10px",display:"none",overflowY:"auto",height:"100%",width:"100%"},prop_name:{color:"yellowgreen"},tabs:{display:"flex",textAlign:"center",marginBottom:"10px"},tab:{fontSize:"18px",border:"1px solid grey",width:"100%",padding:"10px"}},t.componentDidMount=function(){document.addEventListener("keyup",t.setVisibility,!1)},t.componentWillUnmount=function(){document.removeEventListener("keyup",t.setVisibility)},t.renderStoreContent=function(e){var r=at(e,2),n=r[0],o=r[1];return"root_store"!==n&&"function"!=typeof o&&_.createElement("div",{key:n},_.createElement("span",{style:t.styles.prop_name},n,":")," ",o&&"object"===it(o)?JSON.stringify((0,et.toJS)(o),null,1):o)},t}return e=i,(r=[{key:"stateVisibility",value:function(t){t.ctrlKey&&83===t.keyCode&&this.setState({is_visible:!this.state.is_visible})}},{key:"render",value:function(){var t=this,e=this.styles,r=e.container,n=e.tab,o=e.tabs,i=this.state,a=i.is_visible,s=i.store;return _.createElement("code",{id:"state_info",style:nt(nt({},r),{},{display:a?"block":"none"})},_.createElement("div",{style:o},Object.keys(this.props).map((function(e){return _.createElement("p",{key:e,onClick:function(){return t.setState({store:e})},style:nt(nt({},n),{},{fontWeight:e===s&&"bold"})},e)}))),this.props[this.state.store].sort().map(this.renderStoreContent))}}])&&ut(e.prototype,r),n&&ut(e,n),i}(_.Component);yt.propTypes={entries:m().array};const mt=(0,D.$j)((function(t){var e=t.modules,r=t.client,n=t.ui;return{trade:Object.entries(e.trade),client:Object.entries(r),ui:Object.entries(n),portfolio:Object.entries(e.portfolio)}}))(yt);var _t=r("./Modules/Contract/Components/Digits/index.js"),bt=r("./Modules/SmartChart/Components/bottom-widgets.jsx"),gt=r("./Modules/SmartChart/index.js"),vt=function(t){var e=t.updateChartType,r=t.updateGranularity;return _.createElement(_.Fragment,null,_.createElement(S.DesktopWrapper,null,_.createElement(gt.oY,{portalNodeId:"modal_root",onChartType:function(t){return e(t)},onGranularity:function(t){return r(t)}}),_.createElement(gt.as,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),_.createElement(gt.NU,{portalNodeId:"modal_root"}),_.createElement(gt.kO,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),_.createElement(gt.mB,{portalNodeId:"modal_root"})))};vt.propTypes={updateChartType:m().func,updateGranularity:m().func};const wt=vt;var Ot=function(t){var e=t.position,r=t.updateChartType,n=t.updateGranularity;return _.createElement(gt.av,{position:e||(0,k.isMobile)()?"bottom":null},_.createElement(gt.oY,{portalNodeId:"modal_root",onChartType:r,onGranularity:n}),(0,k.isDesktop)()&&_.createElement(gt.as,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),(0,k.isDesktop)()&&_.createElement(gt.kO,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),(0,k.isDesktop)()&&_.createElement(gt.NU,{portalNodeId:"modal_root"}),(0,k.isDesktop)()&&_.createElement(gt.mB,{portalNodeId:"modal_root"}))};Ot.propTypes={position:m().string,updateChartType:m().func,updateGranularity:m().func};const St=Ot;var kt=r("./Modules/SmartChart/Components/top-widgets.jsx"),xt=function(t){return t&&function(e){t({target:{name:"symbol",value:e}})}},Pt=(0,D.$j)((function(t){var e=t.modules;return{contract_info:e.contract_trade.last_contract.contract_info||{},digits_info:e.contract_trade.last_contract.digits_info||{},display_status:e.contract_trade.last_contract.display_status,is_digit_contract:e.contract_trade.last_contract.is_digit_contract,is_ended:e.contract_trade.last_contract.is_ended,selected_digit:e.trade.last_digit,onDigitChange:e.trade.onChange,underlying:e.trade.symbol,trade_type:e.trade.contract_type}}))((function(t){var e=t.contract_info,r=t.digits,n=t.digits_info,o=t.display_status,i=t.is_digit_contract,a=t.is_ended,s=t.onDigitChange,c=t.selected_digit,u=t.tick,l=t.trade_type,p=t.underlying;return _.createElement(_t.Z,{contract_info:e,digits_array:r,digits_info:n,display_status:o,is_digit_contract:i,is_ended:a,onDigitChange:s,is_trade_page:!0,tick:u,trade_type:l,selected_digit:c,underlying:p})})),Et=(0,D.$j)((function(t){var e=t.modules,r=t.ui;return{onSymbolChange:e.trade.onChange,theme:r.is_dark_mode_on?"dark":"light"}}))((function(t){var e,r=t.onSymbolChange,n=t.charts_ref,o=t.theme,i=t.is_digits_widget_active,a=t.open_market,s=t.open;return n&&n.chart&&(e=n.chart.yAxiswidth),_.createElement(kt.Z,{open_market:a,open:s,is_mobile:(0,k.isMobile)(),is_digits_widget_active:i,onSymbolChange:xt(r),theme:o,y_axis_width:e})})),Ct=(0,D.$j)((function(t){var e=t.modules;return{updateChartType:e.contract_trade.updateChartType,updateGranularity:e.contract_trade.updateGranularity}}))((function(t){var e=t.updateChartType,r=t.updateGranularity;return _.createElement(St,{updateChartType:e,updateGranularity:r})})),jt=function(t){var e=t.digits,r=t.tick;return _.createElement(bt.Z,{Digits:_.createElement(Pt,{digits:e,tick:r})})},Dt=((0,D.$j)((function(t){var e=t.modules;return{updateChartType:e.contract_trade.updateChartType,updateGranularity:e.contract_trade.updateGranularity}}))((function(t){var e=t.updateChartType,r=t.updateGranularity;return _.createElement(wt,{updateChartType:e,updateGranularity:r})})),v()({loader:function(){return(0,k.isMobile)()?Promise.all([r.e("Modules_Trading_Components_Form_TradeParams_Multiplier_expiration_jsx-Modules_Trading_Compone-90e657"),r.e("screen-small")]).then(r.bind(r,"./Modules/Trading/Components/Form/screen-small.jsx")):Promise.all([r.e("Modules_Trading_Components_Form_TradeParams_Multiplier_expiration_jsx-Modules_Trading_Compone-90e657"),r.e("screen-large")]).then(r.bind(r,"./Modules/Trading/Components/Form/screen-large.jsx"))},loading:function(){return null},render:function(t,e){var r=t.default;return _.createElement(r,e)}})),Tt=function(t){var e=t.is_market_closed,r=t.is_trade_enabled;return _.createElement(_.Fragment,null,_.createElement(Dt,{is_trade_enabled:r,is_market_closed:(0,k.isMobile)()?void 0:e}))};Tt.propTypes={is_market_closed:m().bool,is_trade_enabled:m().bool};const Mt=_.memo(Tt);var At=function(t){if(!window.DOMParser)return null;var e=(new window.DOMParser).parseFromString(t,"image/svg+xml").children[0],r=e.attributes,n=r.width,o=r.height;n=1*n.value,o=1*o.value;var i=[];return[].forEach.call(e.children,(function(t){var e=t.attributes,r=e.d,n=e.fill,o=e.stroke;i.push({points:r.value.match(/M|C|H|A|L|V|-?\d*(\.\d+)?/g).filter((function(t){return t})).map((function(t){return-1==="MCHALV".indexOf(t)?1*t:t})),fill:n&&n.value,stroke:o&&o.value})})),{width:n,height:o,paths:i,with_color:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"white";return{width:n,height:o,paths:i.map((function(r){var n=r.points,o=r.fill;return{points:n,stroke:r.stroke,fill:"white"!==o?t:e}}))}}}},Rt=At('\n<svg width="15" height="20" viewBox="0 0 15 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7,20 C11.2,14.4 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 2.8,14.4 7,20 Z" fill="#333333"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="A7 7 4.2 0 6.283185307179586" fill="white" />\n</svg>'),Nt=At('\n<svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2 2L18 2L18 12L2 12Z" fill="white" />\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2,0 L2,1 L19,1 L19,12 L2,12 L2,20 L1,20 L1,0 L2,0 Z M18,8 L15,8 L15,11 L18,11 L18,8 Z M12,8 L9,8 L9,11 L12,11 L12,8 Z M6,8 L3,8 L3,11 L6,11 L6,8 Z M15,5 L12,5 L12,8 L15,8 L15,5 Z M9,5 L6,5 L6,8 L9,8 L9,5 Z M6,2 L3,2 L3,5 L6,5 L6,2 Z M18,2 L15,2 L15,5 L18,5 L18,2 Z M12,2 L9,2 L9,5 L12,5 L12,2 Z" fill="#333333"/>\n</svg>\n');function zt(t,e){return Yt(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||Ut(t,e)||It()}function Lt(t){return Yt(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Ut(t)||It()}function It(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ut(t,e){if(t){if("string"==typeof t)return Ft(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(t,e):void 0}}function Ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yt(t){if(Array.isArray(t))return t}function Ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(r),!0).forEach((function(e){Bt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wt(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var Gt=navigator.userAgent.search("Firefox")>0,qt=function(t){return function(e){var r=e.epoch_array,n=e.price_array,o=Wt(e,["epoch_array","price_array"]);return _.createElement(gt.If,{epoch_array:r,price_array:n,draw_callback:function(e){return t(Vt(Vt({},e),o))}})}};function Zt(t){var e=t.status,r=t.profit,n=t.is_dark_theme?{open:"#377cfc",won:"#00a79e",lost:"#cc2e3d",sold:"#ffad3a",fg:"#ffffff",bg:"#0e0e0e"}:{open:"#377cfc",won:"#4bb4b3",lost:"#ec3f3f",sold:"#ffad3a",fg:"#333333",bg:"#ffffff"},o=n[e||"open"];return"open"===e&&r&&(o=n[r>0?"won":"lost"]),o}var Xt=function(t){return t?Math.max(Math.min(Math.sqrt(t/18),1.2),.8):1},$t=[],Jt=function(t,e){if(0===$t.length)for(var r=255;r>=0;--r)$t[r]=(r<16?"0":"")+r.toString(16);var n=Math.floor(255*Math.min(Math.max(e-t-10,0)/6,1));return $t[n]},Kt=function(t,e){var r=e.zoom,n=e.top,o=e.left,i=e.icon;t.save();var a=Xt(r);t.translate(o-i.width*a/2,n-i.height*a/2),t.scale(a,a),i.paths.forEach((function(e){var r,n,o=e.points,i=e.fill,a=e.stroke;i&&(t.fillStyle=i),a&&(t.strokeStyle=a),t.beginPath();for(var s=0;s<o.length;s++){var c=void 0,u=void 0,l=void 0,p=void 0,f=void 0,d=void 0,h=void 0;if("M"===o[s])c=o[++s],u=o[++s],t.moveTo(c,u);else if("L"===o[s])c=o[++s],u=o[++s],t.lineTo(c,u);else if("V"===o[s])u=o[++s],t.lineTo(r,u);else if("H"===o[s])c=o[++s],t.lineTo(c,n);else if("Q"===o[s])l=o[++s],f=o[++s],c=o[++s],u=o[++s],t.quadraticCurveTo(l,f,c,u);else if("C"===o[s])l=o[++s],f=o[++s],p=o[++s],d=o[++s],c=o[++s],u=o[++s],t.bezierCurveTo(l,f,p,d,c,u);else if("A"===o[s]){c=o[++s],u=o[++s],h=o[++s];var y=o[++s],m=o[++s];t.arc(c,u,h,y,m)}r=c,n=u}t.closePath(),i&&t.fill(),a&&t.stroke()})),t.scale(1,1),t.restore()},Qt=function(t){var e=t.ctx,r=t.text,n=t.tick,o=n.zoom,i=n.left,a=n.top,s=Xt(o),c=Math.floor(3*s+7);e.font="".concat(c,"px Roboto"),r.split(/\n/).forEach((function(t,r){var n=Math.ceil(e.measureText(t).width);e.fillText(t,i-5-n,a+r*c+1)}))},te=function(t){var e=t.ctx,r=t.is_dark_theme,n=t.text,o=t.left,i=t.top,a=t.scale;e.textAlign="center";var s=Math.floor(12*a);e.font="bold ".concat(s,"px BinarySymbols, Roboto"),Gt||(e.shadowColor=r?"rgba(16,19,31,1)":"rgba(255,255,255,1)",e.shadowBlur=12);for(var c=0;c<(Gt?1:5);++c)e.fillText(n,o,i)},ee=qt((function(t){var e=t.ctx,r=t.canvas_height,n=Lt(t.points),o=n[0],i=n.slice(1),a=zt(t.prices,1)[0],s=t.is_last_contract,c=t.is_dark_theme,u=t.granularity,l=t.contract_info,p=l.status,f=l.profit,d=l.is_sold,h=l.is_expired,y=l.tick_count,m=e,_=Zt({is_dark_theme:c,status:p,profit:d?f:null});m.save(),m.strokeStyle=_,m.fillStyle=_;var b=s&&o.visible&&!d,g=Xt(o.zoom),v=r/window.devicePixelRatio;if(a&&(a=Math.min(Math.max(a,2),v-32)),b&&(Qt({ctx:m,text:"Start\nTime",tick:{zom:o.zoom,left:o.left-1*g,top:v-50}}),m.beginPath(),m.setLineDash([3,3]),m.moveTo(o.left-1*g,0),i.length&&a&&(m.lineTo(o.left-1*g,a-34*g),m.moveTo(o.left-1*g,a+4*g)),m.lineTo(o.left-1*g,r),m.stroke()),i.length&&a){var w=i[0],O=i[i.length-1],S=d?Jt(o.left,O.left):"";(o.visible||w.visible||O.visible)&&(m.strokeStyle=_+S,m.beginPath(),m.setLineDash([1,1]),m.moveTo(o.left,a),m.lineTo(w.left,a),m.stroke(),m.beginPath(),m.setLineDash([]),m.moveTo(w.left,a),m.lineTo(O.left,a),m.stroke(),m.strokeStyle=_),s&&0===u&&!d&&(i.filter((function(t){return t.visible})).forEach((function(t){var e=t===O?_:Zt({status:"fg",is_dark_theme:c});m.fillStyle=e+S,m.beginPath(),m.arc(t.left-1*g,t.top,1.5*g,0,2*Math.PI),m.fill()})),m.fillStyle=_),0===u&&([w,h?O:null].forEach((function(t){t&&t.visible&&(m.strokeStyle=_+S,m.setLineDash([2,2]),m.beginPath(),m.moveTo(t.left-1*g,t.top),m.lineTo(t.left-1*g,a),m.stroke(),m.fillStyle=_+S,m.beginPath(),m.arc(t.left-1*g,t.top,3*g,0,2*Math.PI),m.fill(),t===w&&(m.beginPath(),m.fillStyle=Zt({status:"bg",is_dark_theme:c})+S,m.arc(t.left-1*g,t.top,2*g,0,2*Math.PI),m.fill()))})),m.strokeStyle=_,m.fillStyle=_),o.visible&&!d&&te({ctx:m,scale:g,is_dark_theme:c,text:"".concat(i.length-1,"/").concat(y),left:o.left,top:a-27*g}),o.visible&&Kt(m,{top:a-9*g,left:o.left-1*g,zoom:o.zoom,icon:Rt.with_color(_+(d?S:""),Zt({status:"bg",is_dark_theme:c})+(d?S:""))}),O.visible&&d&&Kt(m,{top:a-9*g,left:O.left+8*g,zoom:O.zoom,icon:Nt.with_color(_,Zt({status:"bg",is_dark_theme:c}))}),m.restore()}else m.restore()})),re={AUD:"A$",EUR:"",GBP:"",JPY:"",USD:"$",BTC:"B",BCH:"",ETH:"E",ETC:"",LTC:"L",UST:""};const ne={TickContract:ee,NonTickContract:qt((function(t){var e=t.ctx,r=t.canvas_height,n=zt(t.points,4),o=n[0],i=n[1],a=n[2],s=n[3],c=t.is_last_contract,u=zt(t.prices,3),l=u[0],p=u[1],f=u[2],d=t.is_dark_theme,h=t.granularity,y=t.currency,m=t.contract_info,_=m.is_sold,b=m.status,g=m.profit,v=e;0!==h&&(a&&(a.top=p),s&&(s.top=f));var w=Zt({status:b,profit:g,is_dark_theme:d});v.save(),v.strokeStyle=w,v.fillStyle=w;var O=c&&o.visible&&!_,S=c&&!_&&g&&o.visible&&l,x=Xt(o.zoom),P=_?Jt(o.left,i.left):"",E=r/window.devicePixelRatio;if(l&&(l=Math.min(Math.max(l,2),E-32)),O&&(Qt({ctx:v,text:"Start\nTime",tick:{zom:o.zoom,left:o.left-1*x,top:E-50}}),v.beginPath(),v.setLineDash([3,3]),v.moveTo(o.left-1*x,0),l&&(v.lineTo(o.left-1*x,l-(S?38:20)*x),v.moveTo(o.left-1*x,l+4*x)),v.lineTo(o.left-1*x,r),v.stroke()),l&&a&&(o.visible||i.visible||Math.sign(o.left)!==Math.sign(i.left))&&(v.strokeStyle=w+P,v.beginPath(),v.setLineDash([1,1]),v.moveTo(o.left,l),v.lineTo(a.left,l),v.stroke(),v.beginPath(),v.setLineDash([]),v.moveTo(a.left,l),v.lineTo(i.left,l),v.stroke(),v.strokeStyle=w),[a,s].forEach((function(t){t&&t.visible&&(v.strokeStyle=w+P,v.setLineDash([2,2]),v.beginPath(),v.moveTo(t.left-1*x,t.top),v.lineTo(t.left-1*x,l),v.stroke(),v.fillStyle=w+P,v.beginPath(),v.arc(t.left-1*x,t.top,3*x,0,2*Math.PI),v.fill(),t===a&&(v.beginPath(),v.fillStyle=Zt({status:"bg",is_dark_theme:d})+P,v.arc(t.left-1*x,t.top,2*x,0,2*Math.PI),v.fill()),v.fillStyle=w,v.strokeStyle=w)})),o&&o.visible&&l&&Kt(v,{top:l-9*x,left:o.left-1*x,zoom:o.zoom,icon:Rt.with_color(w+P)}),S){var C=re[y]||"",j=(0,k.getDecimalPlaces)(y),D="".concat(g<0?"-":g>0?"+":" ").concat(C).concat(Math.abs(g).toFixed(j));te({ctx:v,scale:x,text:D,is_dark_theme:d,left:o.left,top:l-28*x})}i.visible&&Kt(v,{top:l-9*x,left:i.left+8*x,zoom:i.zoom,icon:Nt.with_color(w,Zt({status:"bg",is_dark_theme:d}))}),v.restore()})),DigitContract:qt((function(t){var e=t.ctx,r=Lt(t.points),n=r[0],o=r.slice(1),i=zt(t.prices,2),a=i[0],s=i[1],c=t.is_last_contract,u=t.is_dark_theme,l=t.granularity,p=t.contract_info,f=p.status,d=p.profit,h=p.is_sold,y=p.tick_stream,m=p.tick_count,_=e,b=Zt({is_dark_theme:u,status:f,profit:h?d:null});_.save(),_.strokeStyle=b,_.fillStyle=b;var g=c&&n.visible&&!h,v=Xt(n.zoom);if(0!==l&&n&&a&&(n.top=a),g&&(_.beginPath(),_.setLineDash([3,3]),_.moveTo(n.left-1*v,0),o.length&&(_.lineTo(n.left-1*v,n.top-34*v),_.moveTo(n.left-1*v,n.top+4*v)),_.lineTo(n.left-1*v,_.canvas.height),_.stroke()),o.length){var w=o[o.length-1],O=h?Jt(n.left,w.left):"";0!==l&&w&&s&&(w.top=s),n.visible&&n.top&&!h&&te({ctx:_,scale:v,is_dark_theme:u,text:"".concat(o.length,"/").concat(m),left:n.left-1*v,top:n.top-27*v}),!n.visible||0!==l&&h||Kt(_,{top:n.top-9*v,left:n.left-1*v,zoom:n.zoom,icon:Rt.with_color(b+O,Zt({status:"bg",is_dark_theme:u})+O)}),o.forEach((function(t,e){if(t===w&&t.visible&&(0===l||t===w)&&(0===l||t!==w||h)){var r=t!==w?Zt({status:"fg",is_dark_theme:u}):b;_.beginPath(),_.fillStyle=r,_.arc(t.left,t.top,7*v,0,2*Math.PI),_.fill(),_.beginPath(),_.fillStyle=h?b:Zt({status:"bg",is_dark_theme:u}),_.arc(t.left,t.top,6*v,0,2*Math.PI),_.fill();var n=y[e].tick_display_value.slice(-1);_.fillStyle=h?"white":r,_.textAlign="center",_.shadowBlur=0,_.font="bold ".concat(12*v,"px BinarySymbols, Roboto"),_.fillText(n,t.left,t.top)}})),w.visible&&h&&(_.fillStyle=b,Kt(_,{top:w.top-16*v,left:w.left+8*v,zoom:w.zoom,icon:Nt.with_color(b,Zt({status:"bg",is_dark_theme:u}))})),_.restore()}else _.restore()}))};function oe(t){return function(t){if(Array.isArray(t))return le(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||ue(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(){return(ie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ae(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function se(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ae(i,n,o,a,s,"next",t)}function s(t){ae(i,n,o,a,s,"throw",t)}a(void 0)}))}}function ce(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||ue(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(t,e){if(t){if("string"==typeof t)return le(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(t,e):void 0}}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var pe=function(t){var e=t.tick,r=t.digits,n=t.setTick,o=t.setDigits;return _.useEffect((function(){n(e)}),[e]),_.useEffect((function(){o(r)}),[r]),null};const fe=(0,D.$j)((function(t){var e=t.client,r=t.common,n=t.modules,o=t.ui;return{getFirstOpenMarket:n.trade.getFirstOpenMarket,is_eu:e.is_eu,is_synthetics_unavailable:e.is_synthetics_unavailable,network_status:r.network_status,contract_type:n.trade.contract_type,form_components:n.trade.form_components,is_chart_loading:n.trade.is_chart_loading,is_market_closed:n.trade.is_market_closed,show_digits_stats:n.trade.show_digits_stats,is_trade_enabled:n.trade.is_trade_enabled,prepareTradeStore:n.trade.prepareTradeStore,setMobileDigitView:n.trade.setMobileDigitView,symbol:n.trade.symbol,onMount:n.trade.onMount,onUnmount:n.trade.onUnmount,purchase_info:n.trade.purchase_info,NotificationMessages:o.notification_messages_ui,is_market_unavailable_visible:o.has_only_forward_starting_contracts}}))((function(t){var e=t.contract_type,r=t.form_components,n=t.getFirstOpenMarket,o=t.is_chart_loading,i=t.is_dark_theme,a=t.is_eu,s=t.is_market_closed,c=t.is_market_unavailable_visible,u=t.is_synthetics_unavailable,l=t.is_trade_enabled,p=t.network_status,f=t.NotificationMessages,d=t.onMount,h=t.onUnmount,y=t.prepareTradeStore,m=t.setMobileDigitView,b=t.show_digits_stats,g=t.symbol,v=ce(_.useState([]),2),w=v[0],O=v[1],x=ce(_.useState({}),2),P=x[0],E=x[1],D=ce(_.useState(!1),2),T=D[0],M=D[1],A=ce(_.useState(!1),2),R=A[0],N=A[1],z=ce(_.useState(null),2),L=z[0],I=z[1],U=ce(_.useState(null),2),F=U[0],Y=U[1],H=ce(_.useState(!1),2),V=H[0],B=H[1];_.useEffect((function(){return d(),a&&function(){var t=se(regeneratorRuntime.mark((function t(){var e,r,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=["forex","indices","commodities"],t.next=3,n(r);case 3:if(t.t1=e=t.sent,t.t0=null!==t.t1,!t.t0){t.next=7;break}t.t0=void 0!==e;case 7:if(!t.t0){t.next=11;break}t.t2=e,t.next=12;break;case 11:t.t2={};case 12:o=t.t2,i=o.category,a=o.subcategory,i&&(I(i),Y(a));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){return h()}}),[d,h]),_.useEffect((function(){(0,k.isMobile)()&&O([]),M(!1),N(!1)}),[g,O,M]);var W=_.useCallback((function(t){var e=t.digits,r=t.tick;return _.createElement(pe,{digits:e,tick:r,setTick:E,setDigits:O})}),[]),G=function(){var t=se(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a||u?(N(!0),setTimeout((function(){return N(!1)}))):(M(!0),setTimeout((function(){return M(!1)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),q=(0,k.isMobile)()?"mobile-wrapper":"sidebar__container desktop-only",Z=null;return T?Z={category:"synthetic_index"}:R&&L&&(Z={category:L,subcategory:F}),_.createElement("div",{id:"trade_container",className:"trade-container"},_.createElement(S.DesktopWrapper,null,_.createElement(X,null)),_.createElement(S.Div100vhContainer,{id:"chart_container",className:"chart-container",is_disabled:(0,k.isDesktop)(),height_offset:"259px"},_.createElement(f,null),_.createElement(_.Suspense,{fallback:_.createElement(C.Z,{is_dark:i,is_visible:!g||o})},_.createElement(S.DesktopWrapper,null,_.createElement("div",{className:"chart-container__wrapper"},_.createElement(C.Z,{is_visible:o}),_.createElement(be,{try_synthetic_indices:T,try_open_markets:R,open_market:Z}))),_.createElement(S.MobileWrapper,null,_.createElement(C.Z,{is_visible:o||(0,j.A)(e)&&!w[0]}),_.createElement(S.SwipeableWrapper,{onChange:function(t){m(0===t),B(0===t)},is_disabled:!b||!l||0===r.length||o},b&&_.createElement(Pt,{digits:w,tick:P}),_.createElement(be,{bottomWidgets:b?W:void 0,is_digits_widget_active:b?V:void 0,try_synthetic_indices:T,try_open_markets:R,open_market:Z})))),_.createElement(mt,null)),_.createElement("div",{className:q},s&&!c&&_.createElement(tt,ie({is_eu:a,is_synthetics_unavailable:u},a&&L&&{is_market_available:!0},{onClick:G,onMarketOpen:y,symbol:g})),_.createElement(Mt,{is_market_closed:s,is_trade_enabled:l&&r.length>0&&"online"===p.class})))}));var de=_.forwardRef((function(t,e){return _.createElement(gt.Xb,ie({innerRef:e},t))})),he=(0,D.$j)((function(t){var e=t.modules,r=t.ui,n=t.client;return{markers_array:e.contract_trade.markers_array,is_digit_contract:e.contract_trade.is_digit_contract,granularity:e.contract_trade.granularity,is_dark_theme:r.is_dark_mode_on,currency:n.currency}}))((function(t){var e=t.markers_array,r=t.is_dark_theme,n=t.granularity,o=t.currency,i=t.config;return e.map((function(t){var e=ne[t.type];return _.createElement(e,ie({key:t.key,is_dark_theme:r,granularity:n,currency:o,config:i},t))}))})),ye=function(t){var e=t.active_symbols,r=t.chart_layout,n=t.chart_type,o=t.chartStateChange,i=t.exportLayout,a=t.extra_barriers,s=void 0===a?[]:a,c=t.end_epoch,u=t.granularity,l=t.has_alternative_source,p=t.is_trade_enabled,f=t.is_socket_opened,d=t.main_barrier,h=t.refToAddTick,y=t.resetRefresh,m=t.setChartStatus,b=t.settings,g=t.show_digits_stats,v=t.should_refresh,w=t.symbol,O=t.wsForget,x=t.wsForgetStream,P=t.wsSendRequest,E=t.wsSubscribe,C=_.useRef(),j=_.useRef();j.current=t,(0,S.usePrevious)(v)&&y();var D=_.useCallback((function(t){var e=t.digits,r=t.tick;return _.createElement(jt,{digits:e,tick:r})}),[]),T=_.useCallback((function(t){var e=ie({},t),r=j.current,n=r.is_digits_widget_active,o=r.try_synthetic_indices,i=r.try_open_markets,a=r.open_market;return _.createElement(Et,ie({open_market:a,open:o||i,charts_ref:C,is_digits_widget_active:n},e))}),[]),M=d?[d].concat(oe(s)):s,A=0===u?8:24;return w&&0!==e.length?_.createElement(de,{ref:C,barriers:M,bottomWidgets:g&&(0,k.isDesktop)()?D:t.bottomWidgets,crosshair:(0,k.isMobile)()?0:void 0,crosshairTooltipLeftAllow:560,showLastDigitStats:!!(0,k.isDesktop)()&&g,chartControlsWidgets:null,chartStatusListener:function(t){return m(!t)},chartType:n,enabledNavigationWidget:(0,k.isDesktop)(),enabledChartFooter:!1,id:"trade",isMobile:(0,k.isMobile)(),maxTick:(0,k.isMobile)()?A:void 0,granularity:u,requestAPI:P,requestForget:O,requestForgetStream:x,requestSubscribe:E,settings:b,stateChangeListener:o,symbol:w,topWidgets:p?T:null,isConnectionOpened:f,clearChart:!1,toolbarWidget:Ct,importedLayout:r,onExportLayout:i,shouldFetchTradingTimes:!c,refreshActiveSymbols:v,hasAlternativeSource:l,refToAddTick:h,getMarketsOrder:function(t){var e="synthetic_index",r=!!t.find((function(t){return t.market===e}));return t.slice().sort((function(t,e){return t.display_name<e.display_name?-1:1})).map((function(t){return t.market})).reduce((function(t,e){return-1===t.indexOf(e)&&t.push(e),t}),r?[e]:[])},yAxisMargin:{top:(0,k.isMobile)()?76:106}},_.createElement(he,null)):null};ye.propTypes={bottomWidgets:m().func,chart_type:m().string,chart_layout:m().any,chartStateChange:m().func,exportLayout:m().func,end_epoch:m().number,granularity:m().number,is_digits_widget_active:m().bool,is_trade_enabled:m().bool,is_socket_opened:m().bool,has_alternative_source:m().bool,main_barrier:m().any,refToAddTick:m().func,setChartStatus:m().func,settings:m().object,symbol:m().string,try_synthetic_indices:m().bool,wsForget:m().func,wsForgetStream:m().func,wsSendRequest:m().func,wsSubscribe:m().func};var me,_e,be=(0,D.$j)((function(t){var e=t.modules,r=t.ui,n=t.common;return{is_socket_opened:n.is_socket_opened,granularity:e.contract_trade.granularity,chart_type:e.contract_trade.chart_type,chartStateChange:e.trade.chartStateChange,settings:{assetInformation:!1,countdown:r.is_chart_countdown_visible,isHighestLowestMarkerEnabled:!1,language:n.current_language.toLowerCase(),position:r.is_chart_layout_default?"bottom":"left",theme:r.is_dark_mode_on?"dark":"light"},last_contract:{is_digit_contract:e.contract_trade.last_contract.is_digit_contract,is_ended:e.contract_trade.last_contract.is_ended},is_trade_enabled:e.trade.is_trade_enabled,main_barrier:e.trade.main_barrier_flattened,extra_barriers:e.trade.barriers_flattened,show_digits_stats:e.trade.show_digits_stats,contract_type:e.trade.contract_type,symbol:e.trade.symbol,exportLayout:e.trade.exportLayout,setChartStatus:e.trade.setChartStatus,chart_layout:e.trade.chart_layout,wsForget:e.trade.wsForget,wsForgetStream:e.trade.wsForgetStream,wsSendRequest:e.trade.wsSendRequest,wsSubscribe:e.trade.wsSubscribe,active_symbols:e.trade.active_symbols,should_refresh:e.trade.should_refresh_active_symbols,resetRefresh:e.trade.resetRefresh,has_alternative_source:e.trade.has_alternative_source,refToAddTick:e.trade.refToAddTick}}))(ye),ge=_.lazy((function(){return r.e("contract").then(r.bind(r,"./Modules/Contract/index.js"))})),ve=_.lazy((function(){return Promise.all([r.e("vendors-node_modules_formik_dist_formik_esm_js"),r.e("mt5")]).then(r.bind(r,"./Modules/MT5/index.js"))})),we=function(t){return t.pastDelay?_.createElement(S.Loading,null):null},Oe=(me=function(){return r.e("reports").then(r.bind(r,"./Modules/Reports/index.js"))},function(t){return v().Map({loader:{ComponentModule:me},render:function(e,r){var n=e.ComponentModule.default[t];return _.createElement(n,r)},loading:we})}),Se={component:_.lazy((function(){return Promise.resolve().then(r.bind(r,"./Modules/Page404/index.js"))})),getTitle:function(){return(0,E.localize)("Error 404")}};const ke=function(){return _e||(_e=[{path:k.routes.contract,component:ge,getTitle:function(){return(0,E.localize)("Contract Details")},is_authenticated:!0},{path:k.routes.mt5,component:ve,getTitle:function(){return(0,E.localize)("MT5")},is_authenticated:!1},{path:k.routes.reports,component:Oe("Reports"),is_authenticated:!0,getTitle:function(){return(0,E.localize)("Reports")},icon_component:"IcReports",routes:[{path:k.routes.positions,component:Oe("OpenPositions"),getTitle:function(){return(0,E.localize)("Open positions")},icon_component:"IcOpenPositions",default:!0},{path:k.routes.profit,component:Oe("ProfitTable"),getTitle:function(){return(0,E.localize)("Profit table")},icon_component:"IcProfitTable"},{path:k.routes.statement,component:Oe("Statement"),getTitle:function(){return(0,E.localize)("Statement")},icon_component:"IcStatement"}]},{path:k.routes.trade,component:fe,getTitle:function(){return(0,E.localize)("Trader")},exact:!0}]).push(Se),_e};function xe(){return(xe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Pe(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var Ee=function(t){var e=t.active_class,r=t.to,n=t.children,o=Pe(t,["active_class","to","children"]),i=(0,P.AH)(r),a=(0,P.U_)(i,ke());if(!a)throw new Error("Route not found: ".concat(r));return r?_.createElement(x.NavLink,xe({to:i,activeClassName:e||"active",exact:a.exact},o),n):_.createElement("a",o,n)};Ee.propTypes={active_class:m().string,children:m().oneOfType([m().object,m().array,m().string]),to:m().string};const Ce=Ee;var je=r("./Modules/Page404/index.js");function De(){return(De=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}const Te=function(t){return _.createElement(x.Route,{exact:t.exact,path:t.path,render:function(e){var r,n=null,o=(0,k.removeBranchName)(location.pathname).replace(/\/$/,""),i=function(e){var r;return""===e||(null!==(r=t.path)&&void 0!==r&&r.includes(":")?e.substring(0,e.lastIndexOf("/")+1)===t.path.substring(0,t.path.indexOf(":")):t.path===e||!(!t.routes||!t.routes.find((function(t){return e===t.path}))))}(o);if(t.component===x.Redirect){var a=t.to;t.path===k.routes.index&&(a=e.location.pathname.toLowerCase().replace(t.path,"")),n=_.createElement(x.Redirect,{to:a})}else if(i&&t.is_authenticated&&!t.is_logging_in&&!t.is_logged_in)(0,k.redirectToLogin)(t.is_logged_in,(0,E.getLanguage)());else{var s=t.routes?t.routes.find((function(t){return t.default})):{},c=!(0,k.isEmptyObject)(s);n=_.createElement(_.Fragment,null,c&&o===t.path&&_.createElement(x.Redirect,{to:s.path}),i?_.createElement(t.component,De({},e,{routes:t.routes})):_.createElement(je.default,null))}var u=(null===(r=t.getTitle)||void 0===r?void 0:r.call(t))||"";return document.title="".concat(u," | ").concat(k.default_title),n}})};function Me(){return(Me=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}const Ae=function(t){return _.createElement(_.Suspense,{fallback:_.createElement("div",null)},_.createElement(x.Switch,null,ke().map((function(e,r){return _.createElement(Te,Me({key:r},e,t))}))))};var Re=function(t,e){return t.some((function(t){return!!(0,O.matchPath)(e,{path:t,exact:!0})}))},Ne=function(t){var e=t.path_from,r=t.path_to,n=t.action,o=t.match_patterns,i=t.callback;return"PUSH"!==n&&"POP"!==n||i(o.some((function(t){return Re(t.from,e)&&Re(t.to,r)}))),!0},ze=v()({loader:function(){return r.e("error-component").then(r.bind(r,"./App/Components/Elements/Errors/index.js"))},loading:S.UILoader,render:function(t,e){var r=t.default;return _.createElement(r,e)}}),Le=function(t){var e=t.clearPortfolio,r=t.error,n=t.has_error,o=t.history,i=t.is_logged_in,a=t.is_logging_in,s=t.passthrough,c=t.setPromptHandler,u=t.setTradeMountingPolicy;return _.useEffect((function(){return c&&c(!0,(function(t,r){return Ne({path_from:o.location.pathname,path_to:t.pathname,match_patterns:[{from:ke().flatMap((function(t){return t.routes?t.routes.map((function(t){return t.path})):[t.path]})).filter((function(t){return t&&t!==k.routes.mt5})),to:[k.routes.mt5]}],action:r,callback:function(t){t&&e()}}),Ne({path_from:o.location.pathname,path_to:t.pathname,match_patterns:[{from:[k.routes.contract],to:[k.routes.trade]},{from:[k.routes.trade],to:[k.routes.contract]}],action:r,callback:u})})),function(){null==c||c(!1)}}),[]),_.useEffect((function(){return function(){return e()}}),[e]),n?_.createElement(ze,r):_.createElement(Ae,{is_logged_in:i,is_logging_in:a,passthrough:s})};Le.propTypes={error:w.PropTypes.objectOrObservableObject,has_error:m().bool,history:m().object,is_logged_in:m().bool,is_logging_in:m().bool,passthrough:m().object,setPromptHandler:m().func,setTradeMountingPolicy:m().func};const Ie=(0,O.withRouter)((0,D.$j)((function(t){var e=t.client,r=t.common,n=t.modules,o=t.ui;return{clearPortfolio:n.portfolio.clearTable,error:r.error,has_error:r.has_error,is_logged_in:e.is_logged_in,is_logging_in:e.is_logging_in,setPromptHandler:o.setPromptHandler,setTradeMountingPolicy:n.trade.setSkipPrePostLifecycle}}))(Le));var Ue=r("../../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose/_index.mjs"),Fe=r("../../../node_modules/@babel/runtime/helpers/extends/_index.mjs"),Ye=r("../../../node_modules/@babel/runtime/helpers/inheritsLoose/_index.mjs"),He=r("../../../node_modules/react-transition-group/esm/TransitionGroupContext.js");function Ve(t,e){var r=Object.create(null);return t&&_.Children.map(t,(function(t){return t})).forEach((function(t){r[t.key]=function(t){return e&&(0,_.isValidElement)(t)?e(t):t}(t)})),r}function Be(t,e,r){return null!=r[e]?r[e]:t.props[e]}function We(t,e,r){var n=Ve(t.children),o=function(t,e){function r(r){return r in e?e[r]:t[r]}t=t||{},e=e||{};var n,o=Object.create(null),i=[];for(var a in t)a in e?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var c in e){if(o[c])for(n=0;n<o[c].length;n++){var u=o[c][n];s[o[c][n]]=r(u)}s[c]=r(c)}for(n=0;n<i.length;n++)s[i[n]]=r(i[n]);return s}(e,n);return Object.keys(o).forEach((function(i){var a=o[i];if((0,_.isValidElement)(a)){var s=i in e,c=i in n,u=e[i],l=(0,_.isValidElement)(u)&&!u.props.in;!c||s&&!l?c||!s||l?c&&s&&(0,_.isValidElement)(u)&&(o[i]=(0,_.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:Be(a,"exit",t),enter:Be(a,"enter",t)})):o[i]=(0,_.cloneElement)(a,{in:!1}):o[i]=(0,_.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:Be(a,"exit",t),enter:Be(a,"enter",t)})}})),o}var Ge=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},qe=function(t){function e(e,r){var n,o=(n=t.call(this,e,r)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n));return n.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},n}(0,Ye.Z)(e,t);var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(t,e){var r,n,o=e.children,i=e.handleExited;return{children:e.firstRender?(r=t,n=i,Ve(r.children,(function(t){return(0,_.cloneElement)(t,{onExited:n.bind(null,t),in:!0,appear:Be(t,"appear",r),enter:Be(t,"enter",r),exit:Be(t,"exit",r)})}))):We(t,o,i),firstRender:!1}},r.handleExited=function(t,e){var r=Ve(this.props.children);t.key in r||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var r=(0,Fe.Z)({},e.children);return delete r[t.key],{children:r}})))},r.render=function(){var t=this.props,e=t.component,r=t.childFactory,n=(0,Ue.Z)(t,["component","childFactory"]),o=this.state.contextValue,i=Ge(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===e?b().createElement(He.Z.Provider,{value:o},i):b().createElement(He.Z.Provider,{value:o},b().createElement(e,n,i))},e}(b().Component);qe.propTypes={},qe.defaultProps={component:"div",childFactory:function(t){return t}};const Ze=qe;var Xe=r("./Stores/Modules/Trading/Helpers/active-symbols.js"),$e=r("./Stores/Modules/Contract/Helpers/multiplier.js"),Je=r("./App/Components/Elements/ContentLoader/index.js"),Ke=r("./Constants/contract.js"),Qe=r("./Modules/Reports/Helpers/market-underlying.js");function tr(t){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function er(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nr(t,e){return(nr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function or(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ar(t);if(e){var o=ar(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ir(this,r)}}function ir(t,e){return!e||"object"!==tr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ar(t){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nr(t,e)}(i,t);var e,r,n,o=or(i);function i(){var t;er(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))).handleClick=function(e){t.props.is_unsupported&&(e.preventDefault(),t.props.onClick())},t}return e=i,(r=[{key:"render",value:function(){var t=this.props,e=t.is_visible,r="won"===t.result;return _.createElement(_.Fragment,null,_.createElement(A.Z,{in:e,timeout:250,classNames:{enter:"positions-modal-card__result--enter",enterDone:"positions-modal-card__result--enter-done",exit:"positions-modal-card__result--exit"},unmountOnExit:!0},_.createElement("div",{className:"positions-modal-card__caption-wrapper"},_.createElement("span",{className:M()("positions-modal-card__caption",{"positions-modal-card__caption--won":r,"positions-modal-card__caption--lost":!r})},r?_.createElement(_.Fragment,null,(0,E.localize)("Won"),_.createElement(S.Icon,{icon:"IcCheckmarkCircle",className:"positions-modal-card__icon",color:"green"})):_.createElement(_.Fragment,null,(0,E.localize)("Lost"),_.createElement(S.Icon,{icon:"IcCrossCircle",className:"positions-modal-card__icon",color:"red"}))))))}}])&&rr(e.prototype,r),n&&rr(e,n),i}(_.PureComponent);sr.propTypes={is_unsupported:m().bool,is_visible:m().bool,onClick:m().func,result:m().string};const cr=sr;var ur=function(t){var e,r=t.active_symbols,n=t.addToast,o=t.className,i=t.contract_info,a=t.contract_update,s=t.currency,c=t.current_focus,u=t.current_tick,l=t.getContractById,p=t.id,f=t.indicative,d=t.is_loading,h=t.is_mobile,y=t.is_sell_requested,m=t.is_unsupported,b=t.onClickRemove,g=t.onClickSell,v=t.profit_loss,w=t.onClickCancel,O=t.removeToast,x=t.result,P=t.sell_price,C=t.server_time,j=t.setCurrentFocus,D=t.should_show_cancellation_warning,T=t.status,R=t.toggleCancellationWarning,N=t.togglePositions,z=t.toggleUnsupportedContractModal,L=t.type,I=_.createElement("div",{className:"positions-modal-card__content-loader"},_.createElement(Je.rl,{speed:2})),U=(0,k.isMultiplierContract)(i.contract_type),F=(0,k.isCryptoContract)(i.underlying),Y=!U||F&&U,H=v>=0?"won":"lost",V=(0,k.hasContractEntered)(i)&&(0,k.isOpen)(i),B=(0,Xe.rh)(r,(0,Qe.cS)(i.shortcode).underlying),W=_.createElement(_.Fragment,null,_.createElement("div",{className:M()("positions-modal-card__grid","positions-modal-card__grid-header")},_.createElement("div",{className:"positions-modal-card__underlying-name"},_.createElement(S.Icon,{icon:i.underlying?"IcUnderlying".concat(i.underlying):"IcUnknown",size:34}),_.createElement(S.Text,{size:"xxs",className:"positions-modal-card__symbol",weight:"bold"},i.display_name)),_.createElement("div",{className:"positions-modal-card__type"},_.createElement(S.ContractCard.ContractTypeCell,{getContractTypeDisplay:Ke.h8,is_high_low:(0,k.isHighLow)({shortcode:i.shortcode}),multiplier:i.multiplier,type:L})),_.createElement(A.Z,{in:V,timeout:250,classNames:{enter:"positions-modal-card__sell-button--enter",enterDone:"positions-modal-card__sell-button--enter-done",exit:"positions-modal-card__sell-button--exit"},unmountOnExit:!0},_.createElement("div",{className:"positions-modal-card__sell-button"},_.createElement(S.ContractCard.Sell,{contract_info:i,is_sell_requested:y,getCardLabels:Ke.gk,onClickSell:g})))),_.createElement(S.CurrencyBadge,{currency:null!==(e=null==i?void 0:i.currency)&&void 0!==e?e:""}),_.createElement("div",{className:M()("positions-modal-card__grid","positions-modal-card__grid-body")},_.createElement("div",{className:M()("positions-modal-card__grid-profit-payout")},_.createElement("div",{className:M()("positions-modal-card__profit-loss","positions-modal-card__profit-loss-label")},x?(0,E.localize)("Profit/Loss:"):(0,E.localize)("Potential profit/loss:")),_.createElement("div",{className:M()("positions-modal-card__indicative","positions-modal-card__indicative-label")},x?(0,E.localize)("Payout:"):(0,E.localize)("Indicative price:")),_.createElement("div",{className:M()("positions-modal-card__profit-loss",{"positions-modal-card__profit-loss--is-crypto":(0,k.isCryptocurrency)(s),"positions-modal-card__profit-loss--negative":v<0,"positions-modal-card__profit-loss--positive":v>0})},_.createElement(S.Money,{amount:Math.abs(v),currency:s}),_.createElement("div",{className:M()("positions-modal-card__indicative--movement",{"positions-modal-card__indicative--movement-complete":!!x})},"profit"===T&&_.createElement(S.Icon,{icon:"IcProfit"}),"loss"===T&&_.createElement(S.Icon,{icon:"IcLoss"}))),_.createElement("div",{className:"positions-modal-card__indicative"},_.createElement(S.Money,{amount:P||f,currency:s}),_.createElement("div",{className:M()("positions-modal-card__indicative--movement",{"positions-modal-card__indicative--movement-complete":!!x})},"profit"===T&&_.createElement(S.Icon,{icon:"IcProfit"}),"loss"===T&&_.createElement(S.Icon,{icon:"IcLoss"})))),_.createElement("div",{className:M()("positions-modal-card__grid-price-payout")},_.createElement("div",{className:"positions-modal-card__purchase-price"},_.createElement(S.Text,{size:"xxxs",className:"positions-modal-card__purchase-label"},(0,E.localize)("Purchase price:")),_.createElement(S.Text,{weight:"bold",size:"xxs",className:"positions-modal-card__purchase-value"},_.createElement(S.Money,{amount:i.buy_price,currency:s}))),_.createElement("div",{className:"positions-modal-card__payout-price"},_.createElement(S.Text,{size:"xxxs",className:"positions-modal-card__payout-label"},(0,E.localize)("Potential payout:")),_.createElement(S.Text,{weight:"bold",size:"xxs",className:"positions-modal-card__payout-value"},i.payout?_.createElement(S.Money,{amount:i.payout,currency:s}):_.createElement("strong",null,"-i")))),x||i.is_sold?_.createElement(cr,{contract_id:p,is_unsupported:m,is_visible:!!i.is_sold,onClickRemove:b,onClick:function(){return z(!0)},result:x||H}):_.createElement(S.ProgressSliderMobile,{className:"positions-modal-card__progress",current_tick:u,getCardLabels:Ke.gk,is_loading:d,start_time:i.date_start,expiry_time:i.date_expiry,server_time:C,ticks_count:i.tick_count}))),G=_.createElement(S.ContractCard.Header,{contract_info:i,display_name:B,getCardLabels:Ke.gk,getContractTypeDisplay:Ke.h8,has_progress_slider:!h&&Y,is_mobile:h,is_sell_requested:y,onClickSell:g,server_time:C}),q=_.createElement(S.ContractCard.Body,{addToast:n,connectWithContractUpdate:$e.tP,contract_info:i,contract_update:a,currency:s,current_focus:c,getCardLabels:Ke.gk,getContractById:l,is_mobile:h,is_multiplier:U,has_progress_slider:h&&Y,removeToast:O,server_time:C,setCurrentFocus:j,should_show_cancellation_warning:D,status:T,toggleCancellationWarning:R}),Z=_.createElement(S.ContractCard.Footer,{contract_info:i,getCardLabels:Ke.gk,is_multiplier:U,is_sell_requested:y,onClickCancel:w,onClickSell:g,server_time:C,status:T}),X=_.createElement(_.Fragment,null,_.createElement(S.ContractCard,{contract_info:i,getCardLabels:Ke.gk,is_multiplier:U,profit_loss:v,should_show_result_overlay:!1},G,q,Z)),$=U?X:W;return _.createElement("div",{id:"dt_drawer_card_".concat(p),className:M()("positions-modal-card__wrapper",o)},m?_.createElement("div",{className:M()("positions-modal-card"),onClick:function(){return z(!0)}},i.underlying?$:I):_.createElement(_.Fragment,null,_.createElement(Ce,{onClick:N,className:M()("positions-modal-card",{"positions-modal-card--multiplier":U}),to:(0,k.getContractPath)(p)},i.underlying?$:I)))};ur.propTypes={className:m().string,contract_info:m().object,currency:m().string,current_focus:m().string,current_tick:m().number,duration:m().oneOfType([m().number,m().string]),duration_unit:m().string,exit_spot:m().oneOfType([m().number,m().string]),id:m().number,indicative:m().number,is_loading:m().bool,is_mobile:m().bool,is_sell_requested:m().bool,is_unsupported:m().bool,is_valid_to_sell:m().oneOfType([m().number,m().bool]),onClickRemove:m().func,onClickSell:m().func,onClickCancel:m().func,profit_loss:m().number,result:m().string,sell_time:m().number,server_time:m().object,setCurrentFocus:m().func,status:m().string,togglePositions:m().func,toggleUnsupportedContractModal:m().func,type:m().string};const lr=(0,D.$j)((function(t){var e=t.common,r=t.ui,n=t.modules;return{active_symbols:n.trade.active_symbols,addToast:r.addToast,current_focus:r.current_focus,getContractById:n.contract_trade.getContractById,is_mobile:r.is_mobile,removeToast:r.removeToast,server_time:e.server_time,setCurrentFocus:r.setCurrentFocus,should_show_cancellation_warning:r.should_show_cancellation_warning,toggleCancellationWarning:r.toggleCancellationWarning,updateLimitOrder:n.contract_trade.updateLimitOrder}}))(ur);var pr=function(t){var e=t.positions_count,r=t.is_open,n=t.togglePositions,o=M()("positions-toggle",{"positions-toggle--active":r,"positions-toggle--has-count":e>0});return _.createElement("a",{id:"dt_positions_toggle",className:o,onClick:n,"data-count":e},_.createElement(S.Icon,{icon:"IcPortfolio",className:"positions-toggle__icon"}))};pr.propTypes={is_positions_drawer_on:m().bool,positions_count:m().number,togglePositionsDrawer:m().func};const fr=pr;function dr(){return(dr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}const hr=(0,D.$j)((function(t){var e=t.modules,r=t.ui;return{symbol:e.trade.symbol,trade_contract_type:e.trade.contract_type,onClickRemove:e.portfolio.removePositionById,togglePositionsDrawer:r.togglePositionsDrawer,is_positions_drawer_on:r.is_positions_drawer_on}}))((function(t){var e=t.active_positions_count,r=t.all_positions,n=t.currency,o=t.disableApp,i=t.enableApp,a=t.error,s=t.is_empty,c=t.is_positions_drawer_on,u=t.onClickSell,l=t.onClickRemove,p=t.onClickCancel,f=t.symbol,d=t.togglePositionsDrawer,h=t.toggleUnsupportedContractModal,y=t.trade_contract_type,m=[],b=function(){m.slice(0,5).map((function(t){var e=t.contract_info;null!=e&&e.is_sold&&l(e.contract_id)})),d()};m=r.filter((function(t){return t.contract_info&&f===t.contract_info.underlying&&(0,L._M)(t.contract_info,y)}));var g=_.createElement(_.Fragment,null,_.createElement(Ze,{component:"div"},m.slice(0,5).map((function(t){return _.createElement(A.Z,{appear:!0,key:t.id,in:!0,timeout:150,classNames:{appear:"dc-contract-card__wrapper--enter",enter:"dc-contract-card__wrapper--enter",enterDone:"dc-contract-card__wrapper--enter-done",exit:"dc-contract-card__wrapper--exit"},unmountOnExit:!0},_.createElement(lr,dr({onClickSell:u,onClickCancel:p,onClickRemove:l,key:t.id,currency:n,toggleUnsupportedContractModal:h,togglePositions:d},t)))}))));return _.createElement(_.Fragment,null,_.createElement(fr,{is_open:c,togglePositions:d,positions_count:e}),_.createElement(S.Modal,{is_open:c,toggleModal:b,id:"dt_mobile_positions",is_vertical_top:!0,has_close_icon:!0,enableApp:i,disableApp:o,width:"calc(100vw - 32px)"},_.createElement(S.Div100vhContainer,{className:"positions-modal",height_offset:"48px"},_.createElement("div",{className:"positions-modal__header"},_.createElement(S.Text,{size:"xxxs",className:"positions-modal__title"},_.createElement(S.Icon,{icon:"IcPortfolio",className:"positions-modal__title-icon"}),(0,E.localize)("Recent positions")),_.createElement("div",{className:"positions-modal__close-btn",onClick:b},_.createElement(S.Icon,{icon:"IcMinusBold"}))),_.createElement("div",{className:"positions-modal__body"},s||a?_.createElement(R,{error:a}):g),_.createElement("div",{className:"positions-modal__footer"},_.createElement(Ce,{onClick:b,className:"dc-btn dc-btn--secondary dc-btn__large positions-modal__footer-btn",to:k.routes.positions},_.createElement("span",{className:"dc-btn__text"},(0,E.localize)("Go to Reports")))))))}));var yr=r("./Services/ws-methods.js");function mr(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var _r=function(t){var e=t.disableApp,r=t.enableApp,n=t.onMountCashier,o=t.onMountPositions,i=t.onPositionsCancel,a=t.onPositionsRemove,s=t.onPositionsSell,c=t.onUnmountPositions,u=t.populateHeaderExtensions,l=t.setAccountSwitchListener,p=t.store,f=_.useRef();f.current=t;var d=location.pathname!==k.routes.mt5,h=_.useCallback((function(){var t=f.current,n=t.is_logged_in,o=t.is_positions_empty,c=t.active_positions_count,l=t.positions,h=t.positions_currency,y=t.positions_error,m=n&&d&&_.createElement(S.MobileWrapper,null,_.createElement(D.z1,{store:p},_.createElement(hr,{active_positions_count:c,all_positions:l,currency:h,disableApp:e,is_empty:o,enableApp:r,error:y,onClickSell:s,onClickRemove:a,onClickCancel:i})));u(m)}),[e,r,i,a,s,u,p,d]);return _.useEffect((function(){return function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,k.isMobile)()||!d){t.next=10;break}return e=p.client,t.next=4,(0,et.when)((function(){return!e.is_populating_account_list}));case 4:if(!f.current.is_logged_in){t.next=10;break}return t.next=7,yr.WS.wait("authorize");case 7:o(),n(!0),l();case 10:h();case 11:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){mr(i,n,o,a,s,"next",t)}function s(t){mr(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}()(),function(){(0,k.isMobile)()&&c(),u(null)}}),[n,o,c,h,u,l,p,d]),_.useEffect((function(){h()})),null};_r.propTypes={is_logged_in:m().bool,populateHeaderExtensions:m().func};const br=(0,D.$j)((function(t){var e=t.client,r=t.modules,n=t.ui;return{positions_currency:e.currency,is_logged_in:e.is_logged_in,positions:r.portfolio.all_positions,positions_error:r.portfolio.error,is_positions_empty:r.portfolio.is_empty,onPositionsSell:r.portfolio.onClickSell,onPositionsRemove:r.portfolio.removePositionById,onPositionsCancel:r.portfolio.onClickCancel,onMountCashier:r.cashier.onMountCommon,onMountPositions:r.portfolio.onMount,onUnmountPositions:r.portfolio.onUnmount,active_positions_count:r.portfolio.active_positions_count,disableApp:n.disableApp,enableApp:n.enableApp,populateHeaderExtensions:n.populateHeaderExtensions,toggleUnsupportedContractModal:n.toggleUnsupportedContractModal,setAccountSwitchListener:r.cashier.setAccountSwitchListener}}))(_r);var gr=function(t){var e=t.active_positions_count,r=t.is_logged_in,n=t.is_positions_drawer_on,o=t.location,i=t.populateFooterExtensions,a=t.togglePositionsDrawer;_.useEffect((function(){return c()})),_.useEffect((function(){return function(){return i([])}}),[]);var s=function(){return _.createElement(fr,{is_open:n,togglePositions:a,positions_count:e})},c=function(){var t=o.pathname===k.routes.trade;i(r&&t?[{position:"left",Component:s}]:[])};return null};gr.propTypes={active_positions_count:m().number,is_logged_in:m().bool,is_positions_drawer_on:m().bool,location:m().object,populateFooterExtensions:m().func,togglePositionsDrawer:m().func};const vr=(0,D.$j)((function(t){var e=t.client,r=t.modules,n=t.ui;return{active_positions_count:r.portfolio.active_positions_count,is_logged_in:e.is_logged_in,is_positions_drawer_on:n.is_positions_drawer_on,populateFooterExtensions:n.populateFooterExtensions,togglePositionsDrawer:n.togglePositionsDrawer}}))((0,x.withRouter)(gr));var wr=v()({loader:function(){return r.e("settings-chart").then(r.bind(r,"./App/Containers/SettingsModal/settings-chart.jsx"))},loading:S.UILoader}),Or=function(t){var e=t.populateSettingsExtensions,r=t.store,n=function(){var t=[{icon:"IcChart",label:(0,E.localize)("Charts"),value:function(t){return function(t,e){return _.createElement(D.z1,{store:e},_.createElement(wr,t))}(t,r)}}];e(t)};return _.useEffect((function(){return function(){return e(null)}}),[]),_.useEffect((function(){return n()})),null};Or.propTypes={populateSettingsExtensions:m().func,store:m().object};const Sr=(0,D.$j)((function(t){return{populateSettingsExtensions:t.ui.populateSettingsExtensions}}))(Or);var kr=r("./Modules/Trading/Containers/toast-popup.jsx"),xr=r("../../../node_modules/extend/index.js"),Pr=r.n(xr),Er=r("./Stores/Modules/Contract/Helpers/logic.js"),Cr=function(t){var e=t.label,r=t.line_style,n=t.marker_config,o=t.status;return n?_.createElement("div",{className:M()("chart-marker-line__wrapper","chart-marker-line--".concat(r))},e===n.LINE_END.content_config.label&&_.createElement(S.Icon,{icon:"IcContractExitTimeCircle",className:"chart-marker-line__icon",color:"lost"===o?"red":"green",size:24}),e===n.LINE_START.content_config.label&&_.createElement(S.Icon,{icon:"IcContractStartTimeCircle",className:"chart-marker-line__icon chart-marker-line__icon--time",color:"secondary",size:24})):_.createElement("div",null)};Cr.propTypes={label:m().string,line_style:m().string,marker_config:m().object,status:m().oneOf(["won","lost"])};const jr=(0,w.observer)(Cr);var Dr=function(t){var e=t.className,r=t.spot_count;return _.createElement("div",{className:M()("chart-spot",e)},r)};Dr.propTypes={className:m().string,spot_count:m().oneOfType([m().number,m().string])};const Tr=(0,w.observer)(Dr);function Mr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ar(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ar(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Rr=function(t){var e=t.align_label,r=t.has_hover_toggle,n=t.spot_className,o=t.spot_count,i=t.spot_epoch,a=t.spot_value,s=t.status,c=Mr(_.useState(!r),2),u=c[0],l=c[1],p=function(){l(!u)},f=_.createElement(Tr,{className:n,spot_count:o});return r&&(f=_.createElement("div",{className:"marker-hover-container",onMouseEnter:p,onMouseLeave:p},f)),_.createElement("div",{className:"chart-spot-label"},u&&_.createElement("div",{className:"chart-spot-label__info-container"},_.createElement("div",{className:"chart-spot-label__time-value-container chart-spot-label__time-value-container--".concat(e)},_.createElement("div",{className:"chart-spot-label__time-container"},_.createElement(S.Icon,{icon:"IcClockOutline",height:10,width:10,className:"chart-spot-label__time-icon"}),_.createElement(S.Text,{as:"p",color:"prominent",size:"xxxs"},(0,k.toMoment)(+i).format("HH:mm:ss"))),_.createElement("div",{className:M()("chart-spot-label__value-container",{"chart-spot-label__value-container--won":"won"===s,"chart-spot-label__value-container--lost":"lost"===s})},_.createElement("p",null,(0,k.addComma)(a))))),f)};Rr.defaultProps={align_label:"top"},Rr.propTypes={align_label:m().oneOf(["top","bottom"]),has_hover_toggle:m().bool,spot_className:m().string,spot_count:m().oneOfType([m().number,m().string]),spot_epoch:m().oneOfType([m().number,m().string]),spot_value:m().oneOfType([m().number,m().string]),status:m().oneOf(["won","lost"])};const Nr=(0,w.observer)(Rr);var zr,Lr,Ir={LINE_END:{type:"LINE_END",marker_config:{ContentComponent:jr,className:"chart-marker-line"},content_config:{line_style:"dash",label:(0,E.localize)("End Time")}},LINE_PURCHASE:{type:"LINE_PURCHASE",marker_config:{ContentComponent:jr,className:"chart-marker-line"},content_config:{line_style:"solid",label:(0,E.localize)("Purchase Time")}},LINE_START:{type:"LINE_START",marker_config:{ContentComponent:jr,className:"chart-marker-line"},content_config:{line_style:"solid",label:(0,E.localize)("Start Time")}},SPOT_ENTRY:{type:"SPOT_ENTRY",marker_config:{ContentComponent:Tr},content_config:{className:"chart-spot__entry"}},SPOT_SELL:{type:"SPOT_SELL",marker_config:{ContentComponent:Tr},content_config:{className:"chart-spot__sell"}},SPOT_EXIT:{type:"SPOT_EXIT",marker_config:{ContentComponent:Nr},content_config:{spot_className:"chart-spot__spot"}},SPOT_MIDDLE:{type:"SPOT_MIDDLE",marker_config:{ContentComponent:Nr},content_config:{spot_className:"chart-spot__spot"}}},Ur=function(t,e,r,n){return Pr()(!0,{},Ir[t],{marker_config:{x:+e,y:r},content_config:n})},Fr=function(t,e){return(0,k.isDigitContract)(t.contract_type)?e+1:e},Yr=function(t){if(!t.entry_tick_time)return!1;var e=Ir.SPOT_ENTRY.type,r={},n=t.entry_tick_display_value;return(0,k.isDigitContract)(t.contract_type)&&(e=Ir.SPOT_MIDDLE.type,r={spot_value:"".concat(n),spot_epoch:"".concat(t.entry_tick_time),spot_count:1}),Ur(e,t.entry_tick_time,n,r)},Hr=function(t,e,r){if(!t.exit_tick_time)return!1;var n,o,i=(0,k.isUserSold)(t);e&&(n=Fr(t,r),o=e.align_label);var a=t.exit_tick_display_value,s=!i||(0,k.isMultiplierContract)(t.contract_type),c=s?Ir.SPOT_EXIT.type:Ir.SPOT_SELL.type,u=s?{spot_value:"".concat(a),spot_epoch:"".concat(t.exit_tick_time),status:"".concat(+t.profit>=0?"won":"lost"),align_label:o,spot_count:n}:{};return Ur(c,+t.exit_tick_time,+a,u)};function Vr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Br(t){return function(t){if(Array.isArray(t))return Wr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Wr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Gr,qr,Zr,Xr,$r,Jr,Kr,Qr,tn,en,rn,nn,on,an,sn,cn,un,ln=(Vr(zr={},Ir.SPOT_ENTRY.type,Yr),Vr(zr,Ir.SPOT_EXIT.type,Hr),zr),pn=(Vr(Lr={},Ir.LINE_START.type,(function(t){return!!t.date_start&&Ur(Ir.LINE_START.type,+t.date_start,null,{marker_config:Ir})})),Vr(Lr,Ir.LINE_END.type,(function(t){var e=(0,Er.NQ)(t);return!!e&&Ur(Ir.LINE_END.type,+e,null,{status:"".concat(t.profit>=0?"won":"lost"),marker_config:Ir})})),Vr(Lr,Ir.LINE_PURCHASE.type,(function(t){return!(!t.purchase_time||!t.date_start||+t.purchase_time==+t.date_start)&&Ur(Ir.LINE_PURCHASE.type,+t.purchase_time)})),Lr),fn=function(t,e,r){if(e>0&&r.length){var n=r[e-1];+t>+n.tick&&(t.align_label="top"),+t.tick<+n.tick&&(t.align_label="bottom"),+t.tick==+n.tick&&(t.align_label=n.align_label)}return t},dn=function(t){var e=(0,k.unique)(t.tick_stream,"epoch").map(fn),r=[];return e.forEach((function(e,n){var o,i=0===n&&+e.epoch!==t.exit_tick_time,a=n>0&&+e.epoch!=+t.exit_tick_time,s=+e.epoch==+t.exit_tick_time||Fr(t,n)===t.tick_count;i?o=Yr(t):a?o=function(t,e,r){var n=Fr(t,r),o=e.tick_display_value,i=Ur(Ir.SPOT_MIDDLE.type,+e.epoch,+o,{spot_value:"".concat(o),spot_epoch:"".concat(e.epoch),align_label:e.align_label,spot_count:n});return i.type="".concat(i.type,"_").concat(r),(0,k.isMobile)()&&n>1?null:i}(t,e,n):s&&(e.align_label="top",o=Hr(t,e,n)),o&&r.push(o)})),r},hn={CALL:"ABOVE",PUT:"BELOW",CALLE:"ABOVE",PUTE:"BELOW",EXPIRYRANGE:"BETWEEN",EXPIRYMISS:"OUTSIDE",RANGE:"BETWEEN",UPORDOWN:"OUTSIDE",ONETOUCH:"NONE_SINGLE",NOTOUCH:"NONE_SINGLE",ASIANU:"ABOVE",ASIAND:"BELOW",MULTUP:"ABOVE",MULTDOWN:"BELOW"},yn={1:"NONE_SINGLE",2:"NONE_DOUBLE"},mn="#4bb4b3",_n="#ff6444",bn="#999999",gn="#6E6E6E",vn="dotted",wn="solid",On=function(t){return t in hn},Sn=function(t,e){var r=t.findIndex((function(t){return t.key===e}));r>-1&&t.splice(r,1)};function kn(t){return function(t){if(Array.isArray(t))return xn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return xn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xn(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pn(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function En(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jn(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Dn=(Gr=et.action.bound,qr=et.action.bound,Zr=et.action.bound,Xr=et.action.bound,Jr=jn(($r=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.color,a=o.line_style,s=o.not_draggable;En(this,t),Pn(this,"color",Jr,this),Pn(this,"lineStyle",Kr,this),Pn(this,"shade",Qr,this),Pn(this,"shadeColor",tn,this),Pn(this,"high",en,this),Pn(this,"low",rn,this),Pn(this,"relative",nn,this),Pn(this,"draggable",on,this),Pn(this,"hidePriceLines",an,this),Pn(this,"hideBarrierLine",sn,this),Pn(this,"hideOffscreenLine",cn,this),Pn(this,"title",un,this),this.onChartBarrierChange=void 0,this.color=i,this.lineStyle=a||wn,this.onChange=this.onBarrierChange,this.onChartBarrierChange="function"==typeof n?n.bind(this):function(){},this.high=+e||0,r&&(this.low=+r),this.shade=this.default_shade;var c=!!e;this.relative=!c||/^[+-]/.test(e),this.draggable=!s&&c,this.hidePriceLines=!c}var e,r,n;return e=t,(r=[{key:"updateBarriers",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this.relative=/^[+-]/.test(t)),this.high=+t||void 0,this.low=+e||void 0}},{key:"updateBarrierShade",value:function(t,e){this.shade=t&&hn[e]||this.default_shade}},{key:"onBarrierChange",value:function(t){var e=t.high,r=t.low;this.updateBarriers(e,r,!0),this.onChartBarrierChange.apply(this,kn(function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.filter((function(t){return null!=t})).map((function(e){return"".concat(t&&!/^[+-]/.test(e)?"+":"").concat(e)}))}(this.relative,e,r)))}},{key:"updateBarrierColor",value:function(t){this.color=t?gn:bn}},{key:"barrier_count",get:function(){return(void 0!==this.high)+(void 0!==this.low)}},{key:"default_shade",get:function(){return yn[this.barrier_count]}}])&&Cn(e.prototype,r),n&&Cn(e,n),t}()).prototype,"color",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kr=jn($r.prototype,"lineStyle",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qr=jn($r.prototype,"shade",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tn=jn($r.prototype,"shadeColor",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=jn($r.prototype,"high",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=jn($r.prototype,"low",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn=jn($r.prototype,"relative",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on=jn($r.prototype,"draggable",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=jn($r.prototype,"hidePriceLines",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sn=jn($r.prototype,"hideBarrierLine",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn=jn($r.prototype,"hideOffscreenLine",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),un=jn($r.prototype,"title",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jn($r.prototype,"updateBarriers",[Gr],Object.getOwnPropertyDescriptor($r.prototype,"updateBarriers"),$r.prototype),jn($r.prototype,"updateBarrierShade",[qr],Object.getOwnPropertyDescriptor($r.prototype,"updateBarrierShade"),$r.prototype),jn($r.prototype,"onBarrierChange",[Zr],Object.getOwnPropertyDescriptor($r.prototype,"onBarrierChange"),$r.prototype),jn($r.prototype,"updateBarrierColor",[Xr],Object.getOwnPropertyDescriptor($r.prototype,"updateBarrierColor"),$r.prototype),jn($r.prototype,"barrier_count",[et.computed],Object.getOwnPropertyDescriptor($r.prototype,"barrier_count"),$r.prototype),jn($r.prototype,"default_shade",[et.computed],Object.getOwnPropertyDescriptor($r.prototype,"default_shade"),$r.prototype),$r),Tn={STOP_OUT:"stop_out",TAKE_PROFIT:"take_profit",STOP_LOSS:"stop_loss"},Mn=function(t){var e=t.barriers,r=t.contract_type,n=t.contract_info,o=void 0===n?{}:n;if(t.is_over&&function(t,e){return(0,k.isMultiplierContract)(t)&&e.limit_order}(r,o)){var i=Object.values(Tn),a=Object.keys(o.limit_order).some((function(t){return t===Tn.STOP_LOSS&&o.limit_order[t].value}));i.forEach((function(t){var r=o.limit_order[t];if(r&&r.value){var n=e.find((function(e){return e.key===t}));if(n){if(n.high===+r.value)return;n.onChange({high:r.value})}else{var i={key:t,title:"".concat(r.display_name),color:t===Tn.TAKE_PROFIT?mn:_n,draggable:!1,lineStyle:t===Tn.STOP_OUT?vn:wn,hidePriceLines:a&&t===Tn.STOP_OUT,hideOffscreenLine:!0,showOffscreenArrows:!0,isSingleBarrier:!0,opacityOnOverlap:t===Tn.STOP_OUT&&.15};n=new Dn(r.value),Object.assign(n,i),e.push(n)}}else Sn(e,t)}))}else Object.values(Tn).forEach((function(t){return Sn(e,t)}))};const An=function(){return{has_contract_update_stop_loss:{trigger:"contract_update_stop_loss"},contract_update_stop_loss:{rules:[["req",{condition:function(t){return!t.contract_update_stop_loss},message:(0,E.localize)("Please enter a stop loss amount.")}],["custom",{func:function(t,e,r){var n=(0,k.getTotalProfit)(r.contract_info);return!(n<0&&-t>n)},message:(0,E.localize)("Please enter a stop loss amount that's higher than the current potential loss.")}],["custom",{func:function(t,e,r){return t<(0,Er.f)(r)+1},message:(0,E.localize)("Invalid stop loss. Stop loss cannot be more than stake.")}]]},has_contract_update_take_profit:{trigger:"contract_update_take_profit"},contract_update_take_profit:{rules:[["req",{condition:function(t){return!t.contract_update_take_profit},message:(0,E.localize)("Please enter a take profit amount.")}],["custom",{func:function(t,e,r){var n=(0,k.getTotalProfit)(r.contract_info);return!(n>0&&+t<n)},message:(0,E.localize)("Please enter a take profit amount that's higher than the current potential profit.")}]]}}};var Rn,Nn,zn,Ln,In,Un,Fn,Yn,Hn,Vn,Bn,Wn,Gn,qn,Zn,Xn,$n,Jn,Kn,Qn,to,eo,ro,no,oo,io,ao,so,co,uo,lo,po,fo,ho=r("./Stores/base-store.js");function yo(t){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bo(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function go(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vo(t,e){return(vo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ko(t);if(e){var o=ko(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Oo(this,r)}}function Oo(t,e){return!e||"object"!==yo(e)&&"function"!=typeof e?So(t):e}function So(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ko(t){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xo(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function Po(t){return function(t){if(Array.isArray(t))return Eo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Eo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Eo(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Co,jo,Do,To,Mo,Ao,Ro,No,zo,Lo,Io,Uo,Fo,Yo,Ho,Vo,Bo,Wo,Go,qo,Zo,Xo,$o,Jo,Ko,Qo,ti,ei,ri,ni=(Rn=et.observable.ref,Nn=et.observable.ref,zn=et.observable.ref,Ln=et.observable.shallow,In=et.observable.shallow,Un=et.observable.ref,Fn=et.action.bound,Yn=et.action.bound,Hn=et.action.bound,Vn=et.action.bound,Bn=et.action.bound,Wn=et.action.bound,fo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vo(t,e)}(i,t);var e,r,n,o=wo(i);function i(t,e){var r,n=e.contract_id;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),bo(r=o.call(this,{root_store:t,validation_rules:An()}),"digits_info",qn,So(r)),bo(r,"sell_info",Zn,So(r)),bo(r,"contract_config",Xn,So(r)),bo(r,"display_status",$n,So(r)),bo(r,"is_ended",Jn,So(r)),bo(r,"is_digit_contract",Kn,So(r)),bo(r,"error_message",Qn,So(r)),bo(r,"contract_info",to,So(r)),bo(r,"is_static_chart",eo,So(r)),bo(r,"end_time",ro,So(r)),bo(r,"contract_update_take_profit",no,So(r)),bo(r,"contract_update_stop_loss",oo,So(r)),bo(r,"has_contract_update_take_profit",io,So(r)),bo(r,"has_contract_update_stop_loss",ao,So(r)),bo(r,"contract_update_history",so,So(r)),r.contract_update_config={},bo(r,"margin",co,So(r)),bo(r,"barriers_array",uo,So(r)),bo(r,"markers_array",lo,So(r)),bo(r,"marker",po,So(r)),r.is_ongoing_contract=!1,r.cacheProposalOpenContractResponse=function(t){var e=t.proposal_open_contract.contract_id;yr.WS.storage.set({proposal_open_contract:1,contract_id:e},t)},r.createBarriersArray=function(t,e){var r=[];if(t){var n=t.contract_type,o=t.barrier,i=t.entry_spot,a=t.high_barrier,s=t.low_barrier;if(On(n)&&(o||a||i)){var c=new Dn(o||a||i,s,null,{color:e?gn:bn,line_style:wn,not_draggable:!0});c.updateBarrierShade(!0,n),r=[c]}}return r},r.root_store=t,r.contract_id=n,r}return e=i,(r=[{key:"populateConfig",value:function(t){var e=this.contract_info;this.contract_info=t,this.end_time=(0,Er.NQ)(this.contract_info),this.updateBarriersArray(t,this.root_store.ui.is_dark_mode_on),this.markers_array=function(t){var e=[];if(t){var r,n=(0,Er.NQ)(t),o=(0,Er.aG)(t.date_start,n);if(t.tick_count){var i,a=dn(t);(i=e).push.apply(i,Br(a))}else if("candle"!==o){var s,c=Object.keys(ln).map((function(e){return ln[e](t)}));(s=e).push.apply(s,Br(c))}var u=Object.keys(pn).map((function(e){return pn[e](t)}));(r=e).push.apply(r,Br(u)),e=e.filter((function(t){return!!t}))}return e.forEach((function(e){var r=t.contract_id;e.react_key="".concat(r,"-").concat(e.type)})),e}(this.contract_info),this.marker=function(t){if(!t||(0,k.isMultiplierContract)(t.contract_type))return null;var e=t.transaction_ids,r=t.tick_stream,n=t.contract_id,o=t.date_start,i=t.date_expiry,a=t.entry_tick,s=t.exit_tick,c=t.entry_tick_time,u=t.exit_tick_time,l=t.contract_type,p=t.tick_count,f=t.barrier_count,d=t.barrier,h=t.high_barrier,y=t.low_barrier,m=r?r.map((function(t){return t.epoch})):[],_=(0,k.isDigitContract)(l),b=[];if(_?b=[]:1==+f&&d?b=[+d]:2==+f&&h&&y&&(b=[+y,+h]),a&&b.push(a),s&&b.push(s),!o)return null;if(!e)return{type:_?"DigitContract":"TickContract",contract_info:(0,et.toJS)(t),key:"".concat(n,"-date_start"),epoch_array:[o],price_array:b};if(p>=1)return(0,k.isDigitContract)(l)?{contract_info:(0,et.toJS)(t),type:"DigitContract",key:"".concat(n,"-date_start"),epoch_array:[o].concat(Po(m)),price_array:b}:{contract_info:(0,et.toJS)(t),type:"TickContract",key:"".concat(n,"-date_start"),epoch_array:[o].concat(Po(m)),price_array:b};if(!p){var g=[o,(0,Er.NQ)(t)||i];return c&&g.push(c),u&&g.push(u),{contract_info:(0,et.toJS)(t),type:"NonTickContract",key:"".concat(n,"-date_start"),epoch_array:g,price_array:b}}return null}(this.contract_info),this.contract_config=(0,Er.f6)(this.contract_info),this.display_status=(0,k.getDisplayStatus)(this.contract_info),this.is_ended=(0,k.isEnded)(this.contract_info),this.is_digit_contract=(0,k.isDigitContract)(this.contract_info.contract_type),!this.contract_info.barrier&&e.barrier&&this.is_digit_contract&&(this.contract_info.barrier=e.barrier),this.is_digit_contract&&(0,et.extendObservable)(this.digits_info,(0,k.getDigitInfo)(this.digits_info,this.contract_info)),(0,k.isMultiplierContract)(this.contract_info.contract_type)&&t.contract_id&&t.limit_order&&this.populateContractUpdateConfig(this.contract_info)}},{key:"populateContractUpdateConfig",value:function(t){var e=(0,Er.W9)(t);if(!(0,k.isEqualObject)(this.contract_update_config,e)){Object.assign(this,e),this.contract_update_config=e;var r=t.contract_update,n=t.error;r&&!n&&(this.contract_info.limit_order=Object.assign(this.contract_info.limit_order||{},r))}}},{key:"populateContractUpdateHistory",value:function(t){var e=t.contract_update_history;this.root_store.modules.contract_replay.contract_store.contract_update_history=e}},{key:"updateBarriersArray",value:function(t,e){if(this.barriers_array.length){var r=this.barriers_array[0];if(t){var n=t.contract_type,o=t.barrier,i=t.high_barrier,a=t.low_barrier;On(n)&&(o||i)&&(r.updateBarriers(o||i,a),r.updateBarrierColor(e)),t.contract_id&&t.contract_id===this.root_store.modules.contract_replay.contract_id&&Mn({barriers:this.barriers_array,contract_info:t,contract_type:n,is_over:!0})}}else this.barriers_array=this.createBarriersArray(t,e)}},{key:"clearContractUpdateConfigValues",value:function(){Object.assign(this,(0,Er.W9)(this.contract_info)),this.validation_errors.contract_update_stop_loss=[],this.validation_errors.contract_update_take_profit=[]}},{key:"onChange",value:function(t){var e=t.name,r=t.value;this[e]=r,this.validateProperty(e,this[e])}},{key:"updateLimitOrder",value:function(){var t=this,e=function(t){var e=t.has_contract_update_stop_loss,r=t.has_contract_update_take_profit,n=t.contract_update_stop_loss,o=t.contract_update_take_profit,i={};return i.take_profit=r?+o:null,i.stop_loss=e?+n:null,i}(this);yr.WS.contractUpdate(this.contract_id,e).then((function(e){e.error?t.root_store.common.setServicesError(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mo(Object(r),!0).forEach((function(e){_o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({type:e.msg_type},e.error)):(t.populateContractUpdateConfig(e),t.root_store.ui.is_history_tab_active&&yr.WS.contractUpdateHistory(t.contract_id).then(t.populateContractUpdateHistory),t.root_store.modules.portfolio.populateContractUpdate(e,t.contract_id))}))}}])&&go(e.prototype,r),n&&go(e,n),i}(ho.Z),qn=xo((Gn=fo).prototype,"digits_info",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.observable.object({})}}),Zn=xo(Gn.prototype,"sell_info",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.observable.object({})}}),Xn=xo(Gn.prototype,"contract_config",[Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$n=xo(Gn.prototype,"display_status",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"purchased"}}),Jn=xo(Gn.prototype,"is_ended",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kn=xo(Gn.prototype,"is_digit_contract",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qn=xo(Gn.prototype,"error_message",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),to=xo(Gn.prototype,"contract_info",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.observable.object({})}}),eo=xo(Gn.prototype,"is_static_chart",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ro=xo(Gn.prototype,"end_time",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),no=xo(Gn.prototype,"contract_update_take_profit",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),oo=xo(Gn.prototype,"contract_update_stop_loss",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),io=xo(Gn.prototype,"has_contract_update_take_profit",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ao=xo(Gn.prototype,"has_contract_update_stop_loss",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),so=xo(Gn.prototype,"contract_update_history",[zn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),co=xo(Gn.prototype,"margin",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uo=xo(Gn.prototype,"barriers_array",[Ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lo=xo(Gn.prototype,"markers_array",[In],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),po=xo(Gn.prototype,"marker",[Un],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xo(Gn.prototype,"populateConfig",[Fn],Object.getOwnPropertyDescriptor(Gn.prototype,"populateConfig"),Gn.prototype),xo(Gn.prototype,"populateContractUpdateConfig",[Yn],Object.getOwnPropertyDescriptor(Gn.prototype,"populateContractUpdateConfig"),Gn.prototype),xo(Gn.prototype,"populateContractUpdateHistory",[Hn],Object.getOwnPropertyDescriptor(Gn.prototype,"populateContractUpdateHistory"),Gn.prototype),xo(Gn.prototype,"clearContractUpdateConfigValues",[Vn],Object.getOwnPropertyDescriptor(Gn.prototype,"clearContractUpdateConfigValues"),Gn.prototype),xo(Gn.prototype,"onChange",[Bn],Object.getOwnPropertyDescriptor(Gn.prototype,"onChange"),Gn.prototype),xo(Gn.prototype,"updateLimitOrder",[Wn],Object.getOwnPropertyDescriptor(Gn.prototype,"updateLimitOrder"),Gn.prototype),Gn),oi=function(t,e){return{key:"contract_sold",header:(0,E.localize)("Contract sold"),message:_.createElement(E.Localize,{i18n_default_text:"Contract was sold for <0 />.",components:[_.createElement(S.Money,{key:e,amount:e,currency:t,show_currency:!0})]}),type:"contract_sold",size:"small",should_hide_close_btn:!0,is_auto_close:!0}},ii=function(){return{key:"contract_sold",header:(0,E.localize)("Contract cancelled"),message:_.createElement(E.Localize,{i18n_default_text:"Contract was cancelled."}),type:"contract_sold",size:"small",should_hide_close_btn:!0,is_auto_close:!0}};function ai(t){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function si(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?si(Object(r),!0).forEach((function(e){ui(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):si(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ui(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function li(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function pi(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){li(i,n,o,a,s,"next",t)}function s(t){li(i,n,o,a,s,"throw",t)}a(void 0)}))}}function fi(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function di(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yi(t,e){return(yi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=gi(t);if(e){var o=gi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _i(this,r)}}function _i(t,e){return!e||"object"!==ai(e)&&"function"!=typeof e?bi(t):e}function bi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gi(t){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vi(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var wi,Oi,Si,ki,xi,Pi,Ei,Ci,ji,Di,Ti,Mi,Ai,Ri,Ni,zi,Li,Ii=(Co=et.observable.ref,jo=et.observable.ref,Do=et.action.bound,To=et.action.bound,Mo=et.action.bound,Ao=et.action.bound,Ro=et.action.bound,No=et.action.bound,zo=et.action.bound,Lo=et.action.bound,Io=et.action.bound,ri=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yi(t,e)}(i,t);var e,r,n,o=mi(i);function i(){var t;di(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return fi(t=o.call.apply(o,[this].concat(r)),"chart_state",Fo,bi(t)),fi(t,"contract_store",Yo,bi(t)),fi(t,"is_market_closed",Ho,bi(t)),fi(t,"is_sell_requested",Vo,bi(t)),fi(t,"has_error",Bo,bi(t)),fi(t,"error_message",Wo,bi(t)),fi(t,"error_code",Go,bi(t)),fi(t,"is_chart_loading",qo,bi(t)),fi(t,"is_chart_scaling",Zo,bi(t)),fi(t,"is_forward_starting",Xo,bi(t)),fi(t,"margin",$o,bi(t)),fi(t,"contract_id",Jo,bi(t)),fi(t,"indicative_status",Ko,bi(t)),fi(t,"contract_info",Qo,bi(t)),fi(t,"is_static_chart",ti,bi(t)),t.is_ongoing_contract=!1,t.prev_indicative=0,fi(t,"contract_update",ei,bi(t)),t.should_forget_first=!1,t.handleSubscribeProposalOpenContract=function(){var e=pi(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yr.WS.storage.has({proposal_open_contract:1,contract_id:r});case 2:if(!e.sent){e.next=6;break}return yr.WS.storage.proposalOpenContract({contract_id:r}).then(n),e.abrupt("return");case 6:if(!t.should_forget_first){e.next=10;break}return e.next=9,yr.WS.forgetAll("proposal_open_contract");case 9:t.should_forget_first=!1;case 10:t.subscriber=yr.WS.subscribeProposalOpenContract(r,n);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.subscribeProposalOpenContract=function(){yr.WS.wait("authorize").then((function(){t.handleSubscribeProposalOpenContract(t.contract_id,t.populateConfig)}))},t.forgetProposalOpenContract=function(){t.subscriber&&(t.subscriber.unsubscribe(),delete t.subscriber)},t.setAccountSwitcherListener=function(e,r){t.onSwitchAccount((function(){return t.accountSwitcherListener(e,r)}))},t.accountSwitcherListener=function(e,r){return t.has_error?(t.removeErrorMessage(),t.onMount(e)):r.push(k.routes.reports),Promise.resolve()},t.removeAccountSwitcherListener=function(){t.disposeSwitchAccount()},t}return e=i,(r=[{key:"onMount",value:function(t){var e=this;t&&(this.contract_id=t,this.contract_store=new ni(this.root_store,{contract_id:t}),this.subscribeProposalOpenContract(),yr.WS.storage.activeSymbols("brief"),yr.WS.setOnReconnect((function(){e.root_store.client.is_switching||e.subscribeProposalOpenContract()})))}},{key:"onUnmount",value:function(){this.forgetProposalOpenContract(this.contract_id,this.populateConfig),this.contract_id=null,this.is_ongoing_contract=!1,this.is_static_chart=!1,this.is_chart_loading=!0,this.contract_info={},this.indicative_status=null,this.prev_indicative=0,this.chart_state="",this.root_store.ui.toggleHistoryTab(!1),yr.WS.removeOnReconnect()}},{key:"populateConfig",value:function(t){if(this.switch_account_listener){if("error"in t){var e=t.error,r=e.code,n=e.message;return this.has_error=!0,this.is_chart_loading=!1,this.error_message=n,void(this.error_code=r)}if((0,k.isEmptyObject)(t.proposal_open_contract))return this.has_error=!0,this.error_message=(0,E.localize)("Sorry, you can't view this contract because it doesn't belong to this account."),this.should_forget_first=!0,void(this.is_chart_loading=!1);if(+t.proposal_open_contract.contract_id===this.contract_id){this.contract_info=t.proposal_open_contract,this.contract_update=t.proposal_open_contract.limit_order;var o=this.prev_indicative,i=+this.contract_info.bid_price;this.indicative_status=i>o?"profit":i<o?"loss":null,this.prev_indicative=i;var a=!!this.contract_info.is_forward_starting||(0,k.isForwardStarting)(this.contract_info.shortcode,this.contract_info.purchase_time);this.is_forward_starting=a,this.contract_store.populateConfig(this.contract_info);var s=this.contract_store.end_time;this.updateMargin((s||this.contract_info.date_expiry)-this.contract_info.date_start),s||(this.is_ongoing_contract=!0),s&&(this.is_ongoing_contract?this.is_static_chart=!1:this.is_static_chart=!0),this.contract_info.is_sold&&this.contract_store.cacheProposalOpenContractResponse(t)}}}},{key:"updateMargin",value:function(t){var e=this.contract_store.contract_config.granularity;this.margin=Math.floor(e?3*e:Math.max(300,30*t/3600||0))}},{key:"chartStateChange",value:function(t,e){var r=this;this.chart_state=t;var n="isClosed";switch(t){case"INITIAL":this.is_chart_scaling=!1,this.is_chart_loading||(this.is_chart_loading=!0);break;case"READY":setTimeout((0,et.action)((function(){return r.is_chart_scaling=!0})),10);break;case"SCROLL_TO_LEFT":setTimeout((0,et.action)((function(){r.is_chart_loading=!1})),20);break;case"MARKET_STATE_CHANGE":e&&n in e&&(this.is_market_closed=e.isClosed)}}},{key:"onClickCancel",value:function(t){var e=this;t&&yr.WS.cancelContract(t).then((function(t){t.error?e.root_store.common.setServicesError(ci({type:t.msg_type},t.error)):e.root_store.ui.addNotificationMessage(ii())}))}},{key:"onClickSell",value:function(t){var e=this.contract_info.bid_price;t&&e&&(this.is_sell_requested=!0,yr.WS.sell(t,e).then(this.handleSell))}},{key:"handleSell",value:function(t){t.error?(this.is_sell_requested=!1,this.root_store.common.setServicesError(ci({type:t.msg_type},t.error))):!t.error&&t.sell&&(this.is_sell_requested=!1,this.sell_info={sell_price:t.sell.sold_for,transaction_id:t.sell.transaction_id},this.root_store.ui.addNotificationMessage(oi(this.root_store.client.currency,t.sell.sold_for)))}},{key:"removeErrorMessage",value:function(){this.error_message="",this.has_error=!1}}])&&hi(e.prototype,r),n&&hi(e,n),i}(ho.Z),Fo=vi((Uo=ri).prototype,"chart_state",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Yo=vi(Uo.prototype,"contract_store",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{contract_info:{}}}}),Ho=vi(Uo.prototype,"is_market_closed",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vo=vi(Uo.prototype,"is_sell_requested",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bo=vi(Uo.prototype,"has_error",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wo=vi(Uo.prototype,"error_message",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Go=vi(Uo.prototype,"error_code",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qo=vi(Uo.prototype,"is_chart_loading",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zo=vi(Uo.prototype,"is_chart_scaling",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xo=vi(Uo.prototype,"is_forward_starting",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$o=vi(Uo.prototype,"margin",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=vi(Uo.prototype,"contract_id",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ko=vi(Uo.prototype,"indicative_status",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qo=vi(Uo.prototype,"contract_info",[Co],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.observable.object({})}}),ti=vi(Uo.prototype,"is_static_chart",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ei=vi(Uo.prototype,"contract_update",[jo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return et.observable.object({})}}),vi(Uo.prototype,"onMount",[Do],Object.getOwnPropertyDescriptor(Uo.prototype,"onMount"),Uo.prototype),vi(Uo.prototype,"onUnmount",[To],Object.getOwnPropertyDescriptor(Uo.prototype,"onUnmount"),Uo.prototype),vi(Uo.prototype,"populateConfig",[Mo],Object.getOwnPropertyDescriptor(Uo.prototype,"populateConfig"),Uo.prototype),vi(Uo.prototype,"updateMargin",[Ao],Object.getOwnPropertyDescriptor(Uo.prototype,"updateMargin"),Uo.prototype),vi(Uo.prototype,"chartStateChange",[Ro],Object.getOwnPropertyDescriptor(Uo.prototype,"chartStateChange"),Uo.prototype),vi(Uo.prototype,"onClickCancel",[No],Object.getOwnPropertyDescriptor(Uo.prototype,"onClickCancel"),Uo.prototype),vi(Uo.prototype,"onClickSell",[zo],Object.getOwnPropertyDescriptor(Uo.prototype,"onClickSell"),Uo.prototype),vi(Uo.prototype,"handleSell",[Lo],Object.getOwnPropertyDescriptor(Uo.prototype,"handleSell"),Uo.prototype),vi(Uo.prototype,"removeErrorMessage",[Io],Object.getOwnPropertyDescriptor(Uo.prototype,"removeErrorMessage"),Uo.prototype),Uo),Ui={key:"switch_to_tick_chart",header:(0,E.localize)("This chart display is not ideal for tick contracts"),message:_.createElement(E.Localize,{i18n_default_text:"Please change the chart duration to tick for a better trading experience."}),type:"info"};function Fi(t){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yi(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Hi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vi(t,e){return(Vi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=qi(t);if(e){var o=qi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Wi(this,r)}}function Wi(t,e){return!e||"object"!==Fi(e)&&"function"!=typeof e?Gi(t):e}function Gi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qi(t){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zi(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Xi=(wi=et.observable.shallow,Oi=et.action.bound,Si=et.action.bound,ki=et.action.bound,xi=et.action.bound,Pi=et.action.bound,Ei=et.action.bound,Ci=et.action.bound,ji=et.action.bound,Di=et.action.bound,Li=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vi(t,e)}(i,t);var e,r,n,o=Bi(i);function i(t){var e,r=t.root_store;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Yi(e=o.call(this,{root_store:r}),"contracts",Mi,Gi(e)),e.contracts_map={},Yi(e,"has_error",Ai,Gi(e)),Yi(e,"error_message",Ri,Gi(e)),Yi(e,"granularity",Ni,Gi(e)),Yi(e,"chart_type",zi,Gi(e)),e.applicable_contracts=function(){var t=e.root_store.modules.trade,r=t.symbol,n=t.contract_type;if(!n||!r)return[];var o=(0,N.r2)()[n].trade_types,i=(0,z.a)(n);return i&&(o=["CALLE","PUTE","CALL","PUT"]),e.contracts.filter((function(t){return t.contract_info.underlying===r})).filter((function(t){var e=t.contract_info;return!((0,k.isMultiplierContract)(e.contract_type)&&(0,k.isEnded)(t.contract_info))})).filter((function(t){var e=t.contract_info,r=-1!==o.indexOf(e.contract_type);return r&&e.barrier&&e.entry_tick&&i?"".concat(+e.entry_tick)==="".concat(+e.barrier)?"rise_fall"===n||"rise_fall_equal"===n:"high_low"===n:r}))},e.onSwitchAccount(e.accountSwitchListener),e}return e=i,(r=[{key:"updateChartType",value:function(t){k.LocalStore.set("contract_trade.chart_type",t),this.chart_type=t}},{key:"updateGranularity",value:function(t){0===t&&-1===["mountain","line","colored_line","spline","baseline"].indexOf(this.chart_type)&&(this.chart_type="mountain"),k.LocalStore.set("contract_trade.granularity",t),this.granularity=t,0===this.granularity&&this.root_store.ui.removeNotificationMessage(Ui)}},{key:"markers_array",get:function(){var t=this.applicable_contracts().map((function(t){return t.marker})).filter((function(t){return t})).map((function(t){return(0,et.toJS)(t)}));return t.length&&(t[t.length-1].is_last_contract=!0),t}},{key:"addContract",value:function(t){var e=t.barrier,r=t.contract_id,n=t.contract_type,o=t.start_time,i=t.longcode,a=t.underlying,s=t.is_tick_contract,c=t.limit_order,u=void 0===c?{}:c;if(!this.contracts_map[r]){var l=new ni(this.root_store,{contract_id:r});l.populateConfig({date_start:o,barrier:e,contract_type:n,longcode:i,underlying:a,limit_order:u}),this.contracts.push(l),this.contracts_map[r]=l,s&&0!==this.granularity&&(0,k.isDesktop)()&&this.root_store.ui.addNotificationMessage(Ui)}}},{key:"removeContract",value:function(t){var e=t.contract_id;this.contracts=this.contracts.filter((function(t){return t.contract_id!==e})),delete this.contracts_map[e]}},{key:"accountSwitchListener",value:function(){return this.has_error&&this.clearError(),Promise.resolve()}},{key:"onUnmount",value:function(){this.disposeSwitchAccount()}},{key:"updateProposal",value:function(t){if("error"in t)return this.has_error=!0,void(this.error_message=t.error.message);if(t.proposal_open_contract){var e=+t.proposal_open_contract.contract_id,r=this.contracts_map[e];r.populateConfig(t.proposal_open_contract),t.proposal_open_contract.is_sold&&(this.root_store.ui.removeNotificationMessage(Ui),r.cacheProposalOpenContractResponse(t))}}},{key:"last_contract",get:function(){var t=this.applicable_contracts(),e=t.length;return e>0?t[e-1]:{}}},{key:"clearError",value:function(){this.error_message="",this.has_error=!1}},{key:"getContractById",value:function(t){return this.contracts_map[t]||this.root_store.modules.contract_replay.contract_store}}])&&Hi(e.prototype,r),n&&Hi(e,n),i}(ho.Z),Mi=Zi((Ti=Li).prototype,"contracts",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ai=Zi(Ti.prototype,"has_error",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ri=Zi(Ti.prototype,"error_message",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ni=Zi(Ti.prototype,"granularity",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return+k.LocalStore.get("contract_trade.granularity")||0}}),zi=Zi(Ti.prototype,"chart_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.LocalStore.get("contract_trade.chart_type")||"mountain"}}),Zi(Ti.prototype,"updateChartType",[Oi],Object.getOwnPropertyDescriptor(Ti.prototype,"updateChartType"),Ti.prototype),Zi(Ti.prototype,"updateGranularity",[Si],Object.getOwnPropertyDescriptor(Ti.prototype,"updateGranularity"),Ti.prototype),Zi(Ti.prototype,"markers_array",[et.computed],Object.getOwnPropertyDescriptor(Ti.prototype,"markers_array"),Ti.prototype),Zi(Ti.prototype,"addContract",[ki],Object.getOwnPropertyDescriptor(Ti.prototype,"addContract"),Ti.prototype),Zi(Ti.prototype,"removeContract",[xi],Object.getOwnPropertyDescriptor(Ti.prototype,"removeContract"),Ti.prototype),Zi(Ti.prototype,"accountSwitchListener",[Pi],Object.getOwnPropertyDescriptor(Ti.prototype,"accountSwitchListener"),Ti.prototype),Zi(Ti.prototype,"onUnmount",[Ei],Object.getOwnPropertyDescriptor(Ti.prototype,"onUnmount"),Ti.prototype),Zi(Ti.prototype,"updateProposal",[Ci],Object.getOwnPropertyDescriptor(Ti.prototype,"updateProposal"),Ti.prototype),Zi(Ti.prototype,"last_contract",[et.computed],Object.getOwnPropertyDescriptor(Ti.prototype,"last_contract"),Ti.prototype),Zi(Ti.prototype,"clearError",[ji],Object.getOwnPropertyDescriptor(Ti.prototype,"clearError"),Ti.prototype),Zi(Ti.prototype,"getContractById",[Di],Object.getOwnPropertyDescriptor(Ti.prototype,"getContractById"),Ti.prototype),Ti),$i=r("./Stores/Modules/MT5/mt5-store.js"),Ji=r("../../../node_modules/lodash.throttle/index.js"),Ki=r.n(Ji);function Qi(t){throw new Error("[mobx-utils] "+t)}function ta(t,e){void 0===e&&(e="Illegal state"),t||Qi(e)}function ea(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}var ra=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(ra(Object.getPrototypeOf(t))||[])},na=function(t){return function(t){var e=ra(t);return e.filter((function(t,r){return e.indexOf(t)===r}))}(t).filter((function(t){return"constructor"!==t&&!~t.indexOf("__")}))},oa="pending",ia="fulfilled",aa="rejected";function sa(t){switch(this.state){case oa:return t.pending&&t.pending(this.value);case aa:return t.rejected&&t.rejected(this.value);case ia:return t.fulfilled?t.fulfilled(this.value):this.value}}function ca(t,e){if(ta(arguments.length<=2,"fromPromise expects up to two arguments"),ta("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.then,"Please pass a promise or function to fromPromise"),!0===t.isPromiseBasedObservable)return t;"function"==typeof t&&(t=new Promise(t));var r=t;t.then((0,et.action)("observableFromPromise-resolve",(function(t){r.value=t,r.state=ia})),(0,et.action)("observableFromPromise-reject",(function(t){r.value=t,r.state=aa}))),r.isPromiseBasedObservable=!0,r.case=sa;var n=e&&e.state===ia?e.value:void 0;return(0,et.extendObservable)(r,{value:n,state:oa},{},{deep:!1}),r}!function(t){t.reject=(0,et.action)("fromPromise.reject",(function(e){var r=t(Promise.reject(e));return r.state=aa,r.value=e,r})),t.resolve=(0,et.action)("fromPromise.resolve",(function(e){void 0===e&&(e=void 0);var r=t(Promise.resolve(e));return r.state=ia,r.value=e,r}))}(ca||(ca={}));var ua=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};!function(){function t(t,e){var r=this;(0,et.runInAction)((function(){r.current=e,r.subscription=t.subscribe(r)}))}t.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.next=function(t){this.current=t},t.prototype.complete=function(){this.dispose()},t.prototype.error=function(t){this.current=t,this.dispose()},ua([et.observable.ref],t.prototype,"current",void 0),ua([et.action.bound],t.prototype,"next",null),ua([et.action.bound],t.prototype,"complete",null),ua([et.action.bound],t.prototype,"error",null)}();var la=function(){return(la=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},pa=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},fa=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];!function(){function t(t){var e=this;this.model=t,this.localValues=et.observable.map({}),this.localComputedValues=et.observable.map({}),this.isPropertyDirty=function(t){return e.localValues.has(t)},ta((0,et.isObservableObject)(t),"createViewModel expects an observable object"),na(t).forEach((function(r){if(r!==et.$mobx&&"__mobxDidRunLazyInitializers"!==r){if(ta(-1===fa.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),(0,et.isComputedProp)(t,r)){var n=(0,et._getAdministration)(t,r).derivation;e.localComputedValues.set(r,(0,et.computed)(n.bind(e)))}var o=Object.getOwnPropertyDescriptor(t,r),i=o?{enumerable:o.enumerable}:{};Object.defineProperty(e,r,la(la({},i),{configurable:!0,get:function(){return(0,et.isComputedProp)(t,r)?e.localComputedValues.get(r).get():e.isPropertyDirty(r)?e.localValues.get(r):e.model[r]},set:(0,et.action)((function(t){t!==e.model[r]?e.localValues.set(r,t):e.localValues.delete(r)}))}))}}))}Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var t=this;(0,et.keys)(this.localValues).forEach((function(e){var r=t.localValues.get(e),n=t.model[e];(0,et.isObservableArray)(n)?n.replace(r):(0,et.isObservableMap)(n)?(n.clear(),n.merge(r)):(0,et.isComputed)(r)||(t.model[e]=r)})),this.localValues.clear()},t.prototype.reset=function(){this.localValues.clear()},t.prototype.resetProperty=function(t){this.localValues.delete(t)},pa([et.computed],t.prototype,"isDirty",null),pa([et.computed],t.prototype,"changedValues",null),pa([et.action.bound],t.prototype,"submit",null),pa([et.action.bound],t.prototype,"reset",null),pa([et.action.bound],t.prototype,"resetProperty",null)}();var da=function(){return(da=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ha=0;function ya(t,e){ta("function"==typeof t&&t.length<2,"createTransformer expects a function that accepts one argument");var r={},n=void 0,o=!1,i=void 0;"object"==typeof e?(n=e.onCleanup,o=void 0!==e.keepAlive&&e.keepAlive,i=e.debugNameGenerator):"function"==typeof e&&(n=e);var a=!1;return function(s){var c=function(t){var e=typeof t;if("string"===e)return"string:"+t;if("number"===e)return"number:"+t;if(null===t||"object"!==e&&"function"!==e)throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(t));var r=t.$transformId;return void 0===r&&ea(t,"$transformId",r="memoizationId:"+ ++ha),r}(s),u=r[c];if(u)return u.get();if(!o&&!(0,et._isComputingDerivation)()){a||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),a=!0);var l=t(s);return n&&n(l,s),l}return(u=r[c]=function(a,s){var c,u={};"object"==typeof e?(n=e.onCleanup,i=e.debugNameGenerator,u=e):"function"==typeof e?n=e:(n=void 0,i=void 0);var l=i?i(s):"Transformer-"+t.name+"-"+a,p=(0,et.computed)((function(){return c=t(s)}),da(da({},u),{name:l}));if(!o)var f=(0,et.onBecomeUnobserved)(p,(function(){delete r[a],f(),n&&n(c,s)}));return p}(c,s)).get()}}var ma,_a=(ma=function(t,e){return(ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}ma(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),ba=(function(t){function e(e,r,n){var o=void 0===n?{}:n,i=o.name,a=void 0===i?"ogm"+(1e3*Math.random()|0):i,s=o.keyToName,c=void 0===s?function(t){return""+t}:s,u=t.call(this)||this;u._keyToName=c,u._groupBy=r,u._ogmInfoKey=Symbol("ogmInfo"+a),u._base=e;for(var l=0;l<e.length;l++)u._addItem(e[l]);return u._disposeBaseObserver=(0,et.observe)(u._base,(function(t){if("splice"===t.type)(0,et.transaction)((function(){for(var e=0,r=t.removed;e<r.length;e++){var n=r[e];u._removeItem(n)}for(var o=0,i=t.added;o<i.length;o++){var a=i[o];u._addItem(a)}}));else{if("update"!==t.type)throw new Error("illegal state");(0,et.transaction)((function(){u._removeItem(t.oldValue),u._addItem(t.newValue)}))}})),u}_a(e,t),e.prototype.clear=function(){throw new Error("not supported")},e.prototype.delete=function(t){throw new Error("not supported")},e.prototype.set=function(t,e){throw new Error("not supported")},e.prototype.dispose=function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var e=this._base[t];e[this._ogmInfoKey].reaction(),delete e[this._ogmInfoKey]}},e.prototype._getGroupArr=function(e){var r=t.prototype.get.call(this,e);return void 0===r&&(r=(0,et.observable)([],{name:"GroupArray["+this._keyToName(e)+"]",deep:!1}),t.prototype.set.call(this,e,r)),r},e.prototype._removeFromGroupArr=function(e,r){var n=t.prototype.get.call(this,e);1===n.length?t.prototype.delete.call(this,e):(r===n.length-1||(n[r]=n[n.length-1],n[r][this._ogmInfoKey].groupArrIndex=r),n.length--)},e.prototype._addItem=function(t){var e=this,r=this._groupBy(t),n=this._getGroupArr(r),o={groupByValue:r,groupArrIndex:n.length,reaction:(0,et.reaction)((function(){return e._groupBy(t)}),(function(r,n){var o=t[e._ogmInfoKey];e._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=e._getGroupArr(r),a=i.length;i.push(t),o.groupByValue=r,o.groupArrIndex=a}))};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:o}),n.push(t)},e.prototype._removeItem=function(t){var e=t[this._ogmInfoKey];this._removeFromGroupArr(e.groupByValue,e.groupArrIndex),e.reaction(),delete t[this._ogmInfoKey]}}(et.ObservableMap),function(){function t(t,e){this.base=t,this.args=e,this.closestIdx=0,this.isDisposed=!1;for(var r=this.closest=this.root=t,n=0;n<this.args.length-1&&(r=r.get(e[n]));n++)this.closest=r;this.closestIdx=n}return t.prototype.exists=function(){this.assertNotDisposed();var t=this.args.length;return this.closestIdx>=t-1&&this.closest.has(this.args[t-1])},t.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},t.prototype.set=function(t){this.assertNotDisposed();for(var e=this.args.length,r=this.closest,n=this.closestIdx;n<e-1;n++){var o=new Map;r.set(this.args[n],o),r=o}this.closestIdx=e-1,this.closest=r,r.set(this.args[e-1],t)},t.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var t=this.args.length;this.closest.delete(this.args[t-1]);for(var e=this.root,r=[e],n=0;n<t-1;n++)e=e.get(this.args[n]),r.push(e);for(n=r.length-1;n>0;n--)0===r[n].size&&r[n-1].delete(this.args[n-1]);this.isDisposed=!0},t.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},t}());!function(){function t(){this.store=new Map,this.argsLength=-1}t.prototype.entry=function(t){if(-1===this.argsLength)this.argsLength=t.length;else if(this.argsLength!==t.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+t.length);return this.last&&(this.last.isDisposed=!0),this.last=new ba(this.store,t)}}(),new Set,new Set,Promise.resolve(),"undefined"!=typeof queueMicrotask?queueMicrotask:"undefined"!=typeof process&&process.nextTick;var ga,va,wa,Oa,Sa,ka,xa,Pa,Ea,Ca,ja,Da,Ta,Ma,Aa,Ra,Na,za,La,Ia,Ua,Fa,Ya,Ha,Va,Ba,Wa,Ga,qa,Za,Xa,$a=r("./Constants/index.js"),Ja=function(t){return!!(0,$a.n2)()[t.contract_type]||!!t.is_forward_starting},Ka=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=parseFloat(t.buy_price),o=parseFloat(t.payout),i=(0,Xe.rh)(e,(0,Qe.cS)(t.shortcode).underlying),a=t.transaction_id||t.transaction_ids&&t.transaction_ids.buy;return{contract_info:t,details:t.longcode.replace(/\n/g,"<br />"),display_name:i,id:t.contract_id,indicative:isNaN(r)||!r?0:r,payout:o,purchase:n,reference:+a,type:t.contract_type,is_unsupported:Ja(t),contract_update:t.limit_order}},Qa=r("./Stores/Modules/Portfolio/Helpers/details.js");function ts(t){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function es(t){return function(t){if(Array.isArray(t))return rs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return rs(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rs(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ns(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function os(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ns(Object(r),!0).forEach((function(e){is(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ns(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function is(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function as(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ss(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){as(i,n,o,a,s,"next",t)}function s(t){as(i,n,o,a,s,"throw",t)}a(void 0)}))}}function cs(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function us(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ls(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ps(t,e){return(ps=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ys(t);if(e){var o=ys(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ds(this,r)}}function ds(t,e){return!e||"object"!==ts(e)&&"function"!=typeof e?hs(t):e}function hs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ms(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var _s=(ga=et.observable.shallow,va=et.observable.shallow,wa=et.observable.shallow,Oa=et.action.bound,Sa=et.action.bound,ka=et.action.bound,xa=et.action.bound,Pa=et.action.bound,Ea=et.action.bound,Ca=et.action.bound,ja=et.action.bound,Da=et.action.bound,Ta=et.action.bound,Ma=et.action.bound,Aa=et.action.bound,Ra=et.action.bound,Na=et.action.bound,za=et.action.bound,La=et.action.bound,Ia=et.action.bound,Ua=et.action.bound,Fa=et.action.bound,Xa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ps(t,e)}(s,t);var e,r,n,o,i,a=fs(s);function s(){var t;us(this,s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return cs(t=a.call.apply(a,[this].concat(r)),"positions",Ha,hs(t)),cs(t,"all_positions",Va,hs(t)),t.positions_map={},cs(t,"is_loading",Ba,hs(t)),cs(t,"error",Wa,hs(t)),t.getPositionById=ya((function(e){return t.positions.find((function(t){return+t.id==+e}))})),t.responseQueue=[],cs(t,"active_positions",Ga,hs(t)),cs(t,"initializePortfolio",qa,hs(t)),t.deepClone=function(t){return JSON.parse(JSON.stringify(t))},t.proposalOpenContractQueueHandler=function(e){t.responseQueue.push(e),t.throttledUpdatePositions()},cs(t,"populateResultDetails",Za,hs(t)),t.updatePositions=function(){t.responseQueue.forEach((function(e){return t.proposalOpenContractHandler(e)})),t.responseQueue=[],t.setActivePositions()},t.throttledUpdatePositions=Ki()(t.updatePositions,500),t}return e=s,(r=[{key:"clearTable",value:function(){this.positions=[],this.positions_map={},this.is_loading=!1,this.error="",this.updatePositions(),this.has_subscribed_to_poc_and_transaction&&yr.WS.forgetAll("proposal_open_contract","transaction"),this.has_subscribed_to_poc_and_transaction=!1}},{key:"portfolioHandler",value:function(t){var e=this;this.is_loading=!1,"error"in t?this.error=t.error.message:(this.error="",t.portfolio.contracts&&(this.positions=t.portfolio.contracts.map((function(t){return Ka(t,e.root_store.modules.trade.active_symbols)})).sort((function(t,e){return e.reference-t.reference})),this.positions.forEach((function(t){e.positions_map[t.id]=t})),this.updatePositions()))}},{key:"onBuyResponse",value:function(t){var e={contract_id:t.contract_id,longcode:t.longcode,contract_type:t.contract_type};this.pushNewPosition(e)}},{key:"transactionHandler",value:(i=ss(regeneratorRuntime.mark((function t(e){var r,n,o,i,a,s,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("error"in e&&(this.error=e.error.message),e.transaction){t.next=3;break}return t.abrupt("return");case 3:if(r=e.transaction,n=r.contract_id,o=r.action,i=r.longcode,"buy"!==o){t.next=8;break}this.onBuyResponse({contract_id:n,longcode:i,contract_type:""}),t.next=14;break;case 8:if("sell"!==o){t.next=14;break}if(a=this.getPositionIndexById(n),this.positions[a]){t.next=12;break}return t.abrupt("return");case 12:this.positions[a].is_loading=!0,s=yr.WS.subscribeProposalOpenContract(n,(function(t){c.updateContractTradeStore(t),c.updateContractReplayStore(t),c.populateResultDetails(t),s.unsubscribe()}));case 14:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"updateContractTradeStore",value:function(t){var e=this.root_store.modules.contract_trade,r=!(0,k.isEmptyObject)(t.proposal_open_contract),n=!!t.error;(r||n)&&r&&(e.addContract(this.deepClone(t.proposal_open_contract)),e.updateProposal(this.deepClone(t)))}},{key:"updateContractReplayStore",value:function(t){var e,r=this.root_store.modules.contract_replay;r.contract_id===(null===(e=t.proposal_open_contract)||void 0===e?void 0:e.contract_id)&&r.populateConfig(t)}},{key:"updateTradeStore",value:function(t,e,r){var n=this.root_store.modules.trade;r||n.setPurchaseSpotBarrier(t,e),n.updateLimitOrderBarriers(t,e)}},{key:"proposalOpenContractHandler",value:function(t){if("error"in t)return this.updateContractTradeStore(t),void this.updateContractReplayStore(t);var e=t.proposal_open_contract,r=this.positions_map[e.contract_id];if(r){this.updateContractTradeStore(t),this.updateContractReplayStore(t);var n=Ka(e,this.root_store.modules.trade.active_symbols,r.indicative);Object.assign(r,n);var o=r.indicative,i=+e.bid_price,a=+e.profit;if(e.barrier&&(r.barrier=+e.barrier),e.entry_spot&&(r.entry_spot=+e.entry_spot),r.indicative=i,r.profit_loss=a,r.is_valid_to_sell=(0,k.isValidToSell)(e),r.contract_info=e,e.tick_count){var s=r.current_tick>(0,k.getCurrentTick)(e)?r.current_tick:(0,k.getCurrentTick)(e);r.current_tick=s}r.status=i>o?"profit":i<o?"loss":null,this.hovered_position_id===r.id&&(1===r.contract_info.is_sold?this.updateTradeStore(!1,r):this.updateTradeStore(!0,r,!0)),1===r.contract_info.is_sold&&this.populateResultDetails(t)}}},{key:"onClickCancel",value:function(t){var e=this,r=this.getPositionIndexById(t);this.positions[r].is_sell_requested||(this.positions[r].is_sell_requested=!0,t&&yr.WS.cancelContract(t).then((function(t){t.error?e.root_store.common.setServicesError(os({type:t.msg_type},t.error)):e.root_store.ui.addNotificationMessage(ii())})))}},{key:"onClickSell",value:function(t){var e=this.getPositionIndexById(t);if(!this.positions[e].is_sell_requested){var r=this.positions[e].contract_info.bid_price;this.positions[e].is_sell_requested=!0,t&&"number"==typeof r&&yr.WS.sell(t,r).then(this.handleSell)}}},{key:"handleSell",value:function(t){if(t.error){var e=this.getPositionIndexById(t.echo_req.sell);this.positions[e].is_sell_requested=!1,"InvalidToken"!==t.error.code&&this.root_store.common.setServicesError(os({type:t.msg_type},t.error))}else!t.error&&t.sell&&(this.root_store.modules.contract_trade.sell_info={sell_price:t.sell.sold_for,transaction_id:t.sell.transaction_id},this.root_store.ui.addNotificationMessage(oi(this.root_store.client.currency,t.sell.sold_for)))}},{key:"populateContractUpdate",value:function(t,e){var r=t.contract_update,n=this.getPositionById(e);n&&(Object.assign(n.contract_update,r),this.updatePositions())}},{key:"pushNewPosition",value:function(t){var e=Ka(t,this.root_store.modules.trade.active_symbols);this.positions_map[e.id]||(this.positions.unshift(e),this.positions_map[e.id]=e,this.updatePositions())}},{key:"removePositionById",value:function(t){var e=this.getPositionIndexById(t);this.positions.splice(e,1),delete this.positions_map[t],this.updatePositions(),this.root_store.modules.contract_trade.removeContract({contract_id:t})}},{key:"accountSwitcherListener",value:(o=ss(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initializePortfolio(!0);case 2:return t.abrupt("return",Promise.resolve());case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onHoverPosition",value:function(t,e){var r=this.root_store.modules.trade.symbol;e.contract_info.underlying===r&&!(0,k.isEnded)(e.contract_info)&&(0,k.isMultiplierContract)(e.type)&&(this.hovered_position_id=t?e.id:null,this.updateTradeStore(t,e))}},{key:"preSwitchAccountListener",value:function(){return this.clearTable(),Promise.resolve()}},{key:"logoutListener",value:function(){return this.clearTable(),Promise.resolve()}},{key:"networkStatusChangeListener",value:function(t){this.is_loading=!t}},{key:"onMount",value:function(){var t=this;this.onPreSwitchAccount(this.preSwitchAccountListener),this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),this.onLogout(this.logoutListener),0!==this.positions.length||this.has_subscribed_to_poc_and_transaction||(this.root_store.client.is_logged_in?this.initializePortfolio():(0,et.reaction)((function(){return t.root_store.client.is_logged_in}),(function(){t.root_store.client.is_logged_in&&t.initializePortfolio()})))}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout()}},{key:"getPositionIndexById",value:function(t){return this.positions.findIndex((function(e){return+e.id==+t}))}},{key:"totals",get:function(){var t=0,e=0,r=0;return this.positions.forEach((function(n){t+=+n.indicative,e+=+n.payout,r+=+n.purchase})),{indicative:t,payout:e,purchase:r}}},{key:"setActivePositions",value:function(){this.active_positions=this.positions.filter((function(t){return!(0,Er.NQ)(t.contract_info)})),this.all_positions=es(this.positions)}},{key:"is_active_empty",get:function(){return!this.is_loading&&0===this.active_positions.length}},{key:"active_positions_count",get:function(){return this.active_positions.length||0}},{key:"is_empty",get:function(){return!this.is_loading&&0===this.all_positions.length}}])&&ls(e.prototype,r),n&&ls(e,n),s}(ho.Z),Ha=ms((Ya=Xa).prototype,"positions",[ga],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Va=ms(Ya.prototype,"all_positions",[va],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ba=ms(Ya.prototype,"is_loading",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wa=ms(Ya.prototype,"error",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ga=ms(Ya.prototype,"active_positions",[wa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qa=ms(Ya.prototype,"initializePortfolio",[Oa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){var e=ss(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t.has_subscribed_to_poc_and_transaction||r)&&t.clearTable(),t.is_loading=!0,e.next=4,yr.WS.wait("authorize");case 4:yr.WS.portfolio().then(t.portfolioHandler),yr.WS.subscribeProposalOpenContract(null,t.proposalOpenContractQueueHandler),yr.WS.subscribeTransaction(t.transactionHandler),t.has_subscribed_to_poc_and_transaction=!0;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),ms(Ya.prototype,"clearTable",[Sa],Object.getOwnPropertyDescriptor(Ya.prototype,"clearTable"),Ya.prototype),ms(Ya.prototype,"portfolioHandler",[ka],Object.getOwnPropertyDescriptor(Ya.prototype,"portfolioHandler"),Ya.prototype),ms(Ya.prototype,"onBuyResponse",[xa],Object.getOwnPropertyDescriptor(Ya.prototype,"onBuyResponse"),Ya.prototype),ms(Ya.prototype,"transactionHandler",[Pa],Object.getOwnPropertyDescriptor(Ya.prototype,"transactionHandler"),Ya.prototype),ms(Ya.prototype,"proposalOpenContractHandler",[Ea],Object.getOwnPropertyDescriptor(Ya.prototype,"proposalOpenContractHandler"),Ya.prototype),ms(Ya.prototype,"onClickCancel",[Ca],Object.getOwnPropertyDescriptor(Ya.prototype,"onClickCancel"),Ya.prototype),ms(Ya.prototype,"onClickSell",[ja],Object.getOwnPropertyDescriptor(Ya.prototype,"onClickSell"),Ya.prototype),ms(Ya.prototype,"handleSell",[Da],Object.getOwnPropertyDescriptor(Ya.prototype,"handleSell"),Ya.prototype),Za=ms(Ya.prototype,"populateResultDetails",[Ta],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){var r=e.proposal_open_contract,n=t.getPositionIndexById(r.contract_id);t.positions[n]&&(t.positions[n].contract_info=r,t.positions[n].duration=(0,Qa.Cc)(r),t.positions[n].duration_unit=(0,Qa.BX)((0,Qa.H3)(r)),t.positions[n].exit_spot=r.exit_tick||r.current_spot,t.positions[n].is_valid_to_sell=(0,k.isValidToSell)(r),t.positions[n].result=(0,k.getDisplayStatus)(r),t.positions[n].profit_loss=+r.profit,t.positions[n].sell_time=(0,Er.NQ)(r)||r.current_spot_time,t.positions[n].sell_price=r.sell_price,t.positions[n].status="complete",t.positions[n].contract_info.barrier&&t.positions[n].contract_info.entry_spot||(t.positions[n].contract_info.barrier=t.positions[n].barrier,t.positions[n].contract_info.entry_spot=t.positions[n].entry_spot),(0,k.isUserSold)(r)&&(t.positions[n].exit_spot="-"),t.positions[n].is_loading=!1)}}}),ms(Ya.prototype,"populateContractUpdate",[Ma],Object.getOwnPropertyDescriptor(Ya.prototype,"populateContractUpdate"),Ya.prototype),ms(Ya.prototype,"pushNewPosition",[Aa],Object.getOwnPropertyDescriptor(Ya.prototype,"pushNewPosition"),Ya.prototype),ms(Ya.prototype,"removePositionById",[Ra],Object.getOwnPropertyDescriptor(Ya.prototype,"removePositionById"),Ya.prototype),ms(Ya.prototype,"onHoverPosition",[Na],Object.getOwnPropertyDescriptor(Ya.prototype,"onHoverPosition"),Ya.prototype),ms(Ya.prototype,"logoutListener",[za],Object.getOwnPropertyDescriptor(Ya.prototype,"logoutListener"),Ya.prototype),ms(Ya.prototype,"networkStatusChangeListener",[La],Object.getOwnPropertyDescriptor(Ya.prototype,"networkStatusChangeListener"),Ya.prototype),ms(Ya.prototype,"onMount",[Ia],Object.getOwnPropertyDescriptor(Ya.prototype,"onMount"),Ya.prototype),ms(Ya.prototype,"onUnmount",[Ua],Object.getOwnPropertyDescriptor(Ya.prototype,"onUnmount"),Ya.prototype),ms(Ya.prototype,"totals",[et.computed],Object.getOwnPropertyDescriptor(Ya.prototype,"totals"),Ya.prototype),ms(Ya.prototype,"setActivePositions",[Fa],Object.getOwnPropertyDescriptor(Ya.prototype,"setActivePositions"),Ya.prototype),ms(Ya.prototype,"is_active_empty",[et.computed],Object.getOwnPropertyDescriptor(Ya.prototype,"is_active_empty"),Ya.prototype),ms(Ya.prototype,"active_positions_count",[et.computed],Object.getOwnPropertyDescriptor(Ya.prototype,"active_positions_count"),Ya.prototype),ms(Ya.prototype,"is_empty",[et.computed],Object.getOwnPropertyDescriptor(Ya.prototype,"is_empty"),Ya.prototype),Ya),bs=r("../../../node_modules/lodash.debounce/index.js"),gs=r.n(bs);function vs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ws(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vs(Object(r),!0).forEach((function(e){Os(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Os(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ss=function(t,e){var r=(0,k.toMoment)().startOf("day").unix();return e&&r>e?e:(0,k.epochToMoment)(r).add(1,"d").subtract(1,"s").unix()},ks=function(t,e,r,n){return(0,k.toMoment)().startOf("day").unix()>n?r:t&&e?e:r},xs=function(t,e,r,n){return(0,k.toMoment)().startOf("day").unix()>n?!!t||e:e?r||t:!!t||!1};const Ps=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ws(ws({},xs(t,n,r,e)&&{date_from:ks(n,r,t,e)}),(e||n)&&{date_to:Ss(0,e)})};function Es(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Es(Object(r),!0).forEach((function(e){js(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Es(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function js(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ds,Ts,Ms,As,Rs,Ns,zs,Ls,Is,Us,Fs,Ys,Hs,Vs,Bs,Ws,Gs,qs,Zs,Xs;function $s(t){return($s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Js(t){return function(t){if(Array.isArray(t))return Ks(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ks(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ks(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ks(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qs(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function tc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Qs(i,n,o,a,s,"next",t)}function s(t){Qs(i,n,o,a,s,"throw",t)}a(void 0)}))}}function ec(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function rc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function oc(t,e){return(oc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ic(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=cc(t);if(e){var o=cc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ac(this,r)}}function ac(t,e){return!e||"object"!==$s(e)&&"function"!=typeof e?sc(t):e}function sc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cc(t){return(cc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uc(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var lc,pc,fc,dc,hc,yc,mc,_c,bc,gc,vc,wc,Oc,Sc,kc,xc,Pc,Ec,Cc,jc,Dc,Tc,Mc,Ac,Rc=(Ds=et.action.bound,Ts=et.action.bound,Ms=et.action.bound,As=et.action.bound,Rs=et.action.bound,Ns=et.action.bound,zs=et.action.bound,Ls=et.action.bound,Is=et.action.bound,Us=et.action.bound,Xs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oc(t,e)}(s,t);var e,r,n,o,i,a=ic(s);function s(){var t;rc(this,s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ec(t=a.call.apply(a,[this].concat(r)),"data",Ys,sc(t)),ec(t,"date_from",Hs,sc(t)),ec(t,"date_to",Vs,sc(t)),ec(t,"error",Bs,sc(t)),ec(t,"has_loaded_all",Ws,sc(t)),ec(t,"is_loading",Gs,sc(t)),ec(t,"filtered_date_range",qs,sc(t)),ec(t,"client_loginid",Zs,sc(t)),t.fetchOnScroll=gs()((function(e){e<1500&&t.fetchNextBatch()}),150),t}return e=s,(r=[{key:"total_profit",get:function(){return this.data.reduce((function(t,e){var r=Number(parseFloat(e.buy_price));return t+(Number(parseFloat(e.sell_price))-r)}),0)}},{key:"is_empty",get:function(){return!this.is_loading&&0===this.data.length}},{key:"has_selected_date",get:function(){return!(!this.date_from&&!this.date_to)}},{key:"shouldFetchNextBatch",value:function(){return!this.has_loaded_all&&!this.is_loading}},{key:"fetchNextBatch",value:(i=tc(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.shouldFetchNextBatch()){t.next=2;break}return t.abrupt("return");case 2:return this.is_loading=!0,t.next=5,yr.WS.profitTable(50,this.data.length,Ps(this.date_from,this.date_to,0,!1));case 5:e=t.sent,this.profitTableResponseHandler(e);case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"profitTableResponseHandler",value:function(t){var e=this;if("error"in t)this.error=t.error.message;else{var r=t.profit_table.transactions.map((function(t){return function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="DD MMM YYYY HH:mm:ss",o="".concat((0,k.toMoment)(+t.purchase_time).format(n)),i=t.purchase_time,a="".concat((0,k.toMoment)(+t.sell_time).format(n)),s=parseFloat(t.payout),c=parseFloat(t.sell_price),u=parseFloat(t.buy_price),l=(0,k.formatMoney)(e,Number(c-u),!0),p=(0,Xe.rh)(r,(0,Qe.cS)(t.shortcode).underlying);return Cs(Cs({},t),{payout:s,sell_price:c,buy_price:u,profit_loss:l,sell_time:a,purchase_time:o,display_name:p,purchase_time_unix:i})}(t,e.root_store.client.currency,e.root_store.modules.trade.active_symbols)}));this.data=[].concat(Js(this.data),Js(r)),this.has_loaded_all=r.length<50,this.is_loading=!1}}},{key:"handleScroll",value:function(t){var e=t.target,r=e.scrollTop,n=e.scrollHeight-(r+e.clientHeight);this.fetchOnScroll(n)}},{key:"networkStatusChangeListener",value:function(t){this.is_loading=!t}},{key:"onMount",value:(o=tc(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.assertHasValidCache(this.client_loginid,this.clearDateFilter,yr.WS.forgetAll.bind(null,"proposal")),this.client_loginid=this.root_store.client.loginid,this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),t.next=6,yr.WS.wait("authorize");case 6:this.clearTable(),this.fetchNextBatch();case 8:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onUnmount",value:function(){this.disposeSwitchAccount(),yr.WS.forgetAll("proposal")}},{key:"totals",get:function(){var t=0;return this.data.forEach((function(e){t+=parseFloat(e.profit_loss.replace(/,/g,""))})),{profit_loss:t.toString()}}},{key:"accountSwitcherListener",value:function(){var t=this;return new Promise((function(e){return t.clearTable(),t.clearDateFilter(),e(t.fetchNextBatch())}))}},{key:"clearTable",value:function(){this.data=[],this.has_loaded_all=!1,this.is_loading=!1}},{key:"clearDateFilter",value:function(){this.date_from=null,this.date_to=(0,k.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix()}},{key:"handleDateChange",value:function(t){var e,r,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).date_range;this.filtered_date_range=n,this.date_from=null!==(e=null==t?void 0:t.from)&&void 0!==e?e:t.is_batch?null:this.date_from,this.date_to=null!==(r=null==t?void 0:t.to)&&void 0!==r?r:this.date_to,this.clearTable(),this.fetchNextBatch()}}])&&nc(e.prototype,r),n&&nc(e,n),s}(ho.Z),Ys=uc((Fs=Xs).prototype,"data",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hs=uc(Fs.prototype,"date_from",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vs=uc(Fs.prototype,"date_to",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,k.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix()}}),Bs=uc(Fs.prototype,"error",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ws=uc(Fs.prototype,"has_loaded_all",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gs=uc(Fs.prototype,"is_loading",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qs=uc(Fs.prototype,"filtered_date_range",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zs=uc(Fs.prototype,"client_loginid",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),uc(Fs.prototype,"total_profit",[et.computed],Object.getOwnPropertyDescriptor(Fs.prototype,"total_profit"),Fs.prototype),uc(Fs.prototype,"is_empty",[et.computed],Object.getOwnPropertyDescriptor(Fs.prototype,"is_empty"),Fs.prototype),uc(Fs.prototype,"has_selected_date",[et.computed],Object.getOwnPropertyDescriptor(Fs.prototype,"has_selected_date"),Fs.prototype),uc(Fs.prototype,"fetchNextBatch",[Ds],Object.getOwnPropertyDescriptor(Fs.prototype,"fetchNextBatch"),Fs.prototype),uc(Fs.prototype,"profitTableResponseHandler",[Ts],Object.getOwnPropertyDescriptor(Fs.prototype,"profitTableResponseHandler"),Fs.prototype),uc(Fs.prototype,"handleScroll",[Ms],Object.getOwnPropertyDescriptor(Fs.prototype,"handleScroll"),Fs.prototype),uc(Fs.prototype,"networkStatusChangeListener",[As],Object.getOwnPropertyDescriptor(Fs.prototype,"networkStatusChangeListener"),Fs.prototype),uc(Fs.prototype,"onMount",[Rs],Object.getOwnPropertyDescriptor(Fs.prototype,"onMount"),Fs.prototype),uc(Fs.prototype,"onUnmount",[Ns],Object.getOwnPropertyDescriptor(Fs.prototype,"onUnmount"),Fs.prototype),uc(Fs.prototype,"totals",[et.computed],Object.getOwnPropertyDescriptor(Fs.prototype,"totals"),Fs.prototype),uc(Fs.prototype,"accountSwitcherListener",[zs],Object.getOwnPropertyDescriptor(Fs.prototype,"accountSwitcherListener"),Fs.prototype),uc(Fs.prototype,"clearTable",[Ls],Object.getOwnPropertyDescriptor(Fs.prototype,"clearTable"),Fs.prototype),uc(Fs.prototype,"clearDateFilter",[Is],Object.getOwnPropertyDescriptor(Fs.prototype,"clearDateFilter"),Fs.prototype),uc(Fs.prototype,"handleDateChange",[Us],Object.getOwnPropertyDescriptor(Fs.prototype,"handleDateChange"),Fs.prototype),Fs);function Nc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nc(Object(r),!0).forEach((function(e){Lc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Lc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ic(t){return(Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uc(t){return function(t){if(Array.isArray(t))return Fc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Fc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fc(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yc(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Hc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Yc(i,n,o,a,s,"next",t)}function s(t){Yc(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Vc(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Bc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gc(t,e){return(Gc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$c(t);if(e){var o=$c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Zc(this,r)}}function Zc(t,e){return!e||"object"!==Ic(e)&&"function"!=typeof e?Xc(t):e}function Xc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $c(t){return($c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jc(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Kc=(lc=et.action.bound,pc=et.action.bound,fc=et.action.bound,dc=et.action.bound,hc=et.action.bound,yc=et.action.bound,mc=et.action.bound,_c=et.action.bound,bc=et.action.bound,gc=et.action.bound,vc=et.action.bound,wc=et.action.bound,Ac=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gc(t,e)}(c,t);var e,r,n,o,i,a,s=qc(c);function c(){var t;Bc(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Vc(t=s.call.apply(s,[this].concat(r)),"data",Sc,Xc(t)),Vc(t,"is_loading",kc,Xc(t)),Vc(t,"has_loaded_all",xc,Xc(t)),Vc(t,"date_from",Pc,Xc(t)),Vc(t,"date_to",Ec,Xc(t)),Vc(t,"error",Cc,Xc(t)),Vc(t,"action_type",jc,Xc(t)),Vc(t,"filtered_date_range",Dc,Xc(t)),Vc(t,"client_loginid",Tc,Xc(t)),Vc(t,"account_statistics",Mc,Xc(t)),t.fetchOnScroll=gs()((function(e){e<1500&&t.fetchNextBatch()}),150),t}return e=c,(r=[{key:"is_empty",get:function(){return!this.is_loading&&0===this.data.length}},{key:"has_selected_date",get:function(){return!(!this.date_from&&!this.date_to)}},{key:"clearTable",value:function(){this.data=[],this.has_loaded_all=!1,this.is_loading=!1}},{key:"clearDateFilter",value:function(){this.date_from=null,this.date_to=(0,k.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix(),this.partial_fetch_time=0}},{key:"shouldFetchNextBatch",value:function(t){if(!t&&(this.has_loaded_all||this.is_loading))return!1;var e=(0,k.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix();return!(this.date_to<e)||!t&&this.partial_fetch_time}},{key:"fetchNextBatch",value:(a=Hc(regeneratorRuntime.mark((function t(){var e,r,n,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]&&o[0],this.shouldFetchNextBatch(e)){t.next=3;break}return t.abrupt("return");case 3:return this.is_loading=!0,r=Ps(this.date_from,this.date_to,this.partial_fetch_time,e),"all"!==this.action_type&&(r.action_type=this.action_type),t.next=8,yr.WS.statement(100,e?void 0:this.data.length,r);case 8:n=t.sent,this.statementHandler(n,e);case 10:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"statementHandler",value:function(t,e){var r=this;if("error"in t)this.error=t.error.message;else{var n=t.statement.transactions.map((function(t){return function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="DD MMM YYYY HH:mm:ss",o=(0,k.toMoment)(t.transaction_time).format(n),i=parseFloat(t.payout),a=parseFloat(t.amount),s=parseFloat(t.balance_after),c=!0,u=["buy","sell"].includes(t.action_type)?t.shortcode:null,l=u?(0,Xe.rh)(r,(0,Qe.cS)(u).underlying):"";return zc({action:(0,E.localize)((0,k.toTitleCase)(t.action_type)),date:o,display_name:l,refid:t.transaction_id,payout:isNaN(i)?"-":(0,k.formatMoney)(e,i,c),amount:isNaN(a)?"-":(0,k.formatMoney)(e,a,c),balance:isNaN(s)?"-":(0,k.formatMoney)(e,s,c),desc:t.longcode.replace(/\n/g,"<br />"),id:t.contract_id,app_id:t.app_id,shortcode:u,action_type:t.action_type,purchase_time:t.purchase_time,transaction_time:t.transaction_time},t.withdrawal_details&&{withdrawal_details:t.withdrawal_details,longcode:t.longcode})}(t,r.root_store.client.currency,r.root_store.modules.trade.active_symbols)}));this.data=e?[].concat(Uc(n),Uc(this.data)):[].concat(Uc(this.data),Uc(n)),this.has_loaded_all=!e&&n.length<100,this.is_loading=!1,n.length>0&&(this.partial_fetch_time=(0,k.toMoment)().unix())}}},{key:"handleDateChange",value:function(t){var e,r,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).date_range;this.filtered_date_range=n,this.date_from=null!==(e=null==t?void 0:t.from)&&void 0!==e?e:t.is_batch?null:this.date_from,this.date_to=null!==(r=null==t?void 0:t.to)&&void 0!==r?r:this.date_to,this.clearTable(),this.fetchNextBatch()}},{key:"handleFilterChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action_type=t,this.clearTable(),this.fetchNextBatch()}},{key:"handleScroll",value:function(t){var e=t.target,r=e.scrollTop,n=e.scrollHeight-(r+e.clientHeight);this.fetchOnScroll(n)}},{key:"loadAccountStatistics",value:(i=Hc(regeneratorRuntime.mark((function t(){var e,r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.account_statistics={},!(e=this.root_store.client).standpoint.iom&&!e.standpoint.malta){t.next=8;break}return t.next=6,yr.WS.accountStatistics();case 6:r=t.sent,(0,et.runInAction)((function(){r.error?n.account_statistics={}:n.account_statistics=r.account_statistics}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"accountSwitcherListener",value:function(){var t=this;return new Promise((function(e){return t.clearTable(),t.clearDateFilter(),t.loadAccountStatistics(),e(t.fetchNextBatch())}))}},{key:"networkStatusChangeListener",value:function(t){this.is_loading=!t}},{key:"onMount",value:(o=Hc(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.assertHasValidCache(this.client_loginid,this.clearDateFilter,this.clearTable,yr.WS.forgetAll.bind(null,"proposal")),this.client_loginid=this.root_store.client.loginid,this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),t.next=6,yr.WS.wait("authorize");case 6:this.fetchNextBatch(!0),this.loadAccountStatistics();case 8:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onUnmount",value:function(){this.disposeSwitchAccount(),yr.WS.forgetAll("proposal")}}])&&Wc(e.prototype,r),n&&Wc(e,n),c}(ho.Z),Sc=Jc((Oc=Ac).prototype,"data",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kc=Jc(Oc.prototype,"is_loading",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xc=Jc(Oc.prototype,"has_loaded_all",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pc=Jc(Oc.prototype,"date_from",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ec=Jc(Oc.prototype,"date_to",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,k.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix()}}),Cc=Jc(Oc.prototype,"error",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),jc=Jc(Oc.prototype,"action_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"all"}}),Dc=Jc(Oc.prototype,"filtered_date_range",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tc=Jc(Oc.prototype,"client_loginid",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mc=Jc(Oc.prototype,"account_statistics",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Jc(Oc.prototype,"is_empty",[et.computed],Object.getOwnPropertyDescriptor(Oc.prototype,"is_empty"),Oc.prototype),Jc(Oc.prototype,"has_selected_date",[et.computed],Object.getOwnPropertyDescriptor(Oc.prototype,"has_selected_date"),Oc.prototype),Jc(Oc.prototype,"clearTable",[lc],Object.getOwnPropertyDescriptor(Oc.prototype,"clearTable"),Oc.prototype),Jc(Oc.prototype,"clearDateFilter",[pc],Object.getOwnPropertyDescriptor(Oc.prototype,"clearDateFilter"),Oc.prototype),Jc(Oc.prototype,"fetchNextBatch",[fc],Object.getOwnPropertyDescriptor(Oc.prototype,"fetchNextBatch"),Oc.prototype),Jc(Oc.prototype,"statementHandler",[dc],Object.getOwnPropertyDescriptor(Oc.prototype,"statementHandler"),Oc.prototype),Jc(Oc.prototype,"handleDateChange",[hc],Object.getOwnPropertyDescriptor(Oc.prototype,"handleDateChange"),Oc.prototype),Jc(Oc.prototype,"handleFilterChange",[yc],Object.getOwnPropertyDescriptor(Oc.prototype,"handleFilterChange"),Oc.prototype),Jc(Oc.prototype,"handleScroll",[mc],Object.getOwnPropertyDescriptor(Oc.prototype,"handleScroll"),Oc.prototype),Jc(Oc.prototype,"loadAccountStatistics",[_c],Object.getOwnPropertyDescriptor(Oc.prototype,"loadAccountStatistics"),Oc.prototype),Jc(Oc.prototype,"accountSwitcherListener",[bc],Object.getOwnPropertyDescriptor(Oc.prototype,"accountSwitcherListener"),Oc.prototype),Jc(Oc.prototype,"networkStatusChangeListener",[gc],Object.getOwnPropertyDescriptor(Oc.prototype,"networkStatusChangeListener"),Oc.prototype),Jc(Oc.prototype,"onMount",[vc],Object.getOwnPropertyDescriptor(Oc.prototype,"onMount"),Oc.prototype),Jc(Oc.prototype,"onUnmount",[wc],Object.getOwnPropertyDescriptor(Oc.prototype,"onUnmount"),Oc.prototype),Oc),Qc=r("./_common/base/server_time.js"),tu=r.n(Qc);function eu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ru(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?eu(Object(r),!0).forEach((function(e){nu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function nu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ou(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var iu=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,r,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",yr.WS.buy(ru({proposal_id:e,price:r},n&&{passthrough:n})));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ou(i,n,o,a,s,"next",t)}function s(t){ou(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}(),au=r("./Stores/Modules/Trading/Helpers/contract-type.js");function su(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var cu=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,au.Z.buildContractTypesConfig(e);case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){su(i,n,o,a,s,"next",t)}function s(t){su(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),uu=r("./Stores/Modules/Trading/Helpers/start-date.js");function lu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return pu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pu(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function du(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var hu=function(){return{stop_loss:{rules:[["req",{condition:function(t){return t.has_stop_loss&&!t.stop_loss},message:(0,E.localize)("Please enter a stop loss amount.")}]]},take_profit:{rules:[["req",{condition:function(t){return t.has_take_profit&&!t.take_profit},message:(0,E.localize)("Please enter a take profit amount.")}]]}}};const yu=function(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fu(Object(r),!0).forEach((function(e){du(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({amount:{rules:[["req",{message:(0,E.localize)("Amount is a required field.")}],["number",{min:0,type:"float"}]]},barrier_1:{rules:[["req",{condition:function(t){return t.barrier_count&&t.form_components.indexOf("barrier")>-1},message:(0,E.localize)("Barrier is a required field.")}],["barrier",{condition:function(t){return t.barrier_count}}],["custom",{func:function(t,e,r,n){return!(r.barrier_count>1)||+t>+n.barrier_2},message:(0,E.localize)("Higher barrier must be higher than lower barrier.")}]],trigger:"barrier_2"},barrier_2:{rules:[["req",{condition:function(t){return t.barrier_count>1&&t.form_components.indexOf("barrier")>-1},message:(0,E.localize)("Barrier is a required field.")}],["barrier",{condition:function(t){return t.barrier_count}}],["custom",{func:function(t,e,r,n){return/^[+-]/g.test(n.barrier_1)&&/^[+-]/g.test(t)||/^(?![+-])/g.test(n.barrier_1)&&/^(?![+-])/g.test(t)},message:(0,E.localize)("Both barriers should be relative or absolute")}],["custom",{func:function(t,e,r,n){return+n.barrier_1>+t},message:(0,E.localize)("Lower barrier must be lower than higher barrier.")}]],trigger:"barrier_1"},duration:{rules:[["req",{message:(0,E.localize)("Duration is a required field.")}]]},start_date:{trigger:"start_time"},expiry_date:{trigger:"expiry_time"},start_time:{rules:[["custom",{func:function(t,e,r){return"spot"===r.contract_start_type||(0,k.isTimeValid)(t)},message:(0,E.localize)('Please enter the start time in the format "HH:MM".')}],["custom",{func:function(t,e,r){return"spot"===r.contract_start_type||(0,k.isHourValid)(t)},message:(0,E.localize)("Hour must be between 0 and 23.")}],["custom",{func:function(t,e,r){return"spot"===r.contract_start_type||(0,k.isMinuteValid)(t)},message:(0,E.localize)("Minute must be between 0 and 59.")}],["custom",{func:function(t,e,r){if("spot"===r.contract_start_type)return!0;if(!(0,k.isTimeValid)(t))return!1;var n=(0,k.toMoment)(r.start_date),o=n.clone(),i=lu(t.split(":"),2),a=i[0],s=i[1];return(0,uu.Y)(r.sessions,o.hour(a).minute(s),n)},message:(0,E.localize)("Start time cannot be in the past.")}]]},expiry_time:{rules:[["custom",{func:function(t,e,r){return"spot"===r.contract_start_type||(0,k.isTimeValid)(t)},message:(0,E.localize)('Please enter the start time in the format "HH:MM".')}],["custom",{func:function(t,e,r){return"spot"===r.contract_start_type||(0,k.isHourValid)(t)},message:(0,E.localize)("Hour must be between 0 and 23.")}],["custom",{func:function(t,e,r){return"spot"===r.contract_start_type||(0,k.isMinuteValid)(t)},message:(0,E.localize)("Minute must be between 0 and 59.")}],["custom",{func:function(t,e,r){if("spot"===r.contract_start_type)return!0;if(!(0,k.isTimeValid)(t))return!1;var n=(0,k.toMoment)(r.start_date),o=n.clone(),i=lu(t.split(":"),2),a=i[0],s=i[1];return(0,uu.Y)(r.sessions,o.hour(a).minute(s),n)},message:(0,E.localize)("Expiry time cannot be in the past.")}]]}},hu())};var mu=r("./Stores/Modules/Trading/Helpers/duration.js"),_u=function(t){var e=t.contract_types_list,r=t.contract_type;return au.Z.getContractType(e,r)},bu=function(t){return au.Z.getContractValues(t)};function gu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return vu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vu(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ou(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wu(Object(r),!0).forEach((function(e){Su(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Su(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ku=function(t){var e=(0,mu.QJ)(t);return Ou({contract_expiry_type:e},t.contract_expiry_type!==e&&au.Z.getBarriers(t.contract_type,e))},xu=function(t){var e=(0,mu.QJ)(t),r=t.duration,n=t.duration_min_max,o=t.duration_unit;return Ou({},Pu({contract_expiry_type:e,duration:r,duration_min_max:n,duration_unit:o}))},Pu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.contract_expiry_type,r=t.duration,n=t.duration_min_max,o=t.duration_unit,i=gu((0,mu.P7)(n,e,o),2),a=i[0],s=i[1];return r<a?{duration:a}:r>s?{duration:s}:{}};function Eu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Eu(Object(r),!0).forEach((function(e){ju(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Eu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ju(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Du(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var Tu=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var r,n,o,i,a,s,c,u,l,p,f,d,h,y,m,_,b,g,v,w,O,S,k,x,P;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.contract_type,n=e.duration_unit,o=e.expiry_time,i=e.start_date,a=e.symbol,s=e.root_store.common.server_time,c=e.start_time,u=e.expiry_date,l=e.expiry_type,c=c||s.clone().add(6,"minute").format("HH:mm"),p=au.Z.getStartType(i),f=p.contract_start_type,d=au.Z.getSessions(r,i),h=d.sessions,y=au.Z.getStartTime(h,i,c),c=y.start_time,m=au.Z.getDurationUnitsList(r,f),_=m.duration_units_list,b=au.Z.getDurationUnit(n,r,f),g=au.Z.getExpiryType(_,l),l=g.expiry_type,v=au.Z.getExpiryDate(_,u,l,i),u=v.expiry_date,t.next=19,au.Z.getTradingTimes(u,a);case 19:return w=t.sent,O={market_open_times:w.open},S={market_close_times:w.close},k=S.market_close_times,x=au.Z.getExpiryTime(u,o,l,k,h,i,c),P=au.Z.getDurationMinMax(r,f),t.abrupt("return",Cu(Cu(Cu(Cu(Cu(Cu(Cu(Cu(Cu(Cu(Cu({},p),m),P),b),d),y),v),x),g),O),S));case 26:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Du(i,n,o,a,s,"next",t)}function s(t){Du(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Mu(t){return function(t){if(Array.isArray(t))return Au(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Au(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Au(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Au(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ru(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var Nu,zu,Lu,Iu,Uu,Fu,Yu,Hu,Vu,Bu,Wu,Gu,qu,Zu,Xu,$u,Ju,Ku,Qu,tl,el,rl,nl,ol,il,al,sl,cl,ul,ll,pl,fl,dl,hl,yl,ml,_l,bl,gl,vl,wl,Ol,Sl,kl,xl,Pl,El,Cl,jl,Dl,Tl,Ml,Al,Rl,Nl,zl,Ll,Il,Ul,Fl,Yl,Hl,Vl,Bl,Wl,Gl,ql,Zl,Xl,$l,Jl,Kl,Ql,tp,ep,rp,np,op,ip,ap,sp,cp,up,lp,pp,fp,dp,hp,yp,mp,_p,bp,gp,vp,wp,Op,Sp,kp,xp,Pp,Ep,Cp,jp,Dp,Tp,Mp,Ap,Rp,Np,zp,Lp,Ip,Up,Fp,Yp,Hp,Vp=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,r){var n,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.getSnapshot(),o=Bp(e,r),i=0;case 3:if(!(i<o.length)){t.next=13;break}return t.t0=Object,t.t1=n,t.next=8,o[i](n);case 8:t.t2=t.sent,t.t0.assign.call(t.t0,t.t1,t.t2);case 10:i++,t.next=3;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ru(i,n,o,a,s,"next",t)}function s(t){Ru(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}(),Bp=function(t,e){return[au.Z.getContractCategories,_u].concat(Mu(/\b(symbol|contract_type)\b/.test(Object.keys(e))||!t.contract_type?[bu]:[]),[Tu,ku],Mu(/\b(symbol|contract_type)\b/.test(Object.keys(e))||!t.contract_type?[xu]:[]))},Wp=r("./Stores/Modules/Trading/Helpers/proposal.js"),Gp=r("./Stores/Modules/Trading/Helpers/barrier.js");function qp(t){return(qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Xp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zp(Object(r),!0).forEach((function(e){$p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jp(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Kp(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Jp(i,n,o,a,s,"next",t)}function s(t){Jp(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Qp(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function tf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ef(t,e){return(ef=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=af(t);if(e){var o=af(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return nf(this,r)}}function nf(t,e){return!e||"object"!==qp(e)&&"function"!=typeof e?of(t):e}function of(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function af(t){return(af=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sf(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var cf={},uf=(Nu=et.observable.ref,zu=et.observable.ref,Lu=et.action.bound,Iu=et.action.bound,Uu=et.action.bound,Fu=et.action.bound,Yu=et.action.bound,Hu=et.action.bound,Vu=et.action.bound,Bu=et.action.bound,Wu=et.action.bound,Gu=et.action.bound,qu=et.action.bound,Zu=et.action.bound,Xu=et.action.bound,$u=et.action.bound,Ju=et.action.bound,Ku=et.action.bound,Qu=et.action.bound,tl=et.action.bound,el=et.action.bound,rl=et.action.bound,nl=et.action.bound,ol=et.action.bound,il=et.action.bound,al=et.action.bound,sl=et.action.bound,cl=et.action.bound,ul=et.action.bound,ll=et.action.bound,pl=et.action.bound,fl=et.action.bound,dl=et.action.bound,hl=et.action.bound,yl=et.action.bound,ml=et.action.bound,_l=et.action.bound,bl=et.action.bound,gl=et.action.bound,vl=et.action.bound,wl=et.action.bound,Ol=et.action.bound,Sl=et.action.bound,kl=et.action.bound,xl=et.action.bound,Pl=et.action.bound,El=et.action.bound,Cl=et.action.bound,jl=et.action.bound,Dl=et.action.bound,Tl=et.action.bound,Ml=et.action.bound,Hp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ef(t,e)}(b,t);var e,r,n,o,i,a,s,c,u,l,p,f,d,h,y,m,_=rf(b);function b(t){var e,r=t.root_store;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),Qp(e=_.call(this,{root_store:r,local_storage_properties:["amount","currency","barrier_1","barrier_2","basis","contract_start_type","contract_type","duration","duration_unit","expiry_date","expiry_type","has_take_profit","has_stop_loss","has_cancellation","is_equal","last_digit","multiplier","start_date","start_time","symbol","stop_loss","take_profit","is_trade_params_expanded"],store_name:"trade_store",validation_rules:yu()}),"is_trade_component_mounted",Rl,of(e)),Qp(e,"is_purchase_enabled",Nl,of(e)),Qp(e,"is_trade_enabled",zl,of(e)),Qp(e,"is_equal",Ll,of(e)),Qp(e,"has_equals_only",Il,of(e)),Qp(e,"symbol",Ul,of(e)),Qp(e,"is_market_closed",Fl,of(e)),Qp(e,"previous_symbol",Yl,of(e)),Qp(e,"active_symbols",Hl,of(e)),Qp(e,"should_refresh_active_symbols",Vl,of(e)),Qp(e,"form_components",Bl,of(e)),Qp(e,"contract_expiry_type",Wl,of(e)),Qp(e,"contract_start_type",Gl,of(e)),Qp(e,"contract_type",ql,of(e)),Qp(e,"contract_types_list",Zl,of(e)),Qp(e,"trade_types",Xl,of(e)),Qp(e,"amount",$l,of(e)),Qp(e,"basis",Jl,of(e)),Qp(e,"basis_list",Kl,of(e)),Qp(e,"currency",Ql,of(e)),Qp(e,"duration",tp,of(e)),Qp(e,"duration_unit",ep,of(e)),Qp(e,"duration_units_list",rp,of(e)),Qp(e,"duration_min_max",np,of(e)),Qp(e,"expiry_date",op,of(e)),Qp(e,"expiry_time",ip,of(e)),Qp(e,"expiry_type",ap,of(e)),Qp(e,"barrier_1",sp,of(e)),Qp(e,"barrier_2",cp,of(e)),Qp(e,"barrier_count",up,of(e)),Qp(e,"main_barrier",lp,of(e)),Qp(e,"barriers",pp,of(e)),Qp(e,"start_date",fp,of(e)),Qp(e,"start_dates_list",dp,of(e)),Qp(e,"start_time",hp,of(e)),Qp(e,"sessions",yp,of(e)),Qp(e,"market_open_times",mp,of(e)),Qp(e,"market_close_times",_p,of(e)),Qp(e,"last_digit",bp,of(e)),Qp(e,"is_mobile_digit_view_selected",gp,of(e)),Qp(e,"proposal_info",vp,of(e)),Qp(e,"purchase_info",wp,of(e)),Qp(e,"is_chart_loading",Op,of(e)),Qp(e,"multiplier",Sp,of(e)),Qp(e,"multiplier_range_list",kp,of(e)),Qp(e,"stop_loss",xp,of(e)),Qp(e,"take_profit",Pp,of(e)),Qp(e,"has_stop_loss",Ep,of(e)),Qp(e,"has_take_profit",Cp,of(e)),Qp(e,"has_cancellation",jp,of(e)),Qp(e,"commission",Dp,of(e)),Qp(e,"cancellation_price",Tp,of(e)),Qp(e,"stop_out",Mp,of(e)),Qp(e,"expiration",Ap,of(e)),Qp(e,"hovered_contract_type",Rp,of(e)),Qp(e,"cancellation_duration",Np,of(e)),Qp(e,"cancellation_range_list",zp,of(e)),Qp(e,"is_trade_params_expanded",Lp,of(e)),e.addTickByProposal=function(){return null},e.debouncedProposal=gs()(e.requestProposal,500),e.proposal_requests={},e.is_purchasing_contract=!1,e.initial_barriers=void 0,e.is_initial_barrier_applied=!1,Qp(e,"should_skip_prepost_lifecycle",Ip,of(e)),Qp(e,"init",Up,of(e)),Qp(e,"clearContracts",Fp,of(e)),e.setMainBarrier=function(t){if(t){var r=t.contract_type,n=t.barrier,o=t.high_barrier,i=t.low_barrier;if(On(r)){var a=e.root_store.ui.is_dark_mode_on?gn:bn;e.main_barrier=new Dn(n||o,i,e.onChartBarrierChange,{color:a})}else e.main_barrier=null}},Qp(e,"onPurchase",Yp,of(e)),e.disablePurchaseButtons=function(){var t=document.getElementsByClassName("trade-container__price-info"),e=document.getElementsByClassName("btn-purchase");[].forEach.bind(e,(function(t){t.classList.add("btn-purchase--disabled")}))(),[].forEach.bind(t,(function(t){t.classList.add("trade-container__price-info--fade")}))()},e.prev_chart_layout=null,e.wsSubscribe=function(t,e){if(1===t.subscribe){var r=JSON.stringify(t),n=yr.WS.subscribeTicksHistory(t,e);cf[r]=n}},e.wsForget=function(t){var e=JSON.stringify(t);cf[e]&&(cf[e].unsubscribe(),delete cf[e])},e.wsForgetStream=function(t){yr.WS.forgetStream(t)},e.wsSendRequest=function(t){return t.time?tu().timePromise().then((function(t){return t?{msg_type:"time",time:t.unix()}:yr.WS.time()})):t.active_symbols?e.should_refresh_active_symbols?yr.WS.activeSymbols("brief"):yr.WS.wait("active_symbols"):yr.WS.storage.send(t)},e.refToAddTick=function(t){e.addTickByProposal=t},(0,et.reaction)((function(){return[e.contract_expiry_type,e.duration_min_max,e.duration_unit,e.expiry_type]}),(function(){e.changeDurationValidationRules()})),(0,et.reaction)((function(){return e.is_equal}),(function(){e.onAllowEqualsChange()})),(0,et.reaction)((function(){return e.symbol}),(function(){var t=(0,mu.I7)(e.symbol,e.expiry_type);t&&(e.expiry_date=t)})),(0,et.reaction)((function(){return e.duration_unit}),(function(){e.contract_expiry_type="t"===e.duration_unit?"tick":"intraday"})),(0,et.reaction)((function(){return[e.has_stop_loss,e.has_take_profit]}),(function(){e.has_stop_loss||(e.validation_errors.stop_loss=[]),e.has_take_profit||(e.validation_errors.take_profit=[])})),(0,et.reaction)((function(){return e.root_store.client.is_logged_in}),Kp(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setSymbolsAfterLogin();case 2:case"end":return t.stop()}}),t)})))),(0,et.reaction)((function(){return[e.contract_type]}),(function(){"multiplier"===e.contract_type?Object.assign(e.validation_rules,hu()):(delete e.validation_rules.stop_loss,delete e.validation_rules.take_profit)})),e}return e=b,(r=[{key:"is_symbol_in_active_symbols",get:function(){var t=this;return this.active_symbols.some((function(e){return e.symbol===t.symbol&&1===e.exchange_is_open}))}},{key:"setSkipPrePostLifecycle",value:function(t){!!t!=!!this.should_skip_prepost_lifecycle&&(this.should_skip_prepost_lifecycle=t)}},{key:"setTradeStatus",value:function(t){this.is_trade_enabled=t}},{key:"refresh",value:function(){this.forgetAllProposal(),this.proposal_info={},this.purchase_info={},this.proposal_requests={}}},{key:"setDefaultSymbol",value:(m=Kp(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.is_symbol_in_active_symbols){t.next=6;break}return t.next=3,(0,Xe.jt)(this.active_symbols);case 3:return e=t.sent,t.next=6,this.processNewValuesAsync({symbol:e});case 6:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"setSymbolsAfterLogin",value:(y=Kp(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setActiveSymbols();case 2:return(0,et.runInAction)((function(){e.should_refresh_active_symbols=!0})),t.next=5,this.setDefaultSymbol();case 5:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"setActiveSymbols",value:(h=Kp(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.should_refresh_active_symbols){t.next=6;break}return t.next=3,yr.WS.wait("active_symbols");case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,yr.WS.authorized.activeSymbols();case 8:t.t0=t.sent;case 9:if(e=t.t0,r=e.active_symbols,!e.error){t.next=17;break}return this.root_store.common.showError({message:(0,E.localize)("Trading is unavailable at this time.")}),t.abrupt("return");case 17:if(r&&r.length){t.next=26;break}if("maltainvest"===this.root_store.client.landing_company_shortcode){t.next=23;break}return(0,Xe.c)(this.root_store.common.showError,this.root_store.client.is_logged_in),t.abrupt("return");case 23:if("maltainvest"!==this.root_store.client.landing_company_shortcode){t.next=26;break}return(0,k.showDigitalOptionsUnavailableError)(this.root_store.common.showError,{text:(0,E.localize)("Were working to have this available for you soon. If you have another account, switch to that account to continue trading. You may add a DMT5 Financial."),title:(0,E.localize)("DTrader is not available for this account"),link:(0,E.localize)("Go to DMT5 dashboard")}),t.abrupt("return");case 26:this.processNewValuesAsync({active_symbols:r});case 27:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"setContractTypes",value:(d=Kp(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.symbol||!this.is_symbol_in_active_symbols){t.next=4;break}return t.next=3,cu(this.symbol);case 3:(0,et.runInAction)((function(){var t=au.Z.getContractCategories();e.processNewValuesAsync(Xp(Xp({},t),au.Z.getContractType(t.contract_types_list,e.contract_type))),e.processNewValuesAsync(au.Z.getContractValues(e))}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"prepareTradeStore",value:(f=Kp(regeneratorRuntime.mark((function t(){var e,r,n,o,i=this,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(a.length>0&&void 0!==a[0])||a[0],this.initial_barriers={barrier_1:this.barrier_1,barrier_2:this.barrier_2},t.next=4,(0,et.when)((function(){return!i.root_store.client.is_populating_account_list}));case 4:return t.next=6,yr.WS.wait("website_status");case 6:return(0,et.runInAction)((function(){i.processNewValuesAsync({currency:i.root_store.client.currency||i.root_store.client.default_currency},!0,null,!1)})),t.next=9,this.setActiveSymbols();case 9:return t.next=11,yr.WS.storage.contractsFor(this.symbol);case 11:if(n=t.sent,!["InvalidSymbol","InputValidationFailed"].includes(null===(e=n.error)||void 0===e?void 0:e.code)){t.next=18;break}return t.next=15,(0,Xe.jt)(this.active_symbols);case 15:return o=t.sent,t.next=18,this.processNewValuesAsync({symbol:o});case 18:if(!r){t.next=21;break}return t.next=21,this.setDefaultSymbol();case 21:return t.next=23,this.setContractTypes();case 23:return t.next=25,this.processNewValuesAsync({is_market_closed:(0,Xe.pp)(this.active_symbols,this.symbol)},!0,null,!1);case 25:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"onChangeMultiple",value:(p=Kp(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object.keys(e).forEach((function(t){if(!(t in r))throw new Error("Invalid Argument: ".concat(t))})),t.next=3,this.processNewValuesAsync(Xp({},e),!0);case 3:this.validateAllProperties();case 4:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"onChange",value:(l=Kp(regeneratorRuntime.mark((function t(e){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.target,n=r.name,o=r.value,"symbol"!==n||!o){t.next=7;break}this.setChartStatus(!0),this.setMarketStatus(!1),this.is_trade_enabled=!1,t.next=17;break;case 7:if("currency"!==n){t.next=11;break}this.root_store.client.is_logged_in||this.root_store.client.selectCurrency(o),t.next=17;break;case 11:if("expiry_date"!==n){t.next=15;break}this.expiry_time=null,t.next=17;break;case 15:if(n in this){t.next=17;break}throw new Error("Invalid Argument: ".concat(n));case 17:return t.next=19,this.processNewValuesAsync($p({},n,o),!0,"contract_type"===n?{contract_type:this.contract_type}:{},!0);case 19:this.validateAllProperties();case 20:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"setPreviousSymbol",value:function(t){this.previous_symbol!==t&&(this.previous_symbol=t)}},{key:"setAllowEqual",value:function(t){this.is_equal=t}},{key:"setIsTradeParamsExpanded",value:function(t){this.is_trade_params_expanded=t}},{key:"resetPreviousSymbol",value:(u=Kp(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setMarketStatus((0,Xe.pp)(this.active_symbols,this.previous_symbol)),t.next=3,cu(this.previous_symbol);case 3:return t.next=5,this.updateSymbol(this.symbol);case 5:this.setChartStatus(!1),(0,et.runInAction)((function(){e.previous_symbol=""}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"updateBarrierColor",value:function(t){this.main_barrier&&this.main_barrier.updateBarrierColor(t)}},{key:"onHoverPurchase",value:function(t,e){this.is_purchase_enabled&&this.main_barrier&&!this.is_multiplier?this.main_barrier.updateBarrierShade(t,e):t||!this.main_barrier||this.is_multiplier||this.main_barrier.updateBarrierShade(!1,e),this.hovered_contract_type=t?e:null,Mn({barriers:this.barriers,is_over:t,contract_type:e,contract_info:this.proposal_info[e]})}},{key:"setPurchaseSpotBarrier",value:function(t,e){var r="PURCHASE_SPOT_BARRIER";if(t){var n=this.barriers.find((function(t){return t.key===r}));n?n.high!==+e.contract_info.entry_spot&&n.onChange({high:e.contract_info.entry_spot}):((n=new Dn(e.contract_info.entry_spot)).key=r,n.draggable=!1,n.hideOffscreenBarrier=!0,n.isSingleBarrier=!0,n.updateBarrierColor(this.root_store.ui.is_dark_mode_on),this.barriers.push(n))}else Sn(this.barriers,r)}},{key:"updateLimitOrderBarriers",value:function(t,e){var r=e.contract_info,n=this.barriers;Mn({barriers:n,contract_info:r,contract_type:r.contract_type,is_over:t})}},{key:"clearLimitOrderBarriers",value:function(){this.hovered_contract_type=null;var t=this.barriers;Mn({barriers:t,is_over:!1})}},{key:"barrier_pipsize",get:function(){return(0,Gp.l)(this.barrier_1)}},{key:"main_barrier_flattened",get:function(){return(0,j.A)(this.contract_type)?null:(0,et.toJS)(this.main_barrier)}},{key:"barriers_flattened",get:function(){return this.barriers&&(0,et.toJS)(this.barriers)}},{key:"processPurchase",value:function(t,e,r){var n=this;if(this.is_purchase_enabled&&t){this.is_purchase_enabled=!1,this.is_purchasing_contract=!0;var o="t"===this.duration_unit;iu(t,e).then((0,et.action)((function(e){var i=+n.last_digit;if(e.error)n.disablePurchaseButtons(),"InvalidToken"!==e.error.code&&n.root_store.common.setServicesError(Xp({type:e.msg_type},e.error));else if(e.buy){var a;if((null===(a=n.proposal_info[r])||void 0===a?void 0:a.id)!==t)throw new Error("Proposal ID does not match.");var s=Xp(Xp(Xp({},n.proposal_requests[r]),n.proposal_info[r]),{},{buy_price:e.buy.buy_price}),c=e.buy,u=c.contract_id,l=c.longcode,p=c.start_time;if(u){var f=e.buy.shortcode,d=(0,k.extractInfoFromShortcode)(f),h=d.category,y=d.underlying,m=(0,j.H)(h.toUpperCase()),_=h.toUpperCase();return n.root_store.modules.contract_trade.addContract({contract_id:u,start_time:p,longcode:l,underlying:y,barrier:m?i:null,contract_type:_,is_tick_contract:o}),n.root_store.modules.portfolio.onBuyResponse({contract_id:u,longcode:l,contract_type:_}),((0,k.isDesktop)()||(0,k.isMobile)()&&n.is_multiplier)&&n.root_store.ui.openPositionsDrawer(),n.proposal_info={},n.forgetAllProposal(),n.purchase_info=e,n.proposal_requests={},n.debouncedProposal(),n.clearLimitOrderBarriers(),n.pushPurchaseDataToGtm(s),void(n.is_purchasing_contract=!1)}}n.forgetAllProposal(),n.purchase_info=e,n.enablePurchase(),n.is_purchasing_contract=!1})))}}},{key:"enablePurchase",value:function(){this.root_store.client.is_unwelcome||(this.is_purchase_enabled=!0)}},{key:"updateStore",value:function(t){var e=this;return Object.keys((0,k.cloneObject)(t)).forEach((function(r){"root_store"===r||["validation_rules","validation_errors","currency"].indexOf(r)>-1||(JSON.stringify(e[r])===JSON.stringify(t[r])?delete t[r]:("symbol"===r&&(e.is_purchase_enabled=!1,e.is_trade_enabled=!1),t.start_date&&"string"==typeof t.start_date&&(t.start_date=parseInt(t.start_date)),e[r]=t[r],"barrier_2"===r&&t.barrier_1&&(e.barrier_1=t.barrier_1)))})),t}},{key:"processNewValuesAsync",value:(c=Kp(regeneratorRuntime.mark((function t(){var e,r,n,o,i,a,s,c,u,l,p=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=p.length>0&&void 0!==p[0]?p[0]:{},r=p.length>1&&void 0!==p[1]&&p[1],n=p.length>2&&void 0!==p[2]?p[2]:{},o=!(p.length>3&&void 0!==p[3])||p[3],/\bduration\b/.test(Object.keys(e))&&"string"==typeof e.duration&&(e.duration=+e.duration),o&&(this.forgetAllProposal(),this.proposal_requests={}),r&&/\bcurrency\b/.test(Object.keys(e))&&(i=(null==n?void 0:n.currency)||this.currency,a=e.currency!==i,s=(0,k.isCryptocurrency)(e.currency)||(0,k.isCryptocurrency)(e.currency)!==(0,k.isCryptocurrency)(i),a&&s&&(e.amount=e.amount||(0,k.getMinPayout)(e.currency)),this.currency=e.currency),!Object.keys(e).includes("symbol")){t.next=13;break}return this.setPreviousSymbol(this.symbol),t.next=11,cu(e.symbol);case 11:this.setMarketStatus((0,Xe.pp)(this.active_symbols,e.symbol)),c=au.Z.getContractCategories().has_only_forward_starting_contracts;case 13:if(this.root_store.ui.setHasOnlyForwardingContracts(c),!c){t.next=16;break}return t.abrupt("return");case 16:if(u=this.updateStore((0,k.cloneObject)(e)),!r&&!/\b(symbol|contract_types_list)\b/.test(Object.keys(u))){t.next=28;break}return this.updateStore({is_purchase_enabled:!1,proposal_info:{}}),e.contract_type&&this.root_store.ui.is_advanced_duration&&(0,j.A)(e.contract_type)&&(this.barrier_1="",this.barrier_2="",this.expiry_type="duration",this.root_store.ui.is_advanced_duration=!1),t.next=22,Vp(this,u);case 22:(l=t.sent).is_trade_enabled=!0,this.updateStore(Xp(Xp({},l),this.is_initial_barrier_applied?{}:this.initial_barriers)),this.is_initial_barrier_applied=!0,/\bcontract_type\b/.test(Object.keys(u))&&this.validateAllProperties(),this.debouncedProposal();case 28:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"show_digits_stats",get:function(){return(0,j.A)(this.contract_type)}},{key:"setMobileDigitView",value:function(t){this.is_mobile_digit_view_selected=t}},{key:"pushPurchaseDataToGtm",value:function(t){var e={event:"buy_contract",bom_ui:"new",contract:{amount:t.amount,barrier1:t.barrier,barrier2:t.barrier2,basis:t.basis,buy_price:t.buy_price,contract_type:t.contract_type,currency:t.currency,date_expiry:t.date_expiry,date_start:t.date_start,duration:t.duration,duration_unit:t.duration_unit,payout:t.payout,symbol:t.symbol},settings:{theme:this.root_store.ui.is_dark_mode_on?"dark":"light",positions_drawer:this.root_store.ui.is_positions_drawer_on?"open":"closed",chart:{toolbar_position:this.root_store.ui.is_chart_layout_default?"bottom":"left",chart_asset_info:this.root_store.ui.is_chart_asset_info_visible?"visible":"hidden",chart_type:this.root_store.modules.contract_trade.chart_type,granularity:this.root_store.modules.contract_trade.granularity}}};this.root_store.gtm.pushDataLayer(e)}},{key:"clearPurchaseInfo",value:function(){this.purchase_info={},this.proposal_requests={},this.proposal_info={}}},{key:"requestProposal",value:function(){var t=this,e=(0,Wp.RX)(this);if(Object.values(this.validation_errors).some((function(t){return t.length})))return this.proposal_info={},this.purchase_info={},void this.forgetAllProposal();(0,k.isEmptyObject)(e)||(this.proposal_requests=e,this.purchase_info={},Object.keys(this.proposal_requests).forEach((function(e){yr.WS.subscribeProposal(t.proposal_requests[e],t.onProposalResponse)}))),this.root_store.ui.resetPurchaseStates()}},{key:"forgetAllProposal",value:function(){Object.keys(this.proposal_requests).length>0&&yr.WS.forgetAll("proposal")}},{key:"setMarketStatus",value:function(t){this.is_market_closed=t}},{key:"onProposalResponse",value:function(t){var e,r=t.echo_req.contract_type,n=(0,k.getPropertyValue)(this.proposal_info,r)||{},o=(0,k.getPropertyValue)(n,"obj_contract_basis")||{},i=null===(e=t.proposal)||void 0===e?void 0:e.date_expiry;if(!t.error&&i&&this.is_crypto_multiplier&&(this.expiration=i),this.proposal_info=Xp(Xp({},this.proposal_info),{},$p({},r,(0,Wp._N)(this,t,o))),this.is_multiplier&&this.proposal_info&&this.proposal_info.MULTUP){var a,s=this.proposal_info.MULTUP,c=s.commission,u=s.cancellation,l=s.limit_order;c&&(this.commission=c),u&&(this.cancellation_price=u.ask_price),this.stop_out=null==l||null===(a=l.stop_out)||void 0===a?void 0:a.order_amount}if(this.main_barrier&&"NONE_SINGLE"!==this.main_barrier.shade||this.setMainBarrier(t.echo_req),this.hovered_contract_type===r&&(this.addTickByProposal(t),Mn({barriers:this.barriers,contract_info:this.proposal_info[this.hovered_contract_type],contract_type:r,is_over:!0})),t.error){var p=(0,Wp.yr)(t);if(p&&this.setValidationErrorMessages(p,[t.error.message]),this.is_multiplier){var f=t.error,d=f.message,h=f.details,y=(d||"").match(/\((\d+\.*\d*)\)/);"stop_loss"===(null==h?void 0:h.field)&&null!=y&&y[1]&&(this.commission=y[1])}}else this.validateAllProperties();this.is_purchasing_contract||this.enablePurchase()}},{key:"onChartBarrierChange",value:function(t,e){this.processNewValuesAsync({barrier_1:t,barrier_2:e},!0)}},{key:"onAllowEqualsChange",value:function(){this.processNewValuesAsync({contract_type:parseInt(this.is_equal)?"rise_fall_equal":"rise_fall"},!0)}},{key:"updateSymbol",value:function(t){t&&this.onChange({target:{name:"symbol",value:t}})}},{key:"changeDurationValidationRules",value:function(){if("endtime"!==this.expiry_type){if(this.validation_rules.duration){var t=this.validation_rules.duration.rules.findIndex((function(t){return"number"===t[0]})),e=this.duration_min_max[this.contract_expiry_type]||!1;if(e){var r={min:(0,mu.ln)(+e.min,this.duration_unit),max:(0,mu.ln)(+e.max,this.duration_unit)};t>-1?this.validation_rules.duration.rules[t][1]=r:this.validation_rules.duration.rules.push(["number",r]),this.validateProperty("duration",this.duration)}}}else this.validation_errors.duration=[]}},{key:"accountSwitcherListener",value:(s=Kp(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.root_store.client.standpoint.maltainvest){t.next=6;break}return t.next=3,this.setActiveSymbols();case 3:return(0,et.runInAction)((function(){e.should_refresh_active_symbols=!0})),t.next=6,this.setDefaultSymbol();case 6:return this.resetErrorServices(),t.next=9,this.setContractTypes();case 9:return(0,et.runInAction)(Kp(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.processNewValuesAsync({currency:e.root_store.client.currency||e.root_store.client.default_currency},!0,{currency:e.currency},!1);case 1:case"end":return t.stop()}}),t)})))),t.abrupt("return",Promise.resolve());case 11:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"preSwitchAccountListener",value:function(){return this.clearContracts(),this.is_trade_enabled=!1,Promise.resolve()}},{key:"logoutListener",value:(a=Kp(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.should_refresh_active_symbols=!0,this.clearContracts(),this.refresh(),this.resetErrorServices(),t.next=6,this.setContractTypes();case 6:this.debouncedProposal();case 7:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"clientInitListener",value:function(){return this.initAccountCurrency(this.root_store.client.currency||this.root_store.client.default_currency),Promise.resolve()}},{key:"networkStatusChangeListener",value:function(t){this.setTradeStatus(t)}},{key:"themeChangeListener",value:function(t){this.updateBarrierColor(t)}},{key:"resetErrorServices",value:function(){this.root_store.ui.toggleServicesErrorModal(!1)}},{key:"onMount",value:function(){var t=this;this.is_trade_component_mounted&&this.should_skip_prepost_lifecycle||(this.onPreSwitchAccount(this.preSwitchAccountListener),this.onSwitchAccount(this.accountSwitcherListener),this.onLogout(this.logoutListener),this.onClientInit(this.clientInitListener),this.onNetworkStatusChange(this.networkStatusChangeListener),this.onThemeChange(this.themeChangeListener),this.setChartStatus(!0),(0,et.runInAction)(Kp(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.is_trade_component_mounted=!0,t.prepareTradeStore();case 2:case"end":return e.stop()}}),e)})))))}},{key:"setChartStatus",value:function(t){this.is_chart_loading=t}},{key:"initAccountCurrency",value:(i=Kp(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.currency!==e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.processNewValuesAsync({currency:e},!0,{currency:this.currency},!1);case 4:this.refresh(),this.debouncedProposal();case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"onUnmount",value:function(){this.should_skip_prepost_lifecycle||(this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.is_trade_component_mounted=!1,this.root_store.modules.contract_trade.onUnmount(),this.refresh(),this.resetErrorServices(),this.root_store.ui.is_notifications_visible&&this.root_store.ui.toggleNotificationsModal(),this.prev_chart_layout&&(this.prev_chart_layout.is_used=!1))}},{key:"chart_layout",get:function(){var t=null;return this.prev_chart_layout&&!1===this.prev_chart_layout.is_used&&(t=this.prev_chart_layout),t}},{key:"is_crypto_multiplier",get:function(){return"multiplier"===this.contract_type&&/^cry/.test(this.symbol)}},{key:"exportLayout",value:function(t){var e=this;delete t.previousMaxTicks,this.prev_chart_layout=t,this.prev_chart_layout.isDone=function(){e.prev_chart_layout.is_used=!0,e.setChartStatus(!1)}}},{key:"resetRefresh",value:function(){this.should_refresh_active_symbols=!1}},{key:"chartStateChange",value:function(t,e){var r="isClosed";switch(t){case"MARKET_STATE_CHANGE":e&&r in e&&this.is_trade_component_mounted&&e.isClosed!==this.is_market_closed&&this.prepareTradeStore(!1)}}},{key:"has_alternative_source",get:function(){return this.is_multiplier&&!!this.hovered_contract_type}},{key:"is_multiplier",get:function(){return"multiplier"===this.contract_type}},{key:"getFirstOpenMarket",value:(o=Kp(regeneratorRuntime.mark((function t(e){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(r=this.active_symbols)||void 0===r||!r.length){t.next=2;break}return t.abrupt("return",(0,Xe.Uf)(this.active_symbols,e));case 2:if(!this.should_refresh_active_symbols){t.next=8;break}return t.next=5,yr.WS.wait("active_symbols");case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,yr.WS.authorized.activeSymbols();case 10:t.t0=t.sent;case 11:if(n=t.t0,o=n.active_symbols,!n.error){t.next=17;break}return this.root_store.common.showError({message:(0,E.localize)("Trading is unavailable at this time.")}),t.abrupt("return",void 0);case 17:return t.abrupt("return",(0,Xe.Uf)(o,e));case 18:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})}])&&tf(e.prototype,r),n&&tf(e,n),b}(ho.Z),Rl=sf((Al=Hp).prototype,"is_trade_component_mounted",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nl=sf(Al.prototype,"is_purchase_enabled",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zl=sf(Al.prototype,"is_trade_enabled",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ll=sf(Al.prototype,"is_equal",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Il=sf(Al.prototype,"has_equals_only",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ul=sf(Al.prototype,"symbol",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fl=sf(Al.prototype,"is_market_closed",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yl=sf(Al.prototype,"previous_symbol",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hl=sf(Al.prototype,"active_symbols",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vl=sf(Al.prototype,"should_refresh_active_symbols",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bl=sf(Al.prototype,"form_components",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wl=sf(Al.prototype,"contract_expiry_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gl=sf(Al.prototype,"contract_start_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ql=sf(Al.prototype,"contract_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zl=sf(Al.prototype,"contract_types_list",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Xl=sf(Al.prototype,"trade_types",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$l=sf(Al.prototype,"amount",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),Jl=sf(Al.prototype,"basis",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kl=sf(Al.prototype,"basis_list",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ql=sf(Al.prototype,"currency",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tp=sf(Al.prototype,"duration",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),ep=sf(Al.prototype,"duration_unit",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rp=sf(Al.prototype,"duration_units_list",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),np=sf(Al.prototype,"duration_min_max",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),op=sf(Al.prototype,"expiry_date",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ip=sf(Al.prototype,"expiry_time",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ap=sf(Al.prototype,"expiry_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"duration"}}),sp=sf(Al.prototype,"barrier_1",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cp=sf(Al.prototype,"barrier_2",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),up=sf(Al.prototype,"barrier_count",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),lp=sf(Al.prototype,"main_barrier",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pp=sf(Al.prototype,"barriers",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fp=sf(Al.prototype,"start_date",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Number(0)}}),dp=sf(Al.prototype,"start_dates_list",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),hp=sf(Al.prototype,"start_time",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yp=sf(Al.prototype,"sessions",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mp=sf(Al.prototype,"market_open_times",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_p=sf(Al.prototype,"market_close_times",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bp=sf(Al.prototype,"last_digit",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),gp=sf(Al.prototype,"is_mobile_digit_view_selected",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vp=sf(Al.prototype,"proposal_info",[Nu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),wp=sf(Al.prototype,"purchase_info",[zu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Op=sf(Al.prototype,"is_chart_loading",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sp=sf(Al.prototype,"multiplier",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kp=sf(Al.prototype,"multiplier_range_list",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xp=sf(Al.prototype,"stop_loss",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pp=sf(Al.prototype,"take_profit",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ep=sf(Al.prototype,"has_stop_loss",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cp=sf(Al.prototype,"has_take_profit",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jp=sf(Al.prototype,"has_cancellation",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dp=sf(Al.prototype,"commission",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tp=sf(Al.prototype,"cancellation_price",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mp=sf(Al.prototype,"stop_out",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ap=sf(Al.prototype,"expiration",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rp=sf(Al.prototype,"hovered_contract_type",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Np=sf(Al.prototype,"cancellation_duration",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"60m"}}),zp=sf(Al.prototype,"cancellation_range_list",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lp=sf(Al.prototype,"is_trade_params_expanded",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ip=sf(Al.prototype,"should_skip_prepost_lifecycle",[et.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Up=sf(Al.prototype,"init",[Lu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return Kp(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yr.WS.wait("authorize","website_status");case 2:return e.next=4,(0,et.when)((function(){return!t.root_store.client.is_populating_account_list}));case 4:yr.WS.storage.activeSymbols("brief").then((function(e){var r=e.active_symbols;(0,et.runInAction)((function(){t.active_symbols=r}))}));case 5:case"end":return e.stop()}}),e)})))}}),sf(Al.prototype,"is_symbol_in_active_symbols",[et.computed],Object.getOwnPropertyDescriptor(Al.prototype,"is_symbol_in_active_symbols"),Al.prototype),sf(Al.prototype,"setSkipPrePostLifecycle",[Iu],Object.getOwnPropertyDescriptor(Al.prototype,"setSkipPrePostLifecycle"),Al.prototype),sf(Al.prototype,"setTradeStatus",[Uu],Object.getOwnPropertyDescriptor(Al.prototype,"setTradeStatus"),Al.prototype),sf(Al.prototype,"refresh",[Fu],Object.getOwnPropertyDescriptor(Al.prototype,"refresh"),Al.prototype),Fp=sf(Al.prototype,"clearContracts",[Yu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){t.root_store.modules.contract_trade.contracts=[]}}}),sf(Al.prototype,"setDefaultSymbol",[Hu],Object.getOwnPropertyDescriptor(Al.prototype,"setDefaultSymbol"),Al.prototype),sf(Al.prototype,"setSymbolsAfterLogin",[Vu],Object.getOwnPropertyDescriptor(Al.prototype,"setSymbolsAfterLogin"),Al.prototype),sf(Al.prototype,"setActiveSymbols",[Bu],Object.getOwnPropertyDescriptor(Al.prototype,"setActiveSymbols"),Al.prototype),sf(Al.prototype,"setContractTypes",[Wu],Object.getOwnPropertyDescriptor(Al.prototype,"setContractTypes"),Al.prototype),sf(Al.prototype,"prepareTradeStore",[Gu],Object.getOwnPropertyDescriptor(Al.prototype,"prepareTradeStore"),Al.prototype),sf(Al.prototype,"onChangeMultiple",[qu],Object.getOwnPropertyDescriptor(Al.prototype,"onChangeMultiple"),Al.prototype),sf(Al.prototype,"onChange",[Zu],Object.getOwnPropertyDescriptor(Al.prototype,"onChange"),Al.prototype),sf(Al.prototype,"setPreviousSymbol",[Xu],Object.getOwnPropertyDescriptor(Al.prototype,"setPreviousSymbol"),Al.prototype),sf(Al.prototype,"setAllowEqual",[$u],Object.getOwnPropertyDescriptor(Al.prototype,"setAllowEqual"),Al.prototype),sf(Al.prototype,"setIsTradeParamsExpanded",[Ju],Object.getOwnPropertyDescriptor(Al.prototype,"setIsTradeParamsExpanded"),Al.prototype),sf(Al.prototype,"resetPreviousSymbol",[Ku],Object.getOwnPropertyDescriptor(Al.prototype,"resetPreviousSymbol"),Al.prototype),sf(Al.prototype,"updateBarrierColor",[Qu],Object.getOwnPropertyDescriptor(Al.prototype,"updateBarrierColor"),Al.prototype),sf(Al.prototype,"onHoverPurchase",[tl],Object.getOwnPropertyDescriptor(Al.prototype,"onHoverPurchase"),Al.prototype),sf(Al.prototype,"setPurchaseSpotBarrier",[el],Object.getOwnPropertyDescriptor(Al.prototype,"setPurchaseSpotBarrier"),Al.prototype),sf(Al.prototype,"updateLimitOrderBarriers",[rl],Object.getOwnPropertyDescriptor(Al.prototype,"updateLimitOrderBarriers"),Al.prototype),sf(Al.prototype,"clearLimitOrderBarriers",[nl],Object.getOwnPropertyDescriptor(Al.prototype,"clearLimitOrderBarriers"),Al.prototype),sf(Al.prototype,"barrier_pipsize",[et.computed],Object.getOwnPropertyDescriptor(Al.prototype,"barrier_pipsize"),Al.prototype),sf(Al.prototype,"main_barrier_flattened",[et.computed],Object.getOwnPropertyDescriptor(Al.prototype,"main_barrier_flattened"),Al.prototype),sf(Al.prototype,"barriers_flattened",[et.computed],Object.getOwnPropertyDescriptor(Al.prototype,"barriers_flattened"),Al.prototype),Yp=sf(Al.prototype,"onPurchase",[ol],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gs()(this.processPurchase,300)}}),sf(Al.prototype,"processPurchase",[il],Object.getOwnPropertyDescriptor(Al.prototype,"processPurchase"),Al.prototype),sf(Al.prototype,"enablePurchase",[al],Object.getOwnPropertyDescriptor(Al.prototype,"enablePurchase"),Al.prototype),sf(Al.prototype,"updateStore",[sl],Object.getOwnPropertyDescriptor(Al.prototype,"updateStore"),Al.prototype),sf(Al.prototype,"show_digits_stats",[et.computed],Object.getOwnPropertyDescriptor(Al.prototype,"show_digits_stats"),Al.prototype),sf(Al.prototype,"setMobileDigitView",[cl],Object.getOwnPropertyDescriptor(Al.prototype,"setMobileDigitView"),Al.prototype),sf(Al.prototype,"pushPurchaseDataToGtm",[ul],Object.getOwnPropertyDescriptor(Al.prototype,"pushPurchaseDataToGtm"),Al.prototype),sf(Al.prototype,"clearPurchaseInfo",[ll],Object.getOwnPropertyDescriptor(Al.prototype,"clearPurchaseInfo"),Al.prototype),sf(Al.prototype,"requestProposal",[pl],Object.getOwnPropertyDescriptor(Al.prototype,"requestProposal"),Al.prototype),sf(Al.prototype,"forgetAllProposal",[fl],Object.getOwnPropertyDescriptor(Al.prototype,"forgetAllProposal"),Al.prototype),sf(Al.prototype,"setMarketStatus",[dl],Object.getOwnPropertyDescriptor(Al.prototype,"setMarketStatus"),Al.prototype),sf(Al.prototype,"onProposalResponse",[hl],Object.getOwnPropertyDescriptor(Al.prototype,"onProposalResponse"),Al.prototype),sf(Al.prototype,"onChartBarrierChange",[yl],Object.getOwnPropertyDescriptor(Al.prototype,"onChartBarrierChange"),Al.prototype),sf(Al.prototype,"onAllowEqualsChange",[ml],Object.getOwnPropertyDescriptor(Al.prototype,"onAllowEqualsChange"),Al.prototype),sf(Al.prototype,"updateSymbol",[_l],Object.getOwnPropertyDescriptor(Al.prototype,"updateSymbol"),Al.prototype),sf(Al.prototype,"changeDurationValidationRules",[bl],Object.getOwnPropertyDescriptor(Al.prototype,"changeDurationValidationRules"),Al.prototype),sf(Al.prototype,"accountSwitcherListener",[gl],Object.getOwnPropertyDescriptor(Al.prototype,"accountSwitcherListener"),Al.prototype),sf(Al.prototype,"preSwitchAccountListener",[vl],Object.getOwnPropertyDescriptor(Al.prototype,"preSwitchAccountListener"),Al.prototype),sf(Al.prototype,"logoutListener",[wl],Object.getOwnPropertyDescriptor(Al.prototype,"logoutListener"),Al.prototype),sf(Al.prototype,"clientInitListener",[Ol],Object.getOwnPropertyDescriptor(Al.prototype,"clientInitListener"),Al.prototype),sf(Al.prototype,"networkStatusChangeListener",[Sl],Object.getOwnPropertyDescriptor(Al.prototype,"networkStatusChangeListener"),Al.prototype),sf(Al.prototype,"themeChangeListener",[kl],Object.getOwnPropertyDescriptor(Al.prototype,"themeChangeListener"),Al.prototype),sf(Al.prototype,"resetErrorServices",[xl],Object.getOwnPropertyDescriptor(Al.prototype,"resetErrorServices"),Al.prototype),sf(Al.prototype,"onMount",[Pl],Object.getOwnPropertyDescriptor(Al.prototype,"onMount"),Al.prototype),sf(Al.prototype,"setChartStatus",[El],Object.getOwnPropertyDescriptor(Al.prototype,"setChartStatus"),Al.prototype),sf(Al.prototype,"initAccountCurrency",[Cl],Object.getOwnPropertyDescriptor(Al.prototype,"initAccountCurrency"),Al.prototype),sf(Al.prototype,"onUnmount",[jl],Object.getOwnPropertyDescriptor(Al.prototype,"onUnmount"),Al.prototype),sf(Al.prototype,"exportLayout",[Dl],Object.getOwnPropertyDescriptor(Al.prototype,"exportLayout"),Al.prototype),sf(Al.prototype,"resetRefresh",[Tl],Object.getOwnPropertyDescriptor(Al.prototype,"resetRefresh"),Al.prototype),sf(Al.prototype,"chartStateChange",[Ml],Object.getOwnPropertyDescriptor(Al.prototype,"chartStateChange"),Al.prototype),sf(Al.prototype,"has_alternative_source",[et.computed],Object.getOwnPropertyDescriptor(Al.prototype,"has_alternative_source"),Al.prototype),sf(Al.prototype,"is_multiplier",[et.computed],Object.getOwnPropertyDescriptor(Al.prototype,"is_multiplier"),Al.prototype),Al),lf=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cashier=r.modules.cashier,this.contract_replay=new Ii({root_store:e}),this.contract_trade=new Xi({root_store:e}),this.mt5=new $i.default({root_store:e}),this.portfolio=new _s({root_store:e}),this.profit_table=new Rc({root_store:e}),this.statement=new Kc({root_store:e}),this.trade=new uf({root_store:e})},pf=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.client=e.client,this.common=e.common,this.modules=new lf(this,e),this.ui=e.ui,this.gtm=e.gtm,this.rudderstack=e.rudderstack,this.pushwoosh=e.pushwoosh};(0,et.configure)({enforceActions:"observed"});const ff=function(t,e){tu().init(t.common),(0,yr.g)(e);var r=new pf(t);return r.modules.trade.init(),r};function df(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return hf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hf(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yf=v()({loader:function(){return r.e("trade-modals").then(r.bind(r,"./App/Containers/Modals/index.js"))},loading:function(){return null}}),mf=function(t){var e=t.passthrough,r=df(_.useState(ff(e.root_store,e.WS)),1)[0];return _.useEffect((function(){return function(){return r.ui.setPromptHandler(!1)}}),[]),_.createElement(D.z1,{store:r},_.createElement(_.Fragment,null,_.createElement(Ie,null),_.createElement(yf,null),_.createElement(kr.S,null),_.createElement(br,{store:r}),_.createElement(vr,null),_.createElement(Sr,{store:r})))};mf.propTypes={passthrough:m().shape({root_store:m().object,WS:m().object})};const _f=mf},"@deriv/account/dist/js/file-uploader-container":t=>{"use strict";t.exports=n},"@deriv/account/dist/js/form-sub-header":t=>{"use strict";t.exports=o},"@deriv/account/dist/js/poa-expired":t=>{"use strict";t.exports=i},"@deriv/account/dist/js/poa-needs-review":t=>{"use strict";t.exports=a},"@deriv/account/dist/js/poa-status-codes":t=>{"use strict";t.exports=s},"@deriv/account/dist/js/poa-submitted":t=>{"use strict";t.exports=c},"@deriv/account/dist/js/poa-unverified":t=>{"use strict";t.exports=u},"@deriv/account/dist/js/poa-verified":t=>{"use strict";t.exports=l},"@deriv/account/dist/js/proof-of-identity-container":t=>{"use strict";t.exports=p},"@deriv/account/dist/js/sent-email-modal":t=>{"use strict";t.exports=f},"@deriv/components":t=>{"use strict";t.exports=d},"@deriv/deriv-charts":t=>{"use strict";t.exports=h},"@deriv/shared":t=>{"use strict";t.exports=y},"@deriv/translations":t=>{"use strict";t.exports=m},mobx:t=>{"use strict";t.exports=_},"mobx-react":t=>{"use strict";t.exports=b},react:t=>{"use strict";t.exports=g},"react-dom":t=>{"use strict";t.exports=v},"react-router":t=>{"use strict";t.exports=w},"react-router-dom":t=>{"use strict";t.exports=O}},C={};function j(t){if(C[t])return C[t].exports;var e=C[t]={id:t,loaded:!1,exports:{}};return E[t].call(e.exports,e,e.exports,j),e.loaded=!0,e.exports}j.m=E,j.x=t=>{},j.F={},j.E=t=>{Object.keys(j.F).map((e=>{j.F[e](t)}))},j.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return j.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,j.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);j.r(o);var i={};t=t||[null,e({}),e([]),e(e)];for(var a=2&n&&r;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>i[t]=()=>r[t]));return i.default=()=>r,j.d(o,i),o},j.d=(t,e)=>{for(var r in e)j.o(e,r)&&!j.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},j.f={},j.e=t=>Promise.all(Object.keys(j.f).reduce(((e,r)=>(j.f[r](t,e),e)),[])),j.u=t=>"js/trader."+t+"."+{"trade-modals":"57c4efc4b6404cdfc9a4","error-component":"bfcbcfac17718a184942",contract:"3b977df02fe929a5ea92","vendors-node_modules_formik_dist_formik_esm_js":"67be62ce083c9c4df1b1",mt5:"eac6c3eb1caf0f509590",reports:"c9ced6959877989e904a","Modules_Trading_Components_Form_TradeParams_Multiplier_expiration_jsx-Modules_Trading_Compone-90e657":"2bf6fb9115793c55728d","screen-small":"f170cb712ea889eca2eb","screen-large":"26200f8557d2a9c1e20a","settings-chart":"d098c727d283940e6dd1","two-month-picker":"59e08f165de0b35d1211"}[t]+".js",j.miniCssF=t=>"css/trader."+t+"."+{mt5:"2c7190083a2827336ee0",reports:"d3834de329c8e0c35d01","screen-small":"56366d75eb7417ccdc14"}[t]+".css",j.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),j.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r={},S="@deriv/trader:",j.l=(t,e,n,o)=>{if(r[t])r[t].push(e);else{var i,a;if(void 0!==n)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var u=s[c];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==S+n){i=u;break}}i||(a=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,j.nc&&i.setAttribute("nonce",j.nc),i.setAttribute("data-webpack",S+n),i.src=t),r[t]=[e];var l=(e,n)=>{i.onerror=i.onload=null,clearTimeout(p);var o=r[t];if(delete r[t],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((t=>t(n))),e)return e(n)},p=setTimeout(l.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=l.bind(null,i.onerror),i.onload=l.bind(null,i.onload),a&&document.head.appendChild(i)}},j.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},j.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),j.p="/",k=t=>new Promise(((e,r)=>{var n=j.miniCssF(t),o=j.p+n;if(((t,e)=>{for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var o=(a=r[n]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===t||o===e))return a}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){var a;if((o=(a=i[n]).getAttribute("data-href"))===t||o===e)return a}})(n,o))return e();((t,e,r,n)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)r();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=s,o.parentNode.removeChild(o),n(c)}},o.href=e,document.head.appendChild(o)})(t,o,e,r)})),x={trader:0,MT5Store:0},j.f.miniCss=(t,e)=>{x[t]?e.push(x[t]):0!==x[t]&&{mt5:1,reports:1,"screen-small":1}[t]&&e.push(x[t]=k(t).then((()=>{x[t]=0}),(e=>{throw delete x[t],e})))},(()=>{var t={trader:0,MT5Store:0};j.f.j=(e,r)=>{var n=j.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>{n=t[e]=[r,o]}));r.push(n[2]=o);var i=j.p+j.u(e),a=new Error;j.l(i,(r=>{if(j.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,n[1](a)}}),"chunk-"+e,e)}},j.F.j=e=>{if(!j.o(t,e)||void 0===t[e]){t[e]=null;var r=document.createElement("link");j.nc&&r.setAttribute("nonce",j.nc),r.rel="prefetch",r.as="script",r.href=j.p+j.u(e),document.head.appendChild(r)}};var e=(e,r)=>{for(var n,o,[i,a,s]=r,c=0,u=[];c<i.length;c++)o=i[c],j.o(t,o)&&t[o]&&u.push(t[o][0]),t[o]=0;for(n in a)j.o(a,n)&&(j.m[n]=a[n]);for(s&&s(j),e&&e(r);u.length;)u.shift()()},r=self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),P=j.x,j.x=()=>{var t=P();return["vendors-node_modules_formik_dist_formik_esm_js","mt5","trade-modals","settings-chart"].map(j.E),t};var D=j("./index.js");return D=D.default,j.x(),D})())}}]);