(window.webpackJsonp=window.webpackJsonp||[]).push([["set-residence-modal"],{646:function(e,t,n){"use strict";var r=n(205),i=n.n(r),o=(n(285),n(28)),c=n.n(o),a=(n(65),n(30)),s=n.n(a),l=(n(64),n(202)),u=n.n(l),d=(n(283),n(19)),f=n(4),p=n.n(f),b=n(0),y=n(2);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=function(e){var t=e.class_prefix,n=void 0===t?"set-residence":t,r=e.children,o=e.header_text,a=e.errors,l=e.touched,f=e.setFieldTouched,p=e.setFieldValue,_=e.residence_list;return b.createElement("div",{className:"".concat(n,"__residence-selection")},!!o&&b.createElement("p",{className:"".concat(n,"__heading")},o),b.createElement("p",{className:"".concat(n,"__").concat(o?"text":"heading")},Object(y.localize)("Where do you live?")),b.createElement(d.a,{name:"residence"},(function(e){var t=e.field;return b.createElement(b.Fragment,null,b.createElement(c.a,null,b.createElement(i.a,m({},t,{autoComplete:"off",className:"".concat(n,"__residence-field"),dropdown_offset:"3.2rem",type:"text",label:Object(y.localize)("Choose country"),error:l.residence&&a.residence,required:!0,list_items:_,onItemSelection:function(e){var t=e.value,n=e.text;return p("residence",t?n:"",!0)}}))),b.createElement(s.a,null,b.createElement(u.a,{placeholder:Object(y.localize)("Please select"),label:Object(y.localize)("Choose country"),value:t.value,list_items:_,error:l.residence&&a.residence,required:!0,use_text:!0,onChange:function(e){f("residence",!0),p("residence",e.target.value,!0)}})))})),r)};_.propTypes={children:p.a.node,class_prefix:p.a.string,header_text:p.a.string,residence_list:p.a.arrayOf(p.a.object)},t.a=_},740:function(e,t,n){},753:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var r=n(6),i=n.n(r),o=n(17),c=n.n(o),a=(n(58),n(203)),s=n.n(a),l=(n(284),n(19)),u=n(4),d=n.n(u),f=n(0),p=n(2),b=n(8),y=n(76),m=n(646);n(740);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e,t){return e.text.toLowerCase()===t.residence.toLowerCase()},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,n,r,o=S(a);function a(){var e;g(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onSetResidenceComplete=function(t){if(t)throw Error(t);e.props.isModalVisible(!1),e.props.enableApp()},e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.onSetResidence,r=t.residence_list;return f.createElement("div",{className:"set-residence"},f.createElement(l.c,{initialValues:{residence:""},validate:function(e){return function(e,t){var n={};if(e.residence){var r=t.findIndex((function(t){return P(t,e)}));-1!==r&&"DISABLED"!==t[r].disabled||(n.residence=Object(p.localize)("Unfortunately, {{website_name}} is not available in your country.",{website_name:y.website_name}))}else n.residence=!0;return n}(e,r)},onSubmit:function(t){var i=r.findIndex((function(e){return P(e,t)})),o=h(h({},t),{},{residence:r[i].value});n(o,e.onSetResidenceComplete)}},(function(e){var t=e.isSubmitting,n=e.errors,o=e.values,a=e.setFieldValue,s=e.touched;return f.createElement(l.b,null,f.createElement(f.Fragment,null,f.createElement(m.a,{errors:n,touched:s,setFieldValue:a,residence_list:r},f.createElement("p",{className:"set-residence__subtext"},Object(p.localize)("We need this to make sure our service complies with laws and regulations in your country.")),f.createElement(c.a,{className:i()("set-residence__btn",{"set-residence__btn--disabled":!o.residence||n.residence||t}),type:"submit",is_disabled:!o.residence||!!n.residence||t,text:Object(p.localize)("Set residence"),primary:!0}))))})))}}])&&w(t.prototype,n),r&&w(t,r),a}(f.Component);x.propTypes={onSetResidence:d.a.func,residence_list:d.a.array};var A=function(e){var t=e.enableApp,n=e.disableApp,r=e.is_loading,i=e.is_visible,o=e.onSetResidence,c=e.residence_list,a=e.toggleSetResidenceModal;return c.length<1?null:f.createElement(s.a,{is_visible:i,disableApp:n,enableApp:t,is_loading:r||!c.length,is_content_centered:!0},f.createElement(x,{onSetResidence:o,residence_list:c,isModalVisible:a,enableApp:t}))};A.propTypes={disableApp:d.a.func,enableApp:d.a.func,is_loading:d.a.bool,is_visible:d.a.bool,onSetResidence:d.a.func,residence_list:d.a.arrayOf(d.a.object)};var C=Object(b.b)((function(e){var t=e.ui,n=e.client;return{is_visible:t.is_set_residence_modal_visible,toggleSetResidenceModal:t.toggleSetResidenceModal,enableApp:t.enableApp,disableApp:t.disableApp,is_loading:t.is_loading,onSetResidence:n.onSetResidence,residence_list:n.residence_list}}))(A)}}]);
//# sourceMappingURL=core.set-residence-modal.340c871fba2f38138ff0.js.map