!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@deriv/account/dist/js/file-uploader-container"),require("@deriv/account/dist/js/form-sub-header"),require("@deriv/account/dist/js/poa-expired"),require("@deriv/account/dist/js/poa-needs-review"),require("@deriv/account/dist/js/poa-status-codes"),require("@deriv/account/dist/js/poa-submitted"),require("@deriv/account/dist/js/poa-unverified"),require("@deriv/account/dist/js/poa-verified"),require("@deriv/account/dist/js/proof-of-identity-container"),require("@deriv/components"),require("@deriv/deriv-charts"),require("@deriv/shared"),require("@deriv/translations"),require("mobx"),require("mobx-react"),require("react"),require("react-dom"),require("react-router"),require("react-router-dom")):"function"==typeof define&&define.amd?define(["@deriv/account/dist/js/file-uploader-container","@deriv/account/dist/js/form-sub-header","@deriv/account/dist/js/poa-expired","@deriv/account/dist/js/poa-needs-review","@deriv/account/dist/js/poa-status-codes","@deriv/account/dist/js/poa-submitted","@deriv/account/dist/js/poa-unverified","@deriv/account/dist/js/poa-verified","@deriv/account/dist/js/proof-of-identity-container","@deriv/components","@deriv/deriv-charts","@deriv/shared","@deriv/translations","mobx","mobx-react","react","react-dom","react-router","react-router-dom"],t):"object"==typeof exports?exports["@deriv/trader"]=t(require("@deriv/account/dist/js/file-uploader-container"),require("@deriv/account/dist/js/form-sub-header"),require("@deriv/account/dist/js/poa-expired"),require("@deriv/account/dist/js/poa-needs-review"),require("@deriv/account/dist/js/poa-status-codes"),require("@deriv/account/dist/js/poa-submitted"),require("@deriv/account/dist/js/poa-unverified"),require("@deriv/account/dist/js/poa-verified"),require("@deriv/account/dist/js/proof-of-identity-container"),require("@deriv/components"),require("@deriv/deriv-charts"),require("@deriv/shared"),require("@deriv/translations"),require("mobx"),require("mobx-react"),require("react"),require("react-dom"),require("react-router"),require("react-router-dom")):e["@deriv/trader"]=t(e["@deriv/account/dist/js/file-uploader-container"],e["@deriv/account/dist/js/form-sub-header"],e["@deriv/account/dist/js/poa-expired"],e["@deriv/account/dist/js/poa-needs-review"],e["@deriv/account/dist/js/poa-status-codes"],e["@deriv/account/dist/js/poa-submitted"],e["@deriv/account/dist/js/poa-unverified"],e["@deriv/account/dist/js/poa-verified"],e["@deriv/account/dist/js/proof-of-identity-container"],e["@deriv/components"],e["@deriv/deriv-charts"],e["@deriv/shared"],e["@deriv/translations"],e.mobx,e["mobx-react"],e.react,e["react-dom"],e["react-router"],e["react-router-dom"])}(window,(function(e,t,r,n,o,i,a,s,c,l,u,p,f,d,h,m,y,_,b){return function(e){function t(t){for(var r,n,s=t[0],c=t[1],l=t[3]||[],p=0,f=[];p<s.length;p++)n=s[p],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&f.push(o[n][0]),o[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t),l.forEach((function(e){if(void 0===o[e]){o[e]=null;var t=document.createElement("link");a.nc&&t.setAttribute("nonce",a.nc),t.rel="prefetch",t.as="script",t.href=i(e),document.head.appendChild(t)}}));f.length;)f.shift()()}var r={},n={main:0},o={main:0};function i(e){return a.p+"js/trader."+({404:"404",contract:"contract","error-component":"error-component",reports:"reports","screen-large~screen-small":"screen-large~screen-small","screen-large":"screen-large","screen-small":"screen-small","settings-chart":"settings-chart","trade-modals":"trade-modals","vendors~mt5":"vendors~mt5",mt5:"mt5","two-month-picker":"two-month-picker"}[e]||e)+"."+{404:"1c132106ff7816015963",contract:"76b3e022e73c03c46c90","error-component":"6cb08ab16be7e07e1320",reports:"32041d4610402dc606d1","screen-large~screen-small":"ebe109bfbbe20f28befb","screen-large":"25713d6dc66a90991324","screen-small":"4d1478059ad24fd1dbb6","settings-chart":"4f9defef1f68682c6eb7","trade-modals":"c55d709c17c915ae331c","vendors~mt5":"a48afcfb8f8ca2c2d745",mt5:"07040aff77ac473e16f6","two-month-picker":"9f73c83292388b7cb5e3"}[e]+".js"}function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[];n[e]?t.push(n[e]):0!==n[e]&&{reports:1,"screen-small":1,mt5:1}[e]&&t.push(n[e]=new Promise((function(t,r){for(var o="css/trader."+({404:"404",contract:"contract","error-component":"error-component",reports:"reports","screen-large~screen-small":"screen-large~screen-small","screen-large":"screen-large","screen-small":"screen-small","settings-chart":"settings-chart","trade-modals":"trade-modals","vendors~mt5":"vendors~mt5",mt5:"mt5","two-month-picker":"two-month-picker"}[e]||e)+"."+{404:"31d6cfe0d16ae931b73c",contract:"31d6cfe0d16ae931b73c","error-component":"31d6cfe0d16ae931b73c",reports:"f1cb3f3c78812d8344d6","screen-large~screen-small":"31d6cfe0d16ae931b73c","screen-large":"31d6cfe0d16ae931b73c","screen-small":"608e7f2e5ffe6f515a6e","settings-chart":"31d6cfe0d16ae931b73c","trade-modals":"31d6cfe0d16ae931b73c","vendors~mt5":"31d6cfe0d16ae931b73c",mt5:"7c4ac083f4a529ccc99a","two-month-picker":"31d6cfe0d16ae931b73c"}[e]+".css",i=a.p+o,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var l=(p=s[c]).getAttribute("data-href")||p.getAttribute("href");if("stylesheet"===p.rel&&(l===o||l===i))return t()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){var p;if((l=(p=u[c]).getAttribute("data-href"))===o||l===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete n[e],f.parentNode.removeChild(f),r(a)},f.href=i,document.getElementsByTagName("head")[0].appendChild(f)})).then((function(){n[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=i(e);var u=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(p);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,r[1](u)}o[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},a.m=e,a.c=r,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp_deriv_trader=window.webpackJsonp_deriv_trader||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c,p=a(a.s="./index.js");return t([[],{},0,["vendors~mt5","mt5","settings-chart","trade-modals"]]),p}({"../node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},"../node_modules/classnames/index.js":function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},"../node_modules/dom-helpers/class/addClass.js":function(e,t,r){"use strict";var n=r("../node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=n(r("../node_modules/dom-helpers/class/hasClass.js"));e.exports=t.default},"../node_modules/dom-helpers/class/hasClass.js":function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},"../node_modules/dom-helpers/class/removeClass.js":function(e,t,r){"use strict";function n(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=n(e.className,t):e.setAttribute("class",n(e.className&&e.className.baseVal||"",t))}},"../node_modules/event-source-polyfill/src/eventsource.js":function(e,t,r){var n,o,i;
/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */!function(r){"use strict";var a=r.setTimeout,s=r.clearTimeout,c=r.XMLHttpRequest,l=r.XDomainRequest,u=r.ActiveXObject,p=r.EventSource,f=r.document,d=r.Promise,h=r.fetch,m=r.Response,y=r.TextDecoder,_=r.TextEncoder,b=r.AbortController;if("undefined"==typeof window||"readyState"in f||null!=f.body||(f.readyState="loading",window.addEventListener("load",(function(e){f.readyState="complete"}),!1)),null==c&&(c=function(){return new u("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),null==b){var g=h;h=function(e,t){var r=t.signal;return g(e,{headers:t.headers,credentials:t.credentials,cache:t.cache}).then((function(e){var t=e.body.getReader();return r._reader=t,r._aborted&&r._reader.cancel(),{status:e.status,statusText:e.statusText,headers:e.headers,body:{getReader:function(){return t}}}}))},b=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function v(){this.bitsNeeded=0,this.codePoint=0}v.prototype.decode=function(e){function t(e,t,r){if(1===r)return e>=128>>t&&e<<t<=2047;if(2===r)return e>=2048>>t&&e<<t<=55295||e>=57344>>t&&e<<t<=65535;if(3===r)return e>=65536>>t&&e<<t<=1114111;throw new Error}function r(e,t){if(6===e)return t>>6>15?3:t>31?2:1;if(12===e)return t>15?3:2;if(18===e)return 3;throw new Error}for(var n="",o=this.bitsNeeded,i=this.codePoint,a=0;a<e.length;a+=1){var s=e[a];0!==o&&(s<128||s>191||!t(i<<6|63&s,o-6,r(o,i)))&&(o=0,i=65533,n+=String.fromCharCode(i)),0===o?(s>=0&&s<=127?(o=0,i=s):s>=192&&s<=223?(o=6,i=31&s):s>=224&&s<=239?(o=12,i=15&s):s>=240&&s<=247?(o=18,i=7&s):(o=0,i=65533),0===o||t(i,o,r(o,i))||(o=0,i=65533)):(o-=6,i=i<<6|63&s),0===o&&(i<=65535?n+=String.fromCharCode(i):(n+=String.fromCharCode(55296+(i-65535-1>>10)),n+=String.fromCharCode(56320+(i-65535-1&1023))))}return this.bitsNeeded=o,this.codePoint=i,n};null!=y&&null!=_&&function(){try{return"test"===(new y).decode((new _).encode("test"),{stream:!0})}catch(e){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+e)}return!1}()||(y=v);var O=function(){};function w(e){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=O,this.onload=O,this.onerror=O,this.onreadystatechange=O,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=O}function j(e){return e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+32)}))}function S(e){for(var t=Object.create(null),r=e.split("\r\n"),n=0;n<r.length;n+=1){var o=r[n].split(": "),i=o.shift(),a=o.join(": ");t[j(i)]=a}this._map=t}function k(){}function P(e){this._headers=e}function E(){}function x(){this._listeners=Object.create(null)}function C(e){a((function(){throw e}),0)}function D(e){this.type=e,this.target=void 0}function T(e,t){D.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function M(e,t){D.call(this,e),this.status=t.status,this.statusText=t.statusText,this.headers=t.headers}function A(e,t){D.call(this,e),this.error=t.error}w.prototype.open=function(e,t){this._abort(!0);var r=this,n=this._xhr,o=1,i=0;this._abort=function(e){0!==r._sendTimeout&&(s(r._sendTimeout),r._sendTimeout=0),1!==o&&2!==o&&3!==o||(o=4,n.onload=O,n.onerror=O,n.onabort=O,n.onprogress=O,n.onreadystatechange=O,n.abort(),0!==i&&(s(i),i=0),e||(r.readyState=4,r.onabort(null),r.onreadystatechange())),o=0};var l=function(){if(1===o){var e=0,t="",i=void 0;if("contentType"in n)e=200,t="OK",i=n.contentType;else try{e=n.status,t=n.statusText,i=n.getResponseHeader("Content-Type")}catch(r){e=0,t="",i=void 0}0!==e&&(o=2,r.readyState=2,r.status=e,r.statusText=t,r._contentType=i,r.onreadystatechange())}},u=function(){if(l(),2===o||3===o){o=3;var e="";try{e=n.responseText}catch(e){}r.readyState=3,r.responseText=e,r.onprogress()}},p=function(e,t){if(null!=t&&null!=t.preventDefault||(t={preventDefault:O}),u(),1===o||2===o||3===o){if(o=4,0!==i&&(s(i),i=0),r.readyState=4,"load"===e)r.onload(t);else if("error"===e)r.onerror(t);else{if("abort"!==e)throw new TypeError;r.onabort(t)}r.onreadystatechange()}},f=function(){i=a((function(){f()}),500),3===n.readyState&&u()};"onload"in n&&(n.onload=function(e){p("load",e)}),"onerror"in n&&(n.onerror=function(e){p("error",e)}),"onabort"in n&&(n.onabort=function(e){p("abort",e)}),"onprogress"in n&&(n.onprogress=u),"onreadystatechange"in n&&(n.onreadystatechange=function(e){!function(e){null!=n&&(4===n.readyState?"onload"in n&&"onerror"in n&&"onabort"in n||p(""===n.responseText?"error":"load",e):3===n.readyState?"onprogress"in n||u():2===n.readyState&&l())}(e)}),!("contentType"in n)&&"ontimeout"in c.prototype||(t+=(-1===t.indexOf("?")?"?":"&")+"padding=true"),n.open(e,t,!0),"readyState"in n&&(i=a((function(){f()}),0))},w.prototype.abort=function(){this._abort(!1)},w.prototype.getResponseHeader=function(e){return this._contentType},w.prototype.setRequestHeader=function(e,t){var r=this._xhr;"setRequestHeader"in r&&r.setRequestHeader(e,t)},w.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},w.prototype.send=function(){if("ontimeout"in c.prototype&&("sendAsBinary"in c.prototype||"mozAnon"in c.prototype)||null==f||null==f.readyState||"complete"===f.readyState){var e=this._xhr;"withCredentials"in e&&(e.withCredentials=this.withCredentials);try{e.send(void 0)}catch(e){throw e}}else{var t=this;t._sendTimeout=a((function(){t._sendTimeout=0,t.send()}),4)}},S.prototype.get=function(e){return this._map[j(e)]},null!=c&&null==c.HEADERS_RECEIVED&&(c.HEADERS_RECEIVED=2),k.prototype.open=function(e,t,r,n,o,i,a){e.open("GET",o);var s=0;for(var l in e.onprogress=function(){var t=e.responseText.slice(s);s+=t.length,r(t)},e.onerror=function(e){e.preventDefault(),n(new Error("NetworkError"))},e.onload=function(){n(null)},e.onabort=function(){n(null)},e.onreadystatechange=function(){if(e.readyState===c.HEADERS_RECEIVED){var r=e.status,n=e.statusText,o=e.getResponseHeader("Content-Type"),i=e.getAllResponseHeaders();t(r,n,o,new S(i))}},e.withCredentials=i,a)Object.prototype.hasOwnProperty.call(a,l)&&e.setRequestHeader(l,a[l]);return e.send(),e},P.prototype.get=function(e){return this._headers.get(e)},E.prototype.open=function(e,t,r,n,o,i,a){var s=null,c=new b,l=c.signal,u=new y;return h(o,{headers:a,credentials:i?"include":"same-origin",signal:l,cache:"no-store"}).then((function(e){return s=e.body.getReader(),t(e.status,e.statusText,e.headers.get("Content-Type"),new P(e.headers)),new d((function(e,t){var n=function(){s.read().then((function(t){if(t.done)e(void 0);else{var o=u.decode(t.value,{stream:!0});r(o),n()}})).catch((function(e){t(e)}))};n()}))})).catch((function(e){return"AbortError"===e.name?void 0:e})).then((function(e){n(e)})),{abort:function(){null!=s&&s.cancel(),c.abort()}}},x.prototype.dispatchEvent=function(e){e.target=this;var t=this._listeners[e.type];if(null!=t)for(var r=t.length,n=0;n<r;n+=1){var o=t[n];try{"function"==typeof o.handleEvent?o.handleEvent(e):o.call(this,e)}catch(e){C(e)}}},x.prototype.addEventListener=function(e,t){e=String(e);var r=this._listeners,n=r[e];null==n&&(n=[],r[e]=n);for(var o=!1,i=0;i<n.length;i+=1)n[i]===t&&(o=!0);o||n.push(t)},x.prototype.removeEventListener=function(e,t){e=String(e);var r=this._listeners,n=r[e];if(null!=n){for(var o=[],i=0;i<n.length;i+=1)n[i]!==t&&o.push(n[i]);0===o.length?delete r[e]:r[e]=o}},T.prototype=Object.create(D.prototype),M.prototype=Object.create(D.prototype),A.prototype=Object.create(D.prototype);var R=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,N=function(e,t){var r=null==e?t:parseInt(e,10);return r!=r&&(r=t),I(r)},I=function(e){return Math.min(Math.max(e,1e3),18e6)},z=function(e,t,r){try{"function"==typeof t&&t.call(e,r)}catch(e){C(e)}};function L(e,t){x.call(this),t=t||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(e,t,r){t=String(t);var n=Boolean(r.withCredentials),o=I(1e3),i=N(r.heartbeatTimeout,45e3),u="",p=o,f=!1,d=0,h=r.headers||{},m=r.Transport,y=U&&null==m?void 0:new w(null!=m?new m:null!=c&&"withCredentials"in c.prototype||null==l?new c:new l),_=null!=m&&"string"!=typeof m?new m:null==y?new E:new k,b=void 0,g=0,v=-1,O="",j="",S="",P="",x=0,C=0,D=0,L=function(t,r,n,i){if(0===v)if(200===t&&null!=n&&R.test(n)){v=1,f=!0,p=o,e.readyState=1;var a=new M("open",{status:t,statusText:r,headers:i});e.dispatchEvent(a),z(e,e.onopen,a)}else{var s="";200!==t?(r&&(r=r.replace(/\s+/g," ")),s="EventSource's response has a status "+t+" "+r+" that is not 200. Aborting the connection."):s="EventSource's response has a Content-Type specifying an unsupported type: "+(null==n?"-":n.replace(/\s+/g," "))+". Aborting the connection.",Y();a=new M("error",{status:t,statusText:r,headers:i});e.dispatchEvent(a),z(e,e.onerror,a),console.error(s)}},F=function(t){if(1===v){for(var r=-1,n=0;n<t.length;n+=1){(h=t.charCodeAt(n))!=="\n".charCodeAt(0)&&h!=="\r".charCodeAt(0)||(r=n)}var c=(-1!==r?P:"")+t.slice(0,r+1);P=(-1===r?P:"")+t.slice(r+1),""!==t&&(f=!0,d+=t.length);for(var l=0;l<c.length;l+=1){var h=c.charCodeAt(l);if(-1===x&&h==="\n".charCodeAt(0))x=0;else if(-1===x&&(x=0),h==="\r".charCodeAt(0)||h==="\n".charCodeAt(0)){if(0!==x){1===x&&(D=l+1);var m=c.slice(C,D-1),y=c.slice(D+(D<l&&c.charCodeAt(D)===" ".charCodeAt(0)?1:0),l);"data"===m?(O+="\n",O+=y):"id"===m?j=y:"event"===m?S=y:"retry"===m?(o=N(y,o),p=o):"heartbeatTimeout"===m&&(i=N(y,i),0!==g&&(s(g),g=a((function(){V()}),i)))}if(0===x){if(""!==O){u=j,""===S&&(S="message");var _=new T(S,{data:O.slice(1),lastEventId:j});if(e.dispatchEvent(_),"open"===S?z(e,e.onopen,_):"message"===S?z(e,e.onmessage,_):"error"===S&&z(e,e.onerror,_),2===v)return}O="",S=""}x=h==="\r".charCodeAt(0)?-1:0}else 0===x&&(C=l,x=1),1===x?h===":".charCodeAt(0)&&(D=l+1,x=2):2===x&&(x=3)}}},H=function(t){if(1===v||0===v){v=-1,0!==g&&(s(g),g=0),g=a((function(){V()}),p),p=I(Math.min(16*o,2*p)),e.readyState=0;var r=new A("error",{error:t});e.dispatchEvent(r),z(e,e.onerror,r)}},Y=function(){v=2,null!=b&&(b.abort(),b=void 0),0!==g&&(s(g),g=0),e.readyState=2},V=function(){if(g=0,-1===v){f=!1,d=0,g=a((function(){V()}),i),v=0,O="",S="",j=u,P="",C=0,D=0,x=0;var r=t;"data:"!==t.slice(0,5)&&"blob:"!==t.slice(0,5)&&""!==u&&(r+=(-1===t.indexOf("?")?"?":"&")+"lastEventId="+encodeURIComponent(u));var n=e.withCredentials,o={Accept:"text/event-stream"},s=e.headers;if(null!=s)for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);try{b=_.open(y,L,F,H,r,n,o)}catch(e){throw Y(),e}}else f||null==b?(f=!1,g=a((function(){V()}),i)):(H(new Error("No activity within "+i+" milliseconds. "+(0===v?"No response received.":d+" chars received.")+" Reconnecting.")),null!=b&&(b.abort(),b=void 0))};e.url=t,e.readyState=0,e.withCredentials=n,e.headers=h,e._close=Y,V()}(this,e,t)}var U=null!=h&&null!=m&&"body"in m.prototype;L.prototype=Object.create(x.prototype),L.prototype.CONNECTING=0,L.prototype.OPEN=1,L.prototype.CLOSED=2,L.prototype.close=function(){this._close()},L.CONNECTING=0,L.OPEN=1,L.CLOSED=2,L.prototype.withCredentials=void 0;var F=p;null==c||null!=p&&"withCredentials"in p.prototype||(F=L),function(r){if("object"==typeof e.exports){var a=r(t);void 0!==a&&(e.exports=a)}else o=[t],void 0===(i="function"==typeof(n=r)?n.apply(t,o):n)||(e.exports=i)}((function(e){e.EventSourcePolyfill=L,e.NativeEventSource=p,e.EventSource=F}))}("undefined"!=typeof window?window:"undefined"!=typeof self?self:this)},"../node_modules/extend/index.js":function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===o.call(e)},c=function(e){if(!e||"[object Object]"!==o.call(e))return!1;var t,r=n.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!i)return!1;for(t in e);return void 0===t||n.call(e,t)},l=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,r,n,o,i,a,p=arguments[0],f=1,d=arguments.length,h=!1;for("boolean"==typeof p&&(h=p,p=arguments[1]||{},f=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});f<d;++f)if(null!=(t=arguments[f]))for(r in t)n=u(p,r),p!==(o=u(t,r))&&(h&&o&&(c(o)||(i=s(o)))?(i?(i=!1,a=n&&s(n)?n:[]):a=n&&c(n)?n:{},l(p,{name:r,newValue:e(h,a,o)})):void 0!==o&&l(p,{name:r,newValue:o}));return p}},"../node_modules/js-cookie/src/js.cookie.js":function(e,t,r){var n,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(n.read||n)(c,l)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(o[l]=c,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},"../node_modules/lodash.debounce/index.js":function(e,t,r){(function(t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,l=s||c||Function("return this")(),u=Object.prototype.toString,p=Math.max,f=Math.min,d=function(){return l.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=o.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var n,o,i,a,s,c,l=0,u=!1,y=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var r=n,i=o;return n=o=void 0,l=t,a=e.apply(i,r)}function g(e){return l=e,s=setTimeout(O,t),u?b(e):a}function v(e){var r=e-c;return void 0===c||r>=t||r<0||y&&e-l>=i}function O(){var e=d();if(v(e))return w(e);s=setTimeout(O,function(e){var r=t-(e-c);return y?f(r,i-(e-l)):r}(e))}function w(e){return s=void 0,_&&n?b(e):(n=o=void 0,a)}function j(){var e=d(),r=v(e);if(n=arguments,o=this,c=e,r){if(void 0===s)return g(c);if(y)return s=setTimeout(O,t),b(c)}return void 0===s&&(s=setTimeout(O,t)),a}return t=m(t)||0,h(r)&&(u=!!r.leading,i=(y="maxWait"in r)?p(m(r.maxWait)||0,t):i,_="trailing"in r?!!r.trailing:_),j.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=c=o=s=void 0},j.flush=function(){return void 0===s?a:w(d())},j}}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/lodash.throttle/index.js":function(e,t,r){(function(t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,l=s||c||Function("return this")(),u=Object.prototype.toString,p=Math.max,f=Math.min,d=function(){return l.Date.now()};function h(e,t,r){var n,o,i,a,s,c,l=0,u=!1,h=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var r=n,i=o;return n=o=void 0,l=t,a=e.apply(i,r)}function g(e){return l=e,s=setTimeout(O,t),u?b(e):a}function v(e){var r=e-c;return void 0===c||r>=t||r<0||h&&e-l>=i}function O(){var e=d();if(v(e))return w(e);s=setTimeout(O,function(e){var r=t-(e-c);return h?f(r,i-(e-l)):r}(e))}function w(e){return s=void 0,_&&n?b(e):(n=o=void 0,a)}function j(){var e=d(),r=v(e);if(n=arguments,o=this,c=e,r){if(void 0===s)return g(c);if(h)return s=setTimeout(O,t),b(c)}return void 0===s&&(s=setTimeout(O,t)),a}return t=y(t)||0,m(r)&&(u=!!r.leading,i=(h="maxWait"in r)?p(y(r.maxWait)||0,t):i,_="trailing"in r?!!r.trailing:_),j.cancel=function(){void 0!==s&&clearTimeout(s),l=0,n=c=o=s=void 0},j.flush=function(){return void 0===s?a:w(d())},j}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=o.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return m(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),h(e,t,{leading:n,maxWait:t,trailing:o})}}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/mobx-utils/mobx-utils.module.js":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return _}));var n=r("mobx");function o(e){throw new Error("[mobx-utils] "+e)}function i(e,t){void 0===t&&(t="Illegal state"),e||o(t)}function a(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}var s=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(s(Object.getPrototypeOf(e))||[])},c=function(e){return function(e){var t=s(e);return t.filter((function(e,r){return t.indexOf(e)===r}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))};function l(e){switch(this.state){case"pending":return e.pending&&e.pending(this.value);case"rejected":return e.rejected&&e.rejected(this.value);case"fulfilled":return e.fulfilled?e.fulfilled(this.value):this.value}}function u(e,t){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var r=e;e.then(Object(n.action)("observableFromPromise-resolve",(function(e){r.value=e,r.state="fulfilled"})),Object(n.action)("observableFromPromise-reject",(function(e){r.value=e,r.state="rejected"}))),r.isPromiseBasedObservable=!0,r.case=l;var o=t&&"fulfilled"===t.state?t.value:void 0;return Object(n.extendObservable)(r,{value:o,state:"pending"},{},{deep:!1}),r}!function(e){e.reject=Object(n.action)("fromPromise.reject",(function(t){var r=e(Promise.reject(t));return r.state="rejected",r.value=t,r})),e.resolve=Object(n.action)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var r=e(Promise.resolve(t));return r.state="fulfilled",r.value=t,r}))}(u||(u={}));var p=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a};!function(){function e(e,t){var r=this;Object(n.runInAction)((function(){r.current=t,r.subscription=e.subscribe(r)}))}e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(e){this.current=e},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(e){this.current=e,this.dispose()},p([n.observable.ref],e.prototype,"current",void 0),p([n.action.bound],e.prototype,"next",null),p([n.action.bound],e.prototype,"complete",null),p([n.action.bound],e.prototype,"error",null)}();var f=function(){return(f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},h=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];!function(){function e(e){var t=this;this.model=e,this.localValues=n.observable.map({}),this.localComputedValues=n.observable.map({}),this.isPropertyDirty=function(e){return t.localValues.has(e)},i(Object(n.isObservableObject)(e),"createViewModel expects an observable object"),c(e).forEach((function(r){if(r!==n.$mobx&&"__mobxDidRunLazyInitializers"!==r){if(i(-1===h.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),Object(n.isComputedProp)(e,r)){var o=Object(n._getAdministration)(e,r).derivation;t.localComputedValues.set(r,Object(n.computed)(o.bind(t)))}var a=Object.getOwnPropertyDescriptor(e,r),s=a?{enumerable:a.enumerable}:{};Object.defineProperty(t,r,f(f({},s),{configurable:!0,get:function(){return Object(n.isComputedProp)(e,r)?t.localComputedValues.get(r).get():t.isPropertyDirty(r)?t.localValues.get(r):t.model[r]},set:Object(n.action)((function(e){e!==t.model[r]?t.localValues.set(r,e):t.localValues.delete(r)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var e=this;Object(n.keys)(this.localValues).forEach((function(t){var r=e.localValues.get(t),o=e.model[t];Object(n.isObservableArray)(o)?o.replace(r):Object(n.isObservableMap)(o)?(o.clear(),o.merge(r)):Object(n.isComputed)(r)||(e.model[t]=r)})),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(e){this.localValues.delete(e)},d([n.computed],e.prototype,"isDirty",null),d([n.computed],e.prototype,"changedValues",null),d([n.action.bound],e.prototype,"submit",null),d([n.action.bound],e.prototype,"reset",null),d([n.action.bound],e.prototype,"resetProperty",null)}();var m=function(){return(m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=0;function _(e,t){i("function"==typeof e&&e.length<2,"createTransformer expects a function that accepts one argument");var r={},o=void 0,s=!1,c=void 0;"object"==typeof t?(o=t.onCleanup,s=void 0!==t.keepAlive&&t.keepAlive,c=t.debugNameGenerator):"function"==typeof t&&(o=t);var l=!1;return function(i){var u=function(e){var t=typeof e;if("string"===t)return"string:"+e;if("number"===t)return"number:"+e;if(null===e||"object"!==t&&"function"!==t)throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(e));var r=e.$transformId;void 0===r&&(r="memoizationId:"+ ++y,a(e,"$transformId",r));return r}(i),p=r[u];if(p)return p.get();if(!s&&!Object(n._isComputingDerivation)()){l||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),l=!0);var f=e(i);return o&&o(f,i),f}return(p=r[u]=function(i,a){var l,u={};"object"==typeof t?(o=t.onCleanup,c=t.debugNameGenerator,u=t):"function"==typeof t?o=t:(o=void 0,c=void 0);var p=c?c(a):"Transformer-"+e.name+"-"+i,f=Object(n.computed)((function(){return l=e(a)}),m(m({},u),{name:p}));if(!s)var d=Object(n.onBecomeUnobserved)(f,(function(){delete r[i],d(),o&&o(l,a)}));return f}(u,i)).get()}}var b,g=(b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),v=(function(e){function t(t,r,o){var i=void 0===o?{}:o,a=i.name,s=void 0===a?"ogm"+(1e3*Math.random()|0):a,c=i.keyToName,l=void 0===c?function(e){return""+e}:c,u=e.call(this)||this;u._keyToName=l,u._groupBy=r,u._ogmInfoKey="function"==typeof Symbol?Symbol("ogmInfo"+s):"__ogmInfo"+s,u._base=t;for(var p=0;p<t.length;p++)u._addItem(t[p]);return u._disposeBaseObserver=Object(n.observe)(u._base,(function(e){if("splice"===e.type)Object(n.transaction)((function(){for(var t=0,r=e.removed;t<r.length;t++){var n=r[t];u._removeItem(n)}for(var o=0,i=e.added;o<i.length;o++){var a=i[o];u._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");Object(n.transaction)((function(){u._removeItem(e.oldValue),u._addItem(e.newValue)}))}})),u}g(t,e),t.prototype.clear=function(){throw new Error("not supported")},t.prototype.delete=function(e){throw new Error("not supported")},t.prototype.set=function(e,t){throw new Error("not supported")},t.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}},t.prototype._getGroupArr=function(t){var r=e.prototype.get.call(this,t);return void 0===r&&(r=Object(n.observable)([],{name:"GroupArray["+this._keyToName(t)+"]"}),e.prototype.set.call(this,t,r)),r},t.prototype._removeFromGroupArr=function(t,r){var n=e.prototype.get.call(this,t);1===n.length?e.prototype.delete.call(this,t):(r===n.length-1||(n[r]=n[n.length-1],n[r][this._ogmInfoKey].groupArrIndex=r),n.length--)},t.prototype._addItem=function(e){var t=this,r=this._groupBy(e),o=this._getGroupArr(r),i={groupByValue:r,groupArrIndex:o.length,reaction:Object(n.reaction)((function(){return t._groupBy(e)}),(function(r,n){console.log("new group by value ",r);var o=e[t._ogmInfoKey];t._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=t._getGroupArr(r),a=i.length;i.push(e),o.groupByValue=r,o.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(e)},t.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}}(n.ObservableMap),function(){function e(e,t){this.base=e,this.args=t,this.closestIdx=0,this.isDisposed=!1;for(var r=this.closest=this.root=e,n=0;n<this.args.length-1&&(r=r.get(t[n]));n++)this.closest=r;this.closestIdx=n}return e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])},e.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},e.prototype.set=function(e){this.assertNotDisposed();for(var t=this.args.length,r=this.closest,n=this.closestIdx;n<t-1;n++){var o=new Map;r.set(this.args[n],o),r=o}this.closestIdx=t-1,this.closest=r,r.set(this.args[t-1],e)},e.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,r=[t],n=0;n<e-1;n++)t=t.get(this.args[n]),r.push(t);for(n=r.length-1;n>0;n--)0===r[n].size&&r[n-1].delete(this.args[n-1]);this.isDisposed=!0},e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},e}());!function(){function e(){this.store=new Map,this.argsLength=-1}e.prototype.entry=function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new v(this.store,e)}}();new Set,new Set;var O,w=Promise.resolve();O="undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==e&&e.nextTick?function(t){e.nextTick(t)}:function(e){setTimeout(e,0)};var j=function(){return new Promise((function(e){O(e)}))}}).call(this,r("../node_modules/process/browser.js"))},"../node_modules/moment/moment.js":function(e,t,r){(function(e){e.exports=function(){"use strict";var t,r;function n(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p(e,t){var r,n=[];for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function f(e,t){for(var r in t)a(t,r)&&(e[r]=t[r]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,r,n){return St(e,t,r,n,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=h(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function y(e){var t=d(NaN);return null!=e?f(h(t),e):h(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),n=r.length>>>0;for(t=0;t<n;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var _=n.momentProperties=[],b=!1;function g(e,t){var r,n,o;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=h(t)),c(t._locale)||(e._locale=t._locale),_.length>0)for(r=0;r<_.length;r++)c(o=t[n=_[r]])||(e[n]=o);return e}function v(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,n.updateOffset(this),b=!1)}function O(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function w(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function j(e,t){var r=!0;return f((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){var o,i,s,c=[];for(i=0;i<arguments.length;i++){if(o="","object"==typeof arguments[i]){for(s in o+="\n["+i+"] ",arguments[0])a(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];c.push(o)}w(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var S,k={};function P(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),k[e]||(w(t),k[e]=!0)}function E(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var r,n=f({},e);for(r in t)a(t,r)&&(i(e[r])&&i(t[r])?(n[r]={},f(n[r],e[r]),f(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)a(e,r)&&!a(t,r)&&i(e[r])&&(n[r]=f({},n[r]));return n}function C(e){null!=e&&this.set(e)}function D(e,t,r){var n=""+Math.abs(e),o=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)a(e,t)&&r.push(t);return r};var T=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,A={},R={};function N(e,t,r,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(R[e]=o),t&&(R[t[0]]=function(){return D(o.apply(this,arguments),t[1],t[2])}),r&&(R[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function I(e,t){return e.isValid()?(t=z(t,e.localeData()),A[t]=A[t]||function(e){var t,r,n,o=e.match(T);for(t=0,r=o.length;t<r;t++)R[o[t]]?o[t]=R[o[t]]:o[t]=(n=o[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,i="";for(n=0;n<r;n++)i+=E(o[n])?o[n].call(t,e):o[n];return i}}(t),A[t](e)):e.localeData().invalidDate()}function z(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(M.lastIndex=0;r>=0&&M.test(e);)e=e.replace(M,n),M.lastIndex=0,r-=1;return e}var L={};function U(e,t){var r=e.toLowerCase();L[r]=L[r+"s"]=L[t]=e}function F(e){return"string"==typeof e?L[e]||L[e.toLowerCase()]:void 0}function H(e){var t,r,n={};for(r in e)a(e,r)&&(t=F(r))&&(n[t]=e[r]);return n}var Y={};function V(e,t){Y[e]=t}function B(e){return e%4==0&&e%100!=0||e%400==0}function W(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function q(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=W(t)),r}function G(e,t){return function(r){return null!=r?($(this,e,r),n.updateOffset(this,t),this):X(this,e)}}function X(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function $(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&B(e.year())&&1===e.month()&&29===e.date()?(r=q(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),Oe(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}var Z,J=/\d/,K=/\d\d/,Q=/\d{3}/,ee=/\d{4}/,te=/[+-]?\d{6}/,re=/\d\d?/,ne=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,ie=/\d{1,3}/,ae=/\d{1,4}/,se=/[+-]?\d{1,6}/,ce=/\d+/,le=/[+-]?\d+/,ue=/Z|[+-]\d\d:?\d\d/gi,pe=/Z|[+-]\d\d(?::?\d\d)?/gi,fe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function de(e,t,r){Z[e]=E(t)?t:function(e,n){return e&&r?r:t}}function he(e,t){return a(Z,e)?Z[e](t._strict,t._locale):new RegExp(me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,o){return t||r||n||o}))))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Z={};var ye,_e={};function be(e,t){var r,n=t;for("string"==typeof e&&(e=[e]),l(t)&&(n=function(e,r){r[t]=q(e)}),r=0;r<e.length;r++)_e[e[r]]=n}function ge(e,t){be(e,(function(e,r,n,o){n._w=n._w||{},t(e,n._w,n,o)}))}function ve(e,t,r){null!=t&&a(_e,e)&&_e[e](t,r._a,r,e)}function Oe(e,t){if(isNaN(e)||isNaN(t))return NaN;var r,n=(t%(r=12)+r)%r;return e+=(t-n)/12,1===n?B(e)?29:28:31-n%7%2}ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},N("M",["MM",2],"Mo",(function(){return this.month()+1})),N("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),N("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),U("month","M"),V("month",8),de("M",re),de("MM",re,K),de("MMM",(function(e,t){return t.monthsShortRegex(e)})),de("MMMM",(function(e,t){return t.monthsRegex(e)})),be(["M","MM"],(function(e,t){t[1]=q(e)-1})),be(["MMM","MMMM"],(function(e,t,r,n){var o=r._locale.monthsParse(e,n,r._strict);null!=o?t[1]=o:h(r).invalidMonth=e}));var we="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),je="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Se=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ke=fe,Pe=fe;function Ee(e,t,r){var n,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(o=ye.call(this._shortMonthsParse,a))?o:null:-1!==(o=ye.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=ye.call(this._shortMonthsParse,a))||-1!==(o=ye.call(this._longMonthsParse,a))?o:null:-1!==(o=ye.call(this._longMonthsParse,a))||-1!==(o=ye.call(this._shortMonthsParse,a))?o:null}function xe(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=q(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),Oe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Ce(e){return null!=e?(xe(this,e),n.updateOffset(this,!0),this):X(this,"Month")}function De(){function e(e,t){return t.length-e.length}var t,r,n=[],o=[],i=[];for(t=0;t<12;t++)r=d([2e3,t]),n.push(this.monthsShort(r,"")),o.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(n.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)n[t]=me(n[t]),o[t]=me(o[t]);for(t=0;t<24;t++)i[t]=me(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Te(e){return B(e)?366:365}N("Y",0,0,(function(){var e=this.year();return e<=9999?D(e,4):"+"+e})),N(0,["YY",2],0,(function(){return this.year()%100})),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),U("year","y"),V("year",1),de("Y",le),de("YY",re,K),de("YYYY",ae,ee),de("YYYYY",se,te),de("YYYYYY",se,te),be(["YYYYY","YYYYYY"],0),be("YYYY",(function(e,t){t[0]=2===e.length?n.parseTwoDigitYear(e):q(e)})),be("YY",(function(e,t){t[0]=n.parseTwoDigitYear(e)})),be("Y",(function(e,t){t[0]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return q(e)+(q(e)>68?1900:2e3)};var Me=G("FullYear",!0);function Ae(e,t,r,n,o,i,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,r,n,o,i,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,r,n,o,i,a),s}function Re(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ne(e,t,r){var n=7+t-r;return-(7+Re(e,0,n).getUTCDay()-t)%7+n-1}function Ie(e,t,r,n,o){var i,a,s=1+7*(t-1)+(7+r-n)%7+Ne(e,n,o);return s<=0?a=Te(i=e-1)+s:s>Te(e)?(i=e+1,a=s-Te(e)):(i=e,a=s),{year:i,dayOfYear:a}}function ze(e,t,r){var n,o,i=Ne(e.year(),t,r),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?n=a+Le(o=e.year()-1,t,r):a>Le(e.year(),t,r)?(n=a-Le(e.year(),t,r),o=e.year()+1):(o=e.year(),n=a),{week:n,year:o}}function Le(e,t,r){var n=Ne(e,t,r),o=Ne(e+1,t,r);return(Te(e)-n+o)/7}function Ue(e,t){return e.slice(t,7).concat(e.slice(0,t))}N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),V("week",5),V("isoWeek",5),de("w",re),de("ww",re,K),de("W",re),de("WW",re,K),ge(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=q(e)})),N("d",0,"do","day"),N("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),N("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),N("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),de("d",re),de("e",re),de("E",re),de("dd",(function(e,t){return t.weekdaysMinRegex(e)})),de("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),de("dddd",(function(e,t){return t.weekdaysRegex(e)})),ge(["dd","ddd","dddd"],(function(e,t,r,n){var o=r._locale.weekdaysParse(e,n,r._strict);null!=o?t.d=o:h(r).invalidWeekday=e})),ge(["d","e","E"],(function(e,t,r,n){t[n]=q(e)}));var Fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),He="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ye="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ve=fe,Be=fe,We=fe;function qe(e,t,r){var n,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(o=ye.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=ye.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=ye.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=ye.call(this._weekdaysParse,a))||-1!==(o=ye.call(this._shortWeekdaysParse,a))||-1!==(o=ye.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=ye.call(this._shortWeekdaysParse,a))||-1!==(o=ye.call(this._weekdaysParse,a))||-1!==(o=ye.call(this._minWeekdaysParse,a))?o:null:-1!==(o=ye.call(this._minWeekdaysParse,a))||-1!==(o=ye.call(this._weekdaysParse,a))||-1!==(o=ye.call(this._shortWeekdaysParse,a))?o:null}function Ge(){function e(e,t){return t.length-e.length}var t,r,n,o,i,a=[],s=[],c=[],l=[];for(t=0;t<7;t++)r=d([2e3,1]).day(t),n=me(this.weekdaysMin(r,"")),o=me(this.weekdaysShort(r,"")),i=me(this.weekdays(r,"")),a.push(n),s.push(o),c.push(i),l.push(n),l.push(o),l.push(i);a.sort(e),s.sort(e),c.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Xe(){return this.hours()%12||12}function $e(e,t){N(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ze(e,t){return t._meridiemParse}N("H",["HH",2],0,"hour"),N("h",["hh",2],0,Xe),N("k",["kk",2],0,(function(){return this.hours()||24})),N("hmm",0,0,(function(){return""+Xe.apply(this)+D(this.minutes(),2)})),N("hmmss",0,0,(function(){return""+Xe.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),N("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),N("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),$e("a",!0),$e("A",!1),U("hour","h"),V("hour",13),de("a",Ze),de("A",Ze),de("H",re),de("h",re),de("k",re),de("HH",re,K),de("hh",re,K),de("kk",re,K),de("hmm",ne),de("hmmss",oe),de("Hmm",ne),de("Hmmss",oe),be(["H","HH"],3),be(["k","kk"],(function(e,t,r){var n=q(e);t[3]=24===n?0:n})),be(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),be(["h","hh"],(function(e,t,r){t[3]=q(e),h(r).bigHour=!0})),be("hmm",(function(e,t,r){var n=e.length-2;t[3]=q(e.substr(0,n)),t[4]=q(e.substr(n)),h(r).bigHour=!0})),be("hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[3]=q(e.substr(0,n)),t[4]=q(e.substr(n,2)),t[5]=q(e.substr(o)),h(r).bigHour=!0})),be("Hmm",(function(e,t,r){var n=e.length-2;t[3]=q(e.substr(0,n)),t[4]=q(e.substr(n))})),be("Hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[3]=q(e.substr(0,n)),t[4]=q(e.substr(n,2)),t[5]=q(e.substr(o))}));var Je,Ke=G("Hours",!0),Qe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:we,monthsShort:je,week:{dow:0,doy:6},weekdays:Fe,weekdaysMin:Ye,weekdaysShort:He,meridiemParse:/[ap]\.?m?\.?/i},et={},tt={};function rt(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function nt(e){return e?e.toLowerCase().replace("_","-"):e}function ot(t){var r=null;if(void 0===et[t]&&void 0!==e&&e&&e.exports)try{r=Je._abbr,function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),it(r)}catch(e){et[t]=null}return et[t]}function it(e,t){var r;return e&&((r=c(t)?st(e):at(e,t))?Je=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Je._abbr}function at(e,t){if(null!==t){var r,n=Qe;if(t.abbr=e,null!=et[e])P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=et[e]._config;else if(null!=t.parentLocale)if(null!=et[t.parentLocale])n=et[t.parentLocale]._config;else{if(null==(r=ot(t.parentLocale)))return tt[t.parentLocale]||(tt[t.parentLocale]=[]),tt[t.parentLocale].push({name:e,config:t}),null;n=r._config}return et[e]=new C(x(n,t)),tt[e]&&tt[e].forEach((function(e){at(e.name,e.config)})),it(e),et[e]}return delete et[e],null}function st(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Je;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,r,n,o,i=0;i<e.length;){for(t=(o=nt(e[i]).split("-")).length,r=(r=nt(e[i+1]))?r.split("-"):null;t>0;){if(n=ot(o.slice(0,t).join("-")))return n;if(r&&r.length>=t&&rt(o,r)>=t-1)break;t--}i++}return Je}(e)}function ct(e){var t,r=e._a;return r&&-2===h(e).overflow&&(t=r[1]<0||r[1]>11?1:r[2]<1||r[2]>Oe(r[0],r[1])?2:r[3]<0||r[3]>24||24===r[3]&&(0!==r[4]||0!==r[5]||0!==r[6])?3:r[4]<0||r[4]>59?4:r[5]<0||r[5]>59?5:r[6]<0||r[6]>999?6:-1,h(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),h(e)._overflowWeeks&&-1===t&&(t=7),h(e)._overflowWeekday&&-1===t&&(t=8),h(e).overflow=t),e}var lt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ut=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/Z|[+-]\d\d(?::?\d\d)?/,ft=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],dt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ht=/^\/?Date\((-?\d+)/i,mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function _t(e){var t,r,n,o,i,a,s=e._i,c=lt.exec(s)||ut.exec(s);if(c){for(h(e).iso=!0,t=0,r=ft.length;t<r;t++)if(ft[t][1].exec(c[1])){o=ft[t][0],n=!1!==ft[t][2];break}if(null==o)return void(e._isValid=!1);if(c[3]){for(t=0,r=dt.length;t<r;t++)if(dt[t][1].exec(c[3])){i=(c[2]||" ")+dt[t][0];break}if(null==i)return void(e._isValid=!1)}if(!n&&null!=i)return void(e._isValid=!1);if(c[4]){if(!pt.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),wt(e)}else e._isValid=!1}function bt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function gt(e){var t,r,n,o,i,a,s,c,l=mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){if(r=l[4],n=l[3],o=l[2],i=l[5],a=l[6],s=l[7],c=[bt(r),je.indexOf(n),parseInt(o,10),parseInt(i,10),parseInt(a,10)],s&&c.push(parseInt(s,10)),t=c,!function(e,t,r){return!e||He.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(r).weekdayMismatch=!0,r._isValid=!1,!1)}(l[1],t,e))return;e._a=t,e._tzm=function(e,t,r){if(e)return yt[e];if(t)return 0;var n=parseInt(r,10),o=n%100;return(n-o)/100*60+o}(l[8],l[9],l[10]),e._d=Re.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function vt(e,t,r){return null!=e?e:null!=t?t:r}function Ot(e){var t,r,o,i,a,s=[];if(!e._d){for(o=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,r,n,o,i,a,s,c,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,a=4,r=vt(t.GG,e._a[0],ze(kt(),1,4).year),n=vt(t.W,1),((o=vt(t.E,1))<1||o>7)&&(c=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,l=ze(kt(),i,a),r=vt(t.gg,e._a[0],l.year),n=vt(t.w,l.week),null!=t.d?((o=t.d)<0||o>6)&&(c=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),n<1||n>Le(r,i,a)?h(e)._overflowWeeks=!0:null!=c?h(e)._overflowWeekday=!0:(s=Ie(r,n,o,i,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=vt(e._a[0],o[0]),(e._dayOfYear>Te(a)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),r=Re(a,0,e._dayOfYear),e._a[1]=r.getUTCMonth(),e._a[2]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=o[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Re:Ae).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(h(e).weekdayMismatch=!0)}}function wt(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],h(e).empty=!0;var t,r,o,i,a,s,c=""+e._i,l=c.length,u=0;for(o=z(e._f,e._locale).match(T)||[],t=0;t<o.length;t++)i=o[t],(r=(c.match(he(i,e))||[])[0])&&((a=c.substr(0,c.indexOf(r))).length>0&&h(e).unusedInput.push(a),c=c.slice(c.indexOf(r)+r.length),u+=r.length),R[i]?(r?h(e).empty=!1:h(e).unusedTokens.push(i),ve(i,r,e)):e._strict&&!r&&h(e).unusedTokens.push(i);h(e).charsLeftOver=l-u,c.length>0&&h(e).unusedInput.push(c),e._a[3]<=12&&!0===h(e).bigHour&&e._a[3]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[3]=function(e,t,r){var n;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(s=h(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),Ot(e),ct(e)}else gt(e);else _t(e)}function jt(e){var t=e._i,r=e._f;return e._locale=e._locale||st(e._l),null===t||void 0===r&&""===t?y({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),O(t)?new v(ct(t)):(u(t)?e._d=t:o(r)?function(e){var t,r,n,o,i,a,s=!1;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,a=!1,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],wt(t),m(t)&&(a=!0),i+=h(t).charsLeftOver,i+=10*h(t).unusedTokens.length,h(t).score=i,s?i<n&&(n=i,r=t):(null==n||i<n||a)&&(n=i,r=t,a&&(s=!0));f(e,r||t)}(e):r?wt(e):function(e){var t=e._i;c(t)?e._d=new Date(n.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=ht.exec(e._i);null===t?(_t(e),!1===e._isValid&&(delete e._isValid,gt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=p(t.slice(0),(function(e){return parseInt(e,10)})),Ot(e)):i(t)?function(e){if(!e._d){var t=H(e._i),r=void 0===t.day?t.date:t.day;e._a=p([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Ot(e)}}(e):l(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function St(e,t,r,n,a){var c,l={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(i(e)&&s(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=r,l._i=e,l._f=t,l._strict=n,(c=new v(ct(jt(l))))._nextDay&&(c.add(1,"d"),c._nextDay=void 0),c}function kt(e,t,r,n){return St(e,t,r,n,!1)}n.createFromInputFallback=j("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Pt=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Et=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function xt(e,t){var r,n;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return kt();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}var Ct=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Dt(e){var t=H(e),r=t.year||0,n=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,c=t.hour||0,l=t.minute||0,u=t.second||0,p=t.millisecond||0;this._isValid=function(e){var t,r,n=!1;for(t in e)if(a(e,t)&&(-1===ye.call(Ct,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<Ct.length;++r)if(e[Ct[r]]){if(n)return!1;parseFloat(e[Ct[r]])!==q(e[Ct[r]])&&(n=!0)}return!0}(t),this._milliseconds=+p+1e3*u+6e4*l+1e3*c*60*60,this._days=+s+7*i,this._months=+o+3*n+12*r,this._data={},this._locale=st(),this._bubble()}function Tt(e){return e instanceof Dt}function Mt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function At(e,t){N(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+D(~~(e/60),2)+t+D(~~e%60,2)}))}At("Z",":"),At("ZZ",""),de("Z",pe),de("ZZ",pe),be(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=Nt(pe,e)}));var Rt=/([\+\-]|\d\d)/gi;function Nt(e,t){var r,n,o=(t||"").match(e);return null===o?null:0===(n=60*(r=((o[o.length-1]||[])+"").match(Rt)||["-",0,0])[1]+q(r[2]))?0:"+"===r[0]?n:-n}function It(e,t){var r,o;return t._isUTC?(r=t.clone(),o=(O(e)||u(e)?e.valueOf():kt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+o),n.updateOffset(r,!1),r):kt(e).local()}function zt(e){return-Math.round(e._d.getTimezoneOffset())}function Lt(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Ut=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ft=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ht(e,t){var r,n,o,i,s,c,u=e,p=null;return Tt(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(u={},t?u[t]=+e:u.milliseconds=+e):(p=Ut.exec(e))?(r="-"===p[1]?-1:1,u={y:0,d:q(p[2])*r,h:q(p[3])*r,m:q(p[4])*r,s:q(p[5])*r,ms:q(Mt(1e3*p[6]))*r}):(p=Ft.exec(e))?(r="-"===p[1]?-1:1,u={y:Yt(p[2],r),M:Yt(p[3],r),w:Yt(p[4],r),d:Yt(p[5],r),h:Yt(p[6],r),m:Yt(p[7],r),s:Yt(p[8],r)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(i=kt(u.from),s=kt(u.to),o=i.isValid()&&s.isValid()?(s=It(s,i),i.isBefore(s)?c=Vt(i,s):((c=Vt(s,i)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(u={}).ms=o.milliseconds,u.M=o.months),n=new Dt(u),Tt(e)&&a(e,"_locale")&&(n._locale=e._locale),Tt(e)&&a(e,"_isValid")&&(n._isValid=e._isValid),n}function Yt(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Vt(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Bt(e,t){return function(r,n){var o;return null===n||isNaN(+n)||(P(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),Wt(this,Ht(r,n),e),this}}function Wt(e,t,r,o){var i=t._milliseconds,a=Mt(t._days),s=Mt(t._months);e.isValid()&&(o=null==o||o,s&&xe(e,X(e,"Month")+s*r),a&&$(e,"Date",X(e,"Date")+a*r),i&&e._d.setTime(e._d.valueOf()+i*r),o&&n.updateOffset(e,a||s))}Ht.fn=Dt.prototype,Ht.invalid=function(){return Ht(NaN)};var qt=Bt(1,"add"),Gt=Bt(-1,"subtract");function Xt(e){return"string"==typeof e||e instanceof String}function $t(e){return O(e)||u(e)||Xt(e)||l(e)||function(e){var t=o(e),r=!1;return t&&(r=0===e.filter((function(t){return!l(t)&&Xt(e)})).length),t&&r}(e)||function(e){var t,r,n=i(e)&&!s(e),o=!1,c=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<c.length;t+=1)r=c[t],o=o||a(e,r);return n&&o}(e)||null==e}function Zt(e){var t,r=i(e)&&!s(e),n=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=n||a(e,o[t]);return r&&n}function Jt(e,t){if(e.date()<t.date())return-Jt(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function Kt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=st(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qt=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function er(){return this._locale}function tr(e,t){return(e%t+t)%t}function rr(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-126227808e5:new Date(e,t,r).valueOf()}function nr(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-126227808e5:Date.UTC(e,t,r)}function or(e,t){return t.erasAbbrRegex(e)}function ir(){var e,t,r=[],n=[],o=[],i=[],a=this.eras();for(e=0,t=a.length;e<t;++e)n.push(me(a[e].name)),r.push(me(a[e].abbr)),o.push(me(a[e].narrow)),i.push(me(a[e].name)),i.push(me(a[e].abbr)),i.push(me(a[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function ar(e,t){N(0,[e,e.length],0,t)}function sr(e,t,r,n,o){var i;return null==e?ze(this,n,o).year:(t>(i=Le(e,n,o))&&(t=i),cr.call(this,e,t,r,n,o))}function cr(e,t,r,n,o){var i=Ie(e,t,r,n,o),a=Re(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}N("N",0,0,"eraAbbr"),N("NN",0,0,"eraAbbr"),N("NNN",0,0,"eraAbbr"),N("NNNN",0,0,"eraName"),N("NNNNN",0,0,"eraNarrow"),N("y",["y",1],"yo","eraYear"),N("y",["yy",2],0,"eraYear"),N("y",["yyy",3],0,"eraYear"),N("y",["yyyy",4],0,"eraYear"),de("N",or),de("NN",or),de("NNN",or),de("NNNN",(function(e,t){return t.erasNameRegex(e)})),de("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),be(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,r,n){var o=r._locale.erasParse(e,n,r._strict);o?h(r).era=o:h(r).invalidEra=e})),de("y",ce),de("yy",ce),de("yyy",ce),de("yyyy",ce),de("yo",(function(e,t){return t._eraYearOrdinalRegex||ce})),be(["y","yy","yyy","yyyy"],0),be(["yo"],(function(e,t,r,n){var o;r._locale._eraYearOrdinalRegex&&(o=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[0]=r._locale.eraYearOrdinalParse(e,o):t[0]=parseInt(e,10)})),N(0,["gg",2],0,(function(){return this.weekYear()%100})),N(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ar("gggg","weekYear"),ar("ggggg","weekYear"),ar("GGGG","isoWeekYear"),ar("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),de("G",le),de("g",le),de("GG",re,K),de("gg",re,K),de("GGGG",ae,ee),de("gggg",ae,ee),de("GGGGG",se,te),de("ggggg",se,te),ge(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=q(e)})),ge(["gg","GG"],(function(e,t,r,o){t[o]=n.parseTwoDigitYear(e)})),N("Q",0,"Qo","quarter"),U("quarter","Q"),V("quarter",7),de("Q",J),be("Q",(function(e,t){t[1]=3*(q(e)-1)})),N("D",["DD",2],"Do","date"),U("date","D"),V("date",9),de("D",re),de("DD",re,K),de("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),be(["D","DD"],2),be("Do",(function(e,t){t[2]=q(e.match(re)[0])}));var lr=G("Date",!0);N("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),V("dayOfYear",4),de("DDD",ie),de("DDDD",Q),be(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=q(e)})),N("m",["mm",2],0,"minute"),U("minute","m"),V("minute",14),de("m",re),de("mm",re,K),be(["m","mm"],4);var ur=G("Minutes",!1);N("s",["ss",2],0,"second"),U("second","s"),V("second",15),de("s",re),de("ss",re,K),be(["s","ss"],5);var pr,fr,dr=G("Seconds",!1);for(N("S",0,0,(function(){return~~(this.millisecond()/100)})),N(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),N(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),N(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),N(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),N(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),N(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),U("millisecond","ms"),V("millisecond",16),de("S",ie,J),de("SS",ie,K),de("SSS",ie,Q),pr="SSSS";pr.length<=9;pr+="S")de(pr,ce);function hr(e,t){t[6]=q(1e3*("0."+e))}for(pr="S";pr.length<=9;pr+="S")be(pr,hr);fr=G("Milliseconds",!1),N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var mr=v.prototype;function yr(e){return e}mr.add=qt,mr.calendar=function(e,t){1===arguments.length&&($t(arguments[0])?(e=arguments[0],t=void 0):Zt(arguments[0])&&(t=arguments[0],e=void 0));var r=e||kt(),o=It(r,this).startOf("day"),i=n.calendarFormat(this,o)||"sameElse",a=t&&(E(t[i])?t[i].call(this,r):t[i]);return this.format(a||this.localeData().calendar(i,this,kt(r)))},mr.clone=function(){return new v(this)},mr.diff=function(e,t,r){var n,o,i;if(!this.isValid())return NaN;if(!(n=It(e,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),t=F(t)){case"year":i=Jt(this,n)/12;break;case"month":i=Jt(this,n);break;case"quarter":i=Jt(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-o)/864e5;break;case"week":i=(this-n-o)/6048e5;break;default:i=this-n}return r?i:W(i)},mr.endOf=function(e){var t,r;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?nr:rr,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tr(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tr(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tr(t,1e3)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},mr.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=I(this,e);return this.localeData().postformat(t)},mr.from=function(e,t){return this.isValid()&&(O(e)&&e.isValid()||kt(e).isValid())?Ht({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},mr.fromNow=function(e){return this.from(kt(),e)},mr.to=function(e,t){return this.isValid()&&(O(e)&&e.isValid()||kt(e).isValid())?Ht({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},mr.toNow=function(e){return this.to(kt(),e)},mr.get=function(e){return E(this[e=F(e)])?this[e]():this},mr.invalidAt=function(){return h(this).overflow},mr.isAfter=function(e,t){var r=O(e)?e:kt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},mr.isBefore=function(e,t){var r=O(e)?e:kt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},mr.isBetween=function(e,t,r,n){var o=O(e)?e:kt(e),i=O(t)?t:kt(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(o,r):!this.isBefore(o,r))&&(")"===n[1]?this.isBefore(i,r):!this.isAfter(i,r)))},mr.isSame=function(e,t){var r,n=O(e)?e:kt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},mr.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},mr.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},mr.isValid=function(){return m(this)},mr.lang=Qt,mr.locale=Kt,mr.localeData=er,mr.max=Et,mr.min=Pt,mr.parsingFlags=function(){return f({},h(this))},mr.set=function(e,t){if("object"==typeof e){var r,n=function(e){var t,r=[];for(t in e)a(e,t)&&r.push({unit:t,priority:Y[t]});return r.sort((function(e,t){return e.priority-t.priority})),r}(e=H(e));for(r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(E(this[e=F(e)]))return this[e](t);return this},mr.startOf=function(e){var t,r;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?nr:rr,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tr(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tr(t,6e4);break;case"second":t=this._d.valueOf(),t-=tr(t,1e3)}return this._d.setTime(t),n.updateOffset(this,!0),this},mr.subtract=Gt,mr.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},mr.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},mr.toDate=function(){return new Date(this.valueOf())},mr.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?I(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",I(r,"Z")):I(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},mr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,n="moment",o="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(mr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),mr.toJSON=function(){return this.isValid()?this.toISOString():null},mr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},mr.unix=function(){return Math.floor(this.valueOf()/1e3)},mr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},mr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},mr.eraName=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].name;if(n[e].until<=r&&r<=n[e].since)return n[e].name}return""},mr.eraNarrow=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].narrow;if(n[e].until<=r&&r<=n[e].since)return n[e].narrow}return""},mr.eraAbbr=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].abbr;if(n[e].until<=r&&r<=n[e].since)return n[e].abbr}return""},mr.eraYear=function(){var e,t,r,o,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=i[e].since<=i[e].until?1:-1,o=this.startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return(this.year()-n(i[e].since).year())*r+i[e].offset;return this.year()},mr.year=Me,mr.isLeapYear=function(){return B(this.year())},mr.weekYear=function(e){return sr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},mr.isoWeekYear=function(e){return sr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},mr.quarter=mr.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},mr.month=Ce,mr.daysInMonth=function(){return Oe(this.year(),this.month())},mr.week=mr.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},mr.isoWeek=mr.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},mr.weeksInYear=function(){var e=this.localeData()._week;return Le(this.year(),e.dow,e.doy)},mr.weeksInWeekYear=function(){var e=this.localeData()._week;return Le(this.weekYear(),e.dow,e.doy)},mr.isoWeeksInYear=function(){return Le(this.year(),1,4)},mr.isoWeeksInISOWeekYear=function(){return Le(this.isoWeekYear(),1,4)},mr.date=lr,mr.day=mr.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},mr.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},mr.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},mr.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},mr.hour=mr.hours=Ke,mr.minute=mr.minutes=ur,mr.second=mr.seconds=dr,mr.millisecond=mr.milliseconds=fr,mr.utcOffset=function(e,t,r){var o,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Nt(pe,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(o=zt(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Wt(this,Ht(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:zt(this)},mr.utc=function(e){return this.utcOffset(0,e)},mr.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this},mr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(ue,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},mr.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?kt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},mr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},mr.isLocal=function(){return!!this.isValid()&&!this._isUTC},mr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},mr.isUtc=Lt,mr.isUTC=Lt,mr.zoneAbbr=function(){return this._isUTC?"UTC":""},mr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},mr.dates=j("dates accessor is deprecated. Use date instead.",lr),mr.months=j("months accessor is deprecated. Use month instead",Ce),mr.years=j("years accessor is deprecated. Use year instead",Me),mr.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),mr.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return g(t,this),(t=jt(t))._a?(e=t._isUTC?d(t._a):kt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,r){var n,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(n=0;n<o;n++)(r&&e[n]!==t[n]||!r&&q(e[n])!==q(t[n]))&&a++;return a+i}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var _r=C.prototype;function br(e,t,r,n){var o=st(),i=d().set(n,t);return o[r](i,e)}function gr(e,t,r){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return br(e,t,r,"month");var n,o=[];for(n=0;n<12;n++)o[n]=br(e,n,r,"month");return o}function vr(e,t,r,n){"boolean"==typeof e?(l(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,l(t)&&(r=t,t=void 0),t=t||"");var o,i=st(),a=e?i._week.dow:0,s=[];if(null!=r)return br(t,(r+a)%7,n,"day");for(o=0;o<7;o++)s[o]=br(t,(o+a)%7,n,"day");return s}_r.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return E(n)?n.call(t,r):n},_r.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(T).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},_r.invalidDate=function(){return this._invalidDate},_r.ordinal=function(e){return this._ordinal.replace("%d",e)},_r.preparse=yr,_r.postformat=yr,_r.relativeTime=function(e,t,r,n){var o=this._relativeTime[r];return E(o)?o(e,t,r,n):o.replace(/%d/i,e)},_r.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return E(r)?r(t):r.replace(/%s/i,t)},_r.set=function(e){var t,r;for(r in e)a(e,r)&&(E(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},_r.eras=function(e,t){var r,o,i,a=this._eras||st("en")._eras;for(r=0,o=a.length;r<o;++r){switch(typeof a[r].since){case"string":i=n(a[r].since).startOf("day"),a[r].since=i.valueOf()}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=n(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf()}}return a},_r.erasParse=function(e,t,r){var n,o,i,a,s,c=this.eras();for(e=e.toUpperCase(),n=0,o=c.length;n<o;++n)if(i=c[n].name.toUpperCase(),a=c[n].abbr.toUpperCase(),s=c[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(a===e)return c[n];break;case"NNNN":if(i===e)return c[n];break;case"NNNNN":if(s===e)return c[n]}else if([i,a,s].indexOf(e)>=0)return c[n]},_r.erasConvertYear=function(e,t){var r=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*r},_r.erasAbbrRegex=function(e){return a(this,"_erasAbbrRegex")||ir.call(this),e?this._erasAbbrRegex:this._erasRegex},_r.erasNameRegex=function(e){return a(this,"_erasNameRegex")||ir.call(this),e?this._erasNameRegex:this._erasRegex},_r.erasNarrowRegex=function(e){return a(this,"_erasNarrowRegex")||ir.call(this),e?this._erasNarrowRegex:this._erasRegex},_r.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Se).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},_r.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Se.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},_r.monthsParse=function(e,t,r){var n,o,i;if(this._monthsParseExact)return Ee.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=d([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},_r.monthsRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||De.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Pe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},_r.monthsShortRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||De.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ke),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},_r.week=function(e){return ze(e,this._week.dow,this._week.doy).week},_r.firstDayOfYear=function(){return this._week.doy},_r.firstDayOfWeek=function(){return this._week.dow},_r.weekdays=function(e,t){var r=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ue(r,this._week.dow):e?r[e.day()]:r},_r.weekdaysMin=function(e){return!0===e?Ue(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},_r.weekdaysShort=function(e){return!0===e?Ue(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},_r.weekdaysParse=function(e,t,r){var n,o,i;if(this._weekdaysParseExact)return qe.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=d([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},_r.weekdaysRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Ve),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},_r.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Be),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},_r.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=We),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},_r.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},_r.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},it("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===q(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=j("moment.lang is deprecated. Use moment.locale instead.",it),n.langData=j("moment.langData is deprecated. Use moment.localeData instead.",st);var Or=Math.abs;function wr(e,t,r,n){var o=Ht(t,r);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function jr(e){return e<0?Math.floor(e):Math.ceil(e)}function Sr(e){return 4800*e/146097}function kr(e){return 146097*e/4800}function Pr(e){return function(){return this.as(e)}}var Er=Pr("ms"),xr=Pr("s"),Cr=Pr("m"),Dr=Pr("h"),Tr=Pr("d"),Mr=Pr("w"),Ar=Pr("M"),Rr=Pr("Q"),Nr=Pr("y");function Ir(e){return function(){return this.isValid()?this._data[e]:NaN}}var zr=Ir("milliseconds"),Lr=Ir("seconds"),Ur=Ir("minutes"),Fr=Ir("hours"),Hr=Ir("days"),Yr=Ir("months"),Vr=Ir("years"),Br=Math.round,Wr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function qr(e,t,r,n,o){return o.relativeTime(t||1,!!r,e,n)}var Gr=Math.abs;function Xr(e){return(e>0)-(e<0)||+e}function $r(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,n,o,i,a,s,c=Gr(this._milliseconds)/1e3,l=Gr(this._days),u=Gr(this._months),p=this.asSeconds();return p?(e=W(c/60),t=W(e/60),c%=60,e%=60,r=W(u/12),u%=12,n=c?c.toFixed(3).replace(/\.?0+$/,""):"",o=p<0?"-":"",i=Xr(this._months)!==Xr(p)?"-":"",a=Xr(this._days)!==Xr(p)?"-":"",s=Xr(this._milliseconds)!==Xr(p)?"-":"",o+"P"+(r?i+r+"Y":"")+(u?i+u+"M":"")+(l?a+l+"D":"")+(t||e||c?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(c?s+n+"S":"")):"P0D"}var Zr=Dt.prototype;return Zr.isValid=function(){return this._isValid},Zr.abs=function(){var e=this._data;return this._milliseconds=Or(this._milliseconds),this._days=Or(this._days),this._months=Or(this._months),e.milliseconds=Or(e.milliseconds),e.seconds=Or(e.seconds),e.minutes=Or(e.minutes),e.hours=Or(e.hours),e.months=Or(e.months),e.years=Or(e.years),this},Zr.add=function(e,t){return wr(this,e,t,1)},Zr.subtract=function(e,t){return wr(this,e,t,-1)},Zr.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=F(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+Sr(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(kr(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Zr.asMilliseconds=Er,Zr.asSeconds=xr,Zr.asMinutes=Cr,Zr.asHours=Dr,Zr.asDays=Tr,Zr.asWeeks=Mr,Zr.asMonths=Ar,Zr.asQuarters=Rr,Zr.asYears=Nr,Zr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12):NaN},Zr._bubble=function(){var e,t,r,n,o,i=this._milliseconds,a=this._days,s=this._months,c=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*jr(kr(s)+a),a=0,s=0),c.milliseconds=i%1e3,e=W(i/1e3),c.seconds=e%60,t=W(e/60),c.minutes=t%60,r=W(t/60),c.hours=r%24,a+=W(r/24),o=W(Sr(a)),s+=o,a-=jr(kr(o)),n=W(s/12),s%=12,c.days=a,c.months=s,c.years=n,this},Zr.clone=function(){return Ht(this)},Zr.get=function(e){return e=F(e),this.isValid()?this[e+"s"]():NaN},Zr.milliseconds=zr,Zr.seconds=Lr,Zr.minutes=Ur,Zr.hours=Fr,Zr.days=Hr,Zr.weeks=function(){return W(this.days()/7)},Zr.months=Yr,Zr.years=Vr,Zr.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,n,o=!1,i=Wr;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(i=Object.assign({},Wr,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),r=this.localeData(),n=function(e,t,r,n){var o=Ht(e).abs(),i=Br(o.as("s")),a=Br(o.as("m")),s=Br(o.as("h")),c=Br(o.as("d")),l=Br(o.as("M")),u=Br(o.as("w")),p=Br(o.as("y")),f=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||a<=1&&["m"]||a<r.m&&["mm",a]||s<=1&&["h"]||s<r.h&&["hh",s]||c<=1&&["d"]||c<r.d&&["dd",c];return null!=r.w&&(f=f||u<=1&&["w"]||u<r.w&&["ww",u]),(f=f||l<=1&&["M"]||l<r.M&&["MM",l]||p<=1&&["y"]||["yy",p])[2]=t,f[3]=+e>0,f[4]=n,qr.apply(null,f)}(this,!o,i,r),o&&(n=r.pastFuture(+this,n)),r.postformat(n)},Zr.toISOString=$r,Zr.toString=$r,Zr.toJSON=$r,Zr.locale=Kt,Zr.localeData=er,Zr.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$r),Zr.lang=Qt,N("X",0,0,"unix"),N("x",0,0,"valueOf"),de("x",le),de("X",/[+-]?\d+(\.\d{1,3})?/),be("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e))})),be("x",(function(e,t,r){r._d=new Date(q(e))})),
//! moment.js
n.version="2.26.0",t=kt,n.fn=mr,n.min=function(){var e=[].slice.call(arguments,0);return xt("isBefore",e)},n.max=function(){var e=[].slice.call(arguments,0);return xt("isAfter",e)},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(e){return kt(1e3*e)},n.months=function(e,t){return gr(e,t,"months")},n.isDate=u,n.locale=it,n.invalid=y,n.duration=Ht,n.isMoment=O,n.weekdays=function(e,t,r){return vr(e,t,r,"weekdays")},n.parseZone=function(){return kt.apply(null,arguments).parseZone()},n.localeData=st,n.isDuration=Tt,n.monthsShort=function(e,t){return gr(e,t,"monthsShort")},n.weekdaysMin=function(e,t,r){return vr(e,t,r,"weekdaysMin")},n.defineLocale=at,n.updateLocale=function(e,t){if(null!=t){var r,n,o=Qe;null!=et[e]&&null!=et[e].parentLocale?et[e].set(x(et[e]._config,t)):(null!=(n=ot(e))&&(o=n._config),t=x(o,t),null==n&&(t.abbr=e),(r=new C(t)).parentLocale=et[e],et[e]=r),it(e)}else null!=et[e]&&(null!=et[e].parentLocale?(et[e]=et[e].parentLocale,e===it()&&it(e)):null!=et[e]&&delete et[e]);return et[e]},n.locales=function(){return S(et)},n.weekdaysShort=function(e,t,r){return vr(e,t,r,"weekdaysShort")},n.normalizeUnits=F,n.relativeTimeRounding=function(e){return void 0===e?Br:"function"==typeof e&&(Br=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Wr[e]&&(void 0===t?Wr[e]:(Wr[e]=t,"s"===e&&(Wr.ss=t-1),!0))},n.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},n.prototype=mr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}).call(this,r("../node_modules/webpack/buildin/module.js")(e))},"../node_modules/process/browser.js":function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,l=[],u=!1,p=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):p=-1,l.length&&d())}function d(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||u||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"../node_modules/promise-polyfill/src/finally.js":function(e,t,r){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))}},"../node_modules/promise-polyfill/src/index.js":function(e,t,r){"use strict";(function(e){var t=r("../node_modules/promise-polyfill/src/finally.js"),n=setTimeout;function o(e){return Boolean(e&&void 0!==e.length)}function i(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void l(t.promise,e)}c(t.promise,n)}else(1===e._state?c:l)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof a)return e._state=3,e._value=t,void u(e);if("function"==typeof r)return void f((n=r,o=t,function(){n.apply(o,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){l(e,t)}var n,o}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)s(e,e._deferreds[t]);e._deferreds=null}function p(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function f(e,t){var r=!1;try{e((function(e){r||(r=!0,c(t,e))}),(function(e){r||(r=!0,l(t,e))}))}catch(e){if(r)return;r=!0,l(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var r=new this.constructor(i);return s(this,new p(e,t,r)),r},a.prototype.finally=t.a,a.all=function(e){return new a((function(t,r){if(!o(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function a(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(t){a(e,t)}),r)}n[e]=o,0==--i&&t(n)}catch(e){r(e)}}for(var s=0;s<n.length;s++)a(s,n[s])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,r){r(e)}))},a.race=function(e){return new a((function(t,r){if(!o(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)a.resolve(e[n]).then(t,r)}))},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){n(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)}}).call(this,r("../node_modules/timers-browserify/main.js").setImmediate)},"../node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},"../node_modules/prop-types/index.js":function(e,t,r){e.exports=r("../node_modules/prop-types/factoryWithThrowingShims.js")()},"../node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js":function(e,t,r){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function i(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,a=null,s=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==a||null!==s){var c=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;u.call(this,e,t,n)}}return e}r.r(t),r.d(t,"polyfill",(function(){return a})),n.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},"../node_modules/react-loadable/lib/index.js":function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=r("react"),c=r("../node_modules/prop-types/index.js"),l=[],u=[];function p(e){var t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then((function(e){return r.loading=!1,r.loaded=e,e})).catch((function(e){throw r.loading=!1,r.error=e,e})),r}function f(e){var t={loading:!1,loaded:{},error:null},r=[];try{Object.keys(e).forEach((function(n){var o=p(e[n]);o.loading?t.loading=!0:(t.loaded[n]=o.loaded,t.error=o.error),r.push(o.promise),o.promise.then((function(e){t.loaded[n]=e})).catch((function(e){t.error=e}))}))}catch(e){t.error=e}return t.promise=Promise.all(r).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function d(e,t){return s.createElement((r=e)&&r.__esModule?r.default:r,t);var r}function h(e,t){var p,f;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var h=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:d,webpack:null,modules:null},t),m=null;function y(){return m||(m=e(h.loader)),m.promise}return l.push(y),"function"==typeof h.webpack&&u.push((function(){if(e=h.webpack,"object"===n(r.m)&&e().every((function(e){return void 0!==e&&void 0!==r.m[e]})))return y();var e})),f=p=function(t){function r(n){o(this,r);var a=i(this,t.call(this,n));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),m=e(h.loader),a._loadModule()},y(),a.state={error:m.error,pastDelay:!1,timedOut:!1,loading:m.loading,loaded:m.loaded},a}return a(r,t),r.preload=function(){return y()},r.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},r.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(h.modules)&&h.modules.forEach((function(t){e.context.loadable.report(t)})),m.loading){"number"==typeof h.delay&&(0===h.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){e.setState({pastDelay:!0})}),h.delay)),"number"==typeof h.timeout&&(this._timeout=setTimeout((function(){e.setState({timedOut:!0})}),h.timeout));var t=function(){e._mounted&&(e.setState({error:m.error,loaded:m.loaded,loading:m.loading}),e._clearTimeouts())};m.promise.then((function(){t()})).catch((function(e){t()}))}},r.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},r.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},r.prototype.render=function(){return this.state.loading||this.state.error?s.createElement(h.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?h.render(this.state.loaded,this.props):null},r}(s.Component),p.contextTypes={loadable:c.shape({report:c.func.isRequired})},f}function m(e){return h(p,e)}m.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return h(f,e)};var y=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return s.Children.only(this.props.children)},t}(s.Component);function _(e){for(var t=[];e.length;){var r=e.pop();t.push(r())}return Promise.all(t).then((function(){if(e.length)return _(e)}))}y.propTypes={report:c.func.isRequired},y.childContextTypes={loadable:c.shape({report:c.func.isRequired}).isRequired},m.Capture=y,m.preloadAll=function(){return new Promise((function(e,t){_(l).then(e,t)}))},m.preloadReady=function(){return new Promise((function(e,t){_(u).then(e,e)}))},e.exports=m},"../node_modules/react-transition-group/CSSTransition.js":function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r("../node_modules/prop-types/index.js"));var n=s(r("../node_modules/dom-helpers/class/addClass.js")),o=s(r("../node_modules/dom-helpers/class/removeClass.js")),i=s(r("react")),a=s(r("../node_modules/react-transition-group/Transition.js"));r("../node_modules/react-transition-group/utils/PropTypes.js");function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},p=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).onEnter=function(e,r){var n=t.getClassNames(r?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,n),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.getClassNames(r?"appear":"enter").activeClassName;t.reflowAndAddClass(e,n),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.getClassNames("appear").doneClassName,o=t.getClassNames("enter").doneClassName,i=r?n+" "+o:o;t.removeClasses(e,r?"appear":"enter"),l(e,i),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,r),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,r),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,r),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,o=n?(n&&r?r+"-":"")+e:r[e];return{className:o,activeClassName:n?o+"-active":r[e+"Active"],doneClassName:n?o+"-done":r[e+"Done"]}},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.removeClasses=function(e,t){var r=this.getClassNames(t),n=r.className,o=r.activeClassName,i=r.doneClassName;n&&u(e,n),o&&u(e,o),i&&u(e,i)},o.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},o.render=function(){var e=c({},this.props);return delete e.classNames,i.default.createElement(a.default,c({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(i.default.Component);p.defaultProps={classNames:""},p.propTypes={};var f=p;t.default=f,e.exports=t.default},"../node_modules/react-transition-group/ReplaceTransition.js":function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;a(r("../node_modules/prop-types/index.js"));var n=a(r("react")),o=r("react-dom"),i=a(r("../node_modules/react-transition-group/TransitionGroup.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEnter",0,r)},t.handleEntering=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntering",0,r)},t.handleEntered=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntered",0,r)},t.handleExit=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExit",1,r)},t.handleExiting=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExiting",1,r)},t.handleExited=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExited",1,r)},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=a.prototype;return s.handleLifecycle=function(e,t,r){var i,a=this.props.children,s=n.default.Children.toArray(a)[t];s.props[e]&&(i=s.props)[e].apply(i,r),this.props[e]&&this.props[e]((0,o.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,r=e.in,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["children","in"]),a=n.default.Children.toArray(t),s=a[0],c=a[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,n.default.createElement(i.default,o,r?n.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(n.default.Component);s.propTypes={};var c=s;t.default=c,e.exports=t.default},"../node_modules/react-transition-group/Transition.js":function(e,t,r){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r("../node_modules/prop-types/index.js")),o=s(r("react")),i=s(r("react-dom")),a=r("../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");r("../node_modules/react-transition-group/utils/PropTypes.js");function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var c=function(e){var t,r;function n(t,r){var n;n=e.call(this,t,r)||this;var o,i=r.transitionGroup,a=i&&!i.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(o="exited",n.appearStatus="entering"):o="entered":o=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",n.state={status:o},n.nextCallback=null,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getChildContext=function(){return{transitionGroup:null}},n.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?"entering"!==r&&"entered"!==r&&(t="entering"):"entering"!==r&&"entered"!==r||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var r=i.default.findDOMNode(this);"entering"===t?this.performEnter(r,e):this.performExit(r)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(e,t){var r=this,n=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts(),a=o?i.appear:i.enter;t||n?(this.props.onEnter(e,o),this.safeSetState({status:"entering"},(function(){r.props.onEntering(e,o),r.onTransitionEnd(e,a,(function(){r.safeSetState({status:"entered"},(function(){r.props.onEntered(e,o)}))}))}))):this.safeSetState({status:"entered"},(function(){r.props.onEntered(e)}))},a.performExit=function(e){var t=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},a.onTransitionEnd=function(e,t,r){this.setNextCallback(r);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,r=t.children,n=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"==typeof r)return r(e,n);var i=o.default.Children.only(r);return o.default.cloneElement(i,n)},n}(o.default.Component);function l(){}c.contextTypes={transitionGroup:n.object},c.childContextTypes={transitionGroup:function(){}},c.propTypes={},c.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:l,onEntering:l,onEntered:l,onExit:l,onExiting:l,onExited:l},c.UNMOUNTED=0,c.EXITED=1,c.ENTERING=2,c.ENTERED=3,c.EXITING=4;var u=(0,a.polyfill)(c);t.default=u},"../node_modules/react-transition-group/TransitionGroup.js":function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r("../node_modules/prop-types/index.js")),o=s(r("react")),i=r("../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js"),a=r("../node_modules/react-transition-group/utils/ChildMapping.js");function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},p=function(e){var t,r;function n(t,r){var n,o=(n=e.call(this,t,r)||this).handleExited.bind(l(l(n)));return n.state={handleExited:o,firstRender:!0},n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},i.componentDidMount=function(){this.appeared=!0,this.mounted=!0},i.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,t){var r=t.children,n=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,n):(0,a.getNextChildMapping)(e,r,n),firstRender:!1}},i.handleExited=function(e,t){var r=(0,a.getChildMapping)(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=c({},t.children);return delete r[e.key],{children:r}})))},i.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["component","childFactory"]),i=u(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?i:o.default.createElement(t,n,i)},n}(o.default.Component);p.childContextTypes={transitionGroup:n.default.object.isRequired},p.propTypes={},p.defaultProps={component:"div",childFactory:function(e){return e}};var f=(0,i.polyfill)(p);t.default=f,e.exports=t.default},"../node_modules/react-transition-group/index.js":function(e,t,r){"use strict";var n=s(r("../node_modules/react-transition-group/CSSTransition.js")),o=s(r("../node_modules/react-transition-group/ReplaceTransition.js")),i=s(r("../node_modules/react-transition-group/TransitionGroup.js")),a=s(r("../node_modules/react-transition-group/Transition.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:i.default,ReplaceTransition:o.default,CSSTransition:n.default}},"../node_modules/react-transition-group/utils/ChildMapping.js":function(e,t,r){"use strict";t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=i,t.getInitialChildMapping=function(e,t){return o(e.children,(function(r){return(0,n.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:a(r,"appear",e),enter:a(r,"enter",e),exit:a(r,"exit",e)})}))},t.getNextChildMapping=function(e,t,r){var s=o(e.children),c=i(t,s);return Object.keys(c).forEach((function(o){var i=c[o];if((0,n.isValidElement)(i)){var l=o in t,u=o in s,p=t[o],f=(0,n.isValidElement)(p)&&!p.props.in;!u||l&&!f?u||!l||f?u&&l&&(0,n.isValidElement)(p)&&(c[o]=(0,n.cloneElement)(i,{onExited:r.bind(null,i),in:p.props.in,exit:a(i,"exit",e),enter:a(i,"enter",e)})):c[o]=(0,n.cloneElement)(i,{in:!1}):c[o]=(0,n.cloneElement)(i,{onExited:r.bind(null,i),in:!0,exit:a(i,"exit",e),enter:a(i,"enter",e)})}})),c};var n=r("react");function o(e,t){var r=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),r}function i(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var c in t){if(o[c])for(n=0;n<o[c].length;n++){var l=o[c][n];s[o[c][n]]=r(l)}s[c]=r(c)}for(n=0;n<i.length;n++)s[i[n]]=r(i[n]);return s}function a(e,t,r){return null!=r[t]?r[t]:e.props[t]}},"../node_modules/react-transition-group/utils/PropTypes.js":function(e,t,r){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var n;(n=r("../node_modules/prop-types/index.js"))&&n.__esModule;t.timeoutsShape=null;t.classNamesShape=null},"../node_modules/setimmediate/setImmediate.js":function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,o,i,a,s,c=1,l={},u=!1,p=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){i.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,n=function(e){var t=p.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return l[c]=o,n(c),c++},f.clearImmediate=d}function d(e){delete l[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{d(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r("../node_modules/webpack/buildin/global.js"),r("../node_modules/process/browser.js"))},"../node_modules/timers-browserify/main.js":function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r("../node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"../node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./App/Components/Animations/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return uo})),r.d(t,"b",(function(){return ho}));var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r.n(i),s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function c(e,t){function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function p(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var f=function(){return(f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=function(e,t){return function(r){return Math.max(Math.min(r,t),e)}},h=function(e){return e%1?Number(e.toFixed(5)):e},m=/(-)?(\d[\d\.]*)/g,y=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,_=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i,b={test:function(e){return"number"==typeof e},parse:parseFloat,transform:function(e){return e}},g=f(f({},b),{transform:d(0,1)}),v=f(f({},b),{default:1}),O=function(e){return{test:function(t){return"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},w=O("deg"),j=O("%"),S=O("px"),k=O("vh"),P=O("vw"),E=f(f({},j),{parse:function(e){return j.parse(e)/100},transform:function(e){return j.transform(100*e)}}),x=d(0,255),C=function(e){return void 0!==e.red},D=function(e){return void 0!==e.hue},T=function(e){return function(t){if("string"!=typeof t)return t;for(var r,n={},o=(r=t,r.substring(r.indexOf("(")+1,r.lastIndexOf(")"))).split(/,\s*/),i=0;i<4;i++)n[e[i]]=void 0!==o[i]?parseFloat(o[i]):1;return n}},M=f(f({},b),{transform:function(e){return Math.round(x(e))}});function A(e,t){return e.startsWith(t)&&_.test(e)}var R={test:function(e){return"string"==typeof e?A(e,"rgb"):C(e)},parse:T(["red","green","blue","alpha"]),transform:function(e){var t=e.red,r=e.green,n=e.blue,o=e.alpha,i=void 0===o?1:o;return function(e){var t=e.red,r=e.green,n=e.blue,o=e.alpha;return"rgba("+t+", "+r+", "+n+", "+(void 0===o?1:o)+")"}({red:M.transform(t),green:M.transform(r),blue:M.transform(n),alpha:h(g.transform(i))})}},N={test:function(e){return"string"==typeof e?A(e,"hsl"):D(e)},parse:T(["hue","saturation","lightness","alpha"]),transform:function(e){var t=e.hue,r=e.saturation,n=e.lightness,o=e.alpha,i=void 0===o?1:o;return function(e){var t=e.hue,r=e.saturation,n=e.lightness,o=e.alpha;return"hsla("+t+", "+r+", "+n+", "+(void 0===o?1:o)+")"}({hue:Math.round(t),saturation:j.transform(h(r)),lightness:j.transform(h(n)),alpha:h(g.transform(i))})}},I=f(f({},R),{test:function(e){return"string"==typeof e&&A(e,"#")},parse:function(e){var t="",r="",n="";return e.length>4?(t=e.substr(1,2),r=e.substr(3,2),n=e.substr(5,2)):(t=e.substr(1,1),r=e.substr(2,1),n=e.substr(3,1),t+=t,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:1}}}),z={test:function(e){return"string"==typeof e&&_.test(e)||C(e)||D(e)},parse:function(e){return R.test(e)?R.parse(e):N.test(e)?N.parse(e):I.test(e)?I.parse(e):e},transform:function(e){return C(e)?R.transform(e):D(e)?N.transform(e):e}},L=function(e){return"number"==typeof e?0:e},U={test:function(e){if("string"!=typeof e||!isNaN(e))return!1;var t=0,r=e.match(m),n=e.match(y);return r&&(t+=r.length),n&&(t+=n.length),t>0},parse:function(e){var t=e,r=[],n=t.match(y);n&&(t=t.replace(y,"${c}"),r.push.apply(r,n.map(z.parse)));var o=t.match(m);return o&&r.push.apply(r,o.map(b.parse)),r},createTransformer:function(e){var t=e,r=0,n=e.match(y),o=n?n.length:0;if(n)for(var i=0;i<o;i++)t=t.replace(n[i],"${c}"),r++;var a=t.match(m),s=a?a.length:0;if(a)for(i=0;i<s;i++)t=t.replace(a[i],"${n}"),r++;return function(e){for(var n=t,i=0;i<r;i++)n=n.replace(i<o?"${c}":"${n}",i<o?z.transform(e[i]):h(e[i]));return n}},getAnimatableNone:function(e){var t=U.parse(e);return U.createTransformer(e)(t.map(L))}};var F,H=0,Y="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now(),r=Math.max(0,16.7-(t-H));H=t+r,setTimeout((function(){return e(H)}),r)};!function(e){e.Read="read",e.Update="update",e.Render="render",e.PostRender="postRender",e.FixedUpdate="fixedUpdate"}(F||(F={}));var V=1/60*1e3,B=!0,W=!1,q=!1,G={delta:0,timestamp:0},X=[F.Read,F.Update,F.Render,F.PostRender],$=function(e){return W=e},Z=X.reduce((function(e,t){var r,n,o,i,a,s,c,l,u,p=(r=$,n=[],o=[],i=0,a=!1,s=0,c=new WeakSet,l=new WeakSet,u={cancel:function(e){var t=o.indexOf(e);c.add(e),-1!==t&&o.splice(t,1)},process:function(e){var t,p;if(a=!0,n=(t=[o,n])[0],(o=t[1]).length=0,i=n.length)for(s=0;s<i;s++)(p=n[s])(e),!0!==l.has(p)||c.has(p)||(u.schedule(p),r(!0));a=!1},schedule:function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var s=r&&a,u=s?n:o;c.delete(e),t&&l.add(e),-1===u.indexOf(e)&&(u.push(e),s&&(i=n.length))}});return e.sync[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),W||re(),p.schedule(e,t,r),e},e.cancelSync[t]=function(e){return p.cancel(e)},e.steps[t]=p,e}),{steps:{},sync:{},cancelSync:{}}),J=Z.steps,K=Z.sync,Q=Z.cancelSync,ee=function(e){return J[e].process(G)},te=function(e){W=!1,G.delta=B?V:Math.max(Math.min(e-G.timestamp,40),1),B||(V=G.delta),G.timestamp=e,q=!0,X.forEach(ee),q=!1,W&&(B=!1,Y(te))},re=function(){W=!0,B=!0,q||Y(te)},ne=function(){return G},oe=K,ie=function(e){return function(t){return 1-e(1-t)}},ae=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},se=ie,ce=function(e){return function(t){return t*t*((e+1)*t-e)}},le=function(e){var t=ce(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}},ue=function(e){return e},pe=function(e){return function(t){return Math.pow(t,e)}}(2),fe=ie(pe),de=ae(pe),he=function(e){return 1-Math.sin(Math.acos(e))},me=ie(he),ye=ae(me),_e=ce(1.525),be=ie(_e),ge=ae(_e),ve=le(1.525),Oe="undefined"!=typeof Float32Array,we=function(e,t){return 1-3*t+3*e},je=function(e,t){return 3*t-6*e},Se=function(e){return 3*e},ke=function(e,t,r){return 3*we(t,r)*e*e+2*je(t,r)*e+Se(t)},Pe=function(e,t,r){return((we(t,r)*e+je(t,r))*e+Se(t))*e};function Ee(e,t,r,n){var o=Oe?new Float32Array(11):new Array(11),i=function(t){for(var n,i,a,s=0,c=1;10!==c&&o[c]<=t;++c)s+=.1;return--c,n=(t-o[c])/(o[c+1]-o[c]),(a=ke(i=s+.1*n,e,r))>=.001?function(t,n){for(var o=0,i=0;o<8;++o){if(0===(i=ke(n,e,r)))return n;n-=(Pe(n,e,r)-t)/i}return n}(t,i):0===a?i:function(t,n,o){var i,a,s=0;do{(i=Pe(a=n+(o-n)/2,e,r)-t)>0?o=a:n=a}while(Math.abs(i)>1e-7&&++s<10);return a}(t,s,s+.1)};!function(){for(var t=0;t<11;++t)o[t]=Pe(.1*t,e,r)}();return function(o){return e===t&&r===n?o:0===o?0:1===o?1:Pe(i(o),t,n)}}var xe={x:0,y:0,z:0},Ce=function(e){return"number"==typeof e},De=function(e){return 180*e/Math.PI},Te=function(e,t){return void 0===t&&(t=xe),De(Math.atan2(t.y-e.y,t.x-e.x))},Me=function(e,t){var r=!0;return void 0===t&&(t=e,r=!1),function(n){return r?n-e+t:(e=n,r=!0,t)}},Ae=function(e){return function(t,r,n){return void 0!==n?e(t,r,n):function(n){return e(t,r,n)}}},Re=Ae((function(e,t,r){return Math.min(Math.max(r,e),t)})),Ne=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},Ie=function(e){return Ne(e)&&e.hasOwnProperty("z")},ze=function(e,t){return Math.abs(e-t)},Le=function(e,t){if(void 0===t&&(t=xe),Ce(e)&&Ce(t))return ze(e,t);if(Ne(e)&&Ne(t)){var r=ze(e.x,t.x),n=ze(e.y,t.y),o=Ie(e)&&Ie(t)?ze(e.z,t.z):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2)+Math.pow(o,2))}return 0},Ue=function(e,t,r){var n=t-e;return 0===n?1:(r-e)/n},Fe=function(e,t,r){return-r*e+r*t+e},He=function(){return(He=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ye=function(e,t,r){var n=e*e,o=t*t;return Math.sqrt(Math.max(0,r*(o-n)+n))},Ve=[I,R,N],Be=function(e){return Ve.find((function(t){return t.test(e)}))},We=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},qe=function(e,t){var r=Be(e),n=Be(t);We(e),We(t),r.transform,n.transform;var o=r.parse(e),i=n.parse(t),a=He({},o),s=r===N?Fe:Ye;return function(e){for(var t in a)"alpha"!==t&&(a[t]=s(o[t],i[t],e));return a.alpha=Fe(o.alpha,i.alpha,e),r.transform(a)}},Ge=function(e,t){return function(r){return t(e(r))}},Xe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(Ge)};function $e(e,t){return Ce(e)?function(r){return Fe(e,t,r)}:z.test(e)?qe(e,t):Qe(e,t)}var Ze=function(e,t){var r=e.slice(),n=r.length,o=e.map((function(e,r){return $e(e,t[r])}));return function(e){for(var t=0;t<n;t++)r[t]=o[t](e);return r}},Je=function(e,t){var r=He({},e,t),n={};for(var o in r)void 0!==e[o]&&void 0!==t[o]&&(n[o]=$e(e[o],t[o]));return function(e){for(var t in n)r[t]=n[t](e);return r}};function Ke(e){for(var t=U.parse(e),r=t.length,n=0,o=0,i=0,a=0;a<r;a++)n||"number"==typeof t[a]?n++:void 0!==t[a].hue?i++:o++;return{parsed:t,numNumbers:n,numRGB:o,numHSL:i}}var Qe=function(e,t){var r=U.createTransformer(t),n=Ke(e),o=Ke(t);return n.numHSL===o.numHSL&&n.numRGB===o.numRGB&&(n.numNumbers,o.numNumbers),Xe(Ze(n.parsed,o.parsed),r)},et=function(e,t){return function(r){return Fe(e,t,r)}};function tt(e,t,r){for(var n,o=[],i=r||("number"==typeof(n=e[0])?et:"string"==typeof n?z.test(n)?qe:Qe:Array.isArray(n)?Ze:"object"==typeof n?Je:void 0),a=e.length-1,s=0;s<a;s++){var c=i(e[s],e[s+1]);if(t){var l=Array.isArray(t)?t[s]:t;c=Xe(l,c)}o.push(c)}return o}var rt,nt=function(e,t,r,n){return void 0===n&&(n=0),o=e+r*(t-e)/Math.max(n,r),void 0===i&&(i=2),i=Math.pow(10,i),Math.round(o*i)/i;var o,i},ot=function(e){return e},it=function(e){return void 0===e&&(e=ot),Ae((function(t,r,n){var o=r-n,i=-(0-t+1)*(0-e(Math.abs(o)));return o<=0?r+i:r-i}))},at=it(),st=it(Math.sqrt),ct=function(e,t){return Ce(e)?e/(1e3/t):0},lt=function(e,t){return t?e*(1e3/t):0},ut=Ae((function(e,t,r){var n=t-e;return((r-e)%n+n)%n+e})),pt=(Re(0,1),function(e){var t=e.onRead,r=e.onRender,n=e.uncachedValues,o=void 0===n?new Set:n,i=e.useCache,a=void 0===i||i;return function(e){void 0===e&&(e={});var n=u(e,[]),i={},s=[],c=!1;function l(e,t){e.startsWith("--")&&(n.hasCSSVariable=!0);var r=i[e];i[e]=t,i[e]!==r&&(-1===s.indexOf(e)&&s.push(e),c||(c=!0,oe.render(p.render)))}var p={get:function(e,r){return void 0===r&&(r=!1),!r&&a&&!o.has(e)&&void 0!==i[e]?i[e]:t(e,n)},set:function(e,t){if("string"==typeof e)l(e,t);else for(var r in e)l(r,e[r]);return this},render:function(e){return void 0===e&&(e=!1),(c||!0===e)&&(r(i,n,s),c=!1,s.length=0),this}};return p}}),ft=/([a-z])([A-Z])/g,dt=function(e){return e.replace(ft,"$1-$2").toLowerCase()},ht=new Map,mt=new Map,yt=["Webkit","Moz","O","ms",""],_t=yt.length,bt="undefined"!=typeof document,gt=function(e,t){return mt.set(e,dt(t))},vt=function(e,t){void 0===t&&(t=!1);var r=t?mt:ht;return r.has(e)||(bt?function(e){rt=rt||document.createElement("div");for(var t=0;t<_t;t++){var r=yt[t],n=""===r,o=n?e:r+e.charAt(0).toUpperCase()+e.slice(1);if(o in rt.style||n){if(n&&"clipPath"===e&&mt.has(e))return;ht.set(e,o),gt(e,(n?"":"-")+dt(o))}}}(e):function(e){gt(e,e)}(e)),r.get(e)||e},Ot=["","X","Y","Z"],wt=["translate","scale","rotate","skew","transformPerspective"].reduce((function(e,t){return Ot.reduce((function(e,r){return e.push(t+r),e}),e)}),["x","y","z"]),jt=wt.reduce((function(e,t){return e[t]=!0,e}),{});function St(e){return!0===jt[e]}function kt(e,t){return wt.indexOf(e)-wt.indexOf(t)}var Pt=new Set(["originX","originY","originZ"]);function Et(e){return Pt.has(e)}var xt=l(l({},b),{transform:Math.round}),Ct={color:z,backgroundColor:z,outlineColor:z,fill:z,stroke:z,borderColor:z,borderTopColor:z,borderRightColor:z,borderBottomColor:z,borderLeftColor:z,borderWidth:S,borderTopWidth:S,borderRightWidth:S,borderBottomWidth:S,borderLeftWidth:S,borderRadius:S,radius:S,borderTopLeftRadius:S,borderTopRightRadius:S,borderBottomRightRadius:S,borderBottomLeftRadius:S,width:S,maxWidth:S,height:S,maxHeight:S,size:S,top:S,right:S,bottom:S,left:S,padding:S,paddingTop:S,paddingRight:S,paddingBottom:S,paddingLeft:S,margin:S,marginTop:S,marginRight:S,marginBottom:S,marginLeft:S,rotate:w,rotateX:w,rotateY:w,rotateZ:w,scale:v,scaleX:v,scaleY:v,scaleZ:v,skew:w,skewX:w,skewY:w,distance:S,translateX:S,translateY:S,translateZ:S,x:S,y:S,z:S,perspective:S,opacity:g,originX:E,originY:E,originZ:S,zIndex:xt,fillOpacity:g,strokeOpacity:g,numOctaves:xt},Dt=function(e){return Ct[e]},Tt=function(e,t){return t&&"number"==typeof e?t.transform(e):e},Mt=new Set(["scrollLeft","scrollTop"]),At=new Set(["scrollLeft","scrollTop","transform"]),Rt={x:"translateX",y:"translateY",z:"translateZ"};function Nt(e){return"function"==typeof e}function It(e,t,r,n,o,i,a,s){void 0===t&&(t=!0),void 0===r&&(r={}),void 0===n&&(n={}),void 0===o&&(o={}),void 0===i&&(i=[]),void 0===a&&(a=!1),void 0===s&&(s=!0);var c=!0,l=!1,u=!1;for(var p in e){var f=e[p],d=Dt(p),h=Tt(f,d);St(p)?(l=!0,n[p]=h,i.push(p),c&&(d.default&&f!==d.default||!d.default&&0!==f)&&(c=!1)):Et(p)?(o[p]=h,u=!0):At.has(p)&&Nt(h)||(r[vt(p,a)]=h)}return(l||"function"==typeof e.transform)&&(r.transform=function(e,t,r,n,o,i){void 0===i&&(i=!0);var a="",s=!1;r.sort(kt);for(var c=r.length,l=0;l<c;l++){var u=r[l];a+=(Rt[u]||u)+"("+t[u]+") ",s="z"===u||s}return!s&&o?a+="translateZ(0)":a=a.trim(),Nt(e.transform)?a=e.transform(t,n?"":a):i&&n&&(a="none"),a}(e,n,i,c,t,s)),u&&(r.transformOrigin=(o.originX||"50%")+" "+(o.originY||"50%")+" "+(o.originZ||0)),r}function zt(e){var t=void 0===e?{}:e,r=t.enableHardwareAcceleration,n=void 0===r||r,o=t.isDashCase,i=void 0===o||o,a=t.allowTransformNone,s=void 0===a||a,c={},l={},u={},p=[];return function(e){return p.length=0,It(e,n,c,l,u,p,i,s),c}}var Lt=pt({onRead:function(e,t){var r=t.element,n=t.preparseOutput,o=Dt(e);if(St(e))return o&&o.default||0;if(Mt.has(e))return r[e];var i=window.getComputedStyle(r,null).getPropertyValue(vt(e,!0))||0;return n&&o&&o.test(i)&&o.parse?o.parse(i):i},onRender:function(e,t,r){var n=t.element,o=t.buildStyles,i=t.hasCSSVariable;if(Object.assign(n.style,o(e)),i)for(var a=r.length,s=0;s<a;s++){var c=r[s];c.startsWith("--")&&n.style.setProperty(c,e[c])}-1!==r.indexOf("scrollLeft")&&(n.scrollLeft=e.scrollLeft),-1!==r.indexOf("scrollTop")&&(n.scrollTop=e.scrollTop)},uncachedValues:Mt});var Ut=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]),Ft=function(e,t){return S.transform(e*t)},Ht={x:0,y:0,width:0,height:0};function Yt(e,t,r){return"string"==typeof e?e:S.transform(t+r*e)}var Vt={enableHardwareAcceleration:!1,isDashCase:!1};function Bt(e,t,r,n,o,i){void 0===t&&(t=Ht),void 0===n&&(n=zt(Vt)),void 0===o&&(o={style:{}}),void 0===i&&(i=!0);var a=e.attrX,s=e.attrY,c=e.originX,l=e.originY,p=e.pathLength,f=e.pathSpacing,d=void 0===f?1:f,h=e.pathOffset,m=void 0===h?0:h,y=n(u(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]));for(var _ in y){if("transform"===_)o.style.transform=y[_];else o[i&&!Ut.has(_)?dt(_):_]=y[_]}return(void 0!==c||void 0!==l||y.transform)&&(o.style.transformOrigin=function(e,t,r){return Yt(t,e.x,e.width)+" "+Yt(r,e.y,e.height)}(t,void 0!==c?c:.5,void 0!==l?l:.5)),void 0!==a&&(o.x=a),void 0!==s&&(o.y=s),void 0!==r&&void 0!==p&&(o[i?"stroke-dashoffset":"strokeDashoffset"]=Ft(-m,r),o[i?"stroke-dasharray":"strokeDasharray"]=Ft(p,r)+" "+Ft(d,r)),o}function Wt(e,t,r){void 0===r&&(r=!0);var n={style:{}},o=zt(Vt);return function(i){return Bt(i,e,t,o,n,r)}}var qt=pt({onRead:function(e,t){var r=t.element;if(St(e=Ut.has(e)?e:dt(e))){var n=Dt(e);return n&&n.default||0}return r.getAttribute(e)},onRender:function(e,t){var r=t.element,n=(0,t.buildAttrs)(e);for(var o in n)"style"===o?Object.assign(r.style,n.style):r.setAttribute(o,n[o])}}),Gt=pt({useCache:!1,onRead:function(e){return"scrollTop"===e?window.pageYOffset:window.pageXOffset},onRender:function(e){var t=e.scrollTop,r=void 0===t?0:t,n=e.scrollLeft,o=void 0===n?0:n;return window.scrollTo(o,r)}}),Xt=new WeakMap,$t=function(e,t){var r,n,o,i;return e===window?r=Gt(e):!function(e){return e instanceof HTMLElement||"function"==typeof e.click}(e)?function(e){return e instanceof SVGElement||"ownerSVGElement"in e}(e)&&(o=function(e){try{return function(e){return"function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}(e)}catch(e){return{x:0,y:0,width:0,height:0}}}(n=e),i=function(e){return"path"===e.tagName}(n)&&n.getTotalLength?n.getTotalLength():void 0,r=qt({element:n,buildAttrs:Wt(o,i)})):r=function(e,t){void 0===t&&(t={});var r=t.enableHardwareAcceleration,n=t.allowTransformNone,o=u(t,["enableHardwareAcceleration","allowTransformNone"]);return Lt(l({element:e,buildStyles:zt({enableHardwareAcceleration:r,allowTransformNone:n}),preparseOutput:!0},o))}(e,t),Xt.set(e,r),r};var Zt=function(e,t){return function(e,t){return Xt.has(e)?Xt.get(e):$t(e,t)}("string"==typeof e?document.querySelector(e):e,t)},Jt=function(){function e(e){void 0===e&&(e={}),this.props=e}return e.prototype.applyMiddleware=function(e){return this.create(l(l({},this.props),{middleware:this.props.middleware?p([e],this.props.middleware):[e]}))},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=1===e.length?e[0]:Xe.apply(void 0,e);return this.applyMiddleware((function(e){return function(t){return e(r(t))}}))},e.prototype.while=function(e){return this.applyMiddleware((function(t,r){return function(n){return e(n)?t(n):r()}}))},e.prototype.filter=function(e){return this.applyMiddleware((function(t){return function(r){return e(r)&&t(r)}}))},e}(),Kt=function(){return function(e,t){var r=this,n=e.middleware,o=e.onComplete;this.isActive=!0,this.update=function(e){r.observer.update&&r.updateObserver(e)},this.complete=function(){r.observer.complete&&r.isActive&&r.observer.complete(),r.onComplete&&r.onComplete(),r.isActive=!1},this.error=function(e){r.observer.error&&r.isActive&&r.observer.error(e),r.isActive=!1},this.observer=t,this.updateObserver=function(e){return t.update(e)},this.onComplete=o,t.update&&n&&n.length&&n.forEach((function(e){return r.updateObserver=e(r.updateObserver,r.complete)}))}}(),Qt=function(e,t,r){var n=t.middleware;return new Kt({middleware:n,onComplete:r},"function"==typeof e?{update:e}:e)},er=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.start=function(e){void 0===e&&(e={});var t=!1,r={stop:function(){}},n=this.props,o=n.init,i=u(n,["init"]),a=o(Qt(e,i,(function(){t=!0,r.stop()})));return r=a?l(l({},r),a):r,e.registerParent&&e.registerParent(r),t&&r.stop(),r},t}(Jt),tr=function(e){return new er({init:e})},rr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscribers=[],t}return c(t,e),t.prototype.complete=function(){this.subscribers.forEach((function(e){return e.complete()}))},t.prototype.error=function(e){this.subscribers.forEach((function(t){return t.error(e)}))},t.prototype.update=function(e){for(var t=0;t<this.subscribers.length;t++)this.subscribers[t].update(e)},t.prototype.subscribe=function(e){var t=this,r=Qt(e,this.props);return this.subscribers.push(r),{unsubscribe:function(){var e=t.subscribers.indexOf(r);-1!==e&&t.subscribers.splice(e,1)}}},t.prototype.stop=function(){this.parent&&this.parent.stop()},t.prototype.registerParent=function(e){this.stop(),this.parent=e},t}(Jt),nr=function(e,t){var r=1/(e-1),n=1/(2*(e-1)),o=Math.min(t,1)/n;return Math.floor((o+1)/2)*r},or=function(e){function t(t){var r,n,o=e.call(this,t)||this;return o.scheduleVelocityCheck=function(){return oe.postRender(o.velocityCheck)},o.velocityCheck=function(e){e.timestamp!==o.lastUpdated&&(o.prev=o.current)},o.prev=o.current=t.value||0,r=o.current,"string"===(n=typeof r)||"number"===n?(o.updateCurrent=function(e){return o.current=e},o.getVelocityOfCurrent=function(){return o.getSingleVelocity(o.current,o.prev)}):!function(e){return Array.isArray(e)}(o.current)?(o.updateCurrent=function(e){for(var t in o.current={},e)e.hasOwnProperty(t)&&(o.current[t]=e[t])},o.getVelocityOfCurrent=function(){return o.getMapVelocity()}):(o.updateCurrent=function(e){return o.current=p(e)},o.getVelocityOfCurrent=function(){return o.getListVelocity()}),t.initialSubscription&&o.subscribe(t.initialSubscription),o}return c(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.get=function(){return this.current},t.prototype.getVelocity=function(){return this.getVelocityOfCurrent()},t.prototype.update=function(t){e.prototype.update.call(this,t),this.prev=this.current,this.updateCurrent(t);var r=ne(),n=r.delta,o=r.timestamp;this.timeDelta=n,this.lastUpdated=o,oe.postRender(this.scheduleVelocityCheck)},t.prototype.subscribe=function(t){var r=e.prototype.subscribe.call(this,t);return this.subscribers[this.subscribers.length-1].update(this.current),r},t.prototype.getSingleVelocity=function(e,t){return"number"==typeof e&&"number"==typeof t?lt(e-t,this.timeDelta):lt(parseFloat(e)-parseFloat(t),this.timeDelta)||0},t.prototype.getListVelocity=function(){var e=this;return this.current.map((function(t,r){return e.getSingleVelocity(t,e.prev[r])}))},t.prototype.getMapVelocity=function(){var e={};for(var t in this.current)this.current.hasOwnProperty(t)&&(e[t]=this.getSingleVelocity(this.current[t],this.prev[t]));return e},t}(rr),ir=function(e,t){return new or({value:e,initialSubscription:t})},ar=function(e){var t=e.getCount,r=e.getFirst,n=e.getOutput,o=e.mapApi,i=e.setProp,a=e.startActions;return function(e){return tr((function(s){var c=s.update,l=s.complete,u=s.error,p=t(e),f=n(),d=function(){return c(f)},h=0,m=a(e,(function(e,t){var r=!1;return e.start({complete:function(){r||(r=!0,++h===p&&oe.update(l))},error:u,update:function(e){i(f,t,e),oe.update(d,!1,!0)}})}));return Object.keys(r(m)).reduce((function(e,t){return e[t]=o(m,t),e}),{})}))}},sr=ar({getOutput:function(){return{}},getCount:function(e){return Object.keys(e).length},getFirst:function(e){return e[Object.keys(e)[0]]},mapApi:function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Object.keys(e).reduce((function(n,o){var i;return e[o][t]&&(r[0]&&void 0!==r[0][o]?n[o]=e[o][t](r[0][o]):n[o]=(i=e[o])[t].apply(i,r)),n}),{})}},setProp:function(e,t,r){return e[t]=r},startActions:function(e,t){return Object.keys(e).reduce((function(r,n){return r[n]=t(e[n],n),r}),{})}}),cr=ar({getOutput:function(){return[]},getCount:function(e){return e.length},getFirst:function(e){return e[0]},mapApi:function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.map((function(e,n){if(e[t])return Array.isArray(r[0])?e[t](r[0][n]):e[t].apply(e,r)}))}},setProp:function(e,t,r){return e[t]=r},startActions:function(e,t){return e.map((function(e,r){return t(e,r)}))}}),lr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return cr(e)},ur=[S,j,w,k,P],pr=function(e){return ur.find((function(t){return t.test(e)}))},fr=function(e,t){return e(t)},dr=function(e,t,r){var n=r[0],o=t[n].map((function(n,o){var i=r.reduce(function(e){return function(t,r){return t[r]=t[r][e],t}}(o),l({},t));return vr(n)(e,i)}));return lr.apply(void 0,o)},hr=function(e,t,r){var n=r[0],o=Object.keys(t[n]).reduce((function(o,i){var a=r.reduce(function(e){return function(t,r){return t[r]=t[r][e],t}}(i),l({},t));return o[i]=vr(t[n][i])(e,a),o}),{});return sr(o)},mr=function(e,t){var r=t.from,n=t.to,o=u(t,["from","to"]),i=pr(r)||pr(n),a=i.transform,s=i.parse;return e(l(l({},o),{from:"string"==typeof r?s(r):r,to:"string"==typeof n?s(n):n})).pipe(a)},yr=function(e){return function(t,r){var n=r.from,o=r.to,i=u(r,["from","to"]);return t(l(l({},i),{from:0,to:1})).pipe(e(n,o))}},_r=yr(qe),br=yr(Qe),gr=function(e,t){var r=function(e){var t=Object.keys(e),r=function(t,r){return void 0!==t&&!e[r](t)};return{getVectorKeys:function(e){return t.reduce((function(t,n){return r(e[n],n)&&t.push(n),t}),[])},testVectorProps:function(e){return e&&t.some((function(t){return r(e[t],t)}))}}}(t),n=r.testVectorProps,o=r.getVectorKeys;return function(t){if(!n(t))return e(t);var r=o(t),i=t[r[0]];return vr(i)(e,t,r)}},vr=function(e){return"number"==typeof e?fr:Array.isArray(e)?dr:function(e){return Boolean(pr(e))}(e)?mr:z.test(e)?_r:U.test(e)?br:"object"==typeof e?hr:fr},Or=function(e){return void 0===e&&(e={}),tr((function(t){var r=t.complete,n=t.update,o=e.velocity,i=void 0===o?0:o,a=e.from,s=void 0===a?0:a,c=e.power,l=void 0===c?.8:c,u=e.timeConstant,p=void 0===u?350:u,f=e.restDelta,d=void 0===f?.5:f,h=e.modifyTarget,m=0,y=l*i,_=s+y,b=void 0===h?_:h(_);b!==_&&(y=b-s);var g=oe.update((function(e){var t=e.delta;m+=t;var o=-y*Math.exp(-m/p),i=o>d||o<-d;n(i?b+o:b),i||(Q.update(g),r())}),!0);return{stop:function(){return Q.update(g)}}}))},wr=gr(Or,{from:b.test,modifyTarget:function(e){return"function"==typeof e},velocity:b.test}),jr=function(e){return void 0===e&&(e={}),tr((function(t){var r=t.update,n=t.complete,o=e.velocity,i=void 0===o?0:o,a=e.from,s=void 0===a?0:a,c=e.to,l=void 0===c?0:c,u=e.stiffness,p=void 0===u?100:u,f=e.damping,d=void 0===f?10:f,h=e.mass,m=void 0===h?1:h,y=e.restSpeed,_=void 0===y?.01:y,b=e.restDelta,g=void 0===b?.01:b,v=i?-i/1e3:0,O=0,w=l-s,j=s,S=j,k=oe.update((function(e){var t=e.delta;O+=t;var o=d/(2*Math.sqrt(p*m)),a=Math.sqrt(p/m)/1e3;if(S=j,o<1){var s=Math.exp(-o*a*O),c=a*Math.sqrt(1-o*o);j=l-s*((v+o*a*w)/c*Math.sin(c*O)+w*Math.cos(c*O))}else{s=Math.exp(-a*O);j=l-s*(w+(v+a*w)*O)}i=lt(j-S,t);var u=Math.abs(i)<=_,f=Math.abs(l-j)<=g;u&&f?(r(j=l),Q.update(k),n()):r(j)}),!0);return{stop:function(){return Q.update(k)}}}))},Sr=gr(jr,{from:b.test,to:b.test,stiffness:b.test,damping:b.test,mass:b.test,velocity:b.test}),kr=gr((function(e){var t=e.from,r=void 0===t?0:t,n=e.to,o=void 0===n?1:n,i=e.ease,a=void 0===i?ue:i,s=e.reverseEase;return void 0!==s&&s&&(a=se(a)),tr((function(e){var t=e.update;return{seek:function(e){return t(e)}}})).pipe(a,(function(e){return Fe(r,o,e)}))}),{ease:function(e){return"function"==typeof e},from:b.test,to:b.test}),Pr=Re(0,1),Er=function(e){return void 0===e&&(e={}),tr((function(t){var r,n=t.update,o=t.complete,i=e.duration,a=void 0===i?300:i,s=e.ease,c=void 0===s?fe:s,l=e.flip,u=void 0===l?0:l,p=e.loop,f=void 0===p?0:p,d=e.yoyo,h=void 0===d?0:d,m=e.repeatDelay,y=void 0===m?0:m,_=e.from,b=void 0===_?0:_,g=e.to,v=void 0===g?1:g,O=e.elapsed,w=void 0===O?0:O,j=e.flipCount,S=void 0===j?0:j,k=e.yoyoCount,P=void 0===k?0:k,E=e.loopCount,x=void 0===E?0:E,C=kr({from:b,to:v,ease:c}).start(n),D=0,T=!1,M=function(e){var t;void 0===e&&(e=!1),C=kr({from:b=(t=[v,b])[0],to:v=t[1],ease:c,reverseEase:e}).start(n)},A=function(){D=Pr(Ue(0,a,w)),C.seek(D)},R=function(){T=!0,r=oe.update((function(e){var t,n=e.delta;w+=n,A(),!(t=T&&w>a+y)||(!t||f||u||h)&&(w=a-(w-y),f&&x<f?(x++,1):u&&S<u?(S++,M(),1):h&&P<h&&(P++,M(P%2!=0),1))||(Q.update(r),o&&oe.update(o,!1,!0))}),!0)},N=function(){T=!1,r&&Q.update(r)};return R(),{isActive:function(){return T},getElapsed:function(){return Re(0,a,w)},getProgress:function(){return D},stop:function(){N()},pause:function(){return N(),this},resume:function(){return T||R(),this},seek:function(e){return w=Fe(0,a,e),oe.update(A,!1,!0),this},reverse:function(){return M(),this}}}))},xr=Re(0,1),Cr=function(e){var t=e.easings,r=e.ease,n=void 0===r?ue:r,o=e.times,i=e.values,a=u(e,["easings","ease","times","values"]);t=Array.isArray(t)?t:function(e,t){return e.map((function(){return t||fe})).splice(0,e.length-1)}(i,t),o=o||function(e){var t=e.length;return e.map((function(e,r){return 0!==r?r/(t-1):0}))}(i);var s=t.map((function(e,t){return kr({from:i[t],to:i[t+1],ease:e})}));return Er(l(l({},a),{ease:n})).applyMiddleware((function(e){return function(e,t,r){var n=e.length,o=n-1,i=o-1,a=t.map((function(e){return e.start(r)}));return function(t){t<=e[0]&&a[0].seek(0),t>=e[o]&&a[i].seek(1);for(var r=1;r<n&&!(e[r]>t||r===o);r++);var s=Ue(e[r-1],e[r],t);a[r-1].seek(xr(s))}}(o,s,e)}))},Dr=gr((function(e){return void 0===e&&(e={}),tr((function(t){var r=t.complete,n=t.update,o=e.acceleration,i=void 0===o?0:o,a=e.friction,s=void 0===a?0:a,c=e.velocity,l=void 0===c?0:c,u=e.springStrength,p=e.to,f=e.restSpeed,d=void 0===f?.001:f,h=e.from,m=void 0===h?0:h,y=oe.update((function(e){var t=e.delta,o=Math.max(t,16);(i&&(l+=ct(i,o)),s&&(l*=Math.pow(1-s,o/100)),void 0!==u&&void 0!==p)&&(l+=(p-m)*ct(u,o));m+=ct(l,o),n(m),!1!==d&&(!l||Math.abs(l)<=d)&&(Q.update(y),r())}),!0);return{set:function(e){return m=e,this},setAcceleration:function(e){return i=e,this},setFriction:function(e){return s=e,this},setSpringStrength:function(e){return u=e,this},setSpringTarget:function(e){return p=e,this},setVelocity:function(e){return l=e,this},stop:function(){return Q.update(y)}}}))}),{acceleration:b.test,friction:b.test,velocity:b.test,from:b.test,to:b.test,springStrength:b.test}),Tr=function(e,t,r){return tr((function(n){var o=n.update,i=t.split(" ").map((function(t){return e.addEventListener(t,o,r),t}));return{stop:function(){return i.forEach((function(t){return e.removeEventListener(t,o,r)}))}}}))},Mr=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},Ar=function(e,t){return void 0===t&&(t={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),t.clientX=t.x=e.clientX,t.clientY=t.y=e.clientY,t.pageX=e.pageX,t.pageY=e.pageY,t},Rr=[Mr()],Nr=!1;if("undefined"!=typeof document){Tr(document,"touchstart touchmove",{passive:!0,capture:!0}).start((function(e){var t=e.touches;Nr=!0;var r=t.length;Rr.length=0;for(var n=0;n<r;n++){var o=t[n];Rr.push(Ar(o))}}))}var Ir=Mr(),zr=!1;if("undefined"!=typeof document){Tr(document,"mousedown mousemove",!0).start((function(e){zr=!0,Ar(e,Ir)}))}var Lr,Ur=function(e){return e[0]},Fr=function(e){return void 0===e&&(e={}),Nr?(t=e,r=void 0===t?{}:t,n=r.preventDefault,o=void 0===n||n,i=r.scale,a=void 0===i?1:i,s=r.rotate,c=void 0===s?0:s,tr((function(e){var t=e.update,r={touches:Rr,scale:a,rotate:c},n=0,i=0,s=Rr.length>1;if(s){var l=Rr[0],u=Rr[1];n=Le(l,u),i=Te(l,u)}var p=function(){if(s){var e=Rr[0],o=Rr[1],l=Le(e,o),u=Te(e,o);r.scale=a*(l/n),r.rotate=c+(u-i)}t(r)},f=Tr(document,"touchmove",{passive:!o}).start((function(e){(o||e.touches.length>1)&&e.preventDefault(),oe.update(p)}));return Nr&&oe.update(p),{stop:function(){Q.update(p),f.stop()}}}))).pipe((function(e){return e.touches}),Ur):function(e){var t=(void 0===e?{}:e).preventDefault,r=void 0===t||t;return tr((function(e){var t=e.update,n=function(){return t(Ir)},o=Tr(document,"mousemove").start((function(e){r&&e.preventDefault(),oe.update(n)}));return zr&&oe.update(n),{stop:function(){Q.update(n),o.stop()}}}))}(e);var t,r,n,o,i,a,s,c},Hr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tr((function(t){var r,n=t.update,o=t.complete,i=0,a=function(){r=e[i].start({complete:function(){++i>=e.length?o():a()},update:n})};return a(),{stop:function(){return r&&r.stop()}}}))},Yr=function(e){return tr((function(t){var r=t.complete,n=setTimeout(r,e);return{stop:function(){return clearTimeout(n)}}}))},Vr=Object.freeze({__proto__:null,applyOffset:Me,clamp:Re,conditional:function(e,t){return function(r){return e(r)?t(r):r}},interpolate:function(e,t,r){var n=void 0===r?{}:r,o=n.clamp,i=void 0===o||o,a=n.ease,s=n.mixer,c=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[c-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var l=tt(t,a,s),u=2===c?function(e,t){var r=e[0],n=e[1],o=t[0];return function(e){return o(Ue(r,n,e))}}(e,l):function(e,t){var r=e.length,n=r-1;return function(o){var i=0,a=!1;if(o<=e[0]?a=!0:o>=e[n]&&(i=n-1,a=!0),!a){for(var s=1;s<r&&!(e[s]>o||s===n);s++);i=s-1}var c=Ue(e[i],e[i+1],o);return t[i](c)}}(e,l);return i?Xe(Re(e[0],e[c-1]),u):u},blendArray:Ze,blendColor:qe,pipe:Xe,smooth:function(e){void 0===e&&(e=50);var t=0,r=0;return function(n){var o=ne().timestamp,i=o!==r?o-r:0,a=i?nt(t,n,i,e):t;return r=o,t=a,a}},snap:function(e){if("number"==typeof e)return function(t){return Math.round(t/e)*e};var t=0,r=e.length;return function(n){var o=Math.abs(e[0]-n);for(t=1;t<r;t++){var i=e[t],a=Math.abs(i-n);if(0===a)return i;if(a>o)return e[t-1];if(t===r-1)return i;o=a}}},generateStaticSpring:it,nonlinearSpring:st,linearSpring:at,wrap:ut,appendUnit:function(e){return function(t){return""+t+e}},steps:function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),function(n){var o=Ue(t,r,n);return Fe(t,r,nr(e,o))}},transformMap:function(e){return function(t){var r=l({},t);for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];r[n]=o(t[n])}return r}}}),Br=function(e){e.transition,e.flip,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.afterChildren,e.beforeChildren,e.preTransition,e.applyAtStart,e.applyAtEnd;return u(e,["transition","flip","delay","delayChildren","staggerChildren","staggerDirection","afterChildren","beforeChildren","preTransition","applyAtStart","applyAtEnd"])},Wr=function(e,t){return"function"==typeof e?e(t):e},qr=function(e,t,r,n){return e&&void 0!==e[t]?Wr(e[t],n):r},Gr=function(e,t,r,n,o,i){var a;if("function"==typeof e){var s=e(n);a=Gr(s,t,r,n,o,i)}else if(e[t]||e.default){var c=e[t]||e.default;a="function"==typeof c?c(n):c}else a=e;return!1===a?i(r,n):o(r,a,n)},Xr=function(e,t,r,n,o){return Object.keys(e).forEach((function(i){var a=Wr(e[i],r);t.has(i)?n(t.get(i),a):o(i,a,r)}))},$r=function(e){var t=e.state,r=e.poses,n=e.startAction,o=e.stopAction,i=e.getInstantTransition,a=e.addActionDelay,s=e.getTransitionProps,c=e.resolveTarget,u=e.transformPose,f=e.posePriority,d=e.convertTransitionDefinition,h=e.setValue,m=e.setValueNative,y=e.forceRender;return function(e,_,b){void 0===_&&(_={}),void 0===b&&(b=!0);var g=t.children,v=t.values,O=t.props,w=t.activeActions,j=t.activePoses,S=_.delay,k=void 0===S?0:S,P=g.size,E=l(l({},O),_),x=r[e],C=function(){return P&&b?function(e,t,r,n){var o=[],i=qr(r,"delayChildren",0,n),a=qr(r,"staggerChildren",0,n),s=qr(r,"staggerDirection",1,n),c=(e.size-1)*a,l=1===s?function(e){return e*a}:function(e){return c-e*a};return Array.from(e).forEach((function(e,r){o.push(e.set(t,{delay:i+l(r)}))})),o}(g,e,x,E):[]},D=function(){if(!x)return[];var r=x.applyAtStart;r&&(Xr(r,v,E,h,m),y&&y(E)),u&&(x=u(x,e,t));var p=x.preTransition,_=x.transition,b=x.applyAtEnd;p&&p(E);var g=Object.keys(Br(x)).map((function(t){var r=(j.has(t)||j.set(t,[]),j.get(t)),u=r.indexOf(e);-1!==u&&r.splice(u,1);var p=f?f.indexOf(e):0,h=p<=0?0:function(e,t,r){for(var n=0,o=r-1;o>=0;o--){var i=e.indexOf(t[o]);if(-1!==i){n=i+1;break}}return n}(r,f,p);return r.splice(h,0,e),0===h?new Promise((function(e){var r=v.get(t),u=l(l({},E),{key:t,value:r}),p=c(r,Wr(x[t],u));w.has(t)&&o(w.get(t));var f=l(l({to:p},u),s(r,p,u)),h=Gr(_,t,r,f,d,i),m=k||Wr(x.delay,u);m&&(h=a(m,h)),w.set(t,n(r,h,e))})):Promise.resolve()}));return b?[Promise.all(g).then((function(){Xr(b,v,E,h,m)}))]:g};if(x&&P){if(Wr(x.beforeChildren,E))return Promise.all(D()).then((function(){return Promise.all(C())}));if(Wr(x.afterChildren,E))return Promise.all(C()).then((function(){return Promise.all(D())}))}return Promise.all(p(D(),C()))}},Zr=function(e){return function(e){return e.includes("scale")}(e)?1:0},Jr=function(e){var t=Array.isArray(e)?e:[e];return t.push("init"),t},Kr=function(e,t,r,n,o,i){void 0===o&&(o=Zr);var a=Jr(r).filter(Boolean).find((function(r){var n=e[r];return n&&(void 0!==n[t]||n.applyAtStart&&void 0!==n.applyAtStart[t]||n.applyAtEnd&&void 0!==n.applyAtEnd[t])}));return i.set(t,[a||"init"]),a?function(e,t,r){var n=e.applyAtEnd&&void 0!==e.applyAtEnd[t]?e.applyAtEnd[t]:void 0!==e[t]?e[t]:e.applyAtStart&&void 0!==e.applyAtStart[t]?e.applyAtStart[t]:0;return Wr(n,r)}(e[a],t,n):o(t,n)},Qr=function(e,t){return function(r){var n=t.poses[r];Object.keys(Br(n)).forEach(function(e,t){var r=t.userSetValues,n=t.createValue,o=t.convertValue,i=t.readValueFromSource,a=t.initialPose,s=t.poses,c=t.activePoses,l=t.props;return function(t){if(!e.has(t)){var u;if(r&&void 0!==r[t])u=o(r[t],t,l);else{var p=Kr(s,t,a,l,i,c);u=n(p,t,l)}e.set(t,u)}}}(e,t))}},en=function(e){var t=e.poses,r=e.passive,n=new Map;return Object.keys(t).forEach(Qr(n,e)),function(e){var t=e.setValueNative,r=e.initialPose,n=e.props,o=e.poses,i=new Set,a=function(e,r){if(e[r])for(var o in e[r])i.has(o)||(i.add(o),t(o,Wr(e[r][o],n),n))};Jr(r).forEach((function(e){var t=o[e];t&&(a(t,"applyAtEnd"),a(t,"applyAtStart"))}))}(e),r&&Object.keys(r).forEach(function(e,t){var r=t.passive,n=t.ancestorValues,o=t.createValue,i=t.readValue,a=t.props;return function(t){var s=r[t],c=s[0],l=s[1],u=s[2],p=u&&n.length?function(e,t,r){if(!0===t)return r[0]&&r[0].values.get(e);var n=r.find((function(e){return e.label===t}));return n&&n.values.get(e)}(c,u,n):!!e.has(c)&&e.get(c);if(p){var f=o(i(p),t,a,{passiveParentKey:c,passiveParent:p,passiveProps:l});e.set(t,f)}}}(n,e)),n},tn=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r];e[r]=void 0!==n.transition?n:function(e,t,r){return l(l({},e),{transition:r.has(t)?r.get(t):r.get("default")})}(n,r,t)})),e},rn=function(e){var t=e.getDefaultProps,r=e.defaultTransitions,n=e.bindOnChange,o=e.startAction,i=e.stopAction,a=e.readValue,s=e.readValueFromSource,c=e.resolveTarget,f=e.setValue,d=e.setValueNative,h=e.createValue,m=e.convertValue,y=e.getInstantTransition,_=e.getTransitionProps,b=e.addActionDelay,g=e.selectValueToRead,v=e.convertTransitionDefinition,O=e.transformPose,w=e.posePriority,j=e.forceRender,S=e.extendAPI;return function(e){var k=e.parentValues,P=e.ancestorValues,E=void 0===P?[]:P;k&&E.unshift({values:k});var x=new Map,C=new Map,D=new Set,T=tn(function(e){e.label,e.props,e.values,e.parentValues,e.ancestorValues,e.onChange,e.passive,e.initialPose;return u(e,["label","props","values","parentValues","ancestorValues","onChange","passive","initialPose"])}(e),r),M=e.props,A=void 0===M?{}:M;t&&(A=l(l({},t(e)),A));var R=e.passive,N=e.values,I=e.initialPose,z=void 0===I?"init":I,L=en({poses:T,passive:R,ancestorValues:E,readValue:a,setValueNative:d,createValue:h,convertValue:m,readValueFromSource:s,userSetValues:N,initialPose:z,activePoses:C,props:A}),U={activeActions:x,activePoses:C,children:D,props:A,values:L},F=e.onChange;F&&Object.keys(F).forEach(n(L,F));var H=$r({state:U,poses:T,getInstantTransition:y,getTransitionProps:_,convertTransitionDefinition:v,setValue:f,setValueNative:d,startAction:o,stopAction:i,resolveTarget:c,addActionDelay:b,transformPose:O,posePriority:w,forceRender:j});return S({set:H,unset:function(e,t){var r=[];C.forEach((function(t){var n=t.indexOf(e);if(-1!==n){var o=t[0];t.splice(n,1);var i=t[0];i!==o&&-1===r.indexOf(i)&&r.push(i)}}));var n,o=r.sort((n=w,function(e,t){var r=n.indexOf(e),o=n.indexOf(t);return-1===r&&-1!==o?-1:-1!==r&&-1===o?1:r-o})).map((function(e){return H(e,t,!1)}));return D.forEach((function(t){return o.push(t.unset(e))})),Promise.all(o)},get:function(e){return e?g(L.get(e)):function(e,t){var r={};return e.forEach((function(e,n){return r[n]=t(e)})),r}(L,g)},has:function(e){return!!T[e]},setProps:function(e){return U.props=l(l({},U.props),e)},_addChild:function(t,r){var n=r(l(l({initialPose:z},t),{ancestorValues:p([{label:e.label,values:L}],E)}));return D.add(n),n},removeChild:function(e){return D.delete(e)},clearChildren:function(){D.forEach((function(e){return e.destroy()})),D.clear()},destroy:function(){x.forEach(i),D.forEach((function(e){return e.destroy()}))}},U,e)}},nn=function(){return(nn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function on(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Lr||(Lr={}));var an=function(e,t){return"function"==typeof e?e(t):e},sn=Vr.interpolate,cn=function(e){return function(t){var r;return function(e){void 0===e&&(e={});var t=e.x,r=e.y,n=u(e,["x","y"]);if(void 0!==t||void 0!==r){var o=Me(t||0),i=Me(r||0),a={x:0,y:0};return Fr(n).pipe((function(e){return a.x=o(e.x),a.y=i(e.y),a}))}return Fr(n)}((r={},r[e]="string"==typeof t?parseFloat(t):t,r)).pipe((function(t){return t[e]}))}},ln=cn("x"),un=cn("y"),pn=function(e,t,r,n){return function(o){var i=o.from,a=o.type,s=o.dimensions,c=o.dragBounds,l=e(s.measurementAsPixels(n,i,a)),u=[];if(c){var p=an(c,o);void 0!==p[t]&&u.push((function(e){return Math.max(e,s.measurementAsPixels(n,p[t],a))})),void 0!==p[r]&&u.push((function(e){return Math.min(e,s.measurementAsPixels(n,p[r],a))}))}return a===j&&u.push(sn([0,s.get(n)],[0,100],{clamp:!1}),(function(e){return e+"%"})),u.length?l.pipe.apply(l,u):l}},fn=function(e){return tr((function(t){var r=t.update,n=t.complete;r(e),n()}))},dn=function(e){var t=e.from,r=e.velocity,n=e.to;return Sr({from:t,to:n,velocity:r,stiffness:500,damping:25,restDelta:.5,restSpeed:10})},hn=function(e){var t=e.from,r=e.velocity,n=e.to;return Sr({from:t,to:n,velocity:r,stiffness:700,damping:0===n?100:35})},mn={x:dn,y:dn,z:dn,rotate:dn,rotateX:dn,rotateY:dn,rotateZ:dn,scaleX:hn,scaleY:hn,scale:hn,opacity:function(e){var t=e.from,r=e.to;return Er({from:t,to:r,ease:ue})},default:Er},yn=nn(nn({},mn),{x:pn(ln,"left","right",Lr.width),y:pn(un,"top","bottom",Lr.height)}),_n=function(e){var t=e.from;return fn(t)},bn=new Map([["default",mn],["drag",yn],["dragEnd",nn(nn({},mn),{x:_n,y:_n})]]),gn={tween:Er,spring:Sr,decay:wr,keyframes:Cr,physics:Dr},vn={linear:ue,easeIn:pe,easeOut:fe,easeInOut:de,circIn:he,circOut:me,circInOut:ye,backIn:_e,backOut:be,backInOut:ge,anticipate:ve},On=[b,w,j,S,P,k,{test:function(e){return"auto"===e},parse:function(e){return e}}],wn=function(e){return On.find(function(e){return function(t){return t.test(e)}}(e))},jn=function(e,t){return void 0===e&&(e=0),Hr(Yr(e),t)},Sn=function(e){var t=e.transformPose,r=e.addListenerToValue,n=e.extendAPI,o=e.readValueFromSource,i=e.posePriority,a=e.setValueNative;return rn({bindOnChange:function(e,t){return function(r){e.has(r)&&e.get(r).raw.subscribe(t[r])}},readValue:function(e){return e.raw.get()},setValue:function(e,t){return e.raw.update(t)},createValue:function(e,t,n,o){var i=n.elementStyler,a=void 0===o?{}:o,s=a.passiveParent,c=a.passiveProps,l=s?function(e,t,r){var n=ir(r(e));return t.raw.subscribe((function(e){return n.update(r(e))})),{raw:n}}(e,s,c):function(e){var t=wn(e);return{raw:ir(e),type:t}}(e);return l.raw.subscribe(r(t,i)),l},convertValue:function(e,t,n){var o=n.elementStyler;return e.subscribe(r(t,o)),{raw:e,type:wn(e.get())}},getTransitionProps:function(e,t){var r=e.raw,n=e.type;return{from:r.get(),velocity:r.getVelocity(),to:t,type:n}},resolveTarget:function(e,t){return t},selectValueToRead:function(e){return e.raw},startAction:function(e,t,r){var n=e.raw,o={update:function(e){return n.update(e)},complete:r};return t.start(o)},stopAction:function(e){return e.stop()},getInstantTransition:function(e,t){var r=t.to;return fn(r)},convertTransitionDefinition:function(e,t,r){if(function(e){return void 0!==e.start}(t))return t;var n=t.delay,o=t.min,i=t.max,a=t.round,s=function(e,t,r){var n,o=r.from,i=r.to,a=r.velocity,s=t.type,c=void 0===s?"tween":s,l=t.ease,u=on(t,["type","ease"]);if(gn[c],"tween"===c&&"function"!=typeof l)if("string"==typeof l)n=vn[l];else if(Array.isArray(l)&&"number"==typeof l[0]){l.length,n=Ee(l[0],l[1],l[2],l[3])}n=n||l;var p="keyframes"!==c?{from:o,to:i,velocity:a,ease:n}:{ease:n};return gn[c](nn(nn({},p),u))}(0,on(t,["delay","min","max","round"]),r),c=[];return n&&(s=jn(n,s)),void 0!==o&&c.push((function(e){return Math.max(e,o)})),void 0!==i&&c.push((function(e){return Math.min(e,i)})),a&&c.push(Math.round),c.length?s.pipe.apply(s,c):s},setValueNative:a,addActionDelay:jn,defaultTransitions:bn,transformPose:t,readValueFromSource:o,posePriority:i,extendAPI:n})},kn=function(e){var t=!1,r={width:0,height:0,top:0,left:0,bottom:0,right:0};return{get:function(e){return e?r[e]:r},measure:function(){return r=e.getBoundingClientRect(),t=!0,r},measurementAsPixels:function(e,t,n){return n===j?("string"==typeof t?parseFloat(t):t)/100*r[e]:t},has:function(){return t}}},Pn=function(e){var t=e.startEvents,r=e.endEvents,n=e.startPose,o=e.endPose,i=e.startCallback,a=e.endCallback,s=e.useDocumentToEnd,c=e.preventScroll;return function(e,l,u,p){var f=n+"Start",d=n+"End",h=n+"Move";if(c){var m=Tr(e,"touchmove",{passive:!1}).start((function(e){e.preventDefault()}));l.set(h,m)}var y=Tr(e,t).start((function(t){u.unset(o),u.set(n),i&&p[i]&&p[i](t);var c=Tr(s?document.documentElement:e,r+(s?" mouseenter":"")).start((function(e){s&&"mouseenter"===e.type&&1===e.buttons||(l.get(d).stop(),u.unset(n),u.set(o),a&&p[a]&&p[a](e))}));l.set(d,c)}));l.set(f,y)}},En={draggable:Pn({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"drag",endPose:"dragEnd",startCallback:"onDragStart",endCallback:"onDragEnd",useDocumentToEnd:!0,preventScroll:!0}),hoverable:Pn({startEvents:"mouseenter",endEvents:"mouseleave",startPose:"hover",endPose:"hoverEnd"}),focusable:Pn({startEvents:"focus",endEvents:"blur",startPose:"focus",endPose:"blur"}),pressable:Pn({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"press",endPose:"pressEnd",startCallback:"onPressStart",endCallback:"onPressEnd",useDocumentToEnd:!0})},xn=Object.keys(En),Cn=function(e){var t=e.top,r=e.right,n=e.bottom;return{x:(e.left+r)/2,y:(t+n)/2}},Dn=["width","height","top","left","bottom","right"],Tn=new Set(Dn),Mn=function(e){return Tn.has(e)},An=function(e,t,r){var n=e.values,o=e.props;if(n.has(t)){var i=n.get(t).raw;i.update(r),i.update(r)}else n.set(t,{raw:ir(r,(function(e){return o.elementStyler.set(t,e)}))})},Rn=function(e,t){var r=e.props,n=r.dimensions,o=r.element,i=r.elementStyler;if(!n.has())return{};var a=n.get(),s=function(e){var t=e.style.transform;e.style.transform="";var r=e.getBoundingClientRect();return e.style.transform=t,r}(o),c=a.left===s.left?0:a.right===s.right?"100%":"50%",l=a.top===s.top?0:a.bottom===s.bottom?"100%":"50%";i.set({originX:c,originY:l}),a.width!==s.width&&(An(e,"scaleX",a.width/s.width),t.scaleX=1),a.height!==s.height&&(An(e,"scaleY",a.height/s.height),t.scaleY=1);var u=Cn(a),p=Cn(s);return"50%"===c&&(An(e,"x",u.x-p.x),t.x=0),"50%"===l&&(An(e,"y",u.y-p.y),t.y=0),i.render(),t},Nn=function(e,t){return r=t,Object.keys(r).some(Mn)?function(e,t){var r=e.props,n=r.dimensions,o=r.elementStyler;n.measure();t.width,t.height,t.top,t.left,t.bottom,t.right,t.position;var i=on(t,["width","height","top","left","bottom","right","position"]),a=Dn.concat("position").reduce((function(r,n){return void 0!==t[n]&&(r[n]=an(t[n],e.props)),r}),{});return o.set(a).render(),Rn(e,i)}(e,t):Rn(e,t);var r},In=function(e,t){return parseFloat(e.split(", ")[t])},zn=function(e,t){return function(r,n,o){var i=o.transform;if(!i||"none"===i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);return a?In(a[1],t):In(i.match(/^matrix\((.+)\)$/)[1],e)}},Ln={width:function(e,t){return t.width},height:function(e,t){return t.height},top:function(e,t,r){var n=r.top;return parseFloat(n)},left:function(e,t,r){var n=r.left;return parseFloat(n)},bottom:function(e,t,r){var n=t.height,o=r.top;return parseFloat(o)+n},right:function(e,t,r){var n=t.width,o=r.left;return parseFloat(o)+n},x:zn(4,13),y:zn(5,14)},Un=function(e){return void 0!==Ln[e]},Fn=function(e){return function(t){return t.elementStyler.get(e)}},Hn=function(e,t){var r=t.onDragStart,n=t.onDragEnd,o=t.onPressStart,i=t.onPressEnd,a=t.draggable,s=t.hoverable,c=t.focusable,l=t.pressable,u=t.dragBounds,p=on(t,["onDragStart","onDragEnd","onPressStart","onPressEnd","draggable","hoverable","focusable","pressable","dragBounds"]),f=nn(nn({flip:{}},p),{props:nn(nn({},p.props),{onDragStart:r,onDragEnd:n,onPressStart:o,onPressEnd:i,dragBounds:u,draggable:a,hoverable:s,focusable:c,pressable:l,element:e,elementStyler:Zt(e,{preparseOutput:!1}),dimensions:kn(e)})});if(a){var d=function(e){var t={preTransition:function(e){return e.dimensions.measure()}},r={};return!0!==e&&"x"!==e||(t.x=r.x=Fn("x")),!0!==e&&"y"!==e||(t.y=r.y=Fn("y")),{drag:t,dragEnd:r}}(a),h=d.drag,m=d.dragEnd;f.drag=nn(nn({},h),f.drag),f.dragEnd=nn(nn({},m),f.dragEnd)}return f},Yn=Sn({posePriority:["drag","press","focus","hover"],transformPose:function(e,t,r){var n,o=e.flip,i=on(e,["flip"]);return function(e,t,r){return r.props.element instanceof HTMLElement&&(!0===e||"flip"===t)}(o,t,r)?Nn(r,i):(n=i,Object.keys(n).some(Un)?function(e,t){var r=e.values,n=e.props,o=n.element,i=n.elementStyler,a=Object.keys(t).filter(Un),s=[],c=getComputedStyle(o),l=!1;if(a.forEach((function(o){var i=r.get(o),a=wn(i.raw.get()),c=an(t[o],n);a!==wn(c)&&(s.push(o),l||(l=!0,t.applyAtEnd=t.applyAtEnd?nn({},t.applyAtEnd):{}),t.applyAtEnd[o]=t.applyAtEnd[o]||t[o],An(e,o,c))})),!s.length)return t;var u=o.getBoundingClientRect(),p={top:c.top,left:c.left,bottom:c.bottom,right:c.right,transform:c.transform};i.render();var f=o.getBoundingClientRect();return s.forEach((function(r){An(e,r,Ln[r](o,u,p)),t[r]=Ln[r](o,f,c)})),i.render(),t}(r,i):i)},forceRender:function(e){e.elementStyler.render()},addListenerToValue:function(e,t){return function(r){return t.set(e,r)}},readValueFromSource:function(e,t){var r=t.elementStyler,n=t.dragBounds,o=r.get(e);if(n&&("x"===e||"y"===e)){var i="x"===e?n.left||n.right:n.top||n.bottom;if(i)o=wn(i).transform(o)}return isNaN(o)?o:parseFloat(o)},setValueNative:function(e,t,r){return r.elementStyler.set(e,t)},extendAPI:function(e,t,r){var n=t.props,o=t.activeActions,i=n.dimensions.measure,a=nn(nn({},e),{addChild:function(t,r){return e._addChild(Hn(t,r),Yn)},measure:i,flip:function(t){return t&&(i(),t()),e.set("flip")}});return n.elementStyler.render(),function(e,t,r,n){var o=n.props;xn.forEach((function(n){o[n]&&En[n](e,t,r,o)}))}(n.element,o,a,r),a}}),Vn=function(e,t){return Yn(Hn(e,t))};var Bn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Wn=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){return Bn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),qn=Object(i.createContext)({}),Gn=qn.Consumer,Xn=qn.Provider,$n=function(e,t){return Array.isArray(e)?-1!==e.indexOf(t):e===t},Zn=function(){return!0},Jn=function(e){e.elementType,e.poseConfig,e.onValueChange,e.innerRef,e._pose,e.pose,e.initialPose,e.poseKey,e.onPoseComplete,e.getParentPoseConfig,e.registerChild,e.onUnmount,e.getInitialPoseFromParent,e.popFromFlow,e.values,e.parentValues,e.onDragStart,e.onDragEnd,e.onPressStart,e.onPressEnd;return u(e,["elementType","poseConfig","onValueChange","innerRef","_pose","pose","initialPose","poseKey","onPoseComplete","getParentPoseConfig","registerChild","onUnmount","getInitialPoseFromParent","popFromFlow","values","parentValues","onDragStart","onDragEnd","onPressStart","onPressEnd"])},Kn=function(e){function t(t){var r=e.call(this,t)||this;r.children=new Set,r.childrenHandlers={registerChild:function(e){r.children.add(e),r.poser&&r.flushChildren()},onUnmount:function(e){return r.poser.removeChild(e)},getParentPoseConfig:function(){return r.poseConfig},getInitialPoseFromParent:function(){return r.getInitialPose()}},r.setRef=function(e){null===e||e instanceof Element&&r.ref,r.ref=e;var t=r.props.innerRef;t&&("function"==typeof t?t(e):t.current=e)},r.shouldForwardProp="string"==typeof r.props.elementType?Wn:Zn;var n=r.props.poseConfig;return r.poseConfig="function"==typeof n?n(Jn(t)):n,r}return c(t,e),t.prototype.getInitialPose=function(){var e=this.props,t=e.getInitialPoseFromParent,r=e.pose,n=e._pose,o=e.initialPose;if(o)return o;var i=t&&t(),a=(Array.isArray(i)?i:[i]).concat(r,n).filter(Boolean);return a.length>0?a:void 0},t.prototype.getFirstPose=function(){var e=this.props,t=e.initialPose,r=e.pose,n=e._pose;if(t){var o=(Array.isArray(r)?r:[r]).concat(n).filter(Boolean);return 1===o.length?o[0]:o}},t.prototype.getSetProps=function(){var e,t=Jn(this.props);return this.props.popFromFlow&&this.ref&&this.ref instanceof HTMLElement?this.popStyle?t.style=this.popStyle:(t.style=l(l({},t.style),{position:"absolute",top:(e=this.ref).offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),this.popStyle=t.style):this.popStyle=null,t},t.prototype.componentDidMount=function(){var e=this;this.ref,Element;var t,r=this.props,n=r.onValueChange,o=r.registerChild,i=r.values,a=r.parentValues,s=r.onDragStart,c=r.onDragEnd,u=r.onPressStart,p=r.onPressEnd,f=l(l({},this.poseConfig),{initialPose:this.getInitialPose(),values:i||this.poseConfig.values,parentValues:a?(t=a,Object.keys(t).reduce((function(e,r){return e.set(r,{raw:t[r]}),e}),new Map)):void 0,props:this.getSetProps(),onDragStart:s,onDragEnd:c,onPressStart:u,onPressEnd:p,onChange:n});o?o({element:this.ref,poseConfig:f,onRegistered:function(t){return e.initPoser(t)}}):this.initPoser(Vn(this.ref,f))},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.pose,r=e._pose;return($n(t,"flip")||$n(r,"flip"))&&this.poser.measure(),null},t.prototype.componentDidUpdate=function(e){var t=this.props,r=t.pose,n=t._pose,o=t.poseKey;this.poser.setProps(this.getSetProps()),(o!==e.poseKey||function(e,t){if(e===t)return!1;var r=Array.isArray(e),n=Array.isArray(t);if(r!==n||!r&&!n)return!0;if(r&&n){var o=e.length;if(o!==t.length)return!0;for(var i=0;i<o;i++)if(e[i]!==t[i])return!0}return!1}(e.pose,r)||"flip"===r)&&this.setPose(r),n===e._pose&&"flip"!==n||this.setPose(n)},t.prototype.componentWillUnmount=function(){if(this.poser){var e=this.props.onUnmount;e&&e(this.poser),this.poser.destroy()}},t.prototype.initPoser=function(e){this.poser=e,this.flushChildren();var t=this.getFirstPose();t&&this.setPose(t)},t.prototype.setPose=function(e){var t=this,r=this.props.onPoseComplete,n=Array.isArray(e)?e:[e];Promise.all(n.map((function(e){return e&&t.poser.set(e)}))).then((function(){return r&&r(e)}))},t.prototype.flushChildren=function(){var e=this;this.children.forEach((function(t){var r=t.element,n=t.poseConfig;return(0,t.onRegistered)(e.poser.addChild(r,n))})),this.children.clear()},t.prototype.render=function(){var e,t=this.props.elementType;return a.a.createElement(Xn,{value:this.childrenHandlers},Object(i.createElement)(t,(e=this.shouldForwardProp,[this.getSetProps(),{ref:this.setRef}].reduce((function(t,r){for(var n in r)e(n)&&(t[n]=r[n]);return t}),{}))))},t}(i.PureComponent),Qn=new Map,eo=function(e){var t=function(t){return void 0===t&&(t={}),Object(i.forwardRef)((function(r,n){var o=r.withParent,i=void 0===o||o,s=u(r,["withParent"]);return s.innerRef,!i||s.parentValues?a.a.createElement(Kn,l({poseConfig:t,innerRef:n,elementType:e},s)):a.a.createElement(Gn,null,(function(r){return a.a.createElement(Kn,l({poseConfig:t,elementType:e,innerRef:n},s,r))}))}))};return Qn.set(e,t),t},to=function(e){return t=e,Qn.has(t)?Qn.get(t):eo(t);var t};["a","article","aside","audio","b","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dialog","div","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","label","legend","li","nav","object","ol","option","p","param","picture","pre","progress","q","section","select","span","strong","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","ul","video","circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce((function(e,t){return e[t]=eo(t),e}),to);var ro=function(e){return e&&e.key,("number"==typeof e.key?e.key.toString():e.key).replace(".$","")},no=function(e,t){return Object(i.createElement)(e.type,l(l({key:e.key,ref:e.ref},t),e.props))},oo=function(e,t){var r=function(e,t){var r=t.displayedChildren,n=t.finishedLeaving,o=t.hasInitialized,a=t.indexedChildren,s=t.scheduleChildRemoval,c=e.children,l=e.preEnterPose,p=e.enterPose,f=e.exitPose,d=e.animateOnMount,h=(e.enterAfterExit,e.flipMove),m=(e.onRest,u(e,["children","preEnterPose","enterPose","exitPose","animateOnMount","enterAfterExit","flipMove","onRest"])),y=io(c),_={displayedChildren:[]};var b=r.map(ro),g=y.map(ro),v=0!==Object.keys(m).length,O=new Set(g.filter((function(e){return n.hasOwnProperty(e)||-1===b.indexOf(e)})));O.forEach((function(e){return delete n[e]}));var w=[],j={};b.forEach((function(e){if(!O.has(e)){var t=n.hasOwnProperty(e);(t||-1===g.indexOf(e))&&(w.push(e),t||(n[e]=!1,j[e]=!0))}}));var S=new Set(b.filter((function(e,t){return!O.has(e)||-1===w.indexOf(e)})));return y.forEach((function(e){var t={};O.has(e.key)?((o||d)&&(t.initialPose=l),t._pose=p):S.has(e.key)&&h?t._pose=[p,"flip"]:t._pose=p;var r=Object(i.cloneElement)(e,t);a[e.key]=r,_.displayedChildren.push(v?no(r,m):r)})),w.forEach((function(e){var t=a[e],r=j[e]?Object(i.cloneElement)(t,{_pose:f,onPoseComplete:function(r){r===f&&s(e);var n=t.props.onPoseComplete;n&&n(r)},popFromFlow:h}):t,n=b.indexOf(e);a[t.key]=r,_.displayedChildren.splice(n,0,v?no(r,m):r)})),_}(e,t);return r.hasInitialized=!0,r},io=function(e){var t=[];return i.Children.forEach(e,(function(e){return e&&t.push(e)})),t},ao=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={displayedChildren:[],finishedLeaving:{},hasInitialized:!1,indexedChildren:{},scheduleChildRemoval:function(e){return t.removeChild(e)}},t}return c(t,e),t.prototype.removeChild=function(e){var t=this.state,r=t.displayedChildren,n=t.finishedLeaving,o=this.props,i=o.enterAfterExit,a=o.onRest;if(n.hasOwnProperty(e)&&(n[e]=!0,Object.keys(n).every((function(e){return n[e]})))){var s=r.filter((function(e){return!n.hasOwnProperty(e.key)})),c=i?l({finishedLeaving:{}},oo(l(l({},this.props),{enterAfterExit:!1}),l(l({},this.state),{displayedChildren:s}))):{finishedLeaving:{},displayedChildren:s};this.setState(c,a)}},t.prototype.shouldComponentUpdate=function(e,t){return this.state!==t},t.prototype.render=function(){return this.state.displayedChildren},t.defaultProps={flipMove:!1,enterAfterExit:!1,preEnterPose:"exit",enterPose:"enter",exitPose:"exit"},t.getDerivedStateFromProps=oo,t}(i.Component),so=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){return Object(i.createElement)(ao,l({},this.props))},t.defaultProps={flipMove:!0},t}(i.Component),co=to,lo=co.div({enter:{y:0,opacity:1,transition:{y:{type:"spring",stiffness:500,damping:15},default:{duration:300}}},exit:{y:35,opacity:0,transition:{duration:0}}}),uo=function(e){var t=e.children,r=e.className,n=e.is_visible,o=e.keyname;return n?i.createElement(so,null,i.createElement(lo,{className:r,key:o},t)):null};uo.propTypes={children:o.a.node,is_visible:o.a.bool,keyname:o.a.string};var po=co.div({enter:{y:0,opacity:1,transition:{duration:200}},exit:{y:-20,opacity:0,transition:{duration:100}}}),fo=co.div({enter:{y:0,opacity:1,transition:{duration:200}},exit:{y:20,opacity:0,transition:{duration:100}}}),ho=function(e){var t=e.children,r=e.className,n=e.keyname,o=e.is_visible;return"bottom"===e.type?i.createElement(so,{flipMove:!1},o&&i.createElement(fo,{className:r,key:n},t)):i.createElement(so,{flipMove:!1},o&&i.createElement(po,{className:r,key:n},t))};ho.propTypes={children:o.a.node,is_visible:o.a.bool,keyname:o.a.string,type:o.a.string}},"./App/Components/Elements/ContentLoader/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return y}));var n=r("react"),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var i=function(){return Math.random().toString(36).substring(2)},a=function(e){var t=e.rtl,r=e.speed,a=e.interval,s=e.style,c=e.width,l=e.height,u=e.baseUrl,p=e.gradientRatio,f=e.animate,d=e.ariaLabel,h=e.children,m=e.className,y=e.uniquekey,_=e.primaryColor,b=e.primaryOpacity,g=e.secondaryColor,v=e.secondaryOpacity,O=e.preserveAspectRatio,w=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),j=y?y+"-idClip":i(),S=y?y+"-idGradient":i(),k=t?{transform:"scaleX(-1)"}:{},P="0; "+a+"; 1",E=r+"s";return Object(n.createElement)("svg",o({role:"img",style:o(o({},s),k),className:m,"aria-label":d||null,viewBox:"0 0 "+c+" "+l,preserveAspectRatio:O},w),d?Object(n.createElement)("title",null,d):null,Object(n.createElement)("rect",{x:"0",y:"0",width:c,height:l,clipPath:"url("+u+"#"+j+")",style:{fill:"url("+u+"#"+S+")"}}),Object(n.createElement)("defs",null,Object(n.createElement)("clipPath",{id:j},h),Object(n.createElement)("linearGradient",{id:S},Object(n.createElement)("stop",{offset:"0%",stopColor:_,stopOpacity:b},f&&Object(n.createElement)("animate",{attributeName:"offset",values:-p+"; "+-p+"; 1",keyTimes:P,dur:E,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"50%",stopColor:g,stopOpacity:v},f&&Object(n.createElement)("animate",{attributeName:"offset",values:-p/2+"; "+-p/2+"; "+(1+p/2),keyTimes:P,dur:E,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"100%",stopColor:_,stopOpacity:b},f&&Object(n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+p),keyTimes:P,dur:E,repeatCount:"indefinite"})))))},s={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},c=function(e){return Object(n.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},l=function(e){var t=o(o({},s),e);return Object(n.createElement)(a,o({},t),e.children||Object(n.createElement)(c,o({},t)))},u=l,p=r("../node_modules/prop-types/index.js"),f=r.n(p),d=function(e){var t=e.speed;return n.createElement(u,{height:173,width:218,speed:t,primaryColor:"var(--general-section-1)",secondaryColor:"var(--general-hover)"},n.createElement("rect",{x:"43",y:"19",rx:"0",ry:"0",width:"56",height:"8"}),n.createElement("rect",{x:"147",y:"19",rx:"0",ry:"0",width:"56",height:"8"}),n.createElement("rect",{x:"12",y:"50",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"13",y:"68",rx:"0",ry:"0",width:"192",height:"8"}),n.createElement("rect",{x:"5",y:"89",rx:"0",ry:"0",width:"208",height:"1"}),n.createElement("rect",{x:"12",y:"104",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"12",y:"9",rx:"0",ry:"0",width:"24",height:"24"}),n.createElement("rect",{x:"116",y:"11",rx:"0",ry:"0",width:"24",height:"24"}),n.createElement("rect",{x:"12",y:"118",rx:"0",ry:"0",width:"88",height:"8"}),n.createElement("rect",{x:"116",y:"104",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"116",y:"118",rx:"0",ry:"0",width:"88",height:"8"}),n.createElement("rect",{x:"12",y:"139",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"12",y:"153",rx:"0",ry:"0",width:"88",height:"8"}),n.createElement("rect",{x:"116",y:"139",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"116",y:"153",rx:"0",ry:"0",width:"88",height:"8"}))};d.propTypes={speed:f.a.number};var h=function(e){var t=e.speed;return n.createElement(u,{height:64,width:992,speed:t,primaryColor:"var(--general-hover)",secondaryColor:"var(--general-active)"},n.createElement("rect",{x:"16",y:"16",rx:"4",ry:"4",width:"32",height:"32"}),n.createElement("rect",{x:"52",y:"16",rx:"4",ry:"4",width:"32",height:"32"}),n.createElement("rect",{x:"132",y:"28",rx:"4",ry:"4",width:"101",height:"8"}),n.createElement("rect",{x:"273",y:"28",rx:"4",ry:"4",width:"120",height:"8"}),n.createElement("rect",{x:"460",y:"28",rx:"4",ry:"4",width:"46",height:"8"}),n.createElement("rect",{x:"593",y:"28",rx:"4",ry:"4",width:"46",height:"8"}),n.createElement("rect",{x:"726",y:"28",rx:"4",ry:"4",width:"64",height:"8"}),n.createElement("rect",{x:"906",y:"28",rx:"4",ry:"4",width:"64",height:"8"}))};h.propTypes={speed:f.a.number};var m=r("@deriv/components"),y=function(e){var t=e.speed;return n.createElement(n.Fragment,null,n.createElement(m.MobileWrapper,null,n.createElement(u,{height:214,width:344,speed:t,primaryColor:"var(--general-section-1)",secondaryColor:"var(--general-hover)"},n.createElement("rect",{x:"148",y:"24",rx:"3",ry:"3",width:"40",height:"4"}),n.createElement("rect",{x:"8",y:"40",rx:"4",ry:"4",width:"328",height:"40"}),n.createElement("rect",{x:"8",y:"88",rx:"4",ry:"4",width:"328",height:"40"}),n.createElement("rect",{x:"8",y:"136",rx:"4",ry:"4",width:"160",height:"70"}),n.createElement("rect",{x:"176",y:"136",rx:"4",ry:"4",width:"160",height:"70"}))),n.createElement(m.DesktopWrapper,null,n.createElement(u,{height:548,width:240,speed:t,primaryColor:"var(--general-section-1)",secondaryColor:"var(--general-hover)"},n.createElement("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"240",height:"76"}),n.createElement("rect",{x:"0",y:"84",rx:"4",ry:"4",width:"240",height:"132"}),n.createElement("rect",{x:"0",y:"224",rx:"4",ry:"4",width:"240",height:"120"}),n.createElement("rect",{x:"0",y:"352",rx:"4",ry:"4",width:"240",height:"194"}))))};y.propTypes={speed:f.a.number}},"./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/multiplier-close-actions.jsx":function(e,t,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("@deriv/components"),l=r("@deriv/translations"),u=r("./App/Containers/remaining-time.jsx"),p=r("./Stores/Modules/Contract/Helpers/logic.js"),f=function(e){var t=e.className,r=e.onClickCancel,n=e.onClickSell,i=e.contract_info,a=e.is_sell_requested,f=i.contract_id,d=i.cancellation,h=(d=void 0===d?{}:d).date_expiry,m=i.profit,y=Object(p.p)(i);return s.createElement(s.Fragment,null,s.createElement(c.Button,{id:"dt_drawer_card_".concat(f,"_button"),className:o()(t,{"dc-btn--loading":a}),is_disabled:a||+m<0&&y,text:Object(l.localize)("Close"),onClick:function(e){n(f),e.stopPropagation(),e.preventDefault()},secondary:!0}),y&&s.createElement(c.Button,{id:"dt_drawer_card_".concat(f,"_cancel_button"),className:"dc-btn--cancel",is_disabled:+m>=0,onClick:function(e){r(f),e.stopPropagation(),e.preventDefault()},secondary:!0},Object(l.localize)("Cancel"),h&&s.createElement(u.a,{end_time:h,format:"mm:ss"})))};f.propTypes={contract_info:a.a.object,is_sell_requested:a.a.bool,onClickCancel:a.a.func,onClickSell:a.a.func},t.a=f},"./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card-body.jsx":function(e,t,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("@deriv/components"),l=r("@deriv/shared"),u=r("@deriv/translations"),p=r("./Stores/Modules/Contract/Helpers/limit-orders.js"),f=r("./Stores/Modules/Contract/Helpers/logic.js"),d=function(e){var t=e.contract_info,r=e.contract_update,n=e.currency,i=e.status,a=t.buy_price,d=t.bid_price,h=t.is_sold,m=t.profit,y=d-a,_=Object(p.b)(r),b=_.take_profit,g=_.stop_loss,v=Object(f.b)(t);return s.createElement(s.Fragment,null,s.createElement("div",{className:"positions-drawer-card__grid positions-drawer-card__grid-items"},s.createElement("div",{className:"positions-drawer-card__item positions-drawer-card__stake"},s.createElement("span",{className:"positions-drawer-card__item-label"},Object(u.localize)("Stake:")),s.createElement("span",{className:"positions-drawer-card__item-value"},s.createElement(c.Money,{amount:a-v,currency:n}))),s.createElement("div",{className:"positions-drawer-card__item positions-drawer-card__current-stake"},s.createElement("span",{className:"positions-drawer-card__item-label"},Object(u.localize)("Current stake:")),s.createElement("span",{className:o()("positions-drawer-card__item-value",{"positions-drawer-card__profit-loss--is-crypto":Object(l.isCryptocurrency)(n),"positions-drawer-card--loss":m<0,"positions-drawer-card--profit":m>0})},s.createElement(c.Money,{amount:d,currency:n}))),s.createElement("div",{className:"positions-drawer-card__item positions-drawer-card__deal-cancel-fee"},s.createElement("span",{className:"positions-drawer-card__item-label"},Object(u.localize)("Deal cancel. fee:")),s.createElement("span",{className:"positions-drawer-card__item-value"},v?s.createElement(c.Money,{amount:v,currency:n}):s.createElement("strong",null,"-"))),s.createElement("div",{className:"positions-drawer-card__item positions-drawer-card__take-profit"},s.createElement("span",{className:"positions-drawer-card__item-label"},Object(u.localize)("Take profit:")),s.createElement("span",{className:"positions-drawer-card__item-value"},b?s.createElement(c.Money,{amount:b,currency:n}):s.createElement("strong",null,"-"))),s.createElement("div",{className:"positions-drawer-card__item positions-drawer-card__buy-price"},s.createElement("span",{className:"positions-drawer-card__item-label"},Object(u.localize)("Buy price:")),s.createElement("span",{className:"positions-drawer-card__item-value"},s.createElement(c.Money,{amount:a,currency:n}))),s.createElement("div",{className:"positions-drawer-card__item positions-drawer-card__stop-loss"},s.createElement("span",{className:"positions-drawer-card__item-label"},Object(u.localize)("Stop loss:")),s.createElement("span",{className:"positions-drawer-card__item-value"},g?s.createElement(s.Fragment,null,s.createElement("strong",null,"-"),s.createElement(c.Money,{amount:g,currency:n})):s.createElement("strong",null,"-")))),s.createElement("div",{className:"positions-drawer-card__total-profit-loss"},s.createElement("span",{className:"positions-drawer-card__total-profit-loss-label"},Object(u.localize)("Total profit/loss:")),s.createElement("div",{className:o()(" positions-drawer-card__profit-loss positions-drawer-card__total-profit-loss-value",{"positions-drawer-card__profit-loss--is-crypto":Object(l.isCryptocurrency)(n),"positions-drawer-card__profit-loss--negative":y<0,"positions-drawer-card__profit-loss--positive":y>0})},s.createElement(c.Money,{amount:y,currency:n}),s.createElement("div",{className:o()("positions-drawer-card__indicative--movement",{"positions-drawer-card__indicative--movement-complete":h})},"profit"===i&&s.createElement(c.Icon,{icon:"IcProfit"}),"loss"===i&&s.createElement(c.Icon,{icon:"IcLoss"})))))},h=function(e){var t=e.contract_info,r=e.contract_update,n=e.currency,i=e.is_multiplier,a=e.status,p=Object(f.h)(t),h=t.is_sold,m=t.sell_price,y=t.profit;return i?s.createElement(d,{contract_info:t,contract_update:r,currency:n,status:a}):s.createElement(s.Fragment,null,s.createElement("div",{className:o()("positions-drawer-card__grid","positions-drawer-card__grid-profit-payout")},s.createElement("div",{className:o()("positions-drawer-card__profit-loss","positions-drawer-card__profit-loss-label")},h?Object(u.localize)("Profit/Loss:"):Object(u.localize)("Potential profit/loss:")),s.createElement("div",{className:o()("positions-drawer-card__indicative","positions-drawer-card__indicative-label")},h?Object(u.localize)("Payout:"):Object(u.localize)("Indicative price:")),s.createElement("div",{className:o()("positions-drawer-card__profit-loss",{"positions-drawer-card__profit-loss--is-crypto":Object(l.isCryptocurrency)(n),"positions-drawer-card__profit-loss--negative":y<0,"positions-drawer-card__profit-loss--positive":y>0})},s.createElement(c.Money,{amount:Math.abs(y),currency:n}),s.createElement("div",{className:o()("positions-drawer-card__indicative--movement",{"positions-drawer-card__indicative--movement-complete":h})},"profit"===a&&s.createElement(c.Icon,{icon:"IcProfit"}),"loss"===a&&s.createElement(c.Icon,{icon:"IcLoss"}))),s.createElement("div",{className:"positions-drawer-card__indicative"},s.createElement(c.Money,{amount:m||p,currency:n}),s.createElement("div",{className:o()("positions-drawer-card__indicative--movement",{"positions-drawer-card__indicative--movement-complete":h})},"profit"===a&&s.createElement(c.Icon,{icon:"IcProfit"}),"loss"===a&&s.createElement(c.Icon,{icon:"IcLoss"})))),s.createElement("div",{className:o()("positions-drawer-card__grid","positions-drawer-card__grid-price-payout")},s.createElement("div",{className:"positions-drawer-card__purchase-price"},s.createElement("span",{className:"positions-drawer-card__purchase-label"},Object(u.localize)("Purchase price:")),s.createElement("span",{className:"positions-drawer-card__purchase-value"},s.createElement(c.Money,{amount:t.buy_price,currency:n}))),s.createElement("div",{className:"positions-drawer-card__payout-price"},s.createElement("span",{className:"positions-drawer-card__payout-label"},Object(u.localize)("Potential payout:")),s.createElement("span",{className:"positions-drawer-card__payout-value"},t.payout?s.createElement(c.Money,{amount:t.payout,currency:n}):s.createElement("strong",null,"-")))))};h.propTypes={contract_info:a.a.object,currency:a.a.string,is_multiplier:a.a.bool,status:a.a.string},t.a=h},"./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card-footer.jsx":function(e,t,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("../node_modules/react-transition-group/index.js"),l=r("@deriv/components"),u=r("./App/Components/Elements/PositionsDrawer/toggle-positions-drawer-dialog.jsx"),p=r("@deriv/translations"),f=r("./Stores/Modules/Contract/Helpers/logic.js"),d=r("./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/multiplier-close-actions.jsx"),h=function(e){var t=e.contract_info,r=e.is_multiplier,n=e.is_sell_requested,i=e.onClickCancel,a=e.onClickSell,h=Object(f.p)(t),m=Object(f.q)(t),y=!!(m||r&&!t.is_sold);return y?s.createElement(c.CSSTransition,{in:y,timeout:250,classNames:{enter:"positions-drawer-card__sell-button--enter",enterDone:"positions-drawer-card__sell-button--enter-done",exit:"positions-drawer-card__sell-button--exit"},unmountOnExit:!0},r?s.createElement("div",{className:o()("positions-drawer-card__sell-button",{"positions-drawer-card__sell-button--has-cancel-btn":h})},s.createElement(d.a,{className:"dc-btn--sell",contract_info:t,is_sell_requested:n,onClickCancel:i,onClickSell:a}),(m||h)&&s.createElement(u.a,{is_valid_to_cancel:h,contract_id:t.contract_id})):s.createElement("div",{className:"positions-drawer-card__sell-button"},s.createElement(l.Button,{id:"dt_drawer_card_".concat(t.contract_id,"_button"),className:o()("dc-btn--sell",{"dc-btn--loading":n}),is_disabled:!m||n,text:Object(p.localize)("Sell contract"),onClick:function(){return a(t.contract_id)},secondary:!0}))):null};h.propTypes={contract_info:a.a.object,is_multiplier:a.a.bool,is_sell_requested:a.a.bool,onClickCancel:a.a.func,onClickSell:a.a.func},t.a=h},"./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card-header.jsx":function(e,t,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("@deriv/components"),l=r("./App/Components/Elements/PositionsDrawer/contract-type-cell.jsx"),u=r("./App/Components/Elements/PositionsDrawer/ProgressSlider/index.js"),p=r("./Modules/Reports/Helpers/shortcode.js"),f=r.n(p),d=r("./Stores/Modules/Portfolio/Helpers/details.js"),h=function(e){var t=e.contract_info,r=e.has_progress_slider,n=t.tick_count?Object(d.a)(t):null;return s.createElement(s.Fragment,null,s.createElement("div",{className:o()("positions-drawer-card__grid","positions-drawer-card__grid-underlying-trade")},s.createElement("div",{className:"positions-drawer-card__underlying-name"},s.createElement(c.Icon,{icon:t.underlying?"IcUnderlying".concat(t.underlying):"IcUnknown",size:34}),s.createElement("span",{className:"positions-drawer-card__symbol"},t.display_name)),s.createElement("div",{className:"positions-drawer-card__type"},s.createElement(l.a,{multiplier:t.multiplier,type:t.contract_type,is_high_low:f.a.isHighLow({shortcode:t.shortcode})}))),(!r||!!t.is_sold)&&s.createElement("div",{className:"progress-slider--completed"}),r&&!t.is_sold&&s.createElement(u.a,{is_loading:!1,start_time:t.purchase_time,expiry_time:t.date_expiry,current_tick:n,ticks_count:t.tick_count}))};h.propTypes={contract_info:a.a.object,has_progress_slider:a.a.bool},t.a=h},"./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card.jsx":function(e,t,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("react-router-dom"),l=r("./App/Components/Elements/ContentLoader/index.js"),u=r("./Stores/Modules/Contract/Helpers/multiplier.js"),p=r("./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card-header.jsx"),f=r("./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card-footer.jsx"),d=r("./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card-body.jsx"),h=r("./App/Components/Elements/PositionsDrawer/result-overlay.jsx"),m=function(e){var t=e.className,r=e.contract_info,n=e.contract_update,i=e.currency,a=e.is_sell_requested,m=e.is_unsupported,y=e.is_link_disabled,_=e.profit_loss,b=e.onClickCancel,g=e.onClickSell,v=e.onClickRemove,O=e.result,w=e.show_transition,j=e.status,S=e.toggleUnsupportedContractModal,k=e.onMouseEnter,P=e.onMouseLeave,E=s.createElement("div",{className:"positions-drawer-card__content-loader"},s.createElement(l.a,{speed:2})),x=_>=0?"won":"lost",C=Object(u.a)(r.contract_type),D=s.createElement(s.Fragment,null,s.createElement(p.a,{contract_info:r,has_progress_slider:!C}),s.createElement(d.a,{contract_info:r,contract_update:n,currency:i,is_multiplier:C,status:j})),T=w&&"positions-drawer-card__wrapper--transition";return s.createElement("div",{id:"dt_drawer_card_".concat(r.contract_id),className:o()("positions-drawer-card__wrapper",T,t),onMouseEnter:function(){"function"==typeof k&&k(!0,r)},onMouseLeave:function(){"function"==typeof P&&P(!1,r)},onClick:function(){"function"==typeof P&&P(!1,r)}},s.createElement(h.b,{contract_id:r.contract_id,is_unsupported:m,is_multiplier:C,is_visible:!!r.is_sold,onClickRemove:v,onClick:function(){return S(!0)},result:O||x}),m?s.createElement("div",{className:o()("positions-drawer-card",{"positions-drawer-card--green":!C&&_>0&&!O,"positions-drawer-card--red":!C&&_<0&&!O}),onClick:function(){return S(!0)}},r.underlying?D:E):y?s.createElement("div",{className:o()("positions-drawer-card",{"positions-drawer-card--green":!C&&_>0&&!O,"positions-drawer-card--red":!C&&_<0&&!O})},r.underlying?D:E):s.createElement(c.NavLink,{className:o()("positions-drawer-card",{"positions-drawer-card--green":!C&&_>0&&!O,"positions-drawer-card--red":!C&&_<0&&!O}),to:{pathname:"/contract/".concat(r.contract_id),state:{}}},r.underlying?D:E),s.createElement(f.a,{contract_info:r,is_multiplier:C,is_sell_requested:a,onClickCancel:b,onClickSell:g}))};m.propTypes={className:a.a.string,contract_info:a.a.object,currency:a.a.string,current_tick:a.a.number,duration:a.a.oneOfType([a.a.number,a.a.string]),duration_unit:a.a.string,exit_spot:a.a.oneOfType([a.a.number,a.a.string]),id:a.a.number,indicative:a.a.number,is_loading:a.a.bool,is_sell_requested:a.a.bool,is_unsupported:a.a.bool,is_valid_to_sell:a.a.oneOfType([a.a.number,a.a.bool]),onClickRemove:a.a.func,onClickSell:a.a.func,profit_loss:a.a.number,result:a.a.string,sell_time:a.a.number,status:a.a.string,toggleUnsupportedContractModal:a.a.func,type:a.a.string},t.a=m},"./App/Components/Elements/PositionsDrawer/ProgressSlider/index.js":function(e,t,r){"use strict";var n=r("./App/Components/Elements/PositionsDrawer/ProgressSlider/positions-progress-slider.jsx");r.d(t,"a",(function(){return n.a}))},"./App/Components/Elements/PositionsDrawer/ProgressSlider/positions-progress-slider.jsx":function(e,t,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("./Stores/connect.js"),l=r("@deriv/translations");function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t=e.current_tick,r=e.ticks_count,n=u(Array(r).keys());return s.createElement("div",{className:"progress-slider__ticks"},s.createElement("span",{className:"progress-slider__ticks-caption"},s.createElement(l.Localize,{i18n_default_text:"Tick {{current_tick}}",values:{current_tick:t.toString()}})),s.createElement("div",{className:"progress-slider__ticks-wrapper"},n.map((function(e){return s.createElement("div",{key:e,className:o()("progress-slider__ticks-step",{"progress-slider__ticks-step--marked":e+1<=parseInt(t)})})}))))};f.propTypes={current_tick:a.a.number,ticks_count:a.a.number};var d=f,h=r("./App/Components/Elements/PositionsDrawer/helpers/index.js"),m=r("./App/Containers/remaining-time.jsx"),y=function(e){var t=e.className,r=e.current_tick,n=e.is_loading,i=e.start_time,a=e.expiry_time,c=e.server_time,l=e.ticks_count,u=Object(h.d)(c,i,a);return s.createElement("div",{className:o()("progress-slider",t)},l?s.createElement(d,{current_tick:r,ticks_count:l}):s.createElement(s.Fragment,null,s.createElement("span",{className:"positions-drawer-card__remaining-time"},s.createElement(m.a,{end_time:a})),n||u<1?s.createElement("div",{className:"progress-slider__infinite-loader"},s.createElement("div",{className:"progress-slider__infinite-loader--indeterminate"})):s.createElement("div",{className:"progress-slider__track"},s.createElement("div",{className:o()("progress-slider__line",{"progress-slider__line--green":u>=50,"progress-slider__line--orange":u<50&&u>=20,"progress-slider__line--red":u<20}),style:{width:"".concat(u,"%")}}))))};y.propTypes={className:a.a.string,current_tick:a.a.number,expiry_time:a.a.oneOfType([a.a.number,a.a.string]),is_loading:a.a.bool,server_time:a.a.object,start_time:a.a.oneOfType([a.a.number,a.a.string]),ticks_count:a.a.number};t.a=Object(c.b)((function(e){return{server_time:e.common.server_time}}))(y)},"./App/Components/Elements/PositionsDrawer/ProgressSliderMobile/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("@deriv/components"),l=r("./Stores/connect.js"),u=r("@deriv/translations"),p=function(e){var t=e.current_tick,r=e.ticks_count;return s.createElement("div",{className:"progress-slider__ticks"},s.createElement("span",{className:"progress-slider__ticks-caption"},s.createElement(u.Localize,{i18n_default_text:"Tick {{current_tick}}",values:{current_tick:t.toString()}})),s.createElement(c.TickProgress,{columns:5,rows:r>5?2:1,size:r,value:t}))};p.propTypes={current_tick:a.a.number,ticks_count:a.a.number};var f=p,d=r("./App/Components/Elements/PositionsDrawer/helpers/index.js"),h=r("./App/Containers/remaining-time.jsx"),m=function(e){var t=e.className,r=e.current_tick,n=e.is_loading,i=e.start_time,a=e.expiry_time,l=e.server_time,u=e.ticks_count,p=Object(d.d)(l,i,a);return s.createElement("div",{className:o()("positions-progress-slider-mobile",t)},u?s.createElement(f,{current_tick:r,ticks_count:u}):s.createElement(s.Fragment,null,s.createElement("span",{className:"positions-modal-card__remaining-time"},s.createElement(h.a,{end_time:a})),n||p<1?s.createElement("div",{className:"positions-progress-slider-mobile__infinite-loader"},s.createElement("div",{className:"positions-progress-slider-mobile__infinite-loader--indeterminate"})):s.createElement(c.CircularProgress,{className:"positions-modal-card__timer",danger_limit:20,icon:"IcClockOutline",progress:p,warning_limit:50})))};m.propTypes={className:a.a.string,current_tick:a.a.number,expiry_time:a.a.oneOfType([a.a.number,a.a.string]),is_loading:a.a.bool,server_time:a.a.object,start_time:a.a.oneOfType([a.a.number,a.a.string]),ticks_count:a.a.number};var y=Object(l.b)((function(e){return{server_time:e.common.server_time}}))(m)},"./App/Components/Elements/PositionsDrawer/contract-type-cell.jsx":function(e,t,r){"use strict";var n=r("react"),o=r("../node_modules/prop-types/index.js"),i=r.n(o),a=r("@deriv/components"),s=r("./Constants/contract.js"),c=function(e){var t=e.multiplier,r=e.type,o=e.is_high_low;return n.createElement("div",{className:"contract-type"},n.createElement("div",{className:"contract-type__type-wrapper"},n.createElement(a.IconTradeTypes,{type:o?"".concat(r.toLowerCase(),"_barrier"):r.toLowerCase(),className:"category-type",size:24})),n.createElement("div",{className:"contract-type__type-label"},n.createElement("div",null,Object(s.b)(r,o)||""),t&&n.createElement("div",{className:"contract-type__type-label-multiplier"},"x",t)))};c.propTypes={type:i.a.string},t.a=c},"./App/Components/Elements/PositionsDrawer/helpers/index.js":function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return f})),r.d(t,"e",(function(){return d})),r.d(t,"a",(function(){return m}));var n=r("../node_modules/moment/moment.js"),o=r.n(n),i=r("@deriv/translations"),a=r("./Modules/Reports/Helpers/shortcode.js"),s=r.n(a),c=r("./Stores/Modules/Trading/Constants/contract.js"),l=r("./Stores/Modules/Contract/Helpers/contract-type.js"),u=function(e,t,r){var n=o.a.duration(o.a.unix(r).diff(o.a.unix(t))),i=o.a.duration(o.a.unix(r).diff(e)).asMilliseconds()/n.asMilliseconds()*100;return i<.5?i=0:i>100&&(i=100),Math.round(i)},p=function(e){return d(e.contract_type)?Object(i.localize)("Target"):Object(i.localize)("Barrier")},f=function(e){return d(e.contract_type)?h(e)[e.contract_type]:function(e,t){if(!e||isNaN(e))return e;var r=String(t?(+e).toFixed(t):e),n=r.indexOf(".");return r.replace(/\d(?=(?:\d{3})+(?:\.|$))/g,(function(e,t){return n<=0||t<n?"".concat(e,","):e}))}(e.barrier)},d=function(e){return/digit/.test(e.toLowerCase())},h=function(e){return{DIGITDIFF:Object(i.localize)("Not {{barrier}}",{barrier:e.barrier}),DIGITEVEN:Object(i.localize)("Even"),DIGITMATCH:Object(i.localize)("Equals {{barrier}}",{barrier:e.barrier}),DIGITODD:Object(i.localize)("Odd"),DIGITOVER:Object(i.localize)("Over {{barrier}}",{barrier:e.barrier}),DIGITUNDER:Object(i.localize)("Under {{barrier}}",{barrier:e.barrier})}},m=function(e,t){var r,n=e.contract_type,o=e.shortcode,i=Object(l.a)(t),a=s.a.isHighLow({shortcode:o}),u=i?["CALL","CALLE","PUT","PUTE"]:null===(r=Object(c.b)()[t])||void 0===r?void 0:r.trade_types,p=null==u?void 0:u.includes(n);return"high_low"===t?a:p&&!a}},"./App/Components/Elements/PositionsDrawer/result-overlay.jsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("../node_modules/react-transition-group/index.js"),l=r("react-router-dom"),u=r("@deriv/components"),p=r("./App/Components/Routes/helpers.js"),f=r("@deriv/translations");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){var t=e.is_contract_won;return s.createElement("span",{className:o()("result__caption",{"result__caption--won":t,"result__caption--lost":!t})},t?s.createElement(s.Fragment,null,Object(f.localize)("won"),s.createElement(u.Icon,{icon:"IcCheckmarkCircle",className:"result__icon",color:"green"})):s.createElement(s.Fragment,null,Object(f.localize)("lost"),s.createElement(u.Icon,{icon:"IcCrossCircle",className:"result__icon",color:"red"})))},O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,r,n,i=_(a);function a(){var e;h(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).handleClick=function(t){e.props.is_unsupported&&(t.preventDefault(),e.props.onClick())},e}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.contract_id,r=e.is_multiplier,n=e.is_visible,i=e.onClickRemove,a="won"===e.result;return s.createElement(s.Fragment,null,s.createElement(c.CSSTransition,{in:n,timeout:250,classNames:{enter:"positions-drawer-card__result--enter",enterDone:"positions-drawer-card__result--enter-done",exit:"positions-drawer-card__result--exit"},unmountOnExit:!0},s.createElement("div",{id:"dt_drawer_".concat(t,"_result"),className:o()("positions-drawer-card__result",{"positions-drawer-card__result--won":a,"positions-drawer-card__result--lost":!a,"positions-drawer-card__result--lg":r})},s.createElement("span",{id:"dt_drawer_".concat(t,"_result_close_icon"),className:"result__close-btn",onClick:function(){return i(t)}}),s.createElement(l.NavLink,{className:"result__caption-wrapper",to:Object(p.b)(t),onClick:this.handleClick},s.createElement(v,{is_contract_won:a})))))}}])&&m(t.prototype,r),n&&m(t,n),a}(s.PureComponent);O.propTypes={contract_id:a.a.oneOfType([a.a.number,a.a.string]),is_unsupported:a.a.bool,is_visible:a.a.bool,onClick:a.a.func,onClickRemove:a.a.func,result:a.a.string},t.b=O},"./App/Components/Elements/PositionsDrawer/toggle-positions-drawer-dialog.jsx":function(e,t,r){"use strict";var n=r("react"),o=r("../node_modules/prop-types/index.js"),i=r.n(o),a=r("@deriv/components"),s=r("@deriv/shared"),c=r("@deriv/translations"),l=r("./Stores/connect.js"),u=r("./Modules/Trading/Components/Elements/popover-message-checkbox.jsx"),p=r("react-dom"),f=r.n(p),d=r("../node_modules/react-transition-group/index.js");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,r,o,i=_(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleClickOutside=function(e){t.ref&&t.ref.current&&t.props.is_visible&&(t.ref.current.contains(e.target)?e.stopPropagation():t.props.toggle_ref.current.contains(e.target)||t.props.toggleDialog(e))},t.ref=n.createRef(),t}return t=a,(r=[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside,!0)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.is_visible,o=e.left,i=e.top,a=n.createElement(d.CSSTransition,{in:r,classNames:{enter:"positions-drawer-dialog--enter",enterDone:"positions-drawer-dialog--enter-done",exit:"positions-drawer-dialog--exit"},timeout:150,unmountOnExit:!0},n.createElement("div",{ref:this.ref,className:"positions-drawer-dialog",style:{top:i,left:"calc(".concat(o,"px + 32px)")}},t));return f.a.createPortal(a,document.getElementById("deriv_app"))}}])&&m(t.prototype,r),o&&m(t,o),a}(n.Component);v.propTypes={children:i.a.oneOfType([i.a.string,i.a.arrayOf(i.a.node),i.a.node]),is_visible:i.a.bool,left:i.a.number,toggle_ref:i.a.object,toggleDialog:i.a.func,top:i.a.number};var O=v,w=r("./App/Components/Form/InputField/input-with-checkbox.jsx"),j=r("./Stores/Modules/Contract/Helpers/limit-orders.js"),S=r("./Stores/Modules/Contract/Helpers/logic.js");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T(e);if(t){var o=T(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return D(this,r)}}function D(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(l,e);var t,r,o,i=C(l);function l(){var e;P(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).getStateToCompare=function(e){var t=["has_contract_update_take_profit","has_contract_update_stop_loss",e.has_contract_update_take_profit&&"contract_update_take_profit",e.has_contract_update_stop_loss&&"contract_update_stop_loss"];return Object(s.pick)(e,t)},e.isValid=function(e){return!(null==e)},e.onChange=function(t){var r=t.target,n=r.name,o=r.value;"function"==typeof e.props.contract.onChange&&e.props.contract.onChange({name:n,value:o})},e.onClick=function(t){e.props.contract.updateLimitOrder(),e.props.toggleDialog(t)},e}return t=l,(r=[{key:"componentWillUnmount",value:function(){this.props.contract.clearContractUpdateConfigValues()}},{key:"isStateUnchanged",value:function(){return Object(s.isDeepEqual)(this.getStateToCompare(Object(S.e)(this.props.contract_info)),this.getStateToCompare(this.props))}},{key:"render",value:function(){var e=this.props,t=e.addToast,r=e.removeToast,o=e.contract_update_take_profit,i=e.has_contract_update_take_profit,s=e.contract_update_stop_loss,l=e.has_contract_update_stop_loss,u=this.contract_info,p=u.buy_price,f=u.currency,d=u.is_valid_to_cancel,h=Object(S.b)(this.contract_info),m=n.createElement(w.a,{addToast:t,removeToast:r,classNameInlinePrefix:"trade-container__currency",currency:f,error_messages:this.error_messages.take_profit,is_single_currency:!0,is_negative_disabled:!0,defaultChecked:i,label:Object(c.localize)("Take profit"),name:"contract_update_take_profit",onChange:this.onChange,error_message_alignment:"right",value:o,is_disabled:!!d}),y=n.createElement(w.a,{addToast:t,removeToast:r,classNameInlinePrefix:"trade-container__currency",currency:f,defaultChecked:l,error_messages:this.error_messages.stop_loss,is_single_currency:!0,is_negative_disabled:!0,label:Object(c.localize)("Stop loss"),max_value:p-h,name:"contract_update_stop_loss",onChange:this.onChange,error_message_alignment:"right",value:s,is_disabled:!!d});return n.createElement(n.Fragment,null,n.createElement("div",{className:"positions-drawer-dialog__input"},m),n.createElement("div",{className:"positions-drawer-dialog__input"},y),n.createElement("div",{className:"positions-drawer-dialog__button"},n.createElement(a.Button,{text:Object(c.localize)("Apply"),onClick:this.onClick,primary:!0,is_disabled:this.has_validation_errors||!this.is_valid_contract_update||this.isStateUnchanged()})))}},{key:"contract_info",get:function(){return this.props.contract.contract_info}},{key:"limit_order",get:function(){var e=Object(j.b)(this.contract_info.limit_order);return{current_stop_loss:e.stop_loss,current_take_profit:e.take_profit}}},{key:"is_valid_contract_update",get:function(){var e=this.props,t=e.contract_update_take_profit,r=e.has_contract_update_take_profit,n=e.contract_update_stop_loss,o=e.has_contract_update_stop_loss,i=this.limit_order,a=i.current_take_profit,s=i.current_stop_loss,c=r?t>0:this.isValid(a),l=o?n>0:this.isValid(s);return!(this.contract_info.is_valid_to_cancel||!c&&!l)}},{key:"error_messages",get:function(){var e=this.props,t=e.has_contract_update_take_profit,r=e.has_contract_update_stop_loss,n=this.props.validation_errors,o=n.contract_update_stop_loss,i=n.contract_update_take_profit;return{take_profit:t?i:void 0,stop_loss:r?o:void 0}}},{key:"has_validation_errors",get:function(){var e=this;return Object.keys(this.error_messages).some((function(t){var r;return null===(r=e.error_messages[t])||void 0===r?void 0:r.length}))}}])&&E(t.prototype,r),o&&E(t,o),l}(n.Component);M.propTypes={contract:i.a.object,currency:i.a.string,getContractById:i.a.func,resetContractUpdate:i.a.func,toggleDialog:i.a.func,validation_errors:i.a.object};var A=Object(l.b)((function(e,t){var r=e.modules,n=e.ui,o=t.contract;return{addToast:n.addToast,removeToast:n.removeToast,getContractById:r.contract_trade.getContractById,updateLimitOrder:r.contract_trade.updateLimitOrder,contract_info:o.contract_info,validation_errors:o.validation_errors,contract_update_take_profit:o.contract_update_take_profit,contract_update_stop_loss:o.contract_update_stop_loss,has_contract_update_take_profit:o.has_contract_update_take_profit,has_contract_update_stop_loss:o.has_contract_update_stop_loss}}))(M);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=U(e);if(t){var o=U(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return L(this,r)}}function L(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(l,e);var t,r,o,i=z(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).toggleDialog=function(e){e.preventDefault(),e.stopPropagation();var r=t.props,n=r.addToast,o=r.should_show_cancellation_warning,i=r.is_valid_to_cancel;Object(s.isMobile)()&&o&&i&&n({key:"deal_cancellation_active",content:Object(c.localize)("Take profit and/or stop loss are not available while deal cancellation is active."),type:"error"}),i||t.setState((function(e){return{is_visible:!e.is_visible}}),(function(){if(t.state.is_visible&&t.toggle_ref&&t.toggle_ref.current&&t.dialog_ref&&t.dialog_ref.current){var e=t.toggle_ref.current.getBoundingClientRect(),r=t.dialog_ref.current.ref.current.getBoundingClientRect(),n=document.body.getBoundingClientRect(),o=e.top,i=e.right;e.top+r.height>n.height&&(o-=r.height-e.height),t.setState({top:o,left:i-16})}}))},t.state={is_visible:!1,top:0,left:0},t.toggle_ref=n.createRef(),t.dialog_ref=n.createRef(),t.contract=e.getContractById(e.contract_id),t}return t=l,(r=[{key:"render",value:function(){var e=this.props,t=e.is_valid_to_cancel,r=e.should_show_cancellation_warning,o=e.toggleCancellationWarning,i=n.createElement(a.Icon,{className:"positions-drawer-dialog-toggle__icon",icon:"IcEdit",color:t&&"disabled",size:16}),l=r&&Object(s.isDesktop)()?n.createElement(a.Popover,{alignment:"right",classNameBubble:"trade-container__popover",is_bubble_hover_enabled:!0,margin:2,zIndex:2,message:n.createElement(u.a,{defaultChecked:!r,message:Object(c.localize)("Take profit and/or stop loss are not available while deal cancellation is active."),name:"should_show_cancellation_warning",onChange:function(){return o()}})},n.createElement("div",{className:"positions-drawer-dialog-toggle__wrapper"},i)):n.createElement("div",{className:"positions-drawer-dialog-toggle__wrapper"},i);return n.createElement(n.Fragment,null,n.createElement("div",{ref:this.toggle_ref,className:"positions-drawer-dialog-toggle",onClick:this.toggleDialog},t?l:i),n.createElement(a.MobileWrapper,null,n.createElement(a.MobileDialog,{portal_element_id:"modal_root",visible:this.state.is_visible,onClose:this.toggleDialog,wrapper_classname:"contract-update"},n.createElement(a.Div100vhContainer,{className:"contract-update__wrapper",height_offset:"75px"},n.createElement(A,{contract:this.contract,toggleDialog:this.toggleDialog})))),n.createElement(a.DesktopWrapper,null,n.createElement(O,{ref:this.dialog_ref,is_visible:this.state.is_visible,left:this.state.left,top:this.state.top,toggle_ref:this.toggle_ref,toggleDialog:this.toggleDialog},n.createElement(A,{contract:this.contract,toggleDialog:this.toggleDialog}))))}}])&&N(t.prototype,r),o&&N(t,o),l}(n.Component);i.a.TogglePositionsDrawerDialog={is_valid_to_cancel:i.a.bool,contract_id:i.a.string};t.a=Object(l.b)((function(e){var t=e.modules,r=e.ui;return{toggleCancellationWarning:r.toggleCancellationWarning,should_show_cancellation_warning:r.should_show_cancellation_warning,getContractById:t.contract_trade.getContractById,addToast:r.addToast}}))(F)},"./App/Components/Elements/chart-loader.jsx":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("../node_modules/classnames/index.js"),s=r.n(a),c=function(e){var t=e.className,r=e.id,n=e.is_fullscreen,o=void 0===n||n,a=e.is_slow_loading,c=e.status,l=e.theme,u=l?"barspinner-".concat(l):"barspinner-light";return i.createElement("div",{className:s()("initial-loader",{"initial-loader--fullscreen":o},t)},i.createElement("div",{id:r,className:s()("initial-loader__barspinner","barspinner",u)},Array.from(new Array(5)).map((function(e,t){return i.createElement("div",{key:t,className:"initial-loader__barspinner--rect barspinner__rect barspinner__rect--".concat(t+1," rect").concat(t+1)})}))),a&&c.map((function(e,t){return i.createElement("h3",{className:"initial-loader__text",key:t},e)})))};c.propTypes={id:o.a.oneOfType([o.a.string,o.a.number]),is_slow_loading:o.a.bool,status:o.a.array,theme:o.a.string};var l=c,u=function(e){var t=e.is_dark;return e.is_visible?i.createElement("div",{className:"chart-container__loader"},i.createElement(l,{theme:t?"dark":"light"})):null};u.propTypes={is_dark:o.a.bool,is_visible:o.a.bool};t.a=u},"./App/Components/Elements/tooltip.jsx":function(e,t,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("@deriv/components");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,r,n,i=d(a);function a(){var e;u(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).state={show_tooltip_balloon_icon:!1},e.onMouseEnter=function(){e.setState({show_tooltip_balloon_icon:!0})},e.onMouseLeave=function(){e.setState({show_tooltip_balloon_icon:!1})},e}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.alignment,r=e.children,n=e.className,i=e.classNameIcon,a=e.has_error,l=e.icon,u=e.message,p=o()(i,l);return s.createElement("span",{className:o()(n,"dc-tooltip",{"dc-tooltip--error":a}),"data-tooltip":u||void 0,"data-tooltip-pos":t},"info"===l&&s.createElement(s.Fragment,null,s.createElement(c.Icon,{icon:"IcInfoOutline",className:p,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),s.createElement(c.Icon,{icon:"IcInfoBlue",className:o()("".concat(i,"-balloon-icon"),"dc-tooltip__balloon-icon",{"dc-tooltip__balloon-icon--show":this.state.show_tooltip_balloon_icon})})),"question"===l&&s.createElement(c.Icon,{icon:"IcUnknown",className:p}),"dot"===l&&s.createElement(c.Icon,{icon:"IcCircle",className:p,size:4}),r)}}])&&p(t.prototype,r),n&&p(t,n),a}(s.PureComponent);y.propTypes={alignment:a.a.string,children:a.a.node,className:a.a.string,classNameIcon:a.a.string,has_error:a.a.bool,icon:a.a.string,message:a.a.string},t.a=y},"./App/Components/Form/InputField/input-field.jsx":function(e,t,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("mobx-react"),a=r("../node_modules/prop-types/index.js"),s=r.n(a),c=r("react"),l=r("@deriv/shared"),u=r("./App/Components/Elements/tooltip.jsx"),p=r("./Stores/connect.js"),f=r("@deriv/components"),d=r("@deriv/translations");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m=function(e){var t=e.decrementValue,r=e.id,n=e.incrementValue,o=e.max_is_disabled,i=e.min_is_disabled,a=e.is_incrementable_on_long_press,s=e.onLongPressEnd,l=c.useRef(),u=c.useRef(),p=c.useRef(),m=function(e){return function(t){u.current=setTimeout((function(){p.current=!0;var r=1;e(t,r),l.current=setInterval((function(){e(t,++r)}),50)}),300)}},y=function(){clearInterval(l.current),clearTimeout(u.current),s&&p.current&&s(),p.current=!1},_=function(e){return a?{onContextMenu:function(e){return e.preventDefault()},onTouchStart:m(e),onTouchEnd:y,onMouseDown:m(e),onMouseUp:y}:{}};return c.createElement(c.Fragment,null,c.createElement(f.Button,h({id:"".concat(r,"_add"),className:"input-wrapper__button input-wrapper__button--increment",is_disabled:o,onClick:n,tabIndex:"-1","aria-label":Object(d.localize)("Increment value")},_(n)),c.createElement(f.Icon,{icon:"IcAdd",className:"input-wrapper__icon input-wrapper__icon--plus",color:o?"disabled":void 0})),c.createElement(f.Button,h({id:"".concat(r,"_sub"),className:"input-wrapper__button input-wrapper__button--decrement",is_disabled:i,onClick:t,tabIndex:"-1","aria-label":Object(d.localize)("Decrement value")},_(t)),c.createElement(f.Icon,{icon:"IcMinus",className:"input-wrapper__icon input-wrapper__icon--minus",color:i?"disabled":void 0})))};m.propTypes={decrementValue:s.a.func,id:s.a.string,incrementValue:s.a.func,onLongPressEnd:s.a.func,is_incrementable_on_long_press:s.a.bool,max_is_disabled:s.a.oneOfType([s.a.number,s.a.bool]),min_is_disabled:s.a.oneOfType([s.a.number,s.a.bool])};var y=m,_=function(e){var t=e.ariaLabel,r=e.changeValue,n=e.checked,i=e.className,a=e.classNameInlinePrefix,s=e.current_focus,l=e.data_value,u=e.data_tip,p=e.display_value,f=e.fractional_digits,d=e.id,h=e.inputmode,m=e.inline_prefix,y=e.is_autocomplete_disabled,_=e.is_disabled,b=e.is_hj_whitelisted,g=e.is_incrementable,v=e.is_read_only,O=e.max_length,w=e.name,j=e.onClick,S=e.onKeyPressed,k=e.placeholder,P=e.required,E=e.setCurrentFocus,x=e.type,C=c.createRef();c.useEffect((function(){s===w&&C.current.focus()}),[s,w]);return c.createElement(c.Fragment,null,!!m&&c.createElement("div",{className:a},c.createElement("span",{className:o()(a?"".concat(a,"--symbol"):"","symbols","symbols--".concat(m.toLowerCase()),{disabled:!!_})})),c.createElement("input",{autoComplete:y?"off":void 0,checked:n,className:o()(i),"data-for":"error_tooltip_".concat(w),"data-hj-whitelist":b,"data-tip":u,"data-value":l,disabled:_,id:d,maxLength:f?O+f+1:O,name:w,onBlur:function(){return E(null)},onChange:function(e){if(-1!==navigator.userAgent.indexOf("Safari")&&"checkbox"!==x){var t=e.target.selectionStart;r(e,(function(e){e.target.selectionEnd=t}))}else r(e)},onClick:j,onFocus:function(){return E(w)},onKeyDown:g?S:void 0,placeholder:k||void 0,readOnly:v,ref:C,required:P||void 0,inputMode:h,type:"number"===x?"text":x,value:p||"","aria-label":t}))};_.propTypes={ariaLabel:s.a.string,changeValue:s.a.func,checked:s.a.oneOfType([s.a.number,s.a.string]),className:s.a.string,classNameInlinePrefix:s.a.string,current_focus:s.a.string,data_tip:s.a.string,data_value:s.a.oneOfType([s.a.number,s.a.string]),display_value:s.a.oneOfType([s.a.number,s.a.string]),fractional_digits:s.a.number,id:s.a.string,inline_prefix:s.a.string,is_autocomplete_disabled:s.a.bool,is_disabled:s.a.string,is_hj_whitelisted:s.a.bool,is_incrementable:s.a.bool,is_read_only:s.a.bool,max_length:s.a.number,name:s.a.string,onClick:s.a.func,onKeyPressed:s.a.func,placeholder:s.a.string,required:s.a.bool,setCurrentFocus:s.a.func,type:s.a.string,value:s.a.oneOfType([s.a.number,s.a.string])};var b=_;function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=k(e);if(t){var o=k(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,r,n,i=j(a);function a(){var e;v(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).state={},e}return t=a,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.ariaLabel,n=t.checked,i=t.className,a=t.classNameInlinePrefix,s=t.classNameInput,p=t.classNamePrefix,f=t.currency,d=t.current_focus,h=t.data_tip,m=t.data_value,_=t.error_messages,g=t.error_message_alignment,v=t.fractional_digits,O=t.helper,w=t.id,j=t.inline_prefix,S=t.is_autocomplete_disabled,k=t.is_disabled,P=t.is_error_tooltip_hidden,E=void 0!==P&&P,x=t.is_float,C=t.is_hj_whitelisted,D=void 0!==C&&C,T=t.is_incrementable,M=t.is_incrementable_on_long_press,A=t.is_negative_disabled,R=t.is_read_only,N=void 0!==R&&R,I=t.is_signed,z=void 0!==I&&I,L=t.is_unit_at_right,U=void 0!==L&&L,F=t.inputmode,H=t.label,Y=t.max_length,V=t.max_value,B=t.min_value,W=t.name,q=t.format,G=t.onChange,X=t.onClick,$=t.onClickInputWrapper,Z=t.placeholder,J=t.prefix,K=t.required,Q=t.setCurrentFocus,ee=t.type,te=t.unit,re=t.value,ne=this.state.local_value,oe=this.props.icon,ie=_&&!!_.length,ae=!0,se=V&&(+re>=+V||+ne>=+V),ce=B&&(+re<=+B||+ne<=+B),le=function(e){var t="string"==typeof e?e.split("."):e.toString().split(".");return t&&t.length>1?t[1].length:0},ue=function(e){var t=e;return B&&(t=Math.max(t,B)),V&&(t=Math.min(t,V)),t},pe=function(t,r){if(!se){var n,o=e.state.local_value||re,i=o?le(o):0,a=!!f&&Object(l.isCryptocurrency)(f);if(r){var s=Math.min(r,Math.max(r,10))/10,c=re*s/100,u=parseFloat(+(o||0))+Math.abs(c);n=parseFloat(ue(u)).toFixed(i)}else if(a||!f&&x){var p=parseFloat(+(o||0))+parseFloat(1*Math.pow(10,0-i));n=parseFloat(p).toFixed(i)}else n=parseFloat(+(o||0)+1).toFixed(i);he(n,!!r)}},fe=function(t){var r,n=e.state.local_value||re,o=n?le(n):0,i=!!f&&Object(l.isCryptocurrency)(f);if(t){var a=Math.min(t,Math.max(t,10))/10,s=re*a/100,c=parseFloat(+(n||0))-Math.abs(s);r=parseFloat(ue(c)).toFixed(o)}else if(i||!f&&x){var u=parseFloat(+(n||0))-parseFloat(1*Math.pow(10,0-o));r=parseFloat(u).toFixed(o)}else r=parseFloat(+(n||0)-1).toFixed(o);return r},de=function(e,t){if(re&&!ce){var r=fe(t);A&&r<0||he(r,!!t)}},he=function(t,r){var n=q?q(t):t;r?e.setState({local_value:n}):G({target:{value:n,name:W}})},me=ne||re;te&&(me=U?"".concat(re," ").concat(te):"".concat(te," ").concat(re));var ye=T&&("number"===ee||"tel"===ee),_e=c.createElement(b,{ariaLabel:r,changeValue:function(e,t){if(te&&(e.target.value=e.target.value.replace(te,"").trim()),e.target.value!==re||"checkbox"===ee){if("number"===ee||"tel"===ee){var r=!e.target.value||""===e.target.value||"  "===e.target.value,n=z?"^([+-.0-9])":"^",o=new RegExp("".concat(n,"(\\d*)?").concat(x?"(\\.\\d+)?":"","$")).test(e.target.value),i=x&&new RegExp("".concat(n,"(\\.|\\d+\\.)?$")).test(e.target.value),a=new RegExp("".concat(n,"(\\d+)?\\.(\\d+)?[0]+$")).test(e.target.value),s=/e/.test("".concat(+e.target.value));if(Y&&v&&(ae=new RegExp("".concat(n,"(\\d{0,").concat(Y,"})(\\.\\d{0,").concat(v,"})?$")).test(e.target.value)),(o||r)&&ae)e.target.value=r||z||a||s||"tel"===ee?e.target.value:+e.target.value;else if(!i)return void(e.target.value=re)}G(e),t&&t(e)}},checked:n,current_focus:d,className:o()(ye?"input-wrapper__input":"",j?"input--has-inline-prefix":"","input",{"input--error":ie},s),classNameInlinePrefix:a,data_tip:h,data_value:m,display_value:me,fractional_digits:v,has_error:ie,id:w,inline_prefix:j,is_autocomplete_disabled:S,is_disabled:k,is_hj_whitelisted:D,is_incrementable:ye,is_read_only:N,max_length:Y,name:W,onClick:X,onKeyPressed:function(e){38===e.keyCode&&pe(),40===e.keyCode&&de()},placeholder:Z,required:K,setCurrentFocus:Q,type:ee,inputmode:F}),be=c.createElement(y,{id:w,max_is_disabled:se||!!k,incrementValue:pe,min_is_disabled:ce||A&&fe()<0||!!k,decrementValue:de,onLongPressEnd:function(){var t=e.state.local_value,r=q?q(t):t;G({target:{value:r,name:W}}),e.setState({local_value:void 0})},is_incrementable_on_long_press:M}),ge=c.createElement(u.a,{className:o()("trade-container__tooltip",{"dc-tooltip--with-label":H}),alignment:g||"left",message:ie?_[0]:null,has_error:!E&&ie},!!H&&c.createElement("label",{htmlFor:W,className:"input-field__label"},H),!!O&&c.createElement("span",{className:"input-field__helper"},O),ye?c.createElement("div",{className:o()("input-wrapper",{"input-wrapper--disabled":!!k})},be,_e):_e);return c.createElement(c.Fragment,null,!!J&&c.createElement("div",{className:p},c.createElement("span",{className:o()("".concat(p,"--symbol"),"symbols","symbols--".concat(J.toLowerCase()))})),c.createElement("div",{className:o()("input-field",i),onClick:$},this.props.icon&&c.createElement(oe,{onClick:X}),ge))}}])&&O(t.prototype,r),n&&O(t,n),a}(c.Component);P.propTypes={ariaLabel:s.a.string,checked:s.a.oneOfType([s.a.number,s.a.string]),className:s.a.string,classNameInlinePrefix:s.a.string,classNameInput:s.a.string,classNamePrefix:s.a.string,currency:s.a.string,current_focus:s.a.string,error_messages:i.PropTypes.arrayOrObservableArray,error_message_alignment:s.a.string,fractional_digits:s.a.number,helper:s.a.string,icon:s.a.oneOfType([s.a.func,s.a.node]),id:s.a.string,inline_prefix:s.a.string,is_autocomplete_disabled:s.a.bool,is_disabled:s.a.string,is_float:s.a.bool,is_hj_whitelisted:s.a.bool,is_incrementable:s.a.bool,is_incrementable_on_long_press:s.a.bool,is_negative_disabled:s.a.bool,is_read_only:s.a.bool,is_signed:s.a.bool,is_unit_at_right:s.a.bool,label:s.a.string,max_length:s.a.number,name:s.a.string,onChange:s.a.func,onClick:s.a.func,onClickInputWrapper:s.a.func,placeholder:s.a.string,prefix:s.a.string,required:s.a.bool,setCurrentFocus:s.a.func,type:s.a.string,unit:s.a.string,value:s.a.oneOfType([s.a.number,s.a.string])};t.a=Object(p.b)((function(e){var t=e.ui;return{current_focus:t.current_focus,setCurrentFocus:t.setCurrentFocus}}))(P)},"./App/Components/Form/InputField/input-with-checkbox.jsx":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("mobx-react"),a=r("react"),s=r("@deriv/components"),c=r("@deriv/shared"),l=r("./App/Components/Form/InputField/input-field.jsx");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.addToast,r=e.removeToast,n=e.classNameInlinePrefix,o=e.classNameInput,i=e.className,f=e.currency,d=e.defaultChecked,h=e.error_messages,m=e.is_disabled,y=e.is_single_currency,_=e.is_negative_disabled,b=e.is_input_hidden,g=e.label,v=e.name,O=e.max_value,w=e.onChange,j=e.checkbox_tooltip_label,S=e.tooltip_alignment,k=e.error_message_alignment,P=e.tooltip_label,E=e.value,x=a.useRef(),C=a.useRef(),D=p(a.useState(d),2),T=D[0],M=D[1],A="has_".concat(v);a.useEffect((function(){M(d)}),[d]),a.useEffect((function(){if(Object(c.isMobile)()&&(null==h?void 0:h.length)>0)return z(h[0]),function(){L()}}),[h]);var R=function(){setTimeout((function(){C.current.nextSibling.querySelector("input.input-wrapper__input").focus()}))},N=a.createElement(l.a,{className:i,classNameInlinePrefix:n,classNameInput:o,currency:f,error_messages:h,error_message_alignment:k,is_error_tooltip_hidden:Object(c.isMobile)(),is_disabled:m?"disabled":void 0,fractional_digits:Object(c.getDecimalPlaces)(f),id:"dt_".concat(v,"_input"),inline_prefix:y?f:null,is_autocomplete_disabled:!0,is_float:!0,is_hj_whitelisted:!0,is_incrementable:!0,is_negative_disabled:_,max_length:10,max_value:O,name:v,onChange:w,onClickInputWrapper:m?void 0:function(){T||(M(!0),w({target:{name:A,value:!0}}),R())},type:"number",inputmode:"decimal",value:E}),I=a.createElement(s.Checkbox,{className:"".concat(v,"-checkbox__input"),ref:x,id:"dt_".concat(v,"-checkbox_input"),onChange:function(e){var t=!T;w({target:{name:e.target.name,value:t}}),t&&R()},name:A,label:g,classNameLabel:"".concat(v,"-checkbox__label"),defaultChecked:d,disabled:m}),z=function(){"function"==typeof t&&t({key:"".concat(v,"__error"),content:h,type:"error"})},L=function(){"function"==typeof r&&r("".concat(v,"__error"))};return a.createElement(a.Fragment,null,a.createElement("div",{ref:C,className:"input-wrapper--inline"},j?a.createElement(s.Popover,{alignment:"left",classNameBubble:"trade-container__popover",is_bubble_hover_enabled:!0,margin:2,message:j,relative_render:!0},I):a.createElement(a.Fragment,null,I),P&&a.createElement(s.Popover,u({alignment:S||"left",icon:"info",id:"dt_".concat(v,"-checkbox__tooltip"),message:P,margin:Object(c.isMobile)()?0:210,zIndex:9999},Object(c.isDesktop)()?{relative_render:!0}:{}))),!b&&N)};d.propTypes={addToast:o.a.func,removeToast:o.a.func,checkbox_tooltip_label:o.a.oneOfType([o.a.node,o.a.object,o.a.string]),className:o.a.string,classNameInlinePrefix:o.a.string,classNameInput:o.a.string,classNamePrefix:o.a.string,currency:o.a.string,defaultChecked:o.a.bool,error_messages:i.PropTypes.arrayOrObservableArray,is_negative_disabled:o.a.bool,is_single_currency:o.a.bool,is_input_hidden:o.a.bool,label:o.a.string,max_value:o.a.number,name:o.a.string,onChange:o.a.func,tooltip_label:o.a.string,tooltip_alignment:o.a.string,error_message_alignment:o.a.string,value:o.a.oneOfType([o.a.number,o.a.string])},t.a=d},"./App/Components/Routes/helpers.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n=r("react-router"),o=r("@deriv/shared"),i=function(e){return/^\//.test(e)?e:"/".concat(e||"")},a=function e(t,r){var o;return r.some((function(r){var i;try{i=Object(n.matchPath)(t,r)}catch(e){if(/undefined/.test(e.message))return}return i?(o=r,!0):!!r.routes&&(o=e(t,r.routes))})),o},s=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(e,r){return e.replace(":".concat(r),t[r])}),e)}(o.routes.contract,{contract_id:e})}},"./App/Constants/app-config.js":function(e,t,r){"use strict";r.r(t),r.d(t,"website_domain",(function(){return n})),r.d(t,"website_name",(function(){return o})),r.d(t,"default_title",(function(){return i}));var n="app.deriv.com",o="Deriv",i=o},"./App/Containers/remaining-time.jsx":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("@deriv/translations"),s=r("./Stores/connect.js"),c=r("@deriv/shared"),l=function(e){var t=e.end_time,r=void 0===t?null:t,n=e.start_time,o=e.format;if(!+r||n.unix()>+r)return"";var s=Object(c.formatDuration)(Object(c.getDiffDuration)(n.unix(),r),o),l=s.days,u=s.timestamp,p=u;return l>0&&(p="".concat(l," ").concat(l>1?Object(a.localize)("days"):Object(a.localize)("day")," ").concat(u)),!/^00:00$/.test(p)&&i.createElement("div",{className:"remaining-time"},p)};l.propTypes={end_time:o.a.oneOfType([o.a.number,o.a.string]),start_time:o.a.object},t.a=Object(s.b)((function(e){return{start_time:e.common.server_time}}))(l)},"./Constants/contract.js":function(e,t,r){"use strict";r.d(t,"d",(function(){return s})),r.d(t,"f",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return f}));var n=r("@deriv/translations");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(){return{FRXAUDCAD:Object(n.localize)("AUD/CAD"),FRXAUDCHF:Object(n.localize)("AUD/CHF"),FRXAUDJPY:Object(n.localize)("AUD/JPY"),FRXAUDNZD:Object(n.localize)("AUD/NZD"),FRXAUDPLN:Object(n.localize)("AUD/PLN"),FRXAUDUSD:Object(n.localize)("AUD/USD"),FRXBROUSD:Object(n.localize)("Oil/USD"),FRXEURAUD:Object(n.localize)("EUR/AUD"),FRXEURCAD:Object(n.localize)("EUR/CAD"),FRXEURCHF:Object(n.localize)("EUR/CHF"),FRXEURGBP:Object(n.localize)("EUR/GBP"),FRXEURJPY:Object(n.localize)("EUR/JPY"),FRXEURNZD:Object(n.localize)("EUR/NZD"),FRXEURUSD:Object(n.localize)("EUR/USD"),FRXGBPAUD:Object(n.localize)("GBP/AUD"),FRXGBPCAD:Object(n.localize)("GBP/CAD"),FRXGBPCHF:Object(n.localize)("GBP/CHF"),FRXGBPJPY:Object(n.localize)("GBP/JPY"),FRXGBPNOK:Object(n.localize)("GBP/NOK"),FRXGBPUSD:Object(n.localize)("GBP/USD"),FRXNZDJPY:Object(n.localize)("NZD/JPY"),FRXNZDUSD:Object(n.localize)("NZD/USD"),FRXUSDCAD:Object(n.localize)("USD/CAD"),FRXUSDCHF:Object(n.localize)("USD/CHF"),FRXUSDJPY:Object(n.localize)("USD/JPY"),FRXUSDNOK:Object(n.localize)("USD/NOK"),FRXUSDPLN:Object(n.localize)("USD/PLN"),FRXUSDSEK:Object(n.localize)("USD/SEK"),FRXXAGUSD:Object(n.localize)("Silver/USD"),FRXXAUUSD:Object(n.localize)("Gold/USD"),FRXXPDUSD:Object(n.localize)("Palladium/USD"),FRXXPTUSD:Object(n.localize)("Platinum/USD"),OTC_AEX:Object(n.localize)("Dutch Index"),OTC_AS51:Object(n.localize)("Australian Index"),OTC_DJI:Object(n.localize)("Wall Street Index"),OTC_FCHI:Object(n.localize)("French Index"),OTC_FTSE:Object(n.localize)("UK Index"),OTC_GDAXI:Object(n.localize)("German Index"),OTC_HSI:Object(n.localize)("Hong Kong Index"),OTC_IBEX35:Object(n.localize)("Spanish Index"),OTC_N225:Object(n.localize)("Japanese Index"),OTC_NDX:Object(n.localize)("US Tech Index"),OTC_SPC:Object(n.localize)("US Index"),OTC_SSMI:Object(n.localize)("Swiss Index"),OTC_SX5E:Object(n.localize)("Euro 50 Index"),R_10:Object(n.localize)("Volatility 10 Index"),R_25:Object(n.localize)("Volatility 25 Index"),R_50:Object(n.localize)("Volatility 50 Index"),R_75:Object(n.localize)("Volatility 75 Index"),R_100:Object(n.localize)("Volatility 100 Index"),RDBEAR:Object(n.localize)("Bear Market Index"),RDBULL:Object(n.localize)("Bull Market Index"),WLDAUD:Object(n.localize)("AUD Index"),WLDEUR:Object(n.localize)("EUR Index"),WLDGBP:Object(n.localize)("GBP Index"),WLDUSD:Object(n.localize)("USD Index"),"1HZ10V":Object(n.localize)("Volatility 10 (1s) Index"),"1HZ100V":Object(n.localize)("Volatility 100 (1s) Index")}},c=function(){return{EXPIRYMISS:{name:Object(n.localize)("Ends Outside"),position:"top"},EXPIRYRANGE:{name:Object(n.localize)("Ends Between"),position:"bottom"},RANGE:{name:Object(n.localize)("Stays Between"),position:"top"},UPORDOWN:{name:Object(n.localize)("Goes Outside"),position:"bottom"},RESETCALL:{name:Object(n.localize)("Reset Call"),position:"top"},RESETPUT:{name:Object(n.localize)("Reset Put"),position:"bottom"},TICKHIGH:{name:Object(n.localize)("High Tick"),position:"top"},TICKLOW:{name:Object(n.localize)("Low Tick"),position:"bottom"},ASIANU:{name:Object(n.localize)("Asian Up"),position:"top"},ASIAND:{name:Object(n.localize)("Asian Down"),position:"bottom"},LBFLOATCALL:{name:Object(n.localize)("Close-to-Low"),position:"top"},LBFLOATPUT:{name:Object(n.localize)("High-to-Close"),position:"top"},LBHIGHLOW:{name:Object(n.localize)("High-to-Low"),position:"top"},CALLSPREAD:{name:Object(n.localize)("Spread Up"),position:"top"},PUTSPREAD:{name:Object(n.localize)("Spread Down"),position:"bottom"},RUNHIGH:{name:Object(n.localize)("Only Ups"),position:"top"},RUNLOW:{name:Object(n.localize)("Only Downs"),position:"bottom"}}},l=function(e){return{CALL:{name:e?Object(n.localize)("Higher"):Object(n.localize)("Rise"),position:"top"},PUT:{name:e?Object(n.localize)("Lower"):Object(n.localize)("Fall"),position:"bottom"},CALLE:{name:Object(n.localize)("Rise"),position:"top"},PUTE:{name:Object(n.localize)("Fall"),position:"bottom"},DIGITMATCH:{name:Object(n.localize)("Matches"),position:"top"},DIGITDIFF:{name:Object(n.localize)("Differs"),position:"bottom"},DIGITEVEN:{name:Object(n.localize)("Even"),position:"top"},DIGITODD:{name:Object(n.localize)("Odd"),position:"bottom"},DIGITOVER:{name:Object(n.localize)("Over"),position:"top"},DIGITUNDER:{name:Object(n.localize)("Under"),position:"bottom"},ONETOUCH:{name:Object(n.localize)("Touch"),position:"top"},NOTOUCH:{name:Object(n.localize)("No Touch"),position:"bottom"},MULTUP:{name:Object(n.localize)("Up"),position:"top"},MULTDOWN:{name:Object(n.localize)("Down"),position:"bottom"}}},u=function(e){return i(i({},l(e)),c())},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u(t)[e]?u(t)[e.toUpperCase()].name:""},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u(t)[e]?u(t)[e.toUpperCase()].position:"top"}},"./Constants/index.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return n.d})),r.d(t,"d",(function(){return n.f})),r.d(t,"c",(function(){return n.e})),r.d(t,"a",(function(){return n.a}));var n=r("./Constants/contract.js")},"./Modules/Contract/Components/Digits/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return $}));var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("mobx"),l=r("@deriv/components"),u=r("@deriv/shared"),p=r("@deriv/translations"),f=r("./Stores/Modules/Contract/Helpers/logic.js"),d=r("./App/Components/Animations/index.js"),h=r("./Constants/index.js"),m=function(e){var t=e.current_spot,r=e.is_selected_winning,n=e.is_lost,i=e.is_won;return s.createElement(s.Fragment,null,s.createElement("span",{className:"digits__digit-spot-value"},t.slice(0,-1)),s.createElement("span",{className:o()("digits__digit-spot-last",{"digits__digit-spot-last--selected-win":r,"digits__digit-spot-last--win":i,"digits__digit-spot-last--loss":n})},t.slice(-1)))};m.propTypes={current_spot:a.a.string,is_lost:a.a.bool,is_won:a.a.bool};var y=m,_=r("mobx-react"),b=function(e){var t=e.is_latest,r=e.is_lost,n=e.is_selected,i=e.is_won,a=e.percentage,c=e.value,l=a&&!isNaN(a)?parseFloat(a).toFixed(1):null;return s.createElement(s.Fragment,null,s.createElement("span",{className:o()("digits__digit-value",{"digits__digit-value--latest":t,"digits__digit-value--selected":n,"digits__digit-value--win":i&&t,"digits__digit-value--loss":r&&t})},s.createElement("i",{className:o()("digits__digit-display-value",{"digits__digit-display-value--no-stats":!l})},c),!!l&&s.createElement("i",{className:"digits__digit-display-percentage"},l,"%")))};b.propTypes={is_latest:a.a.bool,is_lost:a.a.bool,is_selected:a.a.bool,is_trade_page:a.a.bool,is_won:a.a.bool,value:a.a.number};var g=b,v=function(e){var t=e.is_max,r=e.is_min,n=e.is_selected,i=e.percentage,a=(i-10)/4;a=((a=Math.min(Math.max(a,-1),1))+1)/2*.85+.15;var c=339.292,l=(20*i-102)/3/100;return l=Math.max(Math.min(l,.66),.06),s.createElement("div",{className:o()("digits__pie-container",{"digits__pie-container--selected":n})},s.createElement("svg",{className:"digits__pie-progress",width:"120",height:"120",viewBox:"0 0 120 120"},s.createElement("circle",{className:"progress__bg",cx:"60",cy:"60",r:"54",fill:"none",stroke:"#E8EEFC",strokeWidth:"12"}),i&&s.createElement("circle",{className:o()("progress__value",{"progress__value--is-max":t,"progress__value--is-min":r}),cx:"60",cy:"60",r:"54",fill:"none",strokeOpacity:t||r?1:a,strokeWidth:"12",strokeDasharray:[c*l,c*(1-l)],strokeDashoffset:c*((l+1)/2)})))};v.propTypes={is_max:a.a.bool,is_min:a.a.bool,percentage:a.a.number};var O=v,w=function(e){var t=e.barrier,r=e.is_digit_contract,n=e.has_entry_spot,i=e.is_lost,a=e.is_max,c=e.is_min,p=e.is_won,f=e.onSelect,h=e.latest_digit,m=e.selected_digit,_=e.status,b=e.stats,v=e.value,w=e.onLastDigitSpot,j=h.digit,S=h.spot,k=v===j,P=v===t,E=j===t,x=b?100*b/1e3:null;s.useEffect((function(){w&&w({spot:S,is_lost:i,is_selected_winning:E,is_latest:k,is_won:p})}),[h,S,t,v]);var C=Object(u.isMobile)()&&"function"==typeof f&&!_,D=Object(u.isMobile)()&&v===m&&!_;return s.createElement("div",{className:o()("digits__digit",{"digits__digit--latest":k,"digits__digit--win":p&&k,"digits__digit--loss":i&&k,"digits__digit--is-selectable":C,"digits__digit--is-selected":D}),onClick:function(){C&&f(v)}},s.createElement(O,{is_min:c,is_max:a,is_selected:P,percentage:x}),s.createElement(l.DesktopWrapper,null,s.createElement(d.a,{is_visible:!!(r&&k&&S&&_&&n),className:"digits__digit-spot",keyname:"digits__digit-spot"},s.createElement(y,{current_spot:S,is_lost:i,is_selected_winning:E,is_visible:!(!k||!S),is_won:p}))),s.createElement(g,{is_latest:k,is_lost:i,is_selected:P,is_won:p,percentage:x,value:v}))};w.propTypes={barrier:a.a.number,has_entry_spot:a.a.bool,is_lost:a.a.bool,is_won:a.a.bool,latest_digit:a.a.object,value:a.a.number};var j=Object(_.observer)(w),S=function(e){var t=e.is_lost,r=e.is_trade_page,n=e.is_won,i=e.position;return s.createElement(s.Fragment,null,!!i&&s.createElement("span",{className:"digits__pointer",style:{transform:"translate3d(calc(".concat(i.left,"px), ").concat(i.top,"px, 0px)")}},s.createElement(l.Icon,{icon:"IcProfit",className:o()("digits__icon",{"digits__icon--win":n&&!r,"digits__icon--loss":t&&!r}),color:n?"green":"red",custom_color:n||t?void 0:"var(--brand-orange)"})))};S.propTypes={is_lost:a.a.bool,is_won:a.a.bool,position:a.a.object};var k=S;function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=R(e);if(t){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return A(this,r)}}function A(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=Array.from(Array(10).keys()),I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(a,e);var t,r,n,i=M(a);function a(){var e;C(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).digit_offset={0:{left:6,top:0},1:{left:6+1*e.props.dimension,top:0},2:{left:6+2*e.props.dimension,top:0},3:{left:6+3*e.props.dimension,top:0},4:{left:6+4*e.props.dimension,top:0},5:{left:6+5*e.props.dimension,top:0},6:{left:6+6*e.props.dimension,top:0},7:{left:6+7*e.props.dimension,top:0},8:{left:6+8*e.props.dimension,top:0},9:{left:6+9*e.props.dimension,top:0}},e.digit_offset_mobile={0:{left:6,top:-60},1:{left:6+1*e.props.dimension,top:-60},2:{left:6+2*e.props.dimension,top:-60},3:{left:6+3*e.props.dimension,top:-60},4:{left:6+4*e.props.dimension,top:-60},5:{left:6+0*e.props.dimension,top:8},6:{left:6+1*e.props.dimension,top:8},7:{left:6+2*e.props.dimension,top:8},8:{left:6+3*e.props.dimension,top:8},9:{left:6+4*e.props.dimension,top:8}},e.handleSelect=function(t){e.is_selectable_digit_type&&t!==e.props.selected_digit&&"function"==typeof e.props.onDigitChange&&e.props.onDigitChange({target:{name:"last_digit",value:t}})},e.getBarrier=function(t){var r=e.props,n=r.barrier,o=r.contract_type,i={DIGITMATCH:function(e){return e===n},DIGITDIFF:function(e){return e!==n&&!isNaN(n)},DIGITOVER:function(e){return e>n},DIGITUNDER:function(e){return e<n},DIGITODD:function(e){return e%2},DIGITEVEN:function(e){return!(e%2)}};return o&&i[o]&&i[o](t)?t:null},e}return t=a,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.digits,n=t.digits_info,i=t.is_digit_contract,a=t.has_entry_spot,c=t.is_ended,l=t.is_trade_page,u=t.tick,p=t.selected_digit,f=t.status,d=Object.keys(n).sort().map((function(e){return n[e]})).slice(-1)[0]||{},h=c&&"won"===f&&i,m=c&&"lost"===f&&i,y=r?Math.min.apply(Math,E(r)):null,_=r?Math.max.apply(Math,E(r)):null,b=u?+u.pip_size:null,g=u&&u.ask?u.ask.toFixed(b):null,v=g?+g.split("").pop():null,O=u?this.offset[v]:this.offset[d.digit],w=h||m?d:{digit:v,spot:g};return s.createElement("div",{ref:function(t){return e.node=t},className:o()("digits",{"digits--trade":l})},N.map((function(t){return s.createElement(j,{barrier:e.getBarrier(t),has_entry_spot:a,is_digit_contract:i,is_lost:m,is_trade_page:l,is_won:h,key:t,is_max:r?r[t]===_:null,is_min:r?r[t]===y:null,stats:r?r[t]:null,status:f,latest_digit:l?w:d,value:t,onLastDigitSpot:e.props.onLastDigitSpot,onSelect:e.is_selectable_digit_type?e.handleSelect:null,selected_digit:!!e.is_selectable_digit_type&&p})})),s.createElement(k,{is_lost:m,is_trade_page:l,is_won:h,position:O}))}},{key:"offset",get:function(){return Object(u.isMobile)()?this.digit_offset_mobile:this.digit_offset}},{key:"is_selectable_digit_type",get:function(){return!!Object(u.isMobile)()&&"even_odd"!==this.props.trade_type}}])&&D(t.prototype,r),n&&D(t,n),a}(s.Component);I.propTypes={barrier:a.a.number,contract_type:a.a.string,digits_info:a.a.object,is_ended:a.a.bool,status:a.a.string,trade_type:a.a.string,onDigitChange:a.a.func,selected_digit:a.a.number};var z=Object(_.observer)(I);r("./sass/app/modules/contract/digits.scss");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=W(e);if(t){var o=W(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return B(this,r)}}function B(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var G=function(e){var t=e.contract_info,r=e.digits_array,n=e.digits_info,o=e.display_status,i=e.is_digit_contract,a=e.is_ended,l=e.is_trade_page,p=e.onDigitChange,d=e.selected_digit,h=e.trade_type,m=q(e,["contract_info","digits_array","digits_info","display_status","is_digit_contract","is_ended","is_trade_page","onDigitChange","selected_digit","trade_type"]),y=t.date_start,_=m.tick,b=!l||!!_,g=!!l&&Object(f.l)(t,_),v=!g&&b?o:null;if(y&&!g){_=null;var O=t.tick_stream;if(O&&O.length){var w=Object(c.toJS)(O.slice(-1)[0]);_={ask:w.tick,bid:w.tick,epoch:w.epoch,pip_size:w.tick_display_value.split(".")[1].length,current_tick:O.length}}}return s.useEffect((function(){m.onChangeStatus&&m.onChangeStatus({status:v,current_tick:_?_.current_tick:null})}),[_,l,o]),s.createElement(z,{dimension:Object(u.isMobile)()?64:52,has_entry_spot:!!t.entry_tick,barrier:!g&&b?+t.barrier:null,contract_type:!g&&b?t.contract_type:null,digits:r,digits_info:!g&&b?n:{},is_digit_contract:i,is_ended:a,is_trade_page:l,status:v,tick:_,trade_type:h,onDigitChange:p,selected_digit:d,onLastDigitSpot:m.onLastDigitSpot})},X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(a,e);var t,r,n,i=V(a);function a(){var e;F(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r))).state={mounted:!1},e.onChangeStatus=function(t){var r=t.status,n=t.current_tick;e.setState({status:r,current_tick:n})},e.onLastDigitSpot=function(t){var r=t.spot,n=t.is_lost,o=t.is_selected_winning,i=t.is_latest,a=t.is_won;e.setState({spot:r,is_lost:n,is_selected_winning:o,is_latest:i,is_won:a})},e}return t=a,(r=[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this.props,t=e.contract_info,r=e.digits_array,n=e.is_digit_contract,i=e.is_trade_page,a=this.state,c=a.status,u=a.spot,f=a.is_lost,h=a.is_selected_winning,m=a.is_latest,_=a.is_won,b=a.current_tick;return s.createElement(s.Fragment,null,s.createElement(l.DesktopWrapper,null,s.createElement(d.b,{is_visible:(r||n)&&this.state.mounted,className:"digits__container",keyname:"digits",type:"bottom"},i&&s.createElement("div",{className:"digits__tooltip-container"},s.createElement(l.Popover,{alignment:"top",classNameBubble:"digits__tooltip-bubble",icon:"info",id:"dt_last_digits_info_tooltip",margin:4,message:this.popover_message})),s.createElement(G,this.props))),s.createElement(l.MobileWrapper,null,s.createElement("div",{className:"digits__container"},s.createElement(d.a,{is_visible:!!(n&&c&&u&&t.entry_tick),className:o()("digits__digit-spot",{"digits__digit-spot--is-trading":i}),keyname:"digits__digit-spot"},i&&s.createElement("span",{className:"digits__digit-spot-value"},s.createElement(p.Localize,{i18n_default_text:"Tick {{current_tick}} - ",values:{current_tick:b}})),s.createElement(y,{current_spot:u,is_lost:f,is_selected_winning:h,is_visible:!(!m||!u),is_won:_})),s.createElement(G,U({},this.props,{onChangeStatus:this.onChangeStatus,onLastDigitSpot:this.onLastDigitSpot})))))}},{key:"popover_message",get:function(){var e=this.props,t=e.contract_info,r=e.is_trade_page,n=e.underlying,o=r?n:t.underlying;return Object(p.localize)("Last digit stats for latest 1000 ticks for {{underlying_name}}",{underlying_name:Object(h.b)()[o.toUpperCase()]})}}])&&H(t.prototype,r),n&&H(t,n),a}(s.PureComponent);X.propTypes={contract_info:a.a.object,digits_info:a.a.object,display_status:a.a.string,is_digit_contract:a.a.bool,is_ended:a.a.bool,is_trade_page:a.a.bool,trade_type:a.a.string,onDigitChange:a.a.func,selected_digit:a.a.number};var $=X},"./Modules/Reports/Helpers/market-underlying.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return s}));var n=r("./Constants/index.js"),o=function(e){var t={category:"",underlying:""},r=new RegExp("^([A-Z]+)_((OTC_[A-Z0-9]+)|R_[\\d]{2,3}|[A-Z]+)_").exec(e);return null!==r&&(t.category=r[1].toLowerCase(),t.underlying=r[2]),t},i=function(e){return e?Object(n.b)()[e.toUpperCase()]:null},a=function(e){return e?Object(n.a)()[e.toUpperCase()].name:null},s=function(e,t){if(/^MULTUP|MULTDOWN/.test(t))return"";var r=new RegExp("ticks|tick|seconds|minutes|minute|hour|hours").exec(e);if(null!==r){var n=r[0],o=n[0].toUpperCase()+n.slice(1);return o.endsWith("s")?o:"".concat(o,"s")}return"Days"}},"./Modules/Reports/Helpers/shortcode.js":function(e,t){var r,n={extractInfoFromShortcode:r=function(e){var t={category:"",underlying:"",barrier_1:""},r=new RegExp("^([A-Z]+)_((1HZ[0-9-V]+)|(OTC_[A-Z0-9]+)|R_[\\d]{2,3}|[A-Z]+)").exec(e);return null!==r&&(t.category=r[1].toLowerCase(),t.underlying=r[2],/^(CALL|PUT)$/i.test(t.category)&&(t.barrier_1=e.split("_").slice(-2)[0])),t},isHighLow:function(e){var t=e.shortcode,n=void 0===t?"":t,o=e.shortcode_info,i=void 0===o?"":o,a=n?r(n):i;return!(!a||!a.barrier_1||/^S0P$/.test(a.barrier_1))},isMultiplier:function(e){var t=e.shortcode,n=void 0===t?"":t,o=e.shortcode_info,i=void 0===o?"":o,a=n?r(n):i;return!(!a||!a.category)&&/^mult(up|down)$/.test(a.category)}};e.exports=n},"./Modules/SmartChart/Components/bottom-widgets.jsx":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=function(e){var t=e.Digits;return i.createElement("div",{className:"bottom-widgets"},t)};a.propTypes={Digits:o.a.node},t.a=a},"./Modules/SmartChart/Components/top-widgets.jsx":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("react-dom"),s=r.n(a),c=r("@deriv/components"),l=r("@deriv/translations"),u=r("./Stores/connect.js"),p=r("./Modules/SmartChart/index.js"),f=r("./Stores/Modules/Contract/Helpers/logic.js"),d=r("./Stores/Modules/Contract/Helpers/digits.js"),h=Object(u.b)((function(e){var t=e.modules;return{granularity:t.contract_trade.granularity,markers_array:t.contract_trade.markers_array}}))((function(e){var t=e.markers_array,r=e.granularity,n=t[t.length-1];if(!n||!n.contract_info.tick_stream)return null;if(Object(f.m)(n.contract_info)||0!==r)return null;var o=n.contract_info,a=o.contract_type,s=o.tick_stream,c=o.tick_count,u=Object(d.b)(a)?s.length:Math.max(s.length-1,0);return i.createElement("span",{className:"recent-trade-info"},Object(l.localize)("Tick")," ",u,"/",c)})),m=function(e){var t=e.InfoBox,r=e.is_mobile,n=e.is_title_enabled,o=void 0===n||n,a=e.onSymbolChange,l=e.y_axis_width,u=e.theme,f=e.is_digits_widget_active,d=i.createElement(p.c,{enabled:o,onChange:a,searchInputClassName:"data-hj-whitelist",isNestedList:r,portalNodeId:r?"deriv_app":void 0}),m=s.a.createPortal(i.createElement("div",{className:"smartcharts-".concat(u)},i.createElement("div",{className:"top-widgets-portal",style:{width:"calc(100% - ".concat(l?l+5:0,"px)")}},d,!f&&i.createElement(h,null))),document.getElementById("app_contents"));return i.createElement(i.Fragment,null,t,i.createElement(c.MobileWrapper,null,m),i.createElement(c.DesktopWrapper,null,d),i.createElement(p.a,null))};m.propTypes={InfoBox:o.a.node,is_mobile:o.a.bool,is_title_enabled:o.a.bool,onSymbolChange:o.a.func},t.a=m},"./Modules/SmartChart/index.js":function(e,t,r){"use strict";r.d(t,"h",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return p})),r.d(t,"g",(function(){return f})),r.d(t,"i",(function(){return d})),r.d(t,"k",(function(){return h})),r.d(t,"j",(function(){return m})),r.d(t,"e",(function(){return y})),r.d(t,"f",(function(){return _}));var n=r("react"),o=r("@deriv/shared"),i=Promise.resolve().then(r.t.bind(null,"@deriv/deriv-charts",7));i.then((function(e){(0,e.setSmartChartsPublicPath)(Object(o.getUrlBase)("/js/smartcharts/"))}));var a=function(e){return function(){return i.then((function(t){return{default:t[e]}}))}},s=n.lazy(a("SmartChart")),c=n.lazy(a("AssetInformation")),l=n.lazy(a("ChartTitle")),u=(a("ChartSize"),n.lazy(a("ChartMode"))),p=(a("Comparison"),n.lazy(a("DrawTools"))),f=n.lazy(a("Share")),d=n.lazy(a("StudyLegend")),h=n.lazy(a("Views")),m=n.lazy(a("ToolbarWidget")),y=n.lazy(a("FastMarker")),_=n.lazy(a("RawMarker"))},"./Modules/Trading/Components/Elements/popover-message-checkbox.jsx":function(e,t,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("@deriv/components"),s=r("@deriv/translations"),c=function(e){var t=e.defaultChecked,r=e.onChange,n=e.message,o=e.name;return i.createElement(i.Fragment,null,n,i.createElement(a.Checkbox,{defaultChecked:t,onChange:r,name:o,label:Object(s.localize)("Don't show this again")}))};c.propTypes={defaultChecked:o.a.bool,message:o.a.string,name:o.a.string,onChange:o.a.func},t.a=c},"./Modules/Trading/Containers/toast-popup.jsx":function(e,t,r){"use strict";r.d(t,"b",(function(){return y})),r.d(t,"a",(function(){return b}));var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("react-dom"),l=r.n(c),u=r("@deriv/components"),p=r("./Stores/connect.js");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var y=function(e){var t=e.portal_id,r=void 0===t?"popup_root":t,n=e.children,i=e.className,a=m(e,["portal_id","children","className"]);return document.getElementById(r)?l.a.createPortal(s.createElement(u.Toast,h({className:o()("dc-toast-popup",i)},a),n),document.getElementById(r)):null},_=function(e){var t=e.status,r=e.portal_id,n=e.message;if(!document.getElementById(r)||!n)return null;var i=f(s.useState(!1),2),a=i[0],c=i[1];return a||"online"===t?a&&"online"===t&&setTimeout((function(){c(!1)}),1500):c(!0),l.a.createPortal(s.createElement(u.MobileWrapper,null,s.createElement(u.Toast,{className:o()({"dc-toast--blinker":"blinker"===t}),is_open:a,timeout:0,type:"error"},n)),document.getElementById(r))};_.propTypes={portal_id:a.a.string,status:a.a.string,message:a.a.string};var b=Object(p.b)((function(e){return{network_status:e.common.network_status}}))((function(e){var t=e.network_status;return s.createElement(_,{portal_id:"popup_root",message:t.tooltip,status:t.class})}))},"./Modules/Trading/Helpers/digits.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a}));var n=["even_odd","match_diff","over_under"],o=["DIGITDIFF","DIGITMATCH","DIGITOVER","DIGITUNDER","DIGITEVEN","DIGITODD"],i=function(e){return n.includes(e)},a=function(e){return o.includes(e)}},"./Services/ws-methods.js":function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var o=function(e){n=e}},"./Stores/Modules/Contract/Helpers/contract-type.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return"rise_fall"===e||"rise_fall_equal"===e||"high_low"===e}},"./Stores/Modules/Contract/Helpers/digits.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s}));var n=r("./Stores/Modules/Contract/Helpers/logic.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(e){return/digit/i.test(e)},s=function(e,t){var r=t.tick_stream,a=Object(n.i)(r),s=a.tick_display_value,l=a.epoch;return s&&l?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},l in e?{}:c(s,l)):{}},c=function(e,t){return i({},+t,{digit:+"".concat(e).slice(-1),spot:e})}},"./Stores/Modules/Contract/Helpers/limit-orders.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return u}));var n=r("./Stores/Modules/Contract/Helpers/multiplier.js"),o=r("./Stores/Modules/SmartChart/Constants/barriers.js"),i=r("./Stores/Modules/SmartChart/chart-barrier-store.js"),a=r("./Stores/Modules/SmartChart/Helpers/barriers.js"),s={STOP_OUT:"stop_out",TAKE_PROFIT:"take_profit",STOP_LOSS:"stop_loss"},c=function(e){var t=e.barriers,r=e.contract_type,c=e.contract_info,l=void 0===c?{}:c;if(e.is_over&&function(e,t){return Object(n.a)(e)&&t.limit_order}(r,l)){var u=Object.values(s),p=Object.keys(l.limit_order).some((function(e){return e===s.STOP_LOSS&&l.limit_order[e].value}));u.forEach((function(e){var r=l.limit_order[e];if(r&&r.value){var n=t.find((function(t){return t.key===e}));if(n){if(n.high===+r.value)return;n.onChange({high:r.value})}else{var c={key:e,title:"".concat(r.display_name),color:e===s.TAKE_PROFIT?o.a.GREEN:o.a.ORANGE,draggable:!1,lineStyle:e===s.STOP_OUT?o.b.DOTTED:o.b.SOLID,hidePriceLines:p&&e===s.STOP_OUT,hideOffscreenLine:!0,showOffscreenArrows:!0,isSingleBarrier:!0,opacityOnOverlap:e===s.STOP_OUT&&.15};n=new i.a(r.value),Object.assign(n,c),t.push(n)}}else Object(a.c)(t,e)}))}else{Object.values(s).forEach((function(e){return Object(a.c)(t,e)}))}},l=function(e){if(!e)return{stop_loss:0,take_profit:0};var t=e.stop_loss,r=(t=void 0===t?{}:t).order_amount,n=e.take_profit;return{stop_loss:r,take_profit:(n=void 0===n?{}:n).order_amount}},u=function(e){var t=e.has_contract_update_stop_loss,r=e.has_contract_update_take_profit,n=e.contract_update_stop_loss,o=e.contract_update_take_profit,i={};return i.take_profit=r?+o:null,i.stop_loss=t?+n:null,i}},"./Stores/Modules/Contract/Helpers/logic.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return f})),r.d(t,"f",(function(){return m})),r.d(t,"l",(function(){return y})),r.d(t,"h",(function(){return b})),r.d(t,"b",(function(){return g})),r.d(t,"i",(function(){return v})),r.d(t,"m",(function(){return O})),r.d(t,"n",(function(){return w})),r.d(t,"o",(function(){return j})),r.d(t,"p",(function(){return S})),r.d(t,"k",(function(){return k})),r.d(t,"q",(function(){return P})),r.d(t,"g",(function(){return E})),r.d(t,"j",(function(){return x})),r.d(t,"a",(function(){return C})),r.d(t,"e",(function(){return D}));var n=r("../node_modules/moment/moment.js"),o=r.n(n),i=r("@deriv/shared"),a=r("./_common/base/server_time.js"),s=r.n(a),c=r("./Stores/Modules/Contract/Helpers/limit-orders.js"),l=function(e){if(Object(i.isEmptyObject)(e))return null;var t=e.date_start,r=E(e),n=d(t,r||null),o=f(t,r||null);return{chart_type:e.tick_count?"mountain":o,granularity:e.tick_count?0:n,end_epoch:r,start_epoch:t,scroll_to_epoch:e.purchase_time}},u=[[1,0],[2,120],[6,600],[24,900],[120,3600],[720,14400]],p=function(e){return e||s.a.get().unix()},f=function(e,t){return o.a.duration(o.a.unix(p(t)).diff(o.a.unix(e))).asHours()<=1?"mountain":"candle"},d=function(e,t){return h(p(t)-e)},h=function(e){return(u.find((function(t){return e<=3600*t[0]}))||[null,86400])[1]},m=function(e){var t="purchased";return O(e)&&(t=e.profit>=0?"won":"lost"),t},y=function(e,t){if(Object(i.isEmptyObject)(t)||Object(i.isEmptyObject)(e))return!1;var r=E(e);return!(!r||!t.epoch)&&o.a.duration(o.a.unix(t.epoch).diff(o.a.unix(r))).asSeconds()>=2},_=function(e){return+(e.sell_price||e.bid_price)},b=function(e){return _(e)&&O(e)?_(e):+e.bid_price||null},g=function(e){var t=e.cancellation,r=(t=void 0===t?{}:t).ask_price;return void 0===r?0:r},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e[e.length-1]||{}},O=function(e){return!!(e.status&&"open"!==e.status||e.is_expired||e.is_settleable)},w=function(e){return"cancelled"===e.status},j=function(e){return"sold"===e.status},S=function(e){return!!e.is_valid_to_cancel},k=function(e){return!!(e.cancellation.date_expiry<s.a.get().unix())},P=function(e){return!O(e)&&!j(e)&&1==+e.is_valid_to_sell},E=function(e){var t=e.exit_tick_time,r=e.date_expiry,n=e.is_expired,o=e.is_path_dependent,i=e.sell_time,a=e.status,s=e.tick_count;if(n&&"open"!==a||j(e)||w(e))return j(e)?i>r?r:i:!s&&i>r||r>t&&!+o?r:t},x=function(e){var t=e.contract_info;return t.bid_price-t.buy_price},C=function(e){return e.contract_info.buy_price},D=function(e){var t=e.contract_update,r=e.limit_order,n=Object(c.b)(r||t),o=n.stop_loss,i=n.take_profit;return{contract_update_stop_loss:o?Math.abs(o).toString():"",contract_update_take_profit:i?i.toString():"",has_contract_update_stop_loss:!!o,has_contract_update_take_profit:!!i}}},"./Stores/Modules/Contract/Helpers/multiplier.js":function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return s}));var i=function(e){return/MULT/i.test(e)},a=function(e){var t=!e.has_cancellation;(0,e.onChangeMultiple)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({has_cancellation:t},t?{has_stop_loss:!1,has_take_profit:!1}:{cancellation_price:void 0}))},s=function(e){var t=e.event;(0,e.onChangeMultiple)({has_cancellation:!0,has_take_profit:!1,has_stop_loss:!1,cancellation_duration:t.target.value})}},"./Stores/Modules/MT5/Helpers/mt5-config.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a}));var n=r("@deriv/translations"),o=function(){var e={account_type:"",leverage:500,short_title:Object(n.localize)("Synthetic")},t={account_type:"financial",leverage:1e3,short_title:Object(n.localize)("Financial")},r={account_type:"financial_stp",leverage:100,short_title:Object(n.localize)("Financial STP")};return{demo:{synthetic:{mt5_account_type:e.account_type,leverage:e.leverage,title:Object(n.localize)("Demo Synthetic"),short_title:e.short_title},financial:{mt5_account_type:t.account_type,leverage:t.leverage,title:Object(n.localize)("Demo Financial"),short_title:t.short_title},financial_stp:{mt5_account_type:r.account_type,leverage:r.leverage,title:Object(n.localize)("Demo Financial STP"),short_title:r.short_title}},real:{synthetic:{mt5_account_type:e.account_type,leverage:e.leverage,title:Object(n.localize)("Synthetic"),short_title:e.short_title},financial:{mt5_account_type:t.account_type,leverage:t.leverage,title:Object(n.localize)("Financial"),short_title:t.short_title},financial_stp:{mt5_account_type:r.account_type,leverage:r.leverage,title:Object(n.localize)("Financial STP"),short_title:r.short_title}}}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t={real_svg:{type:"synthetic",category:"real"},real_svg_financial:{type:"financial",category:"real"},real_vanuatu_financial:{type:"financial",category:"real"},real_labuan_financial_stp:{type:"financial_stp",category:"real"},demo_svg:{type:"synthetic",category:"demo"},demo_svg_financial:{type:"financial",category:"demo"},demo_vanuatu_financial:{type:"financial",category:"demo"},demo_labuan_financial_stp:{type:"financial_stp",category:"demo"},demo_maltainvest_financial:{type:"financial",category:"demo"},real_maltainvest_financial:{type:"financial",category:"real"},demo_malta:{type:"synthetic",category:"demo"},real_malta:{type:"synthetic",category:"real"}};return void 0!==e?t[e]&&t[e].type?t[e]:{type:"",category:""}:t},a=function(e){var t=e.category,r=e.type;return{real:{synthetic:{account_type:"gaming"},financial:{account_type:"financial",mt5_account_type:"financial"},financial_stp:{account_type:"financial",mt5_account_type:"financial_stp"}},demo:{synthetic:{account_type:"demo"},financial:{account_type:"demo",mt5_account_type:"financial"},financial_stp:{account_type:"demo",mt5_account_type:"financial_stp"}}}[t][r]}},"./Stores/Modules/MT5/mt5-store.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return ce}));var n,o,i,a,s,c,l,u,p,f,d,h,m,y,_,b,g,v,O,w,j,S,k,P,E,x,C,D,T,M,A,R,N,I,z,L,U,F,H,Y=r("mobx"),V=r("./Services/ws-methods.js"),B=r("./Stores/base-store.js"),W=r("./Stores/Modules/MT5/Helpers/mt5-config.js");function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function X(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){G(i,n,o,a,s,"next",e)}function s(e){G(i,n,o,a,s,"throw",e)}a(void 0)}))}}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ee(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae(e);if(t){var o=ae(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return oe(this,r)}}function oe(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ce=(n=Y.action.bound,o=Y.action.bound,i=Y.action.bound,a=Y.action.bound,s=Y.action.bound,c=Y.action.bound,l=Y.action.bound,u=Y.action.bound,p=Y.action.bound,f=Y.action.bound,d=Y.action.bound,h=Y.action.bound,m=Y.action.bound,y=Y.action.bound,_=Y.action.bound,b=Y.action.bound,g=Y.action.bound,v=Y.action.bound,O=Y.action.bound,w=Y.action.bound,j=Y.action.bound,S=Y.action.bound,k=Y.action.bound,P=Y.action.bound,E=Y.action.bound,H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(c,e);var t,r,n,o,i,a,s=ne(c);function c(e){var t,r=e.root_store;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),ee(t=s.call(this,{root_store:r}),"is_compare_accounts_visible",C,ie(t)),ee(t,"account_type",D,ie(t)),ee(t,"new_account_response",T,ie(t)),ee(t,"map_type",M,ie(t)),ee(t,"has_mt5_error",A,ie(t)),ee(t,"error_message",R,ie(t)),ee(t,"is_mt5_success_dialog_enabled",N,ie(t)),ee(t,"is_mt5_financial_stp_modal_open",I,ie(t)),ee(t,"is_mt5_password_modal_enabled",z,ie(t)),ee(t,"is_mt5_reset_password_modal_enabled",L,ie(t)),ee(t,"is_mt5_pending_dialog_open",U,ie(t)),ee(t,"current_account",F,ie(t)),t}return t=c,r=[{key:"onMount",value:function(){this.checkShouldOpenAccount(),this.onRealAccountSignupEnd(this.realAccountSignupEndListener),this.root_store.ui.is_mt5_page=!0}},{key:"onUnmount",value:function(){this.disposeRealAccountSignupEnd(),this.root_store.ui.is_mt5_page=!1}},{key:"checkShouldOpenAccount",value:function(){var e=sessionStorage.getItem("open_mt5_account_type");if(e){var t=K(e.split("."),2),r=t[0],n=t[1];this.createMT5Account({category:r,type:n}),sessionStorage.removeItem("open_mt5_account_type")}}},{key:"realAccountSignupEndListener",value:function(){var e=JSON.parse(sessionStorage.getItem("post_real_account_signup"));return e&&e.category&&e.type&&(sessionStorage.removeItem("post_real_account_signup"),this.enableMt5PasswordModal()),Promise.resolve()}},{key:"clearMt5Error",value:function(){this.error_message="",this.has_mt5_error=!1,this.is_mt5_password_modal_enabled=!1}},{key:"createMT5Account",value:function(e){var t=e.category,r=e.type;this.setAccountType({category:t,type:r}),"real"===t?this.realMt5Signup():this.demoMt5Signup()}},{key:"demoMt5Signup",value:function(){this.enableMt5PasswordModal()}},{key:"disableMt5PasswordModal",value:function(){this.is_mt5_password_modal_enabled=!1}},{key:"enableMt5PasswordModal",value:function(){this.is_mt5_password_modal_enabled=!0}},{key:"getName",value:function(){var e=(this.root_store.client.account_settings&&this.root_store.client.account_settings).first_name,t=this.mt5_companies[this.account_type.category][this.account_type.type].title;return e?[e,t].join(" "):t}},{key:"openAccount",value:function(e){var t=this.getName(),r=this.mt5_companies[this.account_type.category][this.account_type.type].leverage,n=Object(W.a)(this.account_type);return V.a.mt5NewAccount(Z({mainPassword:e,email:this.root_store.client.email_address,leverage:r,name:t},n))}},{key:"beginRealSignupForMt5",value:function(){sessionStorage.setItem("post_real_account_signup",JSON.stringify(this.account_type)),this.root_store.ui.openRealAccountSignup()}},{key:"realMt5Signup",value:function(){switch(this.account_type.type){case"financial":this.enableMt5PasswordModal();break;case"financial_stp":this.root_store.client.fetchResidenceList(),this.root_store.client.fetchStatesList(),this.root_store.client.fetchAccountSettings(),this.enableMt5FinancialStpModal();break;case"synthetic":this.enableMt5PasswordModal();break;default:throw new Error("Cannot determine mt5 account signup.")}}},{key:"enableMt5FinancialStpModal",value:function(){"real"===this.account_type.category&&"financial_stp"===this.account_type.type&&(this.is_mt5_financial_stp_modal_open=!0)}},{key:"setAccountType",value:function(e){this.account_type=e}},{key:"setCurrentAccount",value:function(e,t){this.current_account=Z(Z({},t),e)}},{key:"setError",value:function(e,t){this.has_mt5_error=e,this.error_message=t?t.message:""}},{key:"setMt5Account",value:function(e){this.new_account_response=e}},{key:"setMt5SuccessDialog",value:function(e){this.is_mt5_success_dialog_enabled=!!e}},{key:"storeProofOfAddress",value:function(e,t,r){var n=this,o=r.setStatus;return new Promise((function(r,i){o({msg:""}),n.setState({is_btn_loading:!0}),V.a.setSettings(t).then((function(t){t.error?(o({msg:t.error.message}),i(t)):(n.root_store.fetchAccountSettings(),e.current.upload().then((function(e){e.warning?(o({msg:e.message}),i(e)):V.a.authorized.storage.getAccountStatus().then((function(e){var t=e.error,n=e.get_account_status;t&&i(t);var o=n.authentication.identity,a=!(o&&"none"===o.status);r({identity:o,has_poi:a})}))})))}))}))}},{key:"submitMt5Password",value:(a=X(regeneratorRuntime.mark((function e(t,r){var n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openAccount(t);case 2:(n=e.sent).error?(this.setError(!0,n.error),console.warn("API Error: ",n)):(V.a.authorized.storage.mt5LoginList().then(this.root_store.client.responseMt5LoginList),V.a.transferBetweenAccounts(),Object(Y.runInAction)((function(){o.setMt5Account(n.mt5_new_account),o.is_mt5_password_modal_enabled=!1,o.has_mt5_error=!1,setTimeout((function(){return o.setMt5SuccessDialog(!0)}),300)}))),r(!1);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"toggleCompareAccountsModal",value:function(){this.is_compare_accounts_visible=!this.is_compare_accounts_visible}},{key:"disableMt5FinancialStpModal",value:function(){this.is_mt5_financial_stp_modal_open=!1}},{key:"topUpVirtual",value:(i=X(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.authorized.mt5Deposit({to_mt5:this.current_account.login});case 2:if((t=e.sent).error){e.next=11;break}return e.next=6,V.a.authorized.mt5LoginList().then(this.root_store.client.responseMt5LoginList);case 6:r=this.root_store.client.mt5_login_list.find((function(e){return e.login===n.current_account.login})).balance,Object(Y.runInAction)((function(){n.root_store.ui.is_top_up_virtual_open=!1,n.current_account.balance=r})),setTimeout((function(){Object(Y.runInAction)((function(){n.root_store.ui.is_top_up_virtual_success=!0}))}),250),e.next=12;break;case 11:console.error(t);case 12:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"closeMT5PendingDialog",value:function(){this.is_mt5_pending_dialog_open=!1}},{key:"openPendingDialog",value:function(){var e=this;setTimeout(Object(Y.runInAction)((function(){e.is_mt5_pending_dialog_open=!0})),300)}},{key:"sendVerifyEmail",value:function(){return V.a.verifyEmail(this.root_store.client.email,"mt5_password_reset")}},{key:"setMt5PasswordResetModal",value:function(e){this.is_mt5_reset_password_modal_enabled=!!e}},{key:"has_mt5_account",get:function(){return this.current_list.length>0}},{key:"account_title",get:function(){return this.account_type.category?Object(W.c)()[this.account_type.category][this.account_type.type].title:""}},{key:"current_list",get:function(){var e=[];return this.root_store.client.mt5_login_list.forEach((function(t){var r=Object(W.b)(t.group),n=r.type,o=r.category;e["".concat(o,".").concat(n)]=Object.assign({},t)})),e}},{key:"mt5_companies",get:function(){return Object(W.c)()}}],n=[{key:"changePassword",value:(o=X(regeneratorRuntime.mark((function e(t){var r,n,o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login,n=t.old_password,o=t.new_password,i=t.password_type,e.next=3,V.a.authorized.mt5PasswordChange(r,n,o,i);case 3:return a=e.sent,s=a.error,e.abrupt("return",null==s?void 0:s.message);case 6:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],r&&te(t.prototype,r),n&&te(t,n),c}(B.a),C=se((x=H).prototype,"is_compare_accounts_visible",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=se(x.prototype,"account_type",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{category:void 0,type:void 0}}}),T=se(x.prototype,"new_account_response",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),M=se(x.prototype,"map_type",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),A=se(x.prototype,"has_mt5_error",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=se(x.prototype,"error_message",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),N=se(x.prototype,"is_mt5_success_dialog_enabled",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=se(x.prototype,"is_mt5_financial_stp_modal_open",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=se(x.prototype,"is_mt5_password_modal_enabled",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=se(x.prototype,"is_mt5_reset_password_modal_enabled",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=se(x.prototype,"is_mt5_pending_dialog_open",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=se(x.prototype,"current_account",[Y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),se(x.prototype,"has_mt5_account",[Y.computed],Object.getOwnPropertyDescriptor(x.prototype,"has_mt5_account"),x.prototype),se(x.prototype,"account_title",[Y.computed],Object.getOwnPropertyDescriptor(x.prototype,"account_title"),x.prototype),se(x.prototype,"current_list",[Y.computed],Object.getOwnPropertyDescriptor(x.prototype,"current_list"),x.prototype),se(x.prototype,"onMount",[n],Object.getOwnPropertyDescriptor(x.prototype,"onMount"),x.prototype),se(x.prototype,"onUnmount",[o],Object.getOwnPropertyDescriptor(x.prototype,"onUnmount"),x.prototype),se(x.prototype,"realAccountSignupEndListener",[i],Object.getOwnPropertyDescriptor(x.prototype,"realAccountSignupEndListener"),x.prototype),se(x.prototype,"clearMt5Error",[a],Object.getOwnPropertyDescriptor(x.prototype,"clearMt5Error"),x.prototype),se(x.prototype,"createMT5Account",[s],Object.getOwnPropertyDescriptor(x.prototype,"createMT5Account"),x.prototype),se(x.prototype,"disableMt5PasswordModal",[c],Object.getOwnPropertyDescriptor(x.prototype,"disableMt5PasswordModal"),x.prototype),se(x.prototype,"enableMt5PasswordModal",[l],Object.getOwnPropertyDescriptor(x.prototype,"enableMt5PasswordModal"),x.prototype),se(x.prototype,"getName",[u],Object.getOwnPropertyDescriptor(x.prototype,"getName"),x.prototype),se(x.prototype,"openAccount",[p],Object.getOwnPropertyDescriptor(x.prototype,"openAccount"),x.prototype),se(x.prototype,"beginRealSignupForMt5",[f],Object.getOwnPropertyDescriptor(x.prototype,"beginRealSignupForMt5"),x.prototype),se(x.prototype,"enableMt5FinancialStpModal",[d],Object.getOwnPropertyDescriptor(x.prototype,"enableMt5FinancialStpModal"),x.prototype),se(x.prototype,"setAccountType",[h],Object.getOwnPropertyDescriptor(x.prototype,"setAccountType"),x.prototype),se(x.prototype,"setCurrentAccount",[m],Object.getOwnPropertyDescriptor(x.prototype,"setCurrentAccount"),x.prototype),se(x.prototype,"setError",[y],Object.getOwnPropertyDescriptor(x.prototype,"setError"),x.prototype),se(x.prototype,"setMt5Account",[_],Object.getOwnPropertyDescriptor(x.prototype,"setMt5Account"),x.prototype),se(x.prototype,"setMt5SuccessDialog",[b],Object.getOwnPropertyDescriptor(x.prototype,"setMt5SuccessDialog"),x.prototype),se(x.prototype,"storeProofOfAddress",[g],Object.getOwnPropertyDescriptor(x.prototype,"storeProofOfAddress"),x.prototype),se(x.prototype,"submitMt5Password",[v],Object.getOwnPropertyDescriptor(x.prototype,"submitMt5Password"),x.prototype),se(x.prototype,"toggleCompareAccountsModal",[O],Object.getOwnPropertyDescriptor(x.prototype,"toggleCompareAccountsModal"),x.prototype),se(x.prototype,"disableMt5FinancialStpModal",[w],Object.getOwnPropertyDescriptor(x.prototype,"disableMt5FinancialStpModal"),x.prototype),se(x.prototype,"topUpVirtual",[j],Object.getOwnPropertyDescriptor(x.prototype,"topUpVirtual"),x.prototype),se(x.prototype,"closeMT5PendingDialog",[S],Object.getOwnPropertyDescriptor(x.prototype,"closeMT5PendingDialog"),x.prototype),se(x.prototype,"openPendingDialog",[k],Object.getOwnPropertyDescriptor(x.prototype,"openPendingDialog"),x.prototype),se(x.prototype,"sendVerifyEmail",[P],Object.getOwnPropertyDescriptor(x.prototype,"sendVerifyEmail"),x.prototype),se(x.prototype,"setMt5PasswordResetModal",[E],Object.getOwnPropertyDescriptor(x.prototype,"setMt5PasswordResetModal"),x.prototype),x)},"./Stores/Modules/Portfolio/Helpers/details.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"e",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return p}));var n=r("@deriv/shared"),o=r("@deriv/translations"),i=r("./Stores/Modules/Contract/Helpers/digits.js"),a=function(e){var t=Object(n.unique)(e.tick_stream,"epoch"),r=Object(i.b)(e.contract_type)?t.length:t.length-1;return!r||r<0?0:r},s=function(e){return e%1!=0},c=function(){return{d:{name_plural:Object(o.localize)("days"),name_singular:Object(o.localize)("day")},h:{name_plural:Object(o.localize)("hours"),name_singular:Object(o.localize)("hour")},m:{name_plural:Object(o.localize)("minutes"),name_singular:Object(o.localize)("minute")},s:{name:Object(o.localize)("seconds")}}},l=function(e){var t=c(),r=e.asMilliseconds()/1e3;if(r){if(r>=864e5)return r/864e5<=2?t.d.name_singular:t.d.name_plural;if(r>=36e5&&r<864e5)return s(r/36e5)?"":36e5===r?t.h.name_singular:t.h.name_plural;if(r>=6e4&&r<36e5)return s(r/6e4)?"":6e4===r?t.m.name_singular:t.m.name_plural;if(r>=1e3&&r<6e4)return t.s.name}return t.s.name},u=function(e){return Object(n.getDiffDuration)(Object(n.epochToMoment)(e.purchase_time||e.date_start),Object(n.epochToMoment)(e.date_expiry))},p=function(e){return e.tick_count?e.tick_count:function(e){var t=e.asMilliseconds()/1e3;if(t>=864e5){var r=t/864e5;return Math.floor(r)}if(t>=36e5&&t<864e5){var o=s(t/36e5),i=s(t/6e4)?"HH[h] mm[m] ss[s]":"HH[h] mm[m]";return o?Object(n.formatMiliseconds)(t,i):Math.floor(t/36e5)}return t>=6e4&&t<36e5?s(t/6e4)?Object(n.formatMiliseconds)(t,"mm[m] ss[s]"):Math.floor(t/6e4):Math.floor(t/1e3)}(u(e))}},"./Stores/Modules/SmartChart/Constants/barriers.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var n={CALL:"ABOVE",PUT:"BELOW",CALLE:"ABOVE",PUTE:"BELOW",EXPIRYRANGE:"BETWEEN",EXPIRYMISS:"OUTSIDE",RANGE:"BETWEEN",UPORDOWN:"OUTSIDE",ONETOUCH:"NONE_SINGLE",NOTOUCH:"NONE_SINGLE",ASIANU:"ABOVE",ASIAND:"BELOW",MULTUP:"ABOVE",MULTDOWN:"BELOW"},o={1:"NONE_SINGLE",2:"NONE_DOUBLE"},i={GREEN:"#4bb4b3",RED:"#ec3f3f",ORANGE:"#ff6444",GRAY:"#999999",DARK_GRAY:"#6E6E6E"},a={DASHED:"dashed",DOTTED:"dotted",SOLID:"solid"}},"./Stores/Modules/SmartChart/Helpers/barriers.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return a}));r("mobx"),r("@deriv/shared");var n=r("./Stores/Modules/SmartChart/Constants/barriers.js"),o=function(e){return e in n.c},i=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.filter((function(e){return null!=e})).map((function(t){return"".concat(e&&!/^[+-]/.test(t)?"+":"").concat(t)}))},a=function(e,t){var r=e.findIndex((function(e){return e.key===t}));r>-1&&e.splice(r,1)}},"./Stores/Modules/SmartChart/chart-barrier-store.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n,o,i,a,s,c,l,u,p,f,d,h,m,y,_,b,g,v=r("mobx"),O=r("./Stores/Modules/SmartChart/Constants/barriers.js"),w=r("./Stores/Modules/SmartChart/Helpers/barriers.js");function j(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var C=(n=v.action.bound,o=v.action.bound,i=v.action.bound,a=v.action.bound,c=x((s=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.color,a=o.line_style,s=o.not_draggable;P(this,e),k(this,"color",c,this),k(this,"lineStyle",l,this),k(this,"shade",u,this),k(this,"shadeColor",p,this),k(this,"high",f,this),k(this,"low",d,this),k(this,"relative",h,this),k(this,"draggable",m,this),k(this,"hidePriceLines",y,this),k(this,"hideBarrierLine",_,this),k(this,"hideOffscreenLine",b,this),k(this,"title",g,this),this.onChartBarrierChange=void 0,this.color=i,this.lineStyle=a||O.b.SOLID,this.onChange=this.onBarrierChange,this.onChartBarrierChange="function"==typeof n?n.bind(this):function(){},this.high=+t||0,r&&(this.low=+r),this.shade=this.default_shade;var v=!!t;this.relative=!v||/^[+-]/.test(t),this.draggable=!s&&v,this.hidePriceLines=!v}var t,r,n;return t=e,(r=[{key:"updateBarriers",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r||(this.relative=/^[+-]/.test(e)),this.high=+e||void 0,this.low=+t||void 0}},{key:"updateBarrierShade",value:function(e,t){this.shade=e&&O.c[t]||this.default_shade}},{key:"onBarrierChange",value:function(e){var t=e.high,r=e.low;this.updateBarriers(t,r,!0),this.onChartBarrierChange.apply(this,j(Object(w.a)(this.relative,t,r)))}},{key:"updateBarrierColor",value:function(e){this.color=e?O.a.DARK_GRAY:O.a.GRAY}},{key:"barrier_count",get:function(){return(void 0!==this.high)+(void 0!==this.low)}},{key:"default_shade",get:function(){return O.d[this.barrier_count]}}])&&E(t.prototype,r),n&&E(t,n),e}()).prototype,"color",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=x(s.prototype,"lineStyle",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=x(s.prototype,"shade",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=x(s.prototype,"shadeColor",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=x(s.prototype,"high",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=x(s.prototype,"low",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=x(s.prototype,"relative",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=x(s.prototype,"draggable",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=x(s.prototype,"hidePriceLines",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=x(s.prototype,"hideBarrierLine",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=x(s.prototype,"hideOffscreenLine",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=x(s.prototype,"title",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x(s.prototype,"updateBarriers",[n],Object.getOwnPropertyDescriptor(s.prototype,"updateBarriers"),s.prototype),x(s.prototype,"updateBarrierShade",[o],Object.getOwnPropertyDescriptor(s.prototype,"updateBarrierShade"),s.prototype),x(s.prototype,"onBarrierChange",[i],Object.getOwnPropertyDescriptor(s.prototype,"onBarrierChange"),s.prototype),x(s.prototype,"updateBarrierColor",[a],Object.getOwnPropertyDescriptor(s.prototype,"updateBarrierColor"),s.prototype),x(s.prototype,"barrier_count",[v.computed],Object.getOwnPropertyDescriptor(s.prototype,"barrier_count"),s.prototype),x(s.prototype,"default_shade",[v.computed],Object.getOwnPropertyDescriptor(s.prototype,"default_shade"),s.prototype),s)},"./Stores/Modules/Trading/Constants/contract.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"d",(function(){return c}));var n=r("@deriv/translations");function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function(){return{payout:Object(n.localize)("Payout"),stake:Object(n.localize)("Stake"),multiplier:Object(n.localize)("Multiplier")}},a=function(){return{rise_fall:{title:Object(n.localize)("Rise/Fall"),trade_types:["CALL","PUT"],basis:["stake","payout"],components:["start_date"],barrier_count:0},rise_fall_equal:{title:Object(n.localize)("Rise/Fall"),trade_types:["CALLE","PUTE"],basis:["stake","payout"],components:["start_date"],barrier_count:0},high_low:{title:Object(n.localize)("Higher/Lower"),trade_types:["CALL","PUT"],basis:["stake","payout"],components:["barrier"],barrier_count:1},touch:{title:Object(n.localize)("Touch/No Touch"),trade_types:["ONETOUCH","NOTOUCH"],basis:["stake","payout"],components:["barrier"]},end:{title:Object(n.localize)("Ends In/Ends Out"),trade_types:["EXPIRYMISS","EXPIRYRANGE"],basis:["stake","payout"],components:["barrier"]},stay:{title:Object(n.localize)("Stays In/Goes Out"),trade_types:["RANGE","UPORDOWN"],basis:["stake","payout"],components:["barrier"]},asian:{title:Object(n.localize)("Asian Up/Asian Down"),trade_types:["ASIANU","ASIAND"],basis:["stake","payout"],components:[]},match_diff:{title:Object(n.localize)("Matches/Differs"),trade_types:["DIGITMATCH","DIGITDIFF"],basis:["stake","payout"],components:["last_digit"]},even_odd:{title:Object(n.localize)("Even/Odd"),trade_types:["DIGITODD","DIGITEVEN"],basis:["stake","payout"],components:[]},over_under:{title:Object(n.localize)("Over/Under"),trade_types:["DIGITOVER","DIGITUNDER"],basis:["stake","payout"],components:["last_digit"]},lb_call:{title:Object(n.localize)("Close-to-Low"),trade_types:["LBFLOATCALL"],basis:["multiplier"],components:[]},lb_put:{title:Object(n.localize)("High-to-Close"),trade_types:["LBFLOATPUT"],basis:["multiplier"],components:[]},lb_high_low:{title:Object(n.localize)("High-to-Low"),trade_types:["LBHIGHLOW"],basis:["multiplier"],components:[]},tick_high_low:{title:Object(n.localize)("High Tick/Low Tick"),trade_types:["TICKHIGH","TICKLOW"],basis:[],components:[]},run_high_low:{title:Object(n.localize)("Only Ups/Only Downs"),trade_types:["RUNHIGH","RUNLOW"],basis:[],components:[]},reset:{title:Object(n.localize)("Reset Up/Reset Down"),trade_types:["RESETCALL","RESETPUT"],basis:[],components:[]},callputspread:{title:Object(n.localize)("Spread Up/Spread Down"),trade_types:["CALLSPREAD","PUTSPREAD"],basis:[],components:[]},multiplier:{title:Object(n.localize)("Multipliers"),trade_types:["MULTUP","MULTDOWN"],basis:["stake"],components:["multiplier","take_profit","stop_loss","cancellation"],config:{hide_duration:!0}}}},s=function(){var e;return o(e={},Object(n.localize)("Ups & Downs"),["rise_fall","rise_fall_equal","run_high_low","reset","asian","callputspread"]),o(e,Object(n.localize)("Highs & Lows"),["high_low","touch","tick_high_low"]),o(e,Object(n.localize)("Ins & Outs"),["end","stay"]),o(e,Object(n.localize)("Look Backs"),["lb_high_low","lb_put","lb_call"]),o(e,Object(n.localize)("Digits"),["match_diff","even_odd","over_under"]),o(e,Object(n.localize)("Multipliers"),["multiplier"]),e},c=["callputspread","run_high_low","reset","asian","tick_high_low","end","stay","lb_call","lb_put","lb_high_low"]},"./Stores/Modules/Trading/Helpers/barrier.js":function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:e.barriers};if(e.barriers){var r={};return["barrier","low_barrier","high_barrier"].forEach((function(t){t in e&&(r[t]=e[t])})),Object.assign(t||{},n({},e.expiry_type,r))}},i=function(e){return Math.floor(e)===e||e.length<1||e%1==0||isNaN(e)?0:e.toString().split(".")[1].length||0}},"./Stores/Modules/Trading/Helpers/contract-type.js":function(e,t,r){"use strict";var n=r("@deriv/shared"),o=r("./_common/base/server_time.js"),i=r.n(o),a=r("@deriv/translations"),s=r("./Services/ws-methods.js"),c=r("./Stores/Modules/Portfolio/Helpers/details.js"),l=r("./Stores/Modules/Trading/Helpers/barrier.js"),u=r("./Stores/Modules/Trading/Helpers/duration.js"),p=r("./Stores/Modules/Trading/Helpers/start-date.js"),f=r("./Stores/Modules/Trading/Constants/contract.js");function d(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){d(i,n,o,a,s,"next",e)}function s(e){d(i,n,o,a,s,"throw",e)}a(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var j,S,k,P,E,x,C,D,T,M,A,R,N,I,z,L,U,F,H,Y,V,B,W,q,G,X=(S={},k={},P={},E={},x=!1,C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t[e.contract_type]=e.contract_display,t},D=function(e,t){return-1!==e.indexOf(t)?t:e[0]},T=function(e){return{form_components:["duration","amount"].concat(y(j[e].components)).filter((function(t){return!("duration"===t&&j[e].config&&j[e].config.hide_duration)}))}},M=function(e,t){return{duration_units_list:Object(n.getPropertyValue)(S,[e,"config","durations","units_display",t])||[]}},A=function(e,t,r){var o=Object(n.getPropertyValue)(S,[t,"config","durations","units_display",r])||[],i=[];return o.forEach((function(e){i.push(e.value)})),{duration_unit:D(i,e)}},R=function(e,t,r){var o=Object(n.getPropertyValue)(S,[e,"config","durations","min_max",t])||{};return r&&(o=o[r]||{}),{duration_min_max:o}},N=function(e){return{contract_start_type:e===Number(0)?"spot":"forward"}},I=function(e,t){var r=Object(n.getPropertyValue)(S,[e,"config"]),o=[];return r.has_spot&&o.push({text:Object(a.localize)("Now"),value:Number(0)}),r.forward_starting_dates&&o.push.apply(o,y(r.forward_starting_dates)),{start_date:o.find((function(e){return e.value===t}))?t:o[0].value,start_dates_list:o}},z=y(Array(24).keys()).map((function(e){return"0".concat(e).slice(-2)})),L=y(Array(12).keys()).map((function(e){return"0".concat(5*e).slice(-2)})),U=function(e,t,r){return e&&!Object(p.b)(e,t)&&(t.minute(L.find((function(r){return Object(p.b)(e,t.minute(r))}))||t.format("mm")),Object(p.b)(e,t)||(t.minute(0),t.hour(z.find((function(n){return Object(p.b)(e,t.hour(n),r,!0)}))||t.format("HH")),t.minute(L.find((function(r){return Object(p.b)(e,t.minute(r))}))||t.format("mm")))),t.format("HH:mm")},F=function(e,t){var r=m(Object(n.isTimeValid)(t)?t.split(":"):[0,0],2),o=r[0],a=r[1];return Object(n.toMoment)(e||i.a.get()).hour(o).minute(a)},Y=function(e){return e.minute(5*Math.ceil(e.minute()/5))},V=function(e){return{trade_types:Object(n.getPropertyValue)(S,[e,"config","trade_types"])}},W=function(e,t){var r=Object(n.getPropertyValue)(S,[e,"basis"])||[],o=Object(f.c)();return{basis_list:r.reduce((function(e,t){return[].concat(y(e),[{text:o[t],value:t}])}),[]),basis:D(r,t)}},q=function(e,t){var r=Object(n.getPropertyValue)(S,[e,"config","multiplier_range"])||[];return{multiplier_range_list:r.map((function(e){return{text:"x".concat(e),value:e}})),multiplier:D(r,t)}},G=function(e,t){var r=Object(n.getPropertyValue)(S,[e,"config","cancellation_range"])||[],o=new RegExp("^([0-9]+)|([a-zA-Z]+)$","g");return{cancellation_duration:D(r,t),cancellation_range_list:r.map((function(e){return{text:"".concat((t=e,r=m(t.match(o),2),n=r[0],i=r[1],a=Object(c.e)(),"".concat(n," ").concat(a[i].name_plural))),value:e};var t,r,n,i,a}))}},{buildContractTypesConfig:function(e){return s.a.storage.contractsFor(e).then((function(e){var t=Object(n.getPropertyValue)(e,["contracts_for"]);if(x=t&&!e.contracts_for.available.find((function(e){return"forward"!==e.start_type})),t&&!x){var r=Object(f.a)();j=Object(f.b)(),S={},k=Object(n.cloneObject)(r),e.contracts_for.available.forEach((function(e){var t=Object.keys(j).find((function(t){return-1!==j[t].trade_types.indexOf(e.contract_type)&&(void 0===j[t].barrier_count||+j[t].barrier_count===e.barriers)}));if(t){if(!S[t]){var r=k[Object.keys(k).find((function(e){return-1!==k[e].indexOf(t)}))];if(!r)return;r[r.indexOf(t)]={value:t,text:j[t].title},S[t]=Object(n.cloneObject)(j[t])}var o=S[t].config||{};o.has_spot=o.has_spot||"spot"===e.start_type,o.durations=!o.hide_duration&&Object(u.a)(e,o.durations),o.trade_types=C(e,o.trade_types),o.barriers=Object(l.a)(e,o.barriers),o.forward_starting_dates=Object(p.a)(e,o.forward_starting_dates),o.multiplier_range=e.multiplier_range,o.cancellation_range=e.cancellation_range,S[t].config=o}})),Object.keys(k).forEach((function(e){k[e]=k[e].filter((function(e){return"object"===w(e)})),0===k[e].length&&delete k[e]}))}}))},getBarriers:B=function(e,t){var r=Object(n.getPropertyValue)(S,[e,"config","barriers"])||{},o=r[t]||{},i=o.barrier||o.high_barrier||"",a=o.low_barrier||"";return{barrier_count:r.count||0,barrier_1:i.toString(),barrier_2:a.toString()}},getContractType:function(e,t){var r=Object.keys(e||{}).reduce((function(t,r){return[].concat(y(t),y(e[r].map((function(e){return e.value}))))}),[]).filter((function(e){return-1===f.d.indexOf(e)}));return{contract_type:D(r,t)}},getContractValues:function(e){var t=e.contract_expiry_type,r=e.contract_type,n=e.basis,o=e.duration_unit,i=e.expiry_type,a=e.multiplier,s=e.start_date,c=e.cancellation_duration;if(!r)return{};var l=T(r),u=W(r,n),p=V(r),f=I(r,s),d=N(f.start_date),h=B(r,t),m=A(o,r,d.contract_start_type),y=M(r,d.contract_start_type),_=R(r,d.contract_start_type),b=q(r,a),g=G(r,c),O=H(y,i);return v(v(v(v(v(v(v(v(v(v(v(v({},l),u),p),f),d),h),m),y),_),O),b),g)},getDurationMinMax:R,getDurationUnit:A,getDurationUnitsList:M,getFullContractTypes:function(){return S},getExpiryDate:function(e,t,r,o){var i=null;if("endtime"===r){var a=Object(n.toMoment)(o),s=Object(n.toMoment)(t);i=Object(u.e)(e)?(s.isBefore(a,"day")||o&&s.isAfter(a.clone().add(1,"day"))?a:s).format("YYYY-MM-DD"):(s.isSameOrBefore(a,"day")?a.clone().add(1,"day"):s).format("YYYY-MM-DD")}return{expiry_date:i}},getExpiryTime:function(e,t,r,o,a,s,c){var l=null;if("endtime"===r){var u="23:59:59";if(o&&o.length&&"--"!==o[0]&&(u=o.slice(-1)[0]),!s&&i.a.get().isBefore(F(e),"day"))l=u;else{var f=s?F(s,c):i.a.get(),d=F(e,t);l=d.format("HH:mm");var h=[{open:f.clone().add(5,"minute"),close:Object(n.minDate)(f.clone().add(24,"hour"),F(e,u))}];if(Object(p.b)(h,d)||(l=U(h,d.clone(),f.clone())),d.isSameOrBefore(f)||d.diff(f,"minute")<5){var m=23===f.get("hours")&&f.get("minute")>=55,y=a&&!Object(p.b)(a,f.clone().add(5,"minutes"));l=f.clone().add(m||y?0:5,"minutes"),l=Y(l).format("HH:mm")}"00:00"===l&&f.isBefore(d,"day")&&(l=f.clone().subtract(5,"minute").format("HH:mm"))}}return{expiry_time:l}},getExpiryType:H=function(e,t){if(e){if(!t&&e.length>0||1===e.length&&"t"===e[0].value)return{expiry_type:"duration"};if(0===e.length)return{expiry_type:null}}return{expiry_type:t}},getSessions:function(e,t){return{sessions:(((Object(n.getPropertyValue)(S,[e,"config"])||{}).forward_starting_dates||[]).find((function(e){return e.value===t}))||{}).sessions}},getStartTime:function(e,t,r){return{start_time:t?U(e,F(t,r)):null}},getStartType:N,getTradingEvents:function(){var e=h(regeneratorRuntime.mark((function e(t){var r,o,i,a,c,l,u,p,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:null,t){e.next=3;break}return e.abrupt("return",[]);case 3:if(t in P){e.next=8;break}return e.next=6,s.a.tradingTimes(t);case 6:if(o=e.sent,Object(n.getPropertyValue)(o,["trading_times","markets"]))for(i=0;i<o.trading_times.markets.length;i++)if(a=o.trading_times.markets[i].submarkets)for(c=0;c<a.length;c++)if(l=a[c].symbols)for(u=0;u<l.length;u++)p=l[u],P[o.echo_req.trading_times]||(P[o.echo_req.trading_times]={}),P[o.echo_req.trading_times][p.symbol]=p.events;case 8:return e.abrupt("return",P[t][r]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTradingTimes:function(){var e=h(regeneratorRuntime.mark((function e(t){var r,o,i,a,c,l,u,p,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:null,t){e.next=3;break}return e.abrupt("return",[]);case 3:if(t in E){e.next=8;break}return e.next=6,s.a.tradingTimes(t);case 6:if(o=e.sent,Object(n.getPropertyValue)(o,["trading_times","markets"]))for(i=0;i<o.trading_times.markets.length;i++)if(a=o.trading_times.markets[i].submarkets)for(c=0;c<a.length;c++)if(l=a[c].symbols)for(u=0;u<l.length;u++)p=l[u],E[o.echo_req.trading_times]||(E[o.echo_req.trading_times]={}),E[o.echo_req.trading_times][p.symbol]={open:p.times.open,close:p.times.close};case 8:return e.abrupt("return",r?E[t][r]:E[t]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getContractCategories:function(){return{contract_types_list:k,has_only_forward_starting_contracts:x}}});t.a=X},"./Stores/Modules/Trading/Helpers/duration.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return f})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return h})),r.d(t,"c",(function(){return m}));var n=r("@deriv/translations"),o=r("@deriv/shared");function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(){return{t:{display:Object(n.localize)("Ticks"),order:1},s:{display:Object(n.localize)("Seconds"),order:2,to_second:1},m:{display:Object(n.localize)("Minutes"),order:3,to_second:60},h:{display:Object(n.localize)("Hours"),order:4,to_second:3600},d:{display:Object(n.localize)("Days"),order:5,to_second:86400}}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{min_max:{},units_display:{}};t.min_max[e.start_type]=t.min_max[e.start_type]||{},t.units_display[e.start_type]=t.units_display[e.start_type]||[];var r=u(e.min_contract_duration),n=u(e.max_contract_duration);t.min_max[e.start_type][e.expiry_type]={min:l(r.duration,r.unit,"s"),max:l(n.duration,n.unit,"s")};var o=[];t.units_display[e.start_type].forEach((function(e){o.push(e.value)}));var a=s();return/^tick|daily$/.test(e.expiry_type)?-1===o.indexOf(r.unit)&&o.push(r.unit):Object.keys(a).forEach((function(e){"d"!==e&&-1===o.indexOf(e)&&a[e].order>=a[r.unit].order&&a[e].order<=a[n.unit].order&&o.push(e)})),t.units_display[e.start_type]=o.sort((function(e,t){return a[e].order>a[t].order?1:-1})).reduce((function(e,t){return[].concat(i(e),[{text:a[t].display,value:t}])}),[]),t},l=function(e,t,r){if(!e||!t||!r||isNaN(parseInt(e)))return null;var n=s();return t!==r&&"to_second"in n[t]?e*n[t].to_second/n[r].to_second:e},u=function(e){var t=e.toString().match(/[a-zA-Z]+|[0-9]+/g);return{duration:+t[0],unit:t[1]}},p=function(e){var t=e.duration_unit,r=e.expiry_date,n=e.expiry_type,i=e.duration_units_list,a=e.root_store.common.server_time,s="duration"===n&&"d"===t,c="endtime"===n&&(Object(o.toMoment)(r).isAfter(Object(o.toMoment)(a),"day")||!d(i)),l="daily";return s||c||(l="t"===t?"tick":"intraday"),l},f=function(e,t){if(!(e>=0&&t&&Number.isInteger(e)))return null;if("m"===t){var r=e/60;return r>=1?Math.floor(r):1}if("h"===t){var n=e/3600;return n>=1?Math.floor(n):1}if("d"===t){var o=e/86400;return o>=1?Math.floor(o):1}return e},d=function(e){return e.some((function(e){return-1!==["m","h"].indexOf(e.value)}))},h=function(e,t){return/^R_/.test(e)&&"endtime"===t?Object(o.toMoment)(null).format("DD MMM YYYY"):null},m=function(e,t,r){if(!e[t])return[];var n=f(+e[t].max,r);return[f(+e[t].min,r),n]}},"./Stores/Modules/Trading/Helpers/start-date.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c}));var n=r("./_common/base/server_time.js"),o=r.n(n),i=r("@deriv/shared"),a=function(e,t){var r=[];return(e.forward_starting_options||[]).length&&e.forward_starting_options.forEach((function(e){var t=r.find((function(t){return t.value===parseInt(e.date)})),n={open:Object(i.toMoment)(e.open),close:Object(i.toMoment)(e.close)};t?t.sessions.push(n):r.push({text:Object(i.toMoment)(e.date).format("ddd - DD MMM, YYYY"),value:parseInt(e.date),sessions:[n]})})),r.length?r:t},s=function(e,t,r){var n=Object(i.toMoment)(t);return r&&n.minute(0).second(0),e.isBefore(n)&&n.unix()!==e.unix()},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.toMoment)(o.a.get()),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.toMoment)(o.a.get()),n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!(s(t,o.a.get(),n)||s(t,r,n)||e.length&&!e.find((function(e){return t.isBetween(e.open,e.close,n?"hour":null,"[]")})))}},"./Stores/base-store.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return V}));var n=r("mobx"),o=r("@deriv/shared"),i=r("./_common/utility.js"),a=r("./Utils/Validator/declarative-validation-rules.js");function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors={}}var t,r,n;return t=e,(r=[{key:"add",value:function(e,t){this.has(e)||(this.errors[e]=[]),-1===this.errors[e].indexOf(t)&&this.errors[e].push(t)}},{key:"all",value:function(){return this.errors}},{key:"first",value:function(e){return this.has(e)?this.errors[e][0]:null}},{key:"get",value:function(e){return this.has(e)?this.errors[e]:[]}},{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.errors,e)}}])&&s(t.prototype,r),n&&s(t,n),e}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p,f,d,h,m,y,_,b,g,v,O,w,j,S,k,P,E,x,C,D,T,M,A=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(this,e),this.input=t,this.rules=r,this.store=n,this.errors=new c,this.error_count=0}var t,r,n;return t=e,n=[{key:"getRuleObject",value:function(e){var t="string"==typeof e,r={name:t?e:e[0],options:t?{}:e[1]||{}};return r.validator="custom"===r.name?e[1].func:Object(a.a)()[r.name].func,r}}],(r=[{key:"addFailure",value:function(e,t){var r=t.options.message||Object(a.a)()[t.name].message;"length"===t.name?r=Object(i.template)(r,[t.options.min===t.options.max?t.options.min:"".concat(t.options.min,"-").concat(t.options.max)]):"min"===t.name?r=Object(i.template)(r,[t.options.min]):"not_equal"===t.name&&(r=Object(i.template)(r,[t.options.name1,t.options.name2])),this.errors.add(e,r),this.error_count++}},{key:"check",value:function(){var t=this;return Object.keys(this.input).forEach((function(r){Object.prototype.hasOwnProperty.call(t.rules,r)&&t.rules[r].forEach((function(n){var o=e.getRuleObject(n);(o.validator||"function"==typeof o.validator)&&(o.options.condition&&!o.options.condition(t.store)||""===t.input[r]&&"req"!==o.name||o.validator(t.input[r],o.options,t.store,t.input)||t.addFailure(r,o))}))})),!this.error_count}},{key:"isPassed",value:function(){return this.check()}}])&&u(t.prototype,r),n&&u(t,n),e}();function R(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function N(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){R(i,n,o,a,s,"next",e)}function s(e){R(i,n,o,a,s,"throw",e)}a(void 0)}))}}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var V=(p=n.action.bound,f=n.action.bound,d=n.action.bound,h=n.action.bound,m=n.action.bound,y=n.action.bound,_=n.action.bound,b=n.action.bound,g=n.action.bound,v=n.action.bound,O=n.action.bound,w=n.action.bound,j=n.action.bound,S=n.action.bound,k=n.action.bound,P=n.action.bound,M=T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};F(this,e),U(this,"validation_errors",x,this),U(this,"validation_rules",C,this),this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,U(this,"partial_fetch_time",D,this);var r=t.root_store,n=t.local_storage_properties,o=t.session_storage_properties,i=t.validation_rules,a=t.store_name;Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0});var s=n&&n.length||o&&o.length;if(s){if(!a)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:a,enumerable:!1,writable:!1})}this.root_store=r,this.local_storage_properties=n||[],this.session_storage_properties=o||[],this.setValidationRules(i),this.setupReactionForLocalStorage(),this.setupReactionForSessionStorage(),this.retrieveFromStorage()}var t,r,i;return t=e,(r=[{key:"getSnapshot",value:function(e){var t=Object(n.toJS)(this);return Object(o.isEmptyObject)(this.root_store)||(t.root_store=this.root_store),e&&e.length&&(t=e.reduce((function(e,r){return Object.assign(e,L({},r,t[r]))}),{})),t}},{key:"setupReactionForLocalStorage",value:function(){var t=this;this.local_storage_properties.length&&Object(n.reaction)((function(){return t.local_storage_properties.map((function(e){return t[e]}))}),(function(){return t.saveToStorage(t.local_storage_properties,e.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var t=this;this.session_storage_properties.length&&Object(n.reaction)((function(){return t.session_storage_properties.map((function(e){return t[e]}))}),(function(){return t.saveToStorage(t.session_storage_properties,e.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(t,r){var n=JSON.stringify(this.getSnapshot(t),(function(e,t){if(null!==t)return t}));r===e.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,n):r===e.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,n)}},{key:"retrieveFromStorage",value:function(){var e=this,t=JSON.parse(localStorage.getItem(this.store_name,{})),r=JSON.parse(sessionStorage.getItem(this.store_name,{})),n=z(z({},t),r);Object.keys(n).forEach((function(t){return e[t]=n[t]}))}},{key:"setValidationErrorMessages",value:function(e,t){var r=this;this.validation_errors[e]&&!r.validation_errors[e].filter((function(e){return!t.includes(e)})).concat(t.filter((function(t){return!r.validation_errors[e].includes(t)}))).length||(this.validation_errors[e]=t)}},{key:"setValidationRules",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach((function(r){e.addRule(r,t[r])}))}},{key:"addRule",value:function(e,t){var r=this;this.validation_rules[e]=t,Object(n.intercept)(this,e,(function(t){return r.validateProperty(e,t.newValue),t}))}},{key:"validateProperty",value:function(e,t){var r=this,n=this.validation_rules[e].trigger,o=L({},e,void 0!==t?t:this[e]),i=L({},e,this.validation_rules[e].rules||[]);n&&Object.hasOwnProperty.call(this,n)&&(o[n]=this[n],i[n]=this.validation_rules[n].rules||[]);var a=new A(o,i,this);a.isPassed(),Object.keys(o).forEach((function(e){r.setValidationErrorMessages(e,a.errors.get(e))}))}},{key:"validateAllProperties",value:function(){var e=this,t=Object.keys(this.validation_rules),r=Object.keys(this.validation_errors);t.forEach((function(t){e.validateProperty(t,e[t])})),r.forEach((function(r){t.includes(r)||delete e.validation_errors[r]}))}},{key:"onSwitchAccount",value:function(e){var t=this;this.switchAccountDisposer=Object(n.when)((function(){return t.root_store.client.switch_broadcast}),N(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=t.switch_account_listener())||!r.then||"function"!=typeof r.then){e.next=6;break}r.then((function(){t.root_store.client.switchEndSignal(),t.onSwitchAccount(t.switch_account_listener)})),e.next=7;break;case 6:throw new Error("Switching account listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(o.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.switch_account_listener=e}},{key:"onPreSwitchAccount",value:function(e){var t=this;this.preSwitchAccountDisposer=Object(n.when)((function(){return t.root_store.client.pre_switch_broadcast}),N(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=t.pre_switch_account_listener())||!r.then||"function"!=typeof r.then){e.next=6;break}r.then((function(){t.root_store.client.setPreSwitchAccount(!1),t.onPreSwitchAccount(t.pre_switch_account_listener)})),e.next=7;break;case 6:throw new Error("Pre-switch account listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(o.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.pre_switch_account_listener=e}},{key:"onLogout",value:function(e){var t=this;this.logoutDisposer=Object(n.when)((function(){return t.root_store.client.has_logged_out}),N(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=t.logout_listener())||!r.then||"function"!=typeof r.then){e.next=6;break}r.then((function(){t.root_store.client.setLogout(!1),t.onLogout(t.logout_listener)})),e.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(o.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.logout_listener=e}},{key:"onClientInit",value:function(e){var t=this;this.clientInitDisposer=Object(n.when)((function(){return t.root_store.client.initialized_broadcast}),N(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=t.client_init_listener())||!r.then||"function"!=typeof r.then){e.next=6;break}r.then((function(){t.root_store.client.setInitialized(!1),t.onClientInit(t.client_init_listener)})),e.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(o.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.client_init_listener=e}},{key:"onNetworkStatusChange",value:function(e){var t=this;this.networkStatusChangeDisposer=Object(n.reaction)((function(){return t.root_store.common.is_network_online}),(function(e){try{t.network_status_change_listener(e)}catch(e){Object(o.isProduction)()||console.error(e)}})),this.network_status_change_listener=e}},{key:"onThemeChange",value:function(e){var t=this;this.themeChangeDisposer=Object(n.reaction)((function(){return t.root_store.ui.is_dark_mode_on}),(function(e){try{t.theme_change_listener(e)}catch(e){Object(o.isProduction)()||console.error(e)}})),this.theme_change_listener=e}},{key:"onRealAccountSignupEnd",value:function(e){var t=this;this.realAccountSignupEndedDisposer=Object(n.when)((function(){return t.root_store.ui.has_real_account_signup_ended}),(function(){try{var e=t.real_account_signup_ended_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Real account signup listeners are required to return a promise.");e.then((function(){t.root_store.ui.setRealAccountSignupEnd(!1),t.onRealAccountSignupEnd(t.real_account_signup_ended_listener)}))}catch(e){Object(o.isProduction)()||console.error(e)}})),this.real_account_signup_ended_listener=e}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(e){if(this.root_store.client.loginid!==e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(e){return e()})),this.partial_fetch_time=!1}}}])&&H(t.prototype,r),i&&H(t,i),e}(),T.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")}),x=Y((E=M).prototype,"validation_errors",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),C=Y(E.prototype,"validation_rules",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),D=Y(E.prototype,"partial_fetch_time",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y(E.prototype,"retrieveFromStorage",[n.action],Object.getOwnPropertyDescriptor(E.prototype,"retrieveFromStorage"),E.prototype),Y(E.prototype,"setValidationErrorMessages",[n.action],Object.getOwnPropertyDescriptor(E.prototype,"setValidationErrorMessages"),E.prototype),Y(E.prototype,"setValidationRules",[n.action],Object.getOwnPropertyDescriptor(E.prototype,"setValidationRules"),E.prototype),Y(E.prototype,"addRule",[n.action],Object.getOwnPropertyDescriptor(E.prototype,"addRule"),E.prototype),Y(E.prototype,"validateProperty",[n.action],Object.getOwnPropertyDescriptor(E.prototype,"validateProperty"),E.prototype),Y(E.prototype,"validateAllProperties",[n.action],Object.getOwnPropertyDescriptor(E.prototype,"validateAllProperties"),E.prototype),Y(E.prototype,"onSwitchAccount",[p],Object.getOwnPropertyDescriptor(E.prototype,"onSwitchAccount"),E.prototype),Y(E.prototype,"onPreSwitchAccount",[f],Object.getOwnPropertyDescriptor(E.prototype,"onPreSwitchAccount"),E.prototype),Y(E.prototype,"onLogout",[d],Object.getOwnPropertyDescriptor(E.prototype,"onLogout"),E.prototype),Y(E.prototype,"onClientInit",[h],Object.getOwnPropertyDescriptor(E.prototype,"onClientInit"),E.prototype),Y(E.prototype,"onNetworkStatusChange",[m],Object.getOwnPropertyDescriptor(E.prototype,"onNetworkStatusChange"),E.prototype),Y(E.prototype,"onThemeChange",[y],Object.getOwnPropertyDescriptor(E.prototype,"onThemeChange"),E.prototype),Y(E.prototype,"onRealAccountSignupEnd",[_],Object.getOwnPropertyDescriptor(E.prototype,"onRealAccountSignupEnd"),E.prototype),Y(E.prototype,"disposePreSwitchAccount",[b],Object.getOwnPropertyDescriptor(E.prototype,"disposePreSwitchAccount"),E.prototype),Y(E.prototype,"disposeSwitchAccount",[g],Object.getOwnPropertyDescriptor(E.prototype,"disposeSwitchAccount"),E.prototype),Y(E.prototype,"disposeLogout",[v],Object.getOwnPropertyDescriptor(E.prototype,"disposeLogout"),E.prototype),Y(E.prototype,"disposeClientInit",[O],Object.getOwnPropertyDescriptor(E.prototype,"disposeClientInit"),E.prototype),Y(E.prototype,"disposeNetworkStatusChange",[w],Object.getOwnPropertyDescriptor(E.prototype,"disposeNetworkStatusChange"),E.prototype),Y(E.prototype,"disposeThemeChange",[j],Object.getOwnPropertyDescriptor(E.prototype,"disposeThemeChange"),E.prototype),Y(E.prototype,"disposeRealAccountSignupEnd",[S],Object.getOwnPropertyDescriptor(E.prototype,"disposeRealAccountSignupEnd"),E.prototype),Y(E.prototype,"onUnmount",[k],Object.getOwnPropertyDescriptor(E.prototype,"onUnmount"),E.prototype),Y(E.prototype,"assertHasValidCache",[P],Object.getOwnPropertyDescriptor(E.prototype,"assertHasValidCache"),E.prototype),E)},"./Stores/connect.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p}));var n=r("mobx-react"),o=r("react");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=o.createContext(null);function l(e,t){var r=function(r){var i,s=o.useContext(c);if("function"!=typeof(i=t)||!i.prototype||!i.prototype.isReactComponent)return Object(n.useObserver)((function(){return t(a(a({},r),e(s,r)))}));return Object(n.useObserver)((function(){return n=a(a({},r),e(s,r)),o.createElement(t,n);var n}))};return r.displayName=t.name,r}var u=function(e){var t=e.store,r=e.children;return o.createElement(c.Provider,{value:a(a({},t),{},{mobxStores:t})},r)},p=function(e){return function(t){return l(e,t)}}},"./Utils/Validator/declarative-validation-rules.js":function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return d})),r.d(t,"e",(function(){return h})),r.d(t,"c",(function(){return j})),r.d(t,"a",(function(){return P}));var n,o=r("@deriv/shared"),i=r("./_common/base/client_base.js"),a=r("./_common/common_functions.js"),s=r("@deriv/translations"),c=function(e){return null!=e&&String(e).replace(/\s/g,"").length>0},l=function(e){return/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,63}$/.test(e)},u=function(e){return/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]+/.test(e)},p=function(e){return!/[`~!@#$%^&*)(_=+[}{\]\\/";:?><,|\d]+/.test(e)},f=function(e){return!/[`~!@#$%^&*)(_=+[}{\]\\/";:?><|]+/.test(e)},d=function(e){return!/[`~!$%^&*_=+[}{\]\\"?><|]+/.test(e)},h=function(e){return""===e||/^[A-Za-z0-9][A-Za-z0-9\s-]*$/.test(e)},m=function(e){return/^\+?((-|\s)*[0-9]){8,35}$/.test(e)},y=function(e,t){return t.regex.test(e)},_=function(e){return 8===e.trim().length},b=function(e){return/^[a-zA-Z0-9]*[\w-]*$/.test(e)},g=function(e){return/^[+-]?\d+\.?\d*$/.test(e)},v=function(e,t){return e===Object(a.getElementById)(t.to.substr(1)).value},O=function(e,t){return e!==Object(a.getElementById)(t.to.substr(1)).value},w=function(e,t){return!t.min||e.length>=t.min},j=function(e,t){return(!t.min||e.length>=t.min)&&(!t.max||e.length<=t.max)},S=function(e,t){var r=Object(o.cloneObject)(t),n=null;if(r.allow_empty&&0===e.length)return!0;var a=!0;return"min"in r&&"function"==typeof r.min&&(r.min=r.min()),"max"in r&&"function"==typeof r.max&&(r.max=r.max()),!("float"===r.type?/^\d*(\.\d+)?$/:/^\d+$/).test(e)||isNaN(e)?(a=!1,n=Object(s.localize)("Should be a valid number.")):"float"===r.type&&r.decimals&&!new RegExp("^\\d+(\\.\\d{0,".concat(r.decimals,"})?$")).test(e)?(a=!1,n=Object(s.localize)("Up to {{decimal_count}} decimal places are allowed.",{decimal_count:r.decimals})):"min"in r&&"max"in r&&+r.min==+r.max&&+e!=+r.min?(a=!1,n=Object(s.localize)("Should be {{value}}",{value:Object(o.addComma)(r.min,r.format_money?Object(o.getDecimalPlaces)(i.a.get("currency")):void 0)})):"min"in r&&"max"in r&&(+e<+r.min||k(e,r))?(a=!1,n=Object(s.localize)("Should be between {{min_value}} and {{max_value}}",{min_value:Object(o.addComma)(r.min,r.format_money?Object(o.getDecimalPlaces)(i.a.get("currency")):void 0),max_value:Object(o.addComma)(r.max,r.format_money?Object(o.getDecimalPlaces)(i.a.get("currency")):void 0)})):"min"in r&&+e<+r.min?(a=!1,n=Object(s.localize)("Should be more than {{min_value}}",{min_value:Object(o.addComma)(r.min,r.format_money?Object(o.getDecimalPlaces)(i.a.get("currency")):void 0)})):"max"in r&&k(e,r)&&(a=!1,n=Object(s.localize)("Should be less than {{max_value}}",{max_value:Object(o.addComma)(r.max,r.format_money?Object(o.getDecimalPlaces)(i.a.get("currency")):void 0)})),P().number.message=n,a},k=function(e,t){return"float"===t.type?+e>+t.max:1===Object(o.compareBigUnsignedInt)(e,t.max)},P=function(){return n||(n={address:{func:d,message:Object(s.localize)("Only letters, numbers, space, and these special characters are allowed: {{permitted_characters}}",{permitted_characters:"- . ' # ; : ( ) , @ /"})},barrier:{func:g,message:Object(s.localize)("Only numbers and these special characters are allowed: {{permitted_characters}}",{permitted_characters:"+ - ."})},compare:{func:v,message:Object(s.localize)("The two passwords that you entered do not match.")},email:{func:l,message:Object(s.localize)("Invalid email address.")},general:{func:f,message:Object(s.localize)("Only letters, numbers, space, hyphen, period, and apostrophe are allowed.")},length:{func:j,message:Object(s.localize)("You should enter {{value}} characters.",{value:"{{value}}"})},letter_symbol:{func:p,message:Object(s.localize)("Only letters, space, hyphen, period, and apostrophe are allowed.")},min:{func:w,message:Object(s.localize)("Minimum of {{value}} characters required.",{value:"{{value}}"})},not_equal:{func:O,message:Object(s.localize)("{{value_one}} and {{value_two}} cannot be the same.",{value_one:"{{value_one}}",value_two:"{{value_two}}"})},number:{func:S,message:""},password:{func:u,message:Object(s.localize)("Password should have lower and uppercase letters with numbers.")},phone:{func:m,message:Object(s.localize)("Only numbers and spaces are allowed.")},postcode:{func:h,message:Object(s.localize)("Only letters, numbers, space, and hyphen are allowed.")},regular:{func:y,message:""},req:{func:c,message:""},signup_token:{func:_,message:Object(s.localize)("The length of token should be 8.")},tax_id:{func:b,message:Object(s.localize)("Should start with letter or number, and may contain hyphen and underscore.")}}),n}},"./_common/base/client_base.js":function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var o=function(e){n=e}},"./_common/base/login.js":function(e,t,r){var n,o,i=r("@deriv/shared").domain_app_ids,a=r("@deriv/shared").getAppId,s=r("@deriv/shared").getDerivComLink,c=r("@deriv/shared").urlForCurrentDomain,l=r("@deriv/shared").isMobileOs,u=r("@deriv/translations").getLanguage,p=r("./App/Constants/app-config.js").website_name,f=r("./_common/common_functions.js").getElementById,d=r("./_common/storage.js").isStorageSupported,h=r("./_common/storage.js").LocalStore,m=(n=function(){var e=localStorage.getItem("config.server_url"),t=u(),r=h.get("signup_device")||(l()?"mobile":"desktop"),n=h.get("date_first_contact"),o="&signup_device=".concat(r).concat(n?"&date_first_contact=".concat(n):""),s="https://oauth.deriv.app/oauth2/authorize?app_id=".concat(a(),"&l=").concat(t).concat(o,"&brand=").concat(p.toLowerCase()),f="https://oauth.deriv.com/oauth2/authorize?app_id=".concat(a(),"&l=").concat(t).concat(o,"&brand=").concat(p.toLowerCase());return e&&/qa/.test(e)?"https://".concat(e,"/oauth2/authorize?app_id=").concat(a(),"&l=").concat(t).concat(o,"&brand=").concat(p.toLowerCase()):a()===i["deriv.app"]&&/^(www\.)?deriv\.app$/.test(window.location.hostname)?s:a()===i["app.deriv.com"]&&/^app\.deriv\.com$/.test(window.location.hostname)?f:c(f)},{redirectToLogin:function(e){e||o()||!d(sessionStorage)||(sessionStorage.setItem("redirect_url",window.location.href),window.location.href=n())},isLoginPages:o=function(){return/logged_inws|redirect/i.test(window.location.pathname)},initOneAll:function(){["google","facebook"].forEach((function(e){var t=f("#button_".concat(e));t.removeEventListener("click"),t.addEventListener("click",(function(t){var r;t.preventDefault(),window.location.href=(r=e,"".concat(n(),"&social_signup=").concat(r))}))}))},redirectToSignUp:function(){window.open(s("/signup/"))}});e.exports=m},"./_common/base/server_time.js":function(e,t,r){var n,o,i,a=r("./_common/utility.js").PromiseClass,s=(o=!1,i=new a,{init:function(e){o||(n=e,i.resolve(n.server_time),o=!0)},get:function(){return o&&n.server_time?n.server_time.clone():void 0},timePromise:function(){return o?Promise.resolve(n.server_time):i.promise}});e.exports=s},"./_common/common_functions.js":function(e,t,r){var n=r("./_common/utility.js").createElement;e.exports={isVisible:function(e){return!(!e||0===e.offsetWidth&&0===e.offsetHeight)},getElementById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t.getElementById(e)||n("div")}}},"./_common/storage.js":function(e,t,r){var n=r("../node_modules/js-cookie/src/js.cookie.js"),o=r("@deriv/shared").isProduction,i=r("@deriv/shared").isEmptyObject,a=r("@deriv/shared").getPropertyValue,s=function(e){return JSON.parse(this.getItem(e)||"{}")},c=function(e,t){if(t&&t instanceof Object)try{this.setItem(e,JSON.stringify(t))}catch(e){}};"undefined"!=typeof Storage&&(Storage.prototype.getObject=s,Storage.prototype.setObject=c);var l=function(e){if(void 0===e)return!1;try{return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}},u=function(e){this.storage=e,this.storage.getObject=s,this.storage.setObject=c};u.prototype={get:function(e){return this.storage.getItem(e)||void 0},set:function(e,t){void 0!==t&&this.storage.setItem(e,t)},getObject:function(e){return"function"==typeof this.storage.getObject?this.storage.getObject(e):JSON.parse(this.storage.getItem(e)||"{}")},setObject:function(e,t){"function"==typeof this.storage.setObject?this.storage.setObject(e,t):this.storage.setItem(e,JSON.stringify(t))},remove:function(e){this.storage.removeItem(e)},clear:function(){this.storage.clear()}};var p=function(e){this.store=void 0!==e?e:{}};p.prototype={get:function(e){return a(this.store,e)},set:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.store,n=e;Array.isArray(n)||(n=[n]),n.length>1?(n[0]in r&&!i(r[n[0]])||(r[n[0]]={}),this.set(n.slice(1),t,r[n[0]])):r[n[0]]=t},getObject:function(e){return JSON.parse(this.get(e)||"{}")},setObject:function(e,t){this.set(e,JSON.stringify(t))},remove:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach((function(t){delete e.store[t]}))},clear:function(){this.store={}},has:function(e){return void 0!==this.get(e)},keys:function(){return Object.keys(this.store)},call:function(e){"function"==typeof this.get(e)&&this.get(e)()}};var f=new p;f.prototype=p.prototype,f.prototype.getResponse=function(e){var t=e;if("string"==typeof t){var r=t.split(".");t=["response",r[0]].concat(r)}return this.get(t)},f.prototype.getByMsgType=f.getResponse,f.set("response",{});var d=function(e,t){var r=window.location.hostname;this.initialized=!1,this.cookie_name=e,this.domain=t||(o()?".".concat(r.split(".").slice(-2).join(".")):r),this.path="/",this.expires=new Date("Thu, 1 Jan 2037 12:00:00 GMT"),this.value={}};d.prototype={read:function(){var e=n.get(this.cookie_name);try{this.value=e?JSON.parse(e):{}}catch(e){this.value={}}this.initialized=!0},write:function(e,t,r){this.initialized||this.read(),this.value=e,t&&(this.expires=t),n.set(this.cookie_name,this.value,{expires:this.expires,path:this.path,domain:this.domain,secure:!!r})},get:function(e){return this.initialized||this.read(),this.value[e]},set:function(e,t){this.initialized||this.read(),this.value[e]=t,n.set(this.cookie_name,this.value,{expires:new Date(this.expires),path:this.path,domain:this.domain})},remove:function(){n.remove(this.cookie_name,{path:this.path,domain:this.domain})}};var h,m;l(window.localStorage)&&(m=new u(window.localStorage)),l(window.sessionStorage)&&(h=new u(window.sessionStorage)),m||(m=new p),h||(h=new p),e.exports={isStorageSupported:l,CookieStorage:d,removeCookies:function(){var e=[".".concat(document.domain.split(".").slice(-2).join(".")),".".concat(document.domain)],t=window.location.pathname.split("/",2)[1];""!==t&&(t="/".concat(t));for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];o.forEach((function(r){n.remove(r,{path:"/",domain:e[0]}),n.remove(r,{path:"/",domain:e[1]}),n.remove(r),new RegExp(r).test(document.cookie)&&t&&(n.remove(r,{path:t,domain:e[0]}),n.remove(r,{path:t,domain:e[1]}),n.remove(r,{path:t}))}))},State:f,SessionStore:h,LocalStore:m}},"./_common/utility.js":function(e,t){var r;e.exports={template:function(e,t){var r=t;return t&&!Array.isArray(t)&&(r=[t]),e.replace(/\[_(\d+)]/g,(function(e,t){return r[+t-1]}))},createElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(e);return Object.keys(t).forEach((function(e){var n=t[e];"text"===e?r.textContent=n:"html"===e?r.html(n):r.setAttribute(e,n)})),r},getStaticHash:function(){return r=r||(document.querySelector('script[src*="main"]').getAttribute("src")||"").split(".")[1]},PromiseClass:function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.promise=new Promise((function(e,r){t.reject=r,t.resolve=e}))}}},"./index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Of}));r("../node_modules/promise-polyfill/src/index.js"),r("../node_modules/event-source-polyfill/src/eventsource.js");var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("../node_modules/react-loadable/lib/index.js"),s=r.n(a),c=r("mobx-react"),l=r("react-router"),u=r("@deriv/components"),p=r("@deriv/shared"),f=r("react-router-dom"),d=r("./App/Components/Routes/helpers.js"),h=r("@deriv/translations"),m=r("./App/Components/Elements/chart-loader.jsx"),y=r("./Modules/Trading/Helpers/digits.js"),_=r("./Stores/connect.js"),b=r("../node_modules/classnames/index.js"),g=r.n(b),v=r("../node_modules/react-transition-group/index.js");function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var k=function(e,t){var r;void 0===t&&(t=S);var n,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&r===this&&t(a,o)||(n=e.apply(this,a),i=!0,r=this,o=a),n}};var P="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function E(e){cancelAnimationFrame(e.id)}function x(e,t){var r=P();var n={id:requestAnimationFrame((function o(){P()-r>=t?e.call(null):n.id=requestAnimationFrame(o)}))};return n}var C=null;function D(e){if(void 0===e&&(e=!1),null===C||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),o=n.style;return o.width="100px",o.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?C="positive-descending":(t.scrollLeft=1,C=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),C}return C}var T=function(e,t){return e};function M(e){var t,r,n=e.getItemOffset,o=e.getEstimatedTotalSize,a=e.getItemSize,s=e.getOffsetForIndexAndAlignment,c=e.getStartIndexForOffset,l=e.getStopIndexForStartIndex,u=e.initInstanceProps,p=e.shouldResetStyleCacheOnItemSizeChange,f=e.validateProps;return r=t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=u(r.props,j(j(r))),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:j(j(r)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=k((function(e,t,n,o){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:o})})),r._callOnScroll=void 0,r._callOnScroll=k((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,o=r.props,i=o.direction,s=o.itemSize,c=o.layout,l=r._getItemStyleCache(p&&s,p&&c,p&&i);if(l.hasOwnProperty(e))t=l[e];else{var u,f=n(r.props,e,r._instanceProps),d=a(r.props,e,r._instanceProps),h="horizontal"===i||"horizontal"===c;l[e]=((u={position:"absolute"})["rtl"===i?"right":"left"]=h?f:0,u.top=h?0:f,u.height=h?"100%":d,u.width=h?d:"100%",t=u)}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=k((function(e,t,r){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,o=t.scrollLeft,i=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===o)return null;var t=r.props.direction,a=o;if("rtl"===t)switch(D()){case"negative":a=-o;break;case"positive-descending":a=i-n-o}return a=Math.max(0,Math.min(a,i-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,o=t.scrollHeight,i=t.scrollTop;r.setState((function(e){if(e.scrollOffset===i)return null;var t=Math.max(0,Math.min(i,o-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&E(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=x(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}w(t,e),t.getDerivedStateFromProps=function(e,t){return A(e,t),f(e),null};var r=t.prototype;return r.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},r.scrollToItem=function(e,t){void 0===t&&(t="auto");var r=this.props.itemCount,n=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1)),this.scrollTo(s(this.props,e,t,n,this._instanceProps))},r.componentDidMount=function(){var e=this.props,t=e.direction,r=e.initialScrollOffset,n=e.layout;if("number"==typeof r&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===n?o.scrollLeft=r:o.scrollTop=r}this._callPropsCallbacks()},r.componentDidUpdate=function(){var e=this.props,t=e.direction,r=e.layout,n=this.state,o=n.scrollOffset;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("horizontal"===t||"horizontal"===r)if("rtl"===t)switch(D()){case"negative":i.scrollLeft=-o;break;case"positive-ascending":i.scrollLeft=o;break;default:var a=i.clientWidth,s=i.scrollWidth;i.scrollLeft=s-a-o}else i.scrollLeft=o;else i.scrollTop=o}this._callPropsCallbacks()},r.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&E(this._resetIsScrollingTimeoutId)},r.render=function(){var e=this.props,t=e.children,r=e.className,n=e.direction,a=e.height,s=e.innerRef,c=e.innerElementType,l=e.innerTagName,u=e.itemCount,p=e.itemData,f=e.itemKey,d=void 0===f?T:f,h=e.layout,m=e.outerElementType,y=e.outerTagName,_=e.style,b=e.useIsScrolling,g=e.width,v=this.state.isScrolling,w="horizontal"===n||"horizontal"===h,j=w?this._onScrollHorizontal:this._onScrollVertical,S=this._getRangeToRender(),k=S[0],P=S[1],E=[];if(u>0)for(var x=k;x<=P;x++)E.push(Object(i.createElement)(t,{data:p,key:d(x,p),index:x,isScrolling:b?v:void 0,style:this._getItemStyle(x)}));var C=o(this.props,this._instanceProps);return Object(i.createElement)(m||y||"div",{className:r,onScroll:j,ref:this._outerRefSetter,style:O({position:"relative",height:a,width:g,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:n},_)},Object(i.createElement)(c||l||"div",{children:E,ref:s,style:{height:w?"100%":C,pointerEvents:v?"none":void 0,width:w?C:"100%"}}))},r._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],r=e[1],n=e[2],o=e[3];this._callOnItemsRendered(t,r,n,o)}if("function"==typeof this.props.onScroll){var i=this.state,a=i.scrollDirection,s=i.scrollOffset,c=i.scrollUpdateWasRequested;this._callOnScroll(a,s,c)}},r._getRangeToRender=function(){var e=this.props,t=e.itemCount,r=e.overscanCount,n=this.state,o=n.isScrolling,i=n.scrollDirection,a=n.scrollOffset;if(0===t)return[0,0,0,0];var s=c(this.props,a,this._instanceProps),u=l(this.props,s,a,this._instanceProps),p=o&&"backward"!==i?1:Math.max(1,r),f=o&&"forward"!==i?1:Math.max(1,r);return[Math.max(0,s-p),Math.max(0,Math.min(t-1,u+f)),s,u]},t}(i.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},r}var A=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},R=function(e,t,r){var n=e.itemSize,o=r.itemMetadataMap,i=r.lastMeasuredIndex;if(t>i){var a=0;if(i>=0){var s=o[i];a=s.offset+s.size}for(var c=i+1;c<=t;c++){var l=n(c);o[c]={offset:a,size:l},a+=l}r.lastMeasuredIndex=t}return o[t]},N=function(e,t,r,n,o){for(;n<=r;){var i=n+Math.floor((r-n)/2),a=R(e,i,t).offset;if(a===o)return i;a<o?n=i+1:a>o&&(r=i-1)}return n>0?n-1:0},I=function(e,t,r,n){for(var o=e.itemCount,i=1;r<o&&R(e,r,t).offset<n;)r+=i,i*=2;return N(e,t,Math.min(r,o-1),Math.floor(r/2),n)},z=function(e,t){var r=e.itemCount,n=t.itemMetadataMap,o=t.estimatedItemSize,i=t.lastMeasuredIndex,a=0;if(i>=r&&(i=r-1),i>=0){var s=n[i];a=s.offset+s.size}return a+(r-i-1)*o},L=M({getItemOffset:function(e,t,r){return R(e,t,r).offset},getItemSize:function(e,t,r){return r.itemMetadataMap[t].size},getEstimatedTotalSize:z,getOffsetForIndexAndAlignment:function(e,t,r,n,o){var i=e.direction,a=e.height,s=e.layout,c=e.width,l="horizontal"===i||"horizontal"===s?c:a,u=R(e,t,o),p=z(e,o),f=Math.max(0,Math.min(p-l,u.offset)),d=Math.max(0,u.offset-l+u.size);switch("smart"===r&&(r=n>=d-l&&n<=f+l?"auto":"center"),r){case"start":return f;case"end":return d;case"center":return Math.round(d+(f-d)/2);case"auto":default:return n>=d&&n<=f?n:n<d?d:f}},getStartIndexForOffset:function(e,t,r){return function(e,t,r){var n=t.itemMetadataMap,o=t.lastMeasuredIndex;return(o>0?n[o].offset:0)>=r?N(e,t,o,0,r):I(e,t,Math.max(0,o),r)}(e,r,t)},getStopIndexForStartIndex:function(e,t,r,n){for(var o=e.direction,i=e.height,a=e.itemCount,s=e.layout,c=e.width,l="horizontal"===o||"horizontal"===s?c:i,u=R(e,t,n),p=r+l,f=u.offset+u.size,d=t;d<a-1&&f<p;)d++,f+=R(e,d,n).size;return d},initInstanceProps:function(e,t){var r={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,n){void 0===n&&(n=!0),r.lastMeasuredIndex=Math.min(r.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),n&&t.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});var U=function(e){var t=e.error;return i.createElement("div",{className:"portfolio-empty"},i.createElement("div",{className:"portfolio-empty__wrapper"},t?i.createElement("span",{className:"portfolio-empty__text"},t):i.createElement(i.Fragment,null,i.createElement(u.Icon,{icon:"IcPortfolio",className:"portfolio-empty__icon",size:96,color:"disabled"}),i.createElement("span",{className:"portfolio-empty__text"},Object(h.localize)("No open positions")))))},F=r("./Stores/Modules/Contract/Helpers/logic.js"),H=r("./Stores/Modules/Contract/Helpers/multiplier.js"),Y=r("./App/Components/Elements/PositionsDrawer/helpers/index.js"),V=r("./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card.jsx");function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Z(e);if(t){var o=Z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $(this,r)}}function $(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var K=i.forwardRef((function(e,t){return i.createElement(u.ThemedScrollbars,J({},e,{height:"calc(100vh - 220px)",forwardedRef:t}),e.children)}));K.displayName="ThemedScrollbars";var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(a,e);var t,r,n,o=X(a);function a(){var e;W(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).state={},e.itemRender=function(t){var r=t.data,n=t.index,o=t.style,a=t.isScrolling,s=e.props,c=s.currency,l=s.onClickCancel,u=s.onClickSell,p=s.onClickRemove,f=s.onHoverPosition,d=s.toggleUnsupportedContractModal,h=r[n];return i.createElement("div",{key:h.id,style:o},i.createElement(v.CSSTransition,{appear:!0,key:h.id,in:!0,timeout:a?0:150,classNames:a?{}:{appear:"positions-drawer-card__wrapper--enter",enter:"positions-drawer-card__wrapper--enter",enterDone:"positions-drawer-card__wrapper--enter-done",exit:"positions-drawer-card__wrapper--exit"},unmountOnExit:!0},i.createElement(V.a,J({onClickCancel:l,onClickSell:u,onClickRemove:p,onMouseEnter:function(){f(!0,h)},onMouseLeave:function(){f(!1,h)},key:h.id,currency:c,show_transition:!a,toggleUnsupportedContractModal:d},h))))},e.hasPositionsHeightChanged=function(e,t){if(e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1},e.getCachedPositionHeight=function(t){return e.positionsHeight[t]},e.getPositionHeight=function(e){var t=e.contract_info,r=Object(F.q)(t),n=Object(H.a)(t.contract_type),o=t.tick_count>0;return t.is_sold?n?250:158:o?202:n?290:r?228:188},e}return t=a,(r=[{key:"componentDidMount",value:function(){this.props.onMount(),this.setState({drawer_height:this.drawer_ref.clientHeight})}},{key:"componentWillReceiveProps",value:function(e){(this.props.symbol&&e.symbol!==this.props.symbol||this.props.trade_contract_type&&e.trade_contract_type!==this.props.trade_contract_type)&&this.list_ref&&this.scrollbar_ref&&(this.list_ref.scrollTo(0),this.scrollbar_ref.scrollToTop())}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"calculatePositionsHeight",value:function(){var e=this,t=this.positions.map((function(t){return e.getPositionHeight(t)}));this.list_ref&&this.hasPositionsHeightChanged(t,this.positionsHeight)&&setTimeout((function(){return e.list_ref?e.list_ref.resetAfterIndex(0):void 0})),this.positionsHeight=t}},{key:"render",value:function(){var e=this,t=this.props,r=t.all_positions,n=t.error,o=t.is_empty,a=t.is_positions_drawer_on,s=t.symbol,c=t.toggleDrawer,l=t.trade_contract_type;this.positions=r.filter((function(e){return e.contract_info&&s===e.contract_info.underlying&&Object(Y.a)(e.contract_info,l)})),this.calculatePositionsHeight();var d=i.createElement(i.Fragment,null,i.createElement("div",{style:{height:"100%"}},this.state.drawer_height>0&&i.createElement(v.TransitionGroup,{component:"div",style:{position:"relative",height:"100%",width:"100%"}},i.createElement(L,{itemCount:this.positions.length,itemData:this.positions,itemSize:this.getCachedPositionHeight,height:this.state.drawer_height,outerElementType:o?null:K,ref:function(t){return e.list_ref=t},useIsScrolling:!0},this.itemRender))));return i.createElement(i.Fragment,null,i.createElement("div",{className:g()("positions-drawer__bg",{"positions-drawer__bg--open":a})}),i.createElement("div",{id:"dt_positions_drawer",className:g()("positions-drawer",{"positions-drawer--open":a})},i.createElement("div",{className:"positions-drawer__header"},i.createElement("span",{className:"positions-drawer__title"},Object(h.localize)("Recent positions")),i.createElement("div",{id:"dt_positions_drawer_close_icon",className:"positions-drawer__icon-close",onClick:c},i.createElement(u.Icon,{icon:"IcMinusBold"}))),i.createElement("div",{className:"positions-drawer__body",ref:function(t){e.drawer_ref=t}},0===this.positions.length||n?i.createElement(U,{error:n}):d),i.createElement("div",{className:"positions-drawer__footer"},i.createElement(f.NavLink,{id:"dt_positions_drawer_report_button",className:"dc-btn dc-btn--secondary dc-btn__large",to:p.routes.reports},i.createElement("span",{className:"dc-btn__text"},Object(h.localize)("Go to Reports"))))))}}])&&q(t.prototype,r),n&&q(t,n),a}(i.Component);Q.propTypes={all_positions:c.PropTypes.arrayOrObservableArray,children:o.a.any,currency:o.a.string,error:o.a.string,is_empty:o.a.bool,is_positions_drawer_on:o.a.bool,onChangeContractUpdate:o.a.func,onClickContractUpdate:o.a.func,onClickRemove:o.a.func,onClickSell:o.a.func,onHoverPosition:o.a.func,onMount:o.a.func,onUnmount:o.a.func,symbol:o.a.string,toggleDrawer:o.a.func};var ee=Object(_.b)((function(e){var t=e.modules,r=e.client,n=e.ui;return{currency:r.currency,all_positions:t.portfolio.all_positions,error:t.portfolio.error,onClickCancel:t.portfolio.onClickCancel,is_empty:t.portfolio.is_empty,onClickSell:t.portfolio.onClickSell,onClickRemove:t.portfolio.removePositionById,onHoverPosition:t.portfolio.onHoverPosition,onMount:t.portfolio.onMount,onUnmount:t.portfolio.onUnmount,symbol:t.trade.symbol,trade_contract_type:t.trade.contract_type,is_positions_drawer_on:n.is_positions_drawer_on,toggleDrawer:n.togglePositionsDrawer,toggleUnsupportedContractModal:n.toggleUnsupportedContractModal}}))(Q);function te(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function re(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){te(i,n,o,a,s,"next",e)}function s(e){te(i,n,o,a,s,"throw",e)}a(void 0)}))}}var ne=function e(t){var r=t.node,n=t.opacity,o=t.direction,i=t.color,a=-1===o&&n>.1?-1:1,s=.05;n<.3&&n>.1&&(s=.01);var c=parseFloat(Number(n+a*s).toFixed(2));r.style.backgroundColor=i.replace("".concat(n,")"),"".concat(Number(c).toFixed(2),")"));var l=requestAnimationFrame(e.bind(void 0,{node:r,opacity:c,direction:a,color:r.style.backgroundColor}));c>=1&&(cancelAnimationFrame(l),r.querySelectorAll("div").forEach((function(e){e.style.backgroundColor=""})),r.style.backgroundColor="")},oe=function(e){var t=getComputedStyle(e.firstElementChild).getPropertyValue("background-color"),r=t.startsWith("rgba")?t:"rgba(".concat(t.replace("rgb(","").replace(")","").split(", ").join(","),",1)");e.querySelectorAll("div").forEach((function(e){e.style.backgroundColor="transparent"})),e.style.backgroundColor=r;requestAnimationFrame(ne.bind(void 0,{node:e,opacity:1,direction:-1,color:r}))},ie=function(){return new Promise((function(e){return requestAnimationFrame(e)}))},ae=function(){var e=re(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=document.querySelector(t))){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return e.next=5,ie();case 5:return e.abrupt("return",Promise.resolve(ae(t)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=re(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==document.querySelector(t)){e.next=3;break}return e.abrupt("return",Promise.resolve(!0));case 3:return e.next=5,ie();case 5:return e.abrupt("return",Promise.resolve(se(t)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){return new Promise((function(t){return setTimeout(t,e)}))},le=function(){var e=re(regeneratorRuntime.mark((function e(){var t,r,n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=document.querySelector(".cq-menu-dropdown"))){e.next=5;break}return t.querySelector(".icon-reset").click(),e.next=5,se(".cq-menu-dropdown");case 5:return e.next=7,ae(".cq-symbol-select-btn");case 7:return r=e.sent,e.next=10,ce(100);case 10:return r.click(),e.next=13,ae(".cq-menu-dropdown-enter-done");case 13:return e.next=15,ae(".icon-reset");case 15:return e.sent.click(),e.next=19,ae(".data-hj-whitelist");case 19:n=e.sent,Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(n,"Volatility"),o=new Event("input",{bubbles:!0}),n.dispatchEvent(o),i=document.querySelector(".category-synthetic_index").querySelector(".category-content"),oe(i);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){return i.createElement("div",{className:"market-is-closed-overlay"},i.createElement("p",null,i.createElement(h.Localize,{i18n_default_text:"Market is closed."})),i.createElement("p",null,i.createElement(h.Localize,{i18n_default_text:"Try Synthetic Indices which simulate real-world market volatility and are open 24/7."})),i.createElement(u.Button,{className:"market-is-closed-overlay__button",onClick:le,text:Object(h.localize)("Try Synthetic Indices"),primary:!0}))},pe=r("mobx");function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function he(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Se(e);if(t){var o=Se(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return we(this,r)}}function we(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?je(e):t}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(a,e);var t,r,n,o=Oe(a);function a(){var e;be(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).state={is_visible:!1,store:"trade"},e.setVisibility=e.stateVisibility.bind(je(e)),e.styles={container:{fontSize:"10px",lineHeight:"15px",position:"absolute",zIndex:1,background:"rgba(0, 0, 0, 0.8)",color:"#ccc",padding:"10px",marginTop:"-10px",display:"none",overflowY:"auto",height:"100%",width:"100%"},prop_name:{color:"yellowgreen"},tabs:{display:"flex",textAlign:"center",marginBottom:"10px"},tab:{fontSize:"18px",border:"1px solid grey",width:"100%",padding:"10px"}},e.componentDidMount=function(){document.addEventListener("keyup",e.setVisibility,!1)},e.componentWillUnmount=function(){document.removeEventListener("keyup",e.setVisibility)},e.renderStoreContent=function(t){var r=ye(t,2),n=r[0],o=r[1];return"root_store"!==n&&"function"!=typeof o&&i.createElement("div",{key:n},i.createElement("span",{style:e.styles.prop_name},n,":")," ",o&&"object"===me(o)?JSON.stringify(Object(pe.toJS)(o),null,1):o)},e}return t=a,(r=[{key:"stateVisibility",value:function(e){e.ctrlKey&&83===e.keyCode&&this.setState({is_visible:!this.state.is_visible})}},{key:"render",value:function(){var e=this,t=this.styles,r=t.container,n=t.tab,o=t.tabs,a=this.state,s=a.is_visible,c=a.store;return i.createElement("code",{id:"state_info",style:Object.assign({},r,{display:s?"block":"none"})},i.createElement("div",{style:o},Object.keys(this.props).map((function(t){return i.createElement("p",{key:t,onClick:function(){return e.setState({store:t})},style:de(de({},n),{},{fontWeight:t===c&&"bold"})},t)}))),this.props[this.state.store].sort().map(this.renderStoreContent))}}])&&ge(t.prototype,r),n&&ge(t,n),a}(i.Component);ke.propTypes={entries:o.a.array};var Pe=Object(_.b)((function(e){var t=e.modules,r=e.client,n=e.ui;return{trade:Object.entries(t.trade),client:Object.entries(r),ui:Object.entries(n),portfolio:Object.entries(t.portfolio)}}))(ke),Ee=r("./Modules/Contract/Components/Digits/index.js"),xe=r("./Modules/SmartChart/Components/bottom-widgets.jsx"),Ce=r("./Modules/SmartChart/index.js"),De=function(e){var t=e.updateChartType,r=e.updateGranularity;return i.createElement(i.Fragment,null,i.createElement(u.DesktopWrapper,null,i.createElement(Ce.b,{portalNodeId:"modal_root",onChartType:function(e){return t(e)},onGranularity:function(e){return r(e)}}),i.createElement(Ce.i,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),i.createElement(Ce.d,{portalNodeId:"modal_root"}),i.createElement(Ce.k,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),i.createElement(Ce.g,{portalNodeId:"modal_root"})))};De.propTypes={updateChartType:o.a.func,updateGranularity:o.a.func};var Te=De,Me=function(e){var t=e.position,r=e.updateChartType,n=e.updateGranularity;return i.createElement(Ce.j,{position:t||Object(p.isMobile)()?"bottom":null},i.createElement(Ce.b,{portalNodeId:"modal_root",onChartType:r,onGranularity:n}),Object(p.isDesktop)()&&i.createElement(Ce.i,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),Object(p.isDesktop)()&&i.createElement(Ce.k,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),Object(p.isDesktop)()&&i.createElement(Ce.d,{portalNodeId:"modal_root"}),Object(p.isDesktop)()&&i.createElement(Ce.g,{portalNodeId:"modal_root"}))};Me.propTypes={position:o.a.string,updateChartType:o.a.func,updateGranularity:o.a.func};var Ae=Me,Re=r("./Modules/SmartChart/Components/top-widgets.jsx"),Ne=function(e){return e&&function(t){e({target:{name:"symbol",value:t}})}},Ie=Object(_.b)((function(e){var t=e.modules;return{contract_info:t.contract_trade.last_contract.contract_info||{},digits_info:t.contract_trade.last_contract.digits_info||{},display_status:t.contract_trade.last_contract.display_status,is_digit_contract:t.contract_trade.last_contract.is_digit_contract,is_ended:t.contract_trade.last_contract.is_ended,selected_digit:t.trade.last_digit,onDigitChange:t.trade.onChange,underlying:t.trade.symbol,trade_type:t.trade.contract_type}}))((function(e){var t=e.contract_info,r=e.digits,n=e.digits_info,o=e.display_status,a=e.is_digit_contract,s=e.is_ended,c=e.onDigitChange,l=e.selected_digit,u=e.tick,p=e.trade_type,f=e.underlying;return i.createElement(Ee.a,{contract_info:t,digits_array:r,digits_info:n,display_status:o,is_digit_contract:a,is_ended:s,onDigitChange:c,is_trade_page:!0,tick:u,trade_type:p,selected_digit:l,underlying:f})})),ze=Object(_.b)((function(e){var t=e.modules,r=e.ui;return{onSymbolChange:t.trade.onChange,theme:r.is_dark_mode_on?"dark":"light"}}))((function(e){var t,r=e.onSymbolChange,n=e.charts_ref,o=e.theme,a=e.is_digits_widget_active;return n&&n.chart&&(t=n.chart.yAxiswidth),i.createElement(Re.a,{is_mobile:Object(p.isMobile)(),is_digits_widget_active:a,onSymbolChange:Ne(r),theme:o,y_axis_width:t})})),Le=Object(_.b)((function(e){var t=e.modules;return{updateChartType:t.contract_trade.updateChartType,updateGranularity:t.contract_trade.updateGranularity}}))((function(e){var t=e.updateChartType,r=e.updateGranularity;return i.createElement(Ae,{updateChartType:t,updateGranularity:r})})),Ue=function(e){var t=e.digits,r=e.tick;return i.createElement(xe.a,{Digits:i.createElement(Ie,{digits:t,tick:r})})},Fe=(Object(_.b)((function(e){var t=e.modules;return{updateChartType:t.contract_trade.updateChartType,updateGranularity:t.contract_trade.updateGranularity}}))((function(e){var t=e.updateChartType,r=e.updateGranularity;return i.createElement(Te,{updateChartType:t,updateGranularity:r})})),s()({loader:function(){return Object(p.isMobile)()?Promise.all([r.e("screen-large~screen-small"),r.e("screen-small")]).then(r.bind(null,"./Modules/Trading/Components/Form/screen-small.jsx")):Promise.all([r.e("screen-large~screen-small"),r.e("screen-large")]).then(r.bind(null,"./Modules/Trading/Components/Form/screen-large.jsx"))},loading:function(){return null},render:function(e,t){var r=e.default;return i.createElement(r,t)}})),He=function(e){var t=e.is_market_closed,r=e.is_trade_enabled;return i.createElement(i.Fragment,null,i.createElement(Fe,{is_trade_enabled:r,is_market_closed:Object(p.isMobile)()?void 0:t}))};He.propTypes={is_market_closed:o.a.bool,is_trade_enabled:o.a.bool};var Ye=i.memo(He),Ve=function(e){if(!window.DOMParser)return null;var t=(new window.DOMParser).parseFromString(e,"image/svg+xml").children[0],r=t.attributes,n=r.width,o=r.height;n=1*n.value,o=1*o.value;var i=[];return[].forEach.call(t.children,(function(e){var t=e.attributes,r=t.d,n=t.fill,o=t.stroke;i.push({points:r.value.match(/M|C|H|A|L|V|-?\d*(\.\d+)?/g).filter((function(e){return e})).map((function(e){return-1==="MCHALV".indexOf(e)?1*e:e})),fill:n&&n.value,stroke:o&&o.value})})),{width:n,height:o,paths:i,with_color:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"white";return{width:n,height:o,paths:i.map((function(r){var n=r.points,o=r.fill;return{points:n,stroke:r.stroke,fill:"white"!==o?e:t}}))}}}},Be=Ve('\n<svg width="15" height="20" viewBox="0 0 15 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7,20 C11.2,14.4 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 2.8,14.4 7,20 Z" fill="#333333"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="A7 7 4.2 0 6.283185307179586" fill="white" />\n</svg>'),We=Ve('\n<svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2 2L18 2L18 12L2 12Z" fill="white" />\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2,0 L2,1 L19,1 L19,12 L2,12 L2,20 L1,20 L1,0 L2,0 Z M18,8 L15,8 L15,11 L18,11 L18,8 Z M12,8 L9,8 L9,11 L12,11 L12,8 Z M6,8 L3,8 L3,11 L6,11 L6,8 Z M15,5 L12,5 L12,8 L15,8 L15,5 Z M9,5 L6,5 L6,8 L9,8 L9,5 Z M6,2 L3,2 L3,5 L6,5 L6,2 Z M18,2 L15,2 L15,5 L18,5 L18,2 Z M12,2 L9,2 L9,5 L12,5 L12,2 Z" fill="#333333"/>\n</svg>\n');function qe(e,t){return Je(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||$e(e,t)||Xe()}function Ge(e){return Je(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||$e(e)||Xe()}function Xe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $e(e,t){if(e){if("string"==typeof e)return Ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ze(e,t):void 0}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Je(e){if(Array.isArray(e))return e}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var rt=navigator.userAgent.search("Firefox")>0,nt=function(e){return function(t){var r=t.epoch_array,n=t.price_array,o=tt(t,["epoch_array","price_array"]);return i.createElement(Ce.f,{epoch_array:r,price_array:n,draw_callback:function(t){return e(Qe(Qe({},t),o))}})}};function ot(e){var t=e.status,r=e.profit,n=e.is_dark_theme?{open:"#377cfc",won:"#00a79e",lost:"#cc2e3d",sold:"#ffad3a",fg:"#ffffff",bg:"#0e0e0e"}:{open:"#377cfc",won:"#4bb4b3",lost:"#ec3f3f",sold:"#ffad3a",fg:"#333333",bg:"#ffffff"},o=n[t||"open"];return"open"===t&&r&&(o=n[r>0?"won":"lost"]),o}var it=function(e){return e?Math.max(Math.min(Math.sqrt(e/18),1.2),.8):1},at=[],st=function(e,t){if(0===at.length)for(var r=255;r>=0;--r)at[r]=(r<16?"0":"")+r.toString(16);var n=Math.floor(255*Math.min(Math.max(t-e-10,0)/6,1));return at[n]},ct=function(e,t){var r=t.zoom,n=t.top,o=t.left,i=t.icon;e.save();var a=it(r);e.translate(o-i.width*a/2,n-i.height*a/2),e.scale(a,a),i.paths.forEach((function(t){var r,n,o=t.points,i=t.fill,a=t.stroke;i&&(e.fillStyle=i),a&&(e.strokeStyle=a),e.beginPath();for(var s=0;s<o.length;s++){var c=void 0,l=void 0,u=void 0,p=void 0,f=void 0,d=void 0,h=void 0;if("M"===o[s])c=o[++s],l=o[++s],e.moveTo(c,l);else if("L"===o[s])c=o[++s],l=o[++s],e.lineTo(c,l);else if("V"===o[s])l=o[++s],e.lineTo(r,l);else if("H"===o[s])c=o[++s],e.lineTo(c,n);else if("Q"===o[s])u=o[++s],f=o[++s],c=o[++s],l=o[++s],e.quadraticCurveTo(u,f,c,l);else if("C"===o[s])u=o[++s],f=o[++s],p=o[++s],d=o[++s],c=o[++s],l=o[++s],e.bezierCurveTo(u,f,p,d,c,l);else if("A"===o[s]){c=o[++s],l=o[++s],h=o[++s];var m=o[++s],y=o[++s];e.arc(c,l,h,m,y)}r=c,n=l}e.closePath(),i&&e.fill(),a&&e.stroke()})),e.scale(1,1),e.restore()},lt=function(e){var t=e.ctx,r=e.text,n=e.tick,o=n.zoom,i=n.left,a=n.top,s=it(o),c=Math.floor(3*s+7);t.font="".concat(c,"px Roboto"),r.split(/\n/).forEach((function(e,r){var n=Math.ceil(t.measureText(e).width);t.fillText(e,i-5-n,a+r*c+1)}))},ut=function(e){var t=e.ctx,r=e.is_dark_theme,n=e.text,o=e.left,i=e.top,a=e.scale;t.textAlign="center";var s=Math.floor(12*a);t.font="bold ".concat(s,"px BinarySymbols, Roboto"),rt||(t.shadowColor=r?"rgba(16,19,31,1)":"rgba(255,255,255,1)",t.shadowBlur=12);for(var c=0;c<(rt?1:5);++c)t.fillText(n,o,i)},pt=nt((function(e){var t=e.ctx,r=e.canvas_height,n=Ge(e.points),o=n[0],i=n.slice(1),a=qe(e.prices,1)[0],s=e.is_last_contract,c=e.is_dark_theme,l=e.granularity,u=e.contract_info,p=u.status,f=u.profit,d=u.is_sold,h=u.is_expired,m=u.tick_count,y=t,_=ot({is_dark_theme:c,status:p,profit:d?f:null});y.save(),y.strokeStyle=_,y.fillStyle=_;var b=s&&o.visible&&!d,g=it(o.zoom),v=r/window.devicePixelRatio;if(a&&(a=Math.min(Math.max(a,2),v-32)),b&&(lt({ctx:y,text:"Start\nTime",tick:{zom:o.zoom,left:o.left-1*g,top:v-50}}),y.beginPath(),y.setLineDash([3,3]),y.moveTo(o.left-1*g,0),i.length&&a&&(y.lineTo(o.left-1*g,a-34*g),y.moveTo(o.left-1*g,a+4*g)),y.lineTo(o.left-1*g,r),y.stroke()),i.length&&a){var O=i[0],w=i[i.length-1],j=d?st(o.left,w.left):"";(o.visible||O.visible||w.visible)&&(y.strokeStyle=_+j,y.beginPath(),y.setLineDash([1,1]),y.moveTo(o.left,a),y.lineTo(O.left,a),y.stroke(),y.beginPath(),y.setLineDash([]),y.moveTo(O.left,a),y.lineTo(w.left,a),y.stroke(),y.strokeStyle=_),s&&0===l&&!d&&(i.filter((function(e){return e.visible})).forEach((function(e){var t=e===w?_:ot({status:"fg",is_dark_theme:c});y.fillStyle=t+j,y.beginPath(),y.arc(e.left-1*g,e.top,1.5*g,0,2*Math.PI),y.fill()})),y.fillStyle=_),0===l&&([O,h?w:null].forEach((function(e){e&&e.visible&&(y.strokeStyle=_+j,y.setLineDash([2,2]),y.beginPath(),y.moveTo(e.left-1*g,e.top),y.lineTo(e.left-1*g,a),y.stroke(),y.fillStyle=_+j,y.beginPath(),y.arc(e.left-1*g,e.top,3*g,0,2*Math.PI),y.fill(),e===O&&(y.beginPath(),y.fillStyle=ot({status:"bg",is_dark_theme:c})+j,y.arc(e.left-1*g,e.top,2*g,0,2*Math.PI),y.fill()))})),y.strokeStyle=_,y.fillStyle=_),o.visible&&!d&&ut({ctx:y,scale:g,is_dark_theme:c,text:"".concat(i.length-1,"/").concat(m),left:o.left,top:a-27*g}),o.visible&&ct(y,{top:a-9*g,left:o.left-1*g,zoom:o.zoom,icon:Be.with_color(_+(d?j:""),ot({status:"bg",is_dark_theme:c})+(d?j:""))}),w.visible&&d&&ct(y,{top:a-9*g,left:w.left+8*g,zoom:w.zoom,icon:We.with_color(_,ot({status:"bg",is_dark_theme:c}))}),y.restore()}else y.restore()})),ft={AUD:"A$",EUR:"",GBP:"",JPY:"",USD:"$",BTC:"B",BCH:"",ETH:"E",ETC:"",LTC:"L",UST:""},dt={TickContract:pt,NonTickContract:nt((function(e){var t=e.ctx,r=e.canvas_height,n=qe(e.points,4),o=n[0],i=n[1],a=n[2],s=n[3],c=e.is_last_contract,l=qe(e.prices,3),u=l[0],f=l[1],d=l[2],h=e.is_dark_theme,m=e.granularity,y=e.currency,_=e.contract_info,b=_.is_sold,g=_.status,v=_.profit,O=t;0!==m&&(a&&(a.top=f),s&&(s.top=d));var w=ot({status:g,profit:v,is_dark_theme:h});O.save(),O.strokeStyle=w,O.fillStyle=w;var j=c&&o.visible&&!b,S=c&&!b&&v&&o.visible&&u,k=it(o.zoom),P=b?st(o.left,i.left):"",E=r/window.devicePixelRatio;if(u&&(u=Math.min(Math.max(u,2),E-32)),j&&(lt({ctx:O,text:"Start\nTime",tick:{zom:o.zoom,left:o.left-1*k,top:E-50}}),O.beginPath(),O.setLineDash([3,3]),O.moveTo(o.left-1*k,0),u&&(O.lineTo(o.left-1*k,u-(S?38:20)*k),O.moveTo(o.left-1*k,u+4*k)),O.lineTo(o.left-1*k,r),O.stroke()),u&&a&&(o.visible||i.visible||Math.sign(o.left)!==Math.sign(i.left))&&(O.strokeStyle=w+P,O.beginPath(),O.setLineDash([1,1]),O.moveTo(o.left,u),O.lineTo(a.left,u),O.stroke(),O.beginPath(),O.setLineDash([]),O.moveTo(a.left,u),O.lineTo(i.left,u),O.stroke(),O.strokeStyle=w),[a,s].forEach((function(e){e&&e.visible&&(O.strokeStyle=w+P,O.setLineDash([2,2]),O.beginPath(),O.moveTo(e.left-1*k,e.top),O.lineTo(e.left-1*k,u),O.stroke(),O.fillStyle=w+P,O.beginPath(),O.arc(e.left-1*k,e.top,3*k,0,2*Math.PI),O.fill(),e===a&&(O.beginPath(),O.fillStyle=ot({status:"bg",is_dark_theme:h})+P,O.arc(e.left-1*k,e.top,2*k,0,2*Math.PI),O.fill()),O.fillStyle=w,O.strokeStyle=w)})),o&&o.visible&&u&&ct(O,{top:u-9*k,left:o.left-1*k,zoom:o.zoom,icon:Be.with_color(w+P)}),S){var x=ft[y]||"",C=Object(p.getDecimalPlaces)(y),D="".concat(v<0?"-":v>0?"+":" ").concat(x).concat(Math.abs(v).toFixed(C));ut({ctx:O,scale:k,text:D,is_dark_theme:h,left:o.left,top:u-28*k})}i.visible&&ct(O,{top:u-9*k,left:i.left+8*k,zoom:i.zoom,icon:We.with_color(w,ot({status:"bg",is_dark_theme:h}))}),O.restore()})),DigitContract:nt((function(e){var t=e.ctx,r=Ge(e.points),n=r[0],o=r.slice(1),i=qe(e.prices,2),a=i[0],s=i[1],c=e.is_last_contract,l=e.is_dark_theme,u=e.granularity,p=e.contract_info,f=p.status,d=p.profit,h=p.is_sold,m=p.tick_stream,y=p.tick_count,_=t,b=ot({is_dark_theme:l,status:f,profit:h?d:null});_.save(),_.strokeStyle=b,_.fillStyle=b;var g=c&&n.visible&&!h,v=it(n.zoom);if(0!==u&&n&&a&&(n.top=a),g&&(_.beginPath(),_.setLineDash([3,3]),_.moveTo(n.left-1*v,0),o.length&&(_.lineTo(n.left-1*v,n.top-34*v),_.moveTo(n.left-1*v,n.top+4*v)),_.lineTo(n.left-1*v,_.canvas.height),_.stroke()),o.length){var O=o[o.length-1],w=h?st(n.left,O.left):"";0!==u&&O&&s&&(O.top=s),n.visible&&n.top&&!h&&ut({ctx:_,scale:v,is_dark_theme:l,text:"".concat(o.length,"/").concat(y),left:n.left-1*v,top:n.top-27*v}),!n.visible||0!==u&&h||ct(_,{top:n.top-9*v,left:n.left-1*v,zoom:n.zoom,icon:Be.with_color(b+w,ot({status:"bg",is_dark_theme:l})+w)}),o.forEach((function(e,t){if(e===O&&e.visible&&(0===u||e===O)&&(0===u||e!==O||h)){var r=e!==O?ot({status:"fg",is_dark_theme:l}):b;_.beginPath(),_.fillStyle=r,_.arc(e.left,e.top,7*v,0,2*Math.PI),_.fill(),_.beginPath(),_.fillStyle=h?b:ot({status:"bg",is_dark_theme:l}),_.arc(e.left,e.top,6*v,0,2*Math.PI),_.fill();var n=m[t].tick_display_value.slice(-1);_.fillStyle=h?"white":r,_.textAlign="center",_.shadowBlur=0,_.font="bold ".concat(12*v,"px BinarySymbols, Roboto"),_.fillText(n,e.left,e.top)}})),O.visible&&h&&(_.fillStyle=b,ct(_,{top:O.top-16*v,left:O.left+8*v,zoom:O.zoom,icon:We.with_color(b,ot({status:"bg",is_dark_theme:l}))})),_.restore()}else _.restore()}))};function ht(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vt(e,t,r){return t&&gt(e.prototype,t),r&&gt(e,r),e}function Ot(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=kt(e);if(t){var o=kt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return St(this,r)}}function St(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pt,Et,xt=function(e){var t=e.tick,r=e.digits,n=e.setTick,o=e.setDigits;return i.useEffect((function(){n(t)}),[t]),i.useEffect((function(){o(r)}),r),null},Ct=function(e){Ot(r,e);var t=jt(r);function r(){var e;bt(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={digits:[],tick:{}},e.bottomWidgets=function(t){var r=t.digits,n=t.tick;return i.createElement(xt,{digits:r,tick:n,setTick:function(t){return e.setState({tick:t})},setDigits:function(t){return e.setState({digits:t})}})},e.onChangeSwipeableIndex=function(t){0===t?e.props.setMobileDigitView(!0):e.props.setMobileDigitView(!1),e.setState({is_digits_widget_active:0===t})},e}return vt(r,[{key:"componentDidMount",value:function(){this.props.onMount()}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"componentDidUpdate",value:function(e){Object(p.isMobile)()&&e.symbol!==this.props.symbol&&this.setState({digits:[]})}},{key:"render",value:function(){var e=this.props.NotificationMessages,t=Object(p.isMobile)()?"mobile-wrapper":"sidebar__container desktop-only",r=this.props.form_components.length>0&&this.props.is_trade_enabled;return i.createElement("div",{id:"trade_container",className:"trade-container"},i.createElement(u.DesktopWrapper,null,i.createElement(ee,null)),i.createElement(u.Div100vhContainer,{id:"chart_container",className:"chart-container",is_disabled:Object(p.isDesktop)(),height_offset:"259px"},i.createElement(e,null),i.createElement(i.Suspense,{fallback:i.createElement(m.a,{is_dark:this.props.is_dark_theme,is_visible:!this.props.symbol||this.props.is_chart_loading})},i.createElement(u.DesktopWrapper,null,i.createElement("div",{className:"chart-container__wrapper"},i.createElement(m.a,{is_visible:this.props.is_chart_loading}),i.createElement(At,null))),i.createElement(u.MobileWrapper,null,i.createElement(m.a,{is_visible:this.props.is_chart_loading||Object(y.b)(this.props.contract_type)&&!this.state.digits[0]}),i.createElement(u.SwipeableWrapper,{onChange:this.onChangeSwipeableIndex,is_disabled:!this.props.show_digits_stats||!r||this.props.is_chart_loading},this.props.show_digits_stats&&i.createElement(Ie,{digits:this.state.digits,tick:this.state.tick}),i.createElement(At,{bottomWidgets:this.props.show_digits_stats?this.bottomWidgets:void 0,is_digits_widget_active:this.props.show_digits_stats?this.state.is_digits_widget_active:void 0})))),i.createElement(Pe,null)),i.createElement("div",{className:t},this.props.is_market_closed&&i.createElement(ue,null),i.createElement(Ye,{is_market_closed:this.props.is_market_closed,is_trade_enabled:r&&"online"===this.props.network_status.class})))}}]),r}(i.Component),Dt=Object(_.b)((function(e){var t=e.common,r=e.modules,n=e.ui;return{network_status:t.network_status,contract_type:r.trade.contract_type,form_components:r.trade.form_components,is_chart_loading:r.trade.is_chart_loading,is_market_closed:r.trade.is_market_closed,show_digits_stats:r.trade.show_digits_stats,is_trade_enabled:r.trade.is_trade_enabled,setMobileDigitView:r.trade.setMobileDigitView,symbol:r.trade.symbol,onMount:r.trade.onMount,onUnmount:r.trade.onUnmount,purchase_info:r.trade.purchase_info,NotificationMessages:n.notification_messages_ui}}))(Ct),Tt=Object(_.b)((function(e){var t=e.modules,r=e.ui,n=e.client;return{markers_array:t.contract_trade.markers_array,is_digit_contract:t.contract_trade.is_digit_contract,granularity:t.contract_trade.granularity,is_dark_theme:r.is_dark_mode_on,currency:n.currency}}))((function(e){var t=e.markers_array,r=e.is_dark_theme,n=e.granularity,o=e.currency,a=e.config;return t.map((function(e){var t=dt[e.type];return i.createElement(t,yt({key:e.key,is_dark_theme:r,granularity:n,currency:o,config:a},e))}))})),Mt=function(e){Ot(r,e);var t=jt(r);function r(){var e;bt(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={active_markets:[]},e.bottomWidgets=function(e){var t=e.digits,r=e.tick;return i.createElement(Ue,{digits:t,tick:r})},e.topWidgets=function(t){var r=yt({},t),n=e.props.is_digits_widget_active;return i.createElement(ze,yt({charts_ref:e.charts_ref,is_digits_widget_active:n},r))},e}return vt(r,[{key:"componentDidMount",value:function(){this.setActiveMarkets()}},{key:"componentDidUpdate",value:function(e){e.should_refresh&&this.props.resetRefresh(),this.props.active_symbols!==e.active_symbols&&this.setActiveMarkets()}},{key:"setActiveMarkets",value:function(){var e=this.props.active_symbols,t=!!e.find((function(e){return"synthetic_index"===e.market})),r=e.slice().sort((function(e,t){return e.display_name<t.display_name?-1:1})).map((function(e){return e.market})).reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),t?["synthetic_index"]:[]);this.setState({active_markets:r})}},{key:"render",value:function(){var e=this,t=this.props,r=t.show_digits_stats,n=t.main_barrier,o=t.should_refresh,a=t.extra_barriers,s=void 0===a?[]:a,c=t.symbol,l=this.state.active_markets,u=n?[n].concat(ht(s)):s,f=0===this.props.granularity?8:24;return c&&0!==l.length?i.createElement(Ce.h,{ref:function(t){return e.charts_ref=t},barriers:u,bottomWidgets:r&&Object(p.isDesktop)()?this.bottomWidgets:this.props.bottomWidgets,crosshair:Object(p.isMobile)()?0:void 0,crosshairTooltipLeftAllow:560,showLastDigitStats:!!Object(p.isDesktop)()&&r,chartControlsWidgets:null,chartStatusListener:function(t){return e.props.setChartStatus(!t)},chartType:this.props.chart_type,enabledNavigationWidget:Object(p.isDesktop)(),enabledChartFooter:!1,id:"trade",isMobile:Object(p.isMobile)(),maxTick:Object(p.isMobile)()?f:void 0,granularity:this.props.granularity,requestAPI:this.props.wsSendRequest,requestForget:this.props.wsForget,requestForgetStream:this.props.wsForgetStream,requestSubscribe:this.props.wsSubscribe,settings:this.props.settings,symbol:this.props.symbol,topWidgets:this.props.is_trade_enabled?this.topWidgets:null,isConnectionOpened:this.props.is_socket_opened,clearChart:!1,toolbarWidget:Le,importedLayout:this.props.chart_layout,onExportLayout:this.props.exportLayout,shouldFetchTradingTimes:!this.props.end_epoch,refreshActiveSymbols:o,hasAlternativeSource:this.props.has_alternative_source,refToAddTick:this.props.refToAddTick,activeSymbols:l,yAxisMargin:{top:Object(p.isMobile)()?76:106}},i.createElement(Tt,null)):null}}]),r}(i.Component),At=Object(_.b)((function(e){var t=e.modules,r=e.ui,n=e.common;return{is_socket_opened:n.is_socket_opened,granularity:t.contract_trade.granularity,chart_type:t.contract_trade.chart_type,settings:{assetInformation:!1,countdown:r.is_chart_countdown_visible,isHighestLowestMarkerEnabled:!1,lang:n.current_language,position:r.is_chart_layout_default?"bottom":"left",theme:r.is_dark_mode_on?"dark":"light"},last_contract:{is_digit_contract:t.contract_trade.last_contract.is_digit_contract,is_ended:t.contract_trade.last_contract.is_ended},is_trade_enabled:t.trade.is_trade_enabled,main_barrier:t.trade.main_barrier_flattened,extra_barriers:t.trade.barriers_flattened,show_digits_stats:t.trade.show_digits_stats,contract_type:t.trade.contract_type,symbol:t.trade.symbol,exportLayout:t.trade.exportLayout,setChartStatus:t.trade.setChartStatus,chart_layout:t.trade.chart_layout,wsForget:t.trade.wsForget,wsForgetStream:t.trade.wsForgetStream,wsSendRequest:t.trade.wsSendRequest,wsSubscribe:t.trade.wsSubscribe,active_symbols:t.trade.active_symbols,should_refresh:t.trade.should_refresh_active_symbols,resetRefresh:t.trade.resetRefresh,has_alternative_source:t.trade.has_alternative_source,refToAddTick:t.trade.refToAddTick}}))(Mt),Rt=i.lazy((function(){return r.e("contract").then(r.bind(null,"./Modules/Contract/index.js"))})),Nt=i.lazy((function(){return Promise.all([r.e("vendors~mt5"),r.e("mt5")]).then(r.bind(null,"./Modules/MT5/index.js"))})),It=function(e){return e.pastDelay?i.createElement(u.Loading,null):null},zt=(Pt=function(){return r.e("reports").then(r.bind(null,"./Modules/Reports/index.js"))},function(e){return s.a.Map({loader:{ComponentModule:Pt},render:function(t,r){var n=t.ComponentModule.default[e];return i.createElement(n,r)},loading:It})}),Lt={component:i.lazy((function(){return r.e("404").then(r.bind(null,"./Modules/Page404/index.js"))})),title:Object(h.localize)("Error 404")},Ut=function(){return Et||(Et=[{path:p.routes.contract,component:Rt,title:Object(h.localize)("Contract Details"),is_authenticated:!0},{path:p.routes.mt5,component:Nt,title:Object(h.localize)("MT5"),is_authenticated:!1},{path:p.routes.reports,component:zt("Reports"),is_authenticated:!0,title:Object(h.localize)("Reports"),icon_component:"IcReports",routes:[{path:p.routes.positions,component:zt("OpenPositions"),title:Object(h.localize)("Open positions"),icon_component:"IcOpenPositions",default:!0},{path:p.routes.profit,component:zt("ProfitTable"),title:Object(h.localize)("Profit table"),icon_component:"IcProfitTable"},{path:p.routes.statement,component:zt("Statement"),title:Object(h.localize)("Statement"),icon_component:"IcStatement"}]},{path:p.routes.trade,component:Dt,title:Object(h.localize)("Trader"),exact:!0}]).push(Lt),Et};function Ft(){return(Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ht(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Yt=function(e){var t=e.active_class,r=e.to,n=e.children,o=Ht(e,["active_class","to","children"]),a=Object(d.c)(r),s=Object(d.a)(a,Ut());if(!s)throw new Error("Route not found: ".concat(r));return r?i.createElement(f.NavLink,Ft({to:a,activeClassName:t||"active",exact:s.exact},o),n):i.createElement("a",o,n)};Yt.propTypes={active_class:o.a.string,children:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),to:o.a.string};var Vt=Yt,Bt=r("./_common/base/login.js"),Wt=function(e){var t=e.onLogin,r=e.onSignup,n=e.page_title;return i.createElement(u.PageError,{header:i.createElement(h.Localize,{i18n_default_text:"{{page_title}} page is only<0 />available for existing clients.",values:{page_title:n||"This"},components:[i.createElement("br",{key:0})]}),messages:[i.createElement(h.Localize,{key:0,i18n_default_text:"If you have an active account, please <0>Log in</0> for full access. Otherwise, please <1>Sign up</1> to start trading.",components:[i.createElement("a",{key:0,className:"link",onClick:t}),i.createElement("a",{key:1,className:"link",onClick:r})]})]})};Wt.propTypes={onLogin:o.a.func,onSignup:o.a.func,page_title:o.a.string};var qt=Wt,Gt=r("./App/Constants/app-config.js");function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var $t=function(e){return i.createElement(f.Route,{exact:e.exact,path:e.path,render:function(t){var r=null;if(e.component===f.Redirect){var n=e.to;if(e.path===p.routes.index)n=t.location.pathname.toLowerCase().replace(e.path,"");r=i.createElement(f.Redirect,{to:n})}else if(e.is_authenticated&&!e.is_logged_in)r=i.createElement(qt,{onLogin:function(){return Object(Bt.redirectToLogin)(e.is_logged_in)},onSignup:Bt.redirectToSignUp,page_title:e.title});else{var o=e.routes?e.routes.find((function(e){return e.default})):{},a=!Object(p.isEmptyObject)(o),s=Object(p.removeBranchName)(location.pathname);r=i.createElement(i.Fragment,null,a&&s===e.path&&i.createElement(f.Redirect,{to:o.path}),i.createElement(e.component,Xt({},t,{routes:e.routes})))}var c=e.title?"".concat(e.title," | "):"";return document.title="".concat(c).concat(Gt.default_title),r}})};function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Jt=function(e){return i.createElement(i.Suspense,{fallback:i.createElement("div",null)},i.createElement(f.Switch,null,Ut().map((function(t,r){return i.createElement($t,Zt({key:r},t,e))}))))};function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=or(e);if(t){var o=or(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return nr(this,r)}}function nr(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ir=s()({loader:function(){return r.e("error-component").then(r.bind(null,"./App/Components/Elements/Errors/index.js"))},loading:u.UILoader,render:function(e,t){var r=e.default;return i.createElement(r,t)}}),ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(a,e);var t,r,n,o=rr(a);function a(){return Qt(this,a),o.apply(this,arguments)}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this;this.props.setPromptHandler&&this.props.setPromptHandler(!0,(function(t,r){return function(e,t,r,n){if("PUSH"===t||"POP"===t){var o=Object(l.matchPath)(e.pathname,{path:p.routes.contract,exact:!0}),i=Object(l.matchPath)(r,{path:p.routes.contract,exact:!0});n(!!(r===p.routes.trade&&o||e.pathname===p.routes.trade&&i))}return!0}(t,r,e.props.history.location.pathname,e.props.setTradeMountingPolicy)}))}},{key:"render",value:function(){return this.props.has_error?i.createElement(ir,this.props.error):i.createElement(Jt,{is_logged_in:this.props.is_logged_in,passthrough:this.props.passthrough})}}])&&er(t.prototype,r),n&&er(t,n),a}(i.Component);ar.propTypes={error:c.PropTypes.objectOrObservableObject,has_error:o.a.bool,is_logged_in:o.a.bool,is_virtual:o.a.bool,setPromptHandler:o.a.func};var sr=Object(l.withRouter)(Object(_.b)((function(e){var t=e.client,r=e.common,n=e.modules,o=e.ui;return{is_logged_in:t.is_logged_in,error:r.error,has_error:r.has_error,setPromptHandler:o.setPromptHandler,setTradeMountingPolicy:n.trade.setSkipPrePostLifecycle}}))(ar)),cr=r("./Modules/Reports/Helpers/shortcode.js"),lr=r.n(cr),ur=r("./App/Components/Elements/ContentLoader/index.js"),pr=r("./App/Components/Elements/PositionsDrawer/contract-type-cell.jsx"),fr=r("./App/Components/Elements/PositionsDrawer/ProgressSliderMobile/index.js");function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=gr(e);if(t){var o=gr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return br(this,r)}}function br(e,t){return!t||"object"!==dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(a,e);var t,r,n,o=_r(a);function a(){var e;hr(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).handleClick=function(t){e.props.is_unsupported&&(t.preventDefault(),e.props.onClick())},e}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.is_visible,r="won"===e.result;return i.createElement(i.Fragment,null,i.createElement(v.CSSTransition,{in:t,timeout:250,classNames:{enter:"positions-modal-card__result--enter",enterDone:"positions-modal-card__result--enter-done",exit:"positions-modal-card__result--exit"},unmountOnExit:!0},i.createElement("div",{className:"positions-modal-card__caption-wrapper"},i.createElement("span",{className:g()("positions-modal-card__caption",{"positions-modal-card__caption--won":r,"positions-modal-card__caption--lost":!r})},r?i.createElement(i.Fragment,null,Object(h.localize)("Won"),i.createElement(u.Icon,{icon:"IcCheckmarkCircle",className:"positions-modal-card__icon",color:"green"})):i.createElement(i.Fragment,null,Object(h.localize)("Lost"),i.createElement(u.Icon,{icon:"IcCrossCircle",className:"positions-modal-card__icon",color:"red"}))))))}}])&&mr(t.prototype,r),n&&mr(t,n),a}(i.PureComponent);vr.propTypes={is_unsupported:o.a.bool,is_visible:o.a.bool,onClick:o.a.func,result:o.a.string};var Or=vr,wr=r("./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card-header.jsx"),jr=r("./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card-body.jsx"),Sr=r("./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card-footer.jsx"),kr=function(e){var t=e.className,r=e.contract_info,n=e.contract_update,o=e.currency,a=e.current_tick,s=e.indicative,c=e.id,l=e.is_loading,f=e.is_sell_requested,m=e.is_unsupported,y=e.is_valid_to_sell,_=e.profit_loss,b=e.onClickSell,O=e.onClickRemove,w=e.onClickCancel,j=e.result,S=e.sell_price,k=e.status,P=e.togglePositions,E=e.toggleUnsupportedContractModal,x=e.type,C=i.createElement("div",{className:"positions-modal-card__content-loader"},i.createElement(ur.a,{speed:2})),D=Object(H.a)(r.contract_type),T=_<0?"lost":"won",M=i.createElement(i.Fragment,null,i.createElement("div",{className:g()("positions-modal-card__grid","positions-modal-card__grid-header")},i.createElement("div",{className:"positions-modal-card__underlying-name"},i.createElement(u.Icon,{icon:r.underlying?"IcUnderlying".concat(r.underlying):"IcUnknown",size:34}),i.createElement("span",{className:"positions-modal-card__symbol"},r.display_name)),i.createElement("div",{className:"positions-modal-card__type"},i.createElement(pr.a,{multiplier:r.multiplier,type:x,is_high_low:lr.a.isHighLow({shortcode:r.shortcode})})),i.createElement(v.CSSTransition,{in:!!y,timeout:250,classNames:{enter:"positions-modal-card__sell-button--enter",enterDone:"positions-modal-card__sell-button--enter-done",exit:"positions-modal-card__sell-button--exit"},unmountOnExit:!0},i.createElement("div",{className:"positions-modal-card__sell-button"},i.createElement(u.Button,{id:"dt_drawer_card_".concat(c,"_button"),className:g()("dc-btn--sell",{"dc-btn--loading":f}),is_disabled:!y||f,text:Object(h.localize)("Sell"),onClick:function(){return b(c)},secondary:!0})))),i.createElement("div",{className:g()("positions-modal-card__grid","positions-modal-card__grid-body")},i.createElement("div",{className:g()("positions-modal-card__grid-profit-payout")},i.createElement("div",{className:g()("positions-modal-card__profit-loss","positions-modal-card__profit-loss-label")},j?Object(h.localize)("Profit/Loss:"):Object(h.localize)("Potential profit/loss:")),i.createElement("div",{className:g()("positions-modal-card__indicative","positions-modal-card__indicative-label")},j?Object(h.localize)("Payout:"):Object(h.localize)("Indicative price:")),i.createElement("div",{className:g()("positions-modal-card__profit-loss",{"positions-modal-card__profit-loss--is-crypto":Object(p.isCryptocurrency)(o),"positions-modal-card__profit-loss--negative":_<0,"positions-modal-card__profit-loss--positive":_>0})},i.createElement(u.Money,{amount:Math.abs(_),currency:o}),i.createElement("div",{className:g()("positions-modal-card__indicative--movement",{"positions-modal-card__indicative--movement-complete":!!j})},"profit"===k&&i.createElement(u.Icon,{icon:"IcProfit"}),"loss"===k&&i.createElement(u.Icon,{icon:"IcLoss"}))),i.createElement("div",{className:"positions-modal-card__indicative"},i.createElement(u.Money,{amount:S||s,currency:o}),i.createElement("div",{className:g()("positions-modal-card__indicative--movement",{"positions-modal-card__indicative--movement-complete":!!j})},"profit"===k&&i.createElement(u.Icon,{icon:"IcProfit"}),"loss"===k&&i.createElement(u.Icon,{icon:"IcLoss"})))),i.createElement("div",{className:g()("positions-modal-card__grid-price-payout")},i.createElement("div",{className:"positions-modal-card__purchase-price"},i.createElement("span",{className:"positions-modal-card__purchase-label"},Object(h.localize)("Purchase price:")),i.createElement("span",{className:"positions-modal-card__purchase-value"},i.createElement(u.Money,{amount:r.buy_price,currency:o}))),i.createElement("div",{className:"positions-modal-card__payout-price"},i.createElement("span",{className:"positions-modal-card__payout-label"},Object(h.localize)("Potential payout:")),i.createElement("span",{className:"positions-modal-card__payout-value"},r.payout?i.createElement(u.Money,{amount:r.payout,currency:o}):i.createElement("strong",null,"-i")))),j||r.is_sold?i.createElement(Or,{contract_id:c,is_unsupported:m,is_visible:!!r.is_sold,onClickRemove:O,onClick:function(){return E(!0)},result:j||T}):i.createElement(fr.a,{className:"positions-modal-card__progress",is_loading:l,start_time:r.date_start,expiry_time:r.date_expiry,current_tick:a,ticks_count:r.tick_count}))),A=i.createElement(i.Fragment,null,i.createElement(wr.a,{contract_info:r,has_progress_slider:!D}),i.createElement(jr.a,{contract_info:r,contract_update:n,currency:o,is_multiplier:D,status:k})),R=D?i.createElement(Sr.a,{contract_info:r,is_multiplier:D,is_sell_requested:f,onClickCancel:w,onClickSell:b}):null,N=D?A:M;return i.createElement("div",{id:"dt_drawer_card_".concat(c),className:g()("positions-modal-card__wrapper",t)},m?i.createElement("div",{className:g()("positions-modal-card"),onClick:function(){return E(!0)}},r.underlying?N:C):i.createElement(i.Fragment,null,i.createElement(Vt,{onClick:P,className:g()("positions-modal-card",{"positions-modal-card--multiplier":D}),to:Object(d.b)(c)},r.underlying?N:C),R))};kr.propTypes={className:o.a.string,contract_info:o.a.object,currency:o.a.string,current_tick:o.a.number,duration:o.a.oneOfType([o.a.number,o.a.string]),duration_unit:o.a.string,exit_spot:o.a.oneOfType([o.a.number,o.a.string]),id:o.a.number,indicative:o.a.number,is_loading:o.a.bool,is_sell_requested:o.a.bool,is_unsupported:o.a.bool,is_valid_to_sell:o.a.oneOfType([o.a.number,o.a.bool]),onClickRemove:o.a.func,onClickSell:o.a.func,onClickCancel:o.a.func,profit_loss:o.a.number,result:o.a.string,sell_time:o.a.number,status:o.a.string,togglePositions:o.a.func,toggleUnsupportedContractModal:o.a.func,type:o.a.string};var Pr=kr,Er=(r("./sass/app/_common/components/positions-toggle.scss"),function(e){var t=e.positions_count,r=e.is_open,n=e.togglePositions,o=g()("positions-toggle",{"positions-toggle--active":r,"positions-toggle--has-count":t>0});return i.createElement("a",{id:"dt_positions_toggle",className:o,onClick:n,"data-count":t},i.createElement(u.Icon,{icon:"IcPortfolio",className:"positions-toggle__icon"}))});Er.propTypes={is_positions_drawer_on:o.a.bool,positions_count:o.a.number,togglePositionsDrawer:o.a.func};var xr=Er;function Cr(e){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dr(){return(Dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ir(e);if(t){var o=Ir(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Nr(this,r)}}function Nr(e,t){return!t||"object"!==Cr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}(a,e);var t,r,n,o=Rr(a);function a(){var e;Tr(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).filtered_positions=[],e.closeModal=function(){var t=e.props,r=t.togglePositionsDrawer,n=t.onClickRemove;e.filtered_positions.slice(0,5).map((function(e){var t=e.contract_info;(null==t?void 0:t.is_sold)&&n(t.contract_id)})),r()},e}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.all_positions,r=e.error,n=e.currency,o=e.is_empty,a=e.onClickSell,s=e.onClickRemove,c=e.onClickCancel,l=e.symbol,f=e.togglePositionsDrawer,d=e.toggleUnsupportedContractModal,m=e.trade_contract_type;this.filtered_positions=t.filter((function(e){return e.contract_info&&l===e.contract_info.underlying&&Object(Y.a)(e.contract_info,m)}));var y=i.createElement(i.Fragment,null,i.createElement(v.TransitionGroup,{component:"div"},this.filtered_positions.slice(0,5).map((function(e){return i.createElement(v.CSSTransition,{appear:!0,key:e.id,in:!0,timeout:150,classNames:{appear:"positions-drawer-card__wrapper--enter",enter:"positions-drawer-card__wrapper--enter",enterDone:"positions-drawer-card__wrapper--enter-done",exit:"positions-drawer-card__wrapper--exit"},unmountOnExit:!0},i.createElement(Pr,Dr({onClickSell:a,onClickCancel:c,onClickRemove:s,key:e.id,currency:n,toggleUnsupportedContractModal:d,togglePositions:f},e)))}))));return i.createElement(i.Fragment,null,i.createElement(xr,{is_open:this.props.is_positions_drawer_on,togglePositions:this.props.togglePositionsDrawer,positions_count:this.props.active_positions_count}),i.createElement(u.Modal,{is_open:this.props.is_positions_drawer_on,toggleModal:this.closeModal,id:"dt_mobile_positions",is_vertical_top:!0,has_close_icon:!0,enableApp:this.props.enableApp,disableApp:this.props.disableApp,width:"calc(100vw - 32px)"},i.createElement(u.Div100vhContainer,{className:"positions-modal",height_offset:"48px"},i.createElement("div",{className:"positions-modal__header"},i.createElement("span",{className:"positions-modal__title"},i.createElement(u.Icon,{icon:"IcPortfolio",className:"positions-modal__title-icon"}),Object(h.localize)("Recent positions")),i.createElement("div",{className:"positions-modal__close-btn",onClick:this.closeModal},i.createElement(u.Icon,{icon:"IcMinusBold"}))),i.createElement("div",{className:"positions-modal__body"},o||r?i.createElement(U,{error:r}):y),i.createElement("div",{className:"positions-modal__footer"},i.createElement(Vt,{onClick:this.closeModal,className:"dc-btn dc-btn--secondary dc-btn__large positions-modal__footer-btn",to:p.routes.positions},i.createElement("span",{className:"dc-btn__text"},Object(h.localize)("View more")))))))}}])&&Mr(t.prototype,r),n&&Mr(t,n),a}(i.Component),Lr=Object(_.b)((function(e){var t=e.modules,r=e.ui;return{symbol:t.trade.symbol,trade_contract_type:t.trade.contract_type,onClickRemove:t.portfolio.removePositionById,togglePositionsDrawer:r.togglePositionsDrawer,is_positions_drawer_on:r.is_positions_drawer_on}}))(zr),Ur=r("./Services/ws-methods.js");function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Gr(e);if(t){var o=Gr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return qr(this,r)}}function qr(e,t){return!t||"object"!==Fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(c,e);var t,r,n,o,a,s=Wr(c);function c(){var e;Yr(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=s.call.apply(s,[this].concat(r))).populateHeader=function(){var t=e.props,r=t.active_positions_count,n=t.disableApp,o=t.enableApp,a=t.is_logged_in,s=t.is_positions_empty,c=t.onPositionsRemove,l=t.onPositionsSell,p=t.onPositionsCancel,f=t.positions,d=t.positions_currency,h=t.positions_error;(0,t.populateHeaderExtensions)(a&&i.createElement(u.MobileWrapper,null,i.createElement(_.a,{store:e.props.store},i.createElement(Lr,{active_positions_count:r,all_positions:f,currency:d,disableApp:n,is_empty:s,enableApp:o,error:h,onClickSell:l,onClickRemove:c,onClickCancel:p}))))},e}return t=c,(r=[{key:"componentDidMount",value:(o=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(p.isMobile)()){e.next=10;break}return t=this.props.store.client,e.next=4,Object(pe.when)((function(){return!t.is_populating_account_list}));case 4:if(!this.props.is_logged_in){e.next=10;break}return e.next=7,Ur.a.wait("authorize");case 7:this.props.onMountPositions(),this.props.onMountCashier(!0),this.props.setAccountSwitchListener();case 10:this.populateHeader();case 11:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){Hr(i,r,n,a,s,"next",e)}function s(e){Hr(i,r,n,a,s,"throw",e)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"componentDidUpdate",value:function(){this.populateHeader()}},{key:"componentWillUnmount",value:function(){Object(p.isMobile)()&&this.props.onUnmountPositions(),this.props.populateHeaderExtensions(null)}},{key:"render",value:function(){return null}}])&&Vr(t.prototype,r),n&&Vr(t,n),c}(i.Component);Xr.propTypes={is_logged_in:o.a.bool,populateHeaderExtensions:o.a.func};var $r=Object(_.b)((function(e){var t=e.client,r=e.modules,n=e.ui;return{positions_currency:t.currency,is_logged_in:t.is_logged_in,positions:r.portfolio.all_positions,positions_error:r.portfolio.error,is_positions_empty:r.portfolio.is_empty,onPositionsSell:r.portfolio.onClickSell,onPositionsRemove:r.portfolio.removePositionById,onPositionsCancel:r.portfolio.onClickCancel,onMountCashier:r.cashier.onMountCommon,onMountPositions:r.portfolio.onMount,onUnmountPositions:r.portfolio.onUnmount,active_positions_count:r.portfolio.active_positions_count,disableApp:n.disableApp,enableApp:n.enableApp,populateHeaderExtensions:n.populateHeaderExtensions,toggleUnsupportedContractModal:n.toggleUnsupportedContractModal,setAccountSwitchListener:r.cashier.setAccountSwitchListener}}))(Xr);function Zr(e){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qr(e,t){return(Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=rn(e);if(t){var o=rn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tn(this,r)}}function tn(e,t){return!t||"object"!==Zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qr(e,t)}(a,e);var t,r,n,o=en(a);function a(){var e;Jr(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).populateFooter=function(){var t=e.props,r=t.is_logged_in,n=t.active_positions_count,o=t.location,a=t.togglePositionsDrawer,s=t.is_positions_drawer_on,c=t.populateFooterExtensions,l=o.pathname===p.routes.trade;c(r&&l&&i.createElement(xr,{is_open:s,togglePositions:a,positions_count:n}))},e}return t=a,(r=[{key:"componentDidMount",value:function(){this.populateFooter()}},{key:"componentDidUpdate",value:function(){this.populateFooter()}},{key:"componentWillUnmount",value:function(){this.props.populateFooterExtensions(null)}},{key:"render",value:function(){return null}}])&&Kr(t.prototype,r),n&&Kr(t,n),a}(i.Component);nn.propTypes={is_logged_in:o.a.bool,is_positions_drawer_on:o.a.bool,populateFooterExtensions:o.a.func,togglePositionsDrawer:o.a.func};var on=Object(_.b)((function(e){var t=e.client,r=e.modules,n=e.ui;return{is_logged_in:t.is_logged_in,active_positions_count:r.portfolio.active_positions_count,togglePositionsDrawer:n.togglePositionsDrawer,is_positions_drawer_on:n.is_positions_drawer_on,populateFooterExtensions:n.populateFooterExtensions}}))(Object(f.withRouter)(nn));function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(){return(sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=dn(e);if(t){var o=dn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fn(this,r)}}function fn(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hn=s()({loader:function(){return r.e("settings-chart").then(r.bind(null,"./App/Containers/SettingsModal/settings-chart.jsx"))},loading:u.UILoader}),mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(a,e);var t,r,n,o=pn(a);function a(){var e;cn(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).populateSettings=function(){(0,e.props.populateSettingsExtensions)([{icon:"IcChart",label:Object(h.localize)("Charts"),value:function(t){var r=sn({},t);return i.createElement(_.a,{store:e.props.store},i.createElement(hn,r))}}])},e}return t=a,(r=[{key:"componentDidMount",value:function(){this.populateSettings()}},{key:"componentDidUpdate",value:function(){this.populateSettings()}},{key:"componentWillUnmount",value:function(){this.props.populateSettingsExtensions(null)}},{key:"render",value:function(){return null}}])&&ln(t.prototype,r),n&&ln(t,n),a}(i.Component);mn.propTypes={populateSettingsExtensions:o.a.func};var yn=Object(_.b)((function(e){return{populateSettingsExtensions:e.ui.populateSettingsExtensions}}))(mn),_n=r("./Modules/Trading/Containers/toast-popup.jsx"),bn=r("../node_modules/extend/index.js"),gn=r.n(bn),vn=r("./Stores/Modules/Contract/Helpers/digits.js"),On=function(e){var t=e.label,r=e.line_style,n=e.marker_config,o=e.status;return n?i.createElement("div",{className:g()("chart-marker-line__wrapper","chart-marker-line--".concat(r))},t===n.LINE_END.content_config.label&&i.createElement(u.Icon,{icon:"IcContractExitTimeCircle",className:"chart-marker-line__icon",color:"lost"===o?"red":"green",size:24}),t===n.LINE_START.content_config.label&&i.createElement(u.Icon,{icon:"IcContractStartTimeCircle",className:"chart-marker-line__icon chart-marker-line__icon--time",color:"secondary",size:24})):i.createElement("div",null)};On.propTypes={label:o.a.string,line_style:o.a.string,marker_config:o.a.object,status:o.a.oneOf(["won","lost"])};var wn=Object(c.observer)(On),jn=function(e){var t=e.className,r=e.spot_count;return i.createElement("div",{className:g()("chart-spot",t)},r)};jn.propTypes={className:o.a.string,spot_count:o.a.oneOfType([o.a.number,o.a.string])};var Sn=Object(c.observer)(jn);function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Dn(e);if(t){var o=Dn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Cn(this,r)}}function Cn(e,t){return!t||"object"!==kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(a,e);var t,r,n,o=xn(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).handleHoverToggle=function(){t.setState((function(e){return{show_label:!e.show_label}}))},t.state={show_label:!t.props.has_hover_toggle},t}return t=a,(r=[{key:"render",value:function(){var e=i.createElement(Sn,{className:this.props.spot_className,spot_count:this.props.spot_count});return this.props.has_hover_toggle&&(e=i.createElement("div",{className:"marker-hover-container",onMouseEnter:this.handleHoverToggle,onMouseLeave:this.handleHoverToggle},e)),i.createElement("div",{className:"chart-spot-label"},this.state.show_label&&i.createElement("div",{className:"chart-spot-label__info-container"},i.createElement("div",{className:"chart-spot-label__time-value-container chart-spot-label__time-value-container--".concat(this.props.align_label)},i.createElement("div",{className:"chart-spot-label__time-container"},i.createElement(u.Icon,{icon:"IcClockOutline",height:10,width:10,className:"chart-spot-label__time-icon"}),i.createElement("p",{className:"chart-spot-label__time"},Object(p.toMoment)(+this.props.spot_epoch).format("HH:mm:ss"))),i.createElement("div",{className:g()("chart-spot-label__value-container",{"chart-spot-label__value-container--won":"won"===this.props.status,"chart-spot-label__value-container--lost":"lost"===this.props.status})},i.createElement("p",null,Object(p.addComma)(this.props.spot_value))))),e)}}])&&Pn(t.prototype,r),n&&Pn(t,n),a}(i.Component);Tn.defaultProps={align_label:"top"},Tn.propTypes={align_label:o.a.oneOf(["top","bottom"]),has_hover_toggle:o.a.bool,spot_className:o.a.string,spot_count:o.a.oneOfType([o.a.number,o.a.string]),spot_epoch:o.a.oneOfType([o.a.number,o.a.string]),spot_value:o.a.oneOfType([o.a.number,o.a.string]),status:o.a.oneOf(["won","lost"])};var Mn,An,Rn=Object(c.observer)(Tn),Nn={LINE_END:{type:"LINE_END",marker_config:{ContentComponent:wn,className:"chart-marker-line"},content_config:{line_style:"dash",label:Object(h.localize)("End Time")}},LINE_PURCHASE:{type:"LINE_PURCHASE",marker_config:{ContentComponent:wn,className:"chart-marker-line"},content_config:{line_style:"solid",label:Object(h.localize)("Purchase Time")}},LINE_START:{type:"LINE_START",marker_config:{ContentComponent:wn,className:"chart-marker-line"},content_config:{line_style:"solid",label:Object(h.localize)("Start Time")}},SPOT_ENTRY:{type:"SPOT_ENTRY",marker_config:{ContentComponent:Sn},content_config:{className:"chart-spot__entry"}},SPOT_SELL:{type:"SPOT_SELL",marker_config:{ContentComponent:Sn},content_config:{className:"chart-spot__sell"}},SPOT_EXIT:{type:"SPOT_EXIT",marker_config:{ContentComponent:Rn},content_config:{spot_className:"chart-spot__spot"}},SPOT_MIDDLE:{type:"SPOT_MIDDLE",marker_config:{ContentComponent:Rn},content_config:{spot_className:"chart-spot__spot"}}},In=function(e,t,r,n){return gn()(!0,{},Nn[e],{marker_config:{x:+t,y:r},content_config:n})},zn=function(e,t){return Object(vn.b)(e.contract_type)?t+1:t},Ln=function(e){if(!e.entry_tick_time)return!1;var t=Nn.SPOT_ENTRY.type,r={},n=e.entry_tick_display_value;return Object(vn.b)(e.contract_type)&&(t=Nn.SPOT_MIDDLE.type,r={spot_value:"".concat(n),spot_epoch:"".concat(e.entry_tick_time),spot_count:1}),In(t,e.entry_tick_time,n,r)},Un=function(e,t,r){if(!e.exit_tick_time)return!1;var n,o,i=Object(F.o)(e);t&&(n=zn(e,r),o=t.align_label);var a=e.exit_tick_display_value,s=!i||Object(H.a)(e.contract_type),c=s?Nn.SPOT_EXIT.type:Nn.SPOT_SELL.type,l=s?{spot_value:"".concat(a),spot_epoch:"".concat(e.exit_tick_time),status:"".concat(+e.profit>=0?"won":"lost"),align_label:o,spot_count:n}:{};return In(c,+e.exit_tick_time,+a,l)};function Fn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hn(e){return function(e){if(Array.isArray(e))return Yn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vn,Bn,Wn,qn,Gn,Xn,$n,Zn,Jn,Kn,Qn,eo,to,ro,no,oo,io,ao,so,co,lo,uo,po,fo,ho,mo,yo,_o,bo,go,vo,Oo,wo,jo=(Fn(Mn={},Nn.SPOT_ENTRY.type,Ln),Fn(Mn,Nn.SPOT_EXIT.type,Un),Mn),So=(Fn(An={},Nn.LINE_START.type,(function(e){return!!e.date_start&&In(Nn.LINE_START.type,+e.date_start,null,{marker_config:Nn})})),Fn(An,Nn.LINE_END.type,(function(e){var t=Object(F.g)(e);return!!t&&In(Nn.LINE_END.type,+t,null,{status:"".concat(e.profit>=0?"won":"lost"),marker_config:Nn})})),Fn(An,Nn.LINE_PURCHASE.type,(function(e){return!(!e.purchase_time||!e.date_start||+e.purchase_time==+e.date_start)&&In(Nn.LINE_PURCHASE.type,+e.purchase_time)})),An),ko=function(e,t,r){if(t>0&&r.length){var n=r[t-1];+e>+n.tick&&(e.align_label="top"),+e.tick<+n.tick&&(e.align_label="bottom"),+e.tick==+n.tick&&(e.align_label=n.align_label)}return e},Po=function(e){var t=Object(p.unique)(e.tick_stream,"epoch").map(ko),r=[];return t.forEach((function(t,n){var o,i=0===n&&+t.epoch!==e.exit_tick_time,a=n>0&&+t.epoch!=+e.exit_tick_time,s=+t.epoch==+e.exit_tick_time||zn(e,n)===e.tick_count;i?o=Ln(e):a?o=function(e,t,r){var n=zn(e,r),o=t.tick_display_value,i=In(Nn.SPOT_MIDDLE.type,+t.epoch,+o,{spot_value:"".concat(o),spot_epoch:"".concat(t.epoch),align_label:t.align_label,spot_count:n});return i.type="".concat(i.type,"_").concat(r),Object(p.isMobile)()&&n>1?null:i}(e,t,n):s&&(t.align_label="top",o=Un(e,t,n)),o&&r.push(o)})),r},Eo=r("./Stores/Modules/Contract/Helpers/limit-orders.js"),xo=function(){return{has_contract_update_stop_loss:{trigger:"contract_update_stop_loss"},contract_update_stop_loss:{rules:[["req",{condition:function(e){return!e.contract_update_stop_loss},message:Object(h.localize)("Please enter a stop loss amount.")}],["custom",{func:function(e,t,r){var n=Object(F.j)(r);return!(n<0&&-e>n)},message:Object(h.localize)("Please enter a stop loss amount that's higher than the current potential loss.")}],["custom",{func:function(e,t,r){return e<Object(F.a)(r)+1},message:Object(h.localize)("Invalid stop loss. Stop loss cannot be more than stake.")}]]},has_contract_update_take_profit:{trigger:"contract_update_take_profit"},contract_update_take_profit:{rules:[["req",{condition:function(e){return!e.contract_update_take_profit},message:Object(h.localize)("Please enter a take profit amount.")}],["custom",{func:function(e,t,r){var n=Object(F.j)(r);return!(n>0&&+e<n)},message:Object(h.localize)("Please enter a take profit amount that's higher than the current potential profit.")}]]}}},Co=r("./Stores/base-store.js"),Do=r("./Stores/Modules/SmartChart/Constants/barriers.js"),To=r("./Stores/Modules/SmartChart/Helpers/barriers.js"),Mo=r("./Stores/Modules/SmartChart/chart-barrier-store.js");function Ao(e){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function No(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Io(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function zo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lo(e,t){return(Lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Yo(e);if(t){var o=Yo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Fo(this,r)}}function Fo(e,t){return!t||"object"!==Ao(t)&&"function"!=typeof t?Ho(e):t}function Ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yo(e){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vo(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function Bo(e){return function(e){if(Array.isArray(e))return Wo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Wo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qo=(Vn=pe.observable.ref,Bn=pe.observable.ref,Wn=pe.observable.ref,qn=pe.observable.shallow,Gn=pe.observable.shallow,Xn=pe.observable.ref,$n=pe.action.bound,Zn=pe.action.bound,Jn=pe.action.bound,Kn=pe.action.bound,Qn=pe.action.bound,eo=pe.action.bound,wo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lo(e,t)}(i,e);var t,r,n,o=Uo(i);function i(e,t){var r,n=t.contract_id;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Io(r=o.call(this,{root_store:e,validation_rules:xo()}),"digits_info",ro,Ho(r)),Io(r,"sell_info",no,Ho(r)),Io(r,"contract_config",oo,Ho(r)),Io(r,"display_status",io,Ho(r)),Io(r,"is_ended",ao,Ho(r)),Io(r,"is_digit_contract",so,Ho(r)),Io(r,"error_message",co,Ho(r)),Io(r,"contract_info",lo,Ho(r)),Io(r,"is_static_chart",uo,Ho(r)),Io(r,"end_time",po,Ho(r)),Io(r,"contract_update_take_profit",fo,Ho(r)),Io(r,"contract_update_stop_loss",ho,Ho(r)),Io(r,"has_contract_update_take_profit",mo,Ho(r)),Io(r,"has_contract_update_stop_loss",yo,Ho(r)),Io(r,"contract_update_history",_o,Ho(r)),r.contract_update_config={},Io(r,"margin",bo,Ho(r)),Io(r,"barriers_array",go,Ho(r)),Io(r,"markers_array",vo,Ho(r)),Io(r,"marker",Oo,Ho(r)),r.is_ongoing_contract=!1,r.cacheProposalOpenContractResponse=function(e){var t=e.proposal_open_contract.contract_id;Ur.a.storage.set({proposal_open_contract:1,contract_id:t},e)},r.createBarriersArray=function(e,t){var r=[];if(e){var n=e.contract_type,o=e.barrier,i=e.entry_spot,a=e.high_barrier,s=e.low_barrier;if(Object(To.b)(n)&&(o||a||i)){var c=new Mo.a(o||a||i,s,null,{color:t?Do.a.DARK_GRAY:Do.a.GRAY,line_style:Do.b.SOLID,not_draggable:!0});c.updateBarrierShade(!0,n),r=[c]}}return r},r.root_store=e,r.contract_id=n,r}return t=i,(r=[{key:"populateConfig",value:function(e){var t=this.contract_info;this.contract_info=e,this.end_time=Object(F.g)(this.contract_info),this.updateBarriersArray(e,this.root_store.ui.is_dark_mode_on),this.markers_array=function(e){var t=[];if(e){var r,n=Object(F.g)(e),o=Object(F.d)(e.date_start,n);if(e.tick_count){var i,a=Po(e);(i=t).push.apply(i,Hn(a))}else if("candle"!==o){var s,c=Object.keys(jo).map((function(t){return jo[t](e)}));(s=t).push.apply(s,Hn(c))}var l=Object.keys(So).map((function(t){return So[t](e)}));(r=t).push.apply(r,Hn(l)),t=t.filter((function(e){return!!e}))}return t.forEach((function(t){var r=e.contract_id;t.react_key="".concat(r,"-").concat(t.type)})),t}(this.contract_info),this.marker=function(e){if(!e||Object(H.a)(e.contract_type))return null;var t=e.transaction_ids,r=e.tick_stream,n=e.contract_id,o=e.date_start,i=e.date_expiry,a=e.entry_tick,s=e.exit_tick,c=e.entry_tick_time,l=e.exit_tick_time,u=e.contract_type,p=e.tick_count,f=e.barrier_count,d=e.barrier,h=e.high_barrier,m=e.low_barrier,y=r?r.map((function(e){return e.epoch})):[],_=Object(vn.b)(u),b=[];if(_?b=[]:1==+f&&d?b=[+d]:2==+f&&h&&m&&(b=[+m,+h]),a&&b.push(a),s&&b.push(s),!o)return null;if(!t)return{type:_?"DigitContract":"TickContract",contract_info:Object(pe.toJS)(e),key:"".concat(n,"-date_start"),epoch_array:[o],price_array:b};if(p>=1)return Object(vn.b)(u)?{contract_info:Object(pe.toJS)(e),type:"DigitContract",key:"".concat(n,"-date_start"),epoch_array:[o].concat(Bo(y)),price_array:b}:{contract_info:Object(pe.toJS)(e),type:"TickContract",key:"".concat(n,"-date_start"),epoch_array:[o].concat(Bo(y)),price_array:b};if(!p){var g=Object(F.g)(e)||i,v=[o,g];return c&&v.push(c),l&&v.push(l),{contract_info:Object(pe.toJS)(e),type:"NonTickContract",key:"".concat(n,"-date_start"),epoch_array:v,price_array:b}}return null}(this.contract_info),this.contract_config=Object(F.c)(this.contract_info),this.display_status=Object(F.f)(this.contract_info),this.is_ended=Object(F.m)(this.contract_info),this.is_digit_contract=Object(vn.b)(this.contract_info.contract_type),!this.contract_info.barrier&&t.barrier&&this.is_digit_contract&&(this.contract_info.barrier=t.barrier),this.is_digit_contract&&Object(pe.extendObservable)(this.digits_info,Object(vn.a)(this.digits_info,this.contract_info)),Object(H.a)(this.contract_info.contract_type)&&e.contract_id&&e.limit_order&&this.populateContractUpdateConfig(this.contract_info)}},{key:"populateContractUpdateConfig",value:function(e){var t=Object(F.e)(e);Object(p.isEqualObject)(this.contract_update_config,t)||(Object.assign(this,t),this.contract_update_config=t)}},{key:"populateContractUpdateHistory",value:function(e){var t=e.contract_update_history;this.root_store.modules.contract_replay.contract_store.contract_update_history=t}},{key:"updateBarriersArray",value:function(e,t){if(this.barriers_array.length){var r=this.barriers_array[0];if(e){var n=e.contract_type,o=e.barrier,i=e.high_barrier,a=e.low_barrier;Object(To.b)(n)&&(o||i)&&(r.updateBarriers(o||i,a),r.updateBarrierColor(t)),e.contract_id&&e.contract_id===this.root_store.modules.contract_replay.contract_id&&Object(Eo.c)({barriers:this.barriers_array,contract_info:e,contract_type:n,is_over:!0})}}else this.barriers_array=this.createBarriersArray(e,t)}},{key:"clearContractUpdateConfigValues",value:function(){Object.assign(this,Object(F.e)(this.contract_info)),this.validation_errors.contract_update_stop_loss=[],this.validation_errors.contract_update_take_profit=[]}},{key:"onChange",value:function(e){var t=e.name,r=e.value;this[t]=r,this.validateProperty(t,this[t])}},{key:"updateLimitOrder",value:function(){var e=this,t=Object(Eo.a)(this);Ur.a.contractUpdate(this.contract_id,t).then((function(t){t.error?e.root_store.common.setServicesError(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(r),!0).forEach((function(t){No(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ro(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:t.msg_type},t.error)):(e.populateContractUpdateConfig(t),e.root_store.ui.is_history_tab_active&&Ur.a.contractUpdateHistory(e.contract_id).then(e.populateContractUpdateHistory),e.root_store.modules.portfolio.populateContractUpdate(t,e.contract_id))}))}}])&&zo(t.prototype,r),n&&zo(t,n),i}(Co.a),ro=Vo((to=wo).prototype,"digits_info",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.observable.object({})}}),no=Vo(to.prototype,"sell_info",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.observable.object({})}}),oo=Vo(to.prototype,"contract_config",[Vn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),io=Vo(to.prototype,"display_status",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"purchased"}}),ao=Vo(to.prototype,"is_ended",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),so=Vo(to.prototype,"is_digit_contract",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),co=Vo(to.prototype,"error_message",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),lo=Vo(to.prototype,"contract_info",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.observable.object({})}}),uo=Vo(to.prototype,"is_static_chart",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),po=Vo(to.prototype,"end_time",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fo=Vo(to.prototype,"contract_update_take_profit",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ho=Vo(to.prototype,"contract_update_stop_loss",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mo=Vo(to.prototype,"has_contract_update_take_profit",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yo=Vo(to.prototype,"has_contract_update_stop_loss",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_o=Vo(to.prototype,"contract_update_history",[Wn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bo=Vo(to.prototype,"margin",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),go=Vo(to.prototype,"barriers_array",[qn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vo=Vo(to.prototype,"markers_array",[Gn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oo=Vo(to.prototype,"marker",[Xn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vo(to.prototype,"populateConfig",[$n],Object.getOwnPropertyDescriptor(to.prototype,"populateConfig"),to.prototype),Vo(to.prototype,"populateContractUpdateConfig",[Zn],Object.getOwnPropertyDescriptor(to.prototype,"populateContractUpdateConfig"),to.prototype),Vo(to.prototype,"populateContractUpdateHistory",[Jn],Object.getOwnPropertyDescriptor(to.prototype,"populateContractUpdateHistory"),to.prototype),Vo(to.prototype,"clearContractUpdateConfigValues",[Kn],Object.getOwnPropertyDescriptor(to.prototype,"clearContractUpdateConfigValues"),to.prototype),Vo(to.prototype,"onChange",[Qn],Object.getOwnPropertyDescriptor(to.prototype,"onChange"),to.prototype),Vo(to.prototype,"updateLimitOrder",[eo],Object.getOwnPropertyDescriptor(to.prototype,"updateLimitOrder"),to.prototype),to);var Go,Xo,$o,Zo,Jo,Ko,Qo,ei,ti,ri,ni,oi,ii,ai,si,ci,li,ui,pi,fi,di,hi,mi,yi,_i,bi=function(e,t){return{key:"contract_sold",header:Object(h.localize)("Contract sold"),message:i.createElement(h.Localize,{i18n_default_text:"Contract was sold for <0 />.",components:[i.createElement(u.Money,{key:t,amount:t,currency:e})]}),type:"contract_sold",size:"small",should_hide_close_btn:!0,is_auto_close:!0}},gi=function(){return{key:"contract_sold",header:Object(h.localize)("Contract cancelled"),message:i.createElement(h.Localize,{i18n_default_text:"Contract was cancelled."}),type:"contract_sold",size:"small",should_hide_close_btn:!0,is_auto_close:!0}};function vi(e){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(r),!0).forEach((function(t){ji(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ji(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Si(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ki(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Si(i,n,o,a,s,"next",e)}function s(e){Si(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Pi(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ei(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ci(e,t){return(Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Di(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ai(e);if(t){var o=Ai(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ti(this,r)}}function Ti(e,t){return!t||"object"!==vi(t)&&"function"!=typeof t?Mi(e):t}function Mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ai(e){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ri(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Ni,Ii,zi,Li,Ui,Fi,Hi,Yi,Vi,Bi,Wi,qi,Gi,Xi,$i,Zi,Ji,Ki=(Go=pe.observable.ref,Xo=pe.observable.ref,$o=pe.action.bound,Zo=pe.action.bound,Jo=pe.action.bound,Ko=pe.action.bound,Qo=pe.action.bound,ei=pe.action.bound,ti=pe.action.bound,ri=pe.action.bound,ni=pe.action.bound,_i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ci(e,t)}(i,e);var t,r,n,o=Di(i);function i(){var e;Ei(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Pi(e=o.call.apply(o,[this].concat(r)),"is_chart_ready",ii,Mi(e)),Pi(e,"contract_store",ai,Mi(e)),Pi(e,"is_sell_requested",si,Mi(e)),Pi(e,"has_error",ci,Mi(e)),Pi(e,"error_message",li,Mi(e)),Pi(e,"is_chart_loading",ui,Mi(e)),Pi(e,"margin",pi,Mi(e)),Pi(e,"contract_id",fi,Mi(e)),Pi(e,"indicative_status",di,Mi(e)),Pi(e,"contract_info",hi,Mi(e)),Pi(e,"is_static_chart",mi,Mi(e)),e.is_ongoing_contract=!1,e.prev_indicative=0,Pi(e,"contract_update",yi,Mi(e)),e.should_forget_first=!1,e.handleSubscribeProposalOpenContract=function(){var t=ki(regeneratorRuntime.mark((function t(r,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.a.storage.has({proposal_open_contract:1,contract_id:r});case 2:if(!t.sent){t.next=6;break}return Ur.a.storage.proposalOpenContract({contract_id:r}).then(n),t.abrupt("return");case 6:if(!e.should_forget_first){t.next=10;break}return t.next=9,Ur.a.forgetAll("proposal_open_contract");case 9:e.should_forget_first=!1;case 10:e.root_store.modules.contract_trade.contracts_map[r]||(e.subscriber=Ur.a.subscribeProposalOpenContract(r,n));case 11:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.subscribeProposalOpenContract=function(){Ur.a.wait("authorize").then((function(){e.handleSubscribeProposalOpenContract(e.contract_id,e.populateConfig)}))},e.forgetProposalOpenContract=function(){e.subscriber&&(e.subscriber.unsubscribe(),delete e.subscriber)},e.setAccountSwitcherListener=function(t,r){e.onSwitchAccount((function(){return e.accountSwitcherListener(t,r)}))},e.accountSwitcherListener=function(t,r){return e.has_error?(e.removeErrorMessage(),e.onMount(t)):r.push(p.routes.reports),Promise.resolve()},e.removeAccountSwitcherListener=function(){e.disposeSwitchAccount()},e}return t=i,(r=[{key:"onMount",value:function(e){var t=this;e&&(this.contract_id=e,this.contract_store=new qo(this.root_store,{contract_id:e}),this.subscribeProposalOpenContract(),Ur.a.storage.activeSymbols("brief"),Ur.a.setOnReconnect((function(){t.root_store.client.is_switching||t.subscribeProposalOpenContract()})))}},{key:"onUnmount",value:function(){this.forgetProposalOpenContract(this.contract_id,this.populateConfig),this.contract_id=null,this.is_ongoing_contract=!1,this.is_static_chart=!1,this.is_chart_loading=!0,this.contract_info={},this.indicative_status=null,this.prev_indicative=0,this.is_chart_ready=!1,this.root_store.ui.toggleHistoryTab(!1),Ur.a.removeOnReconnect()}},{key:"populateConfig",value:function(e){if(this.switch_account_listener){if("error"in e)return this.has_error=!0,void(this.is_chart_loading=!1);if(Object(p.isEmptyObject)(e.proposal_open_contract))return this.has_error=!0,this.error_message=Object(h.localize)("Sorry, you can't view this contract because it doesn't belong to this account."),this.should_forget_first=!0,void(this.is_chart_loading=!1);if(+e.proposal_open_contract.contract_id===this.contract_id){this.contract_info=e.proposal_open_contract,this.contract_update=e.proposal_open_contract.limit_order;var t=this.prev_indicative,r=+this.contract_info.bid_price;this.indicative_status=r>t?"profit":r<t?"loss":null,this.prev_indicative=r,this.contract_store.populateConfig(this.contract_info);var n=this.contract_store.end_time;this.updateMargin((n||this.contract_info.date_expiry)-this.contract_info.date_start),n||(this.is_ongoing_contract=!0),n&&(this.is_ongoing_contract?this.is_static_chart=!1:this.is_static_chart=!0),this.contract_info.is_sold&&this.contract_store.cacheProposalOpenContractResponse(e),this.is_chart_loading=!1}}}},{key:"updateMargin",value:function(e){var t=this.contract_store.contract_config.granularity;this.margin=Math.floor(t?3*t:Math.max(300,30*e/3600||0))}},{key:"setIsChartReady",value:function(e){var t=this;setTimeout(Object(pe.action)((function(){t.is_chart_ready=e})),200)}},{key:"onClickCancel",value:function(e){var t=this;e&&Ur.a.cancelContract(e).then((function(e){e.error?t.root_store.common.setServicesError(wi({type:e.msg_type},e.error)):t.root_store.ui.addNotificationMessage(gi())}))}},{key:"onClickSell",value:function(e){var t=this.contract_info.bid_price;e&&t&&(this.is_sell_requested=!0,Ur.a.sell(e,t).then(this.handleSell))}},{key:"handleSell",value:function(e){e.error?(this.is_sell_requested=!1,this.root_store.common.setServicesError(wi({type:e.msg_type},e.error))):!e.error&&e.sell&&(this.is_sell_requested=!1,this.sell_info={sell_price:e.sell.sold_for,transaction_id:e.sell.transaction_id},this.root_store.ui.addNotificationMessage(bi(this.root_store.client.currency,e.sell.sold_for)))}},{key:"removeErrorMessage",value:function(){this.error_message="",this.has_error=!1}}])&&xi(t.prototype,r),n&&xi(t,n),i}(Co.a),ii=Ri((oi=_i).prototype,"is_chart_ready",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ai=Ri(oi.prototype,"contract_store",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{contract_info:{}}}}),si=Ri(oi.prototype,"is_sell_requested",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ci=Ri(oi.prototype,"has_error",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),li=Ri(oi.prototype,"error_message",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ui=Ri(oi.prototype,"is_chart_loading",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pi=Ri(oi.prototype,"margin",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi=Ri(oi.prototype,"contract_id",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di=Ri(oi.prototype,"indicative_status",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hi=Ri(oi.prototype,"contract_info",[Go],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.observable.object({})}}),mi=Ri(oi.prototype,"is_static_chart",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yi=Ri(oi.prototype,"contract_update",[Xo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe.observable.object({})}}),Ri(oi.prototype,"onMount",[$o],Object.getOwnPropertyDescriptor(oi.prototype,"onMount"),oi.prototype),Ri(oi.prototype,"onUnmount",[Zo],Object.getOwnPropertyDescriptor(oi.prototype,"onUnmount"),oi.prototype),Ri(oi.prototype,"populateConfig",[Jo],Object.getOwnPropertyDescriptor(oi.prototype,"populateConfig"),oi.prototype),Ri(oi.prototype,"updateMargin",[Ko],Object.getOwnPropertyDescriptor(oi.prototype,"updateMargin"),oi.prototype),Ri(oi.prototype,"setIsChartReady",[Qo],Object.getOwnPropertyDescriptor(oi.prototype,"setIsChartReady"),oi.prototype),Ri(oi.prototype,"onClickCancel",[ei],Object.getOwnPropertyDescriptor(oi.prototype,"onClickCancel"),oi.prototype),Ri(oi.prototype,"onClickSell",[ti],Object.getOwnPropertyDescriptor(oi.prototype,"onClickSell"),oi.prototype),Ri(oi.prototype,"handleSell",[ri],Object.getOwnPropertyDescriptor(oi.prototype,"handleSell"),oi.prototype),Ri(oi.prototype,"removeErrorMessage",[ni],Object.getOwnPropertyDescriptor(oi.prototype,"removeErrorMessage"),oi.prototype),oi),Qi=r("./_common/storage.js"),ea={key:"switch_to_tick_chart",header:Object(h.localize)("This chart display is not ideal for tick contracts"),message:i.createElement(h.Localize,{i18n_default_text:"Please change the chart duration to tick for a better trading experience."}),type:"info"},ta=r("./Stores/Modules/Contract/Helpers/contract-type.js"),ra=r("./Stores/Modules/Trading/Constants/contract.js");function na(e){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oa(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ia(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aa(e,t){return(aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ua(e);if(t){var o=ua(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ca(this,r)}}function ca(e,t){return!t||"object"!==na(t)&&"function"!=typeof t?la(e):t}function la(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ua(e){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pa(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var fa=(Ni=pe.observable.shallow,Ii=pe.action.bound,zi=pe.action.bound,Li=pe.action.bound,Ui=pe.action.bound,Fi=pe.action.bound,Hi=pe.action.bound,Yi=pe.action.bound,Vi=pe.action.bound,Bi=pe.action.bound,Ji=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aa(e,t)}(i,e);var t,r,n,o=sa(i);function i(e){var t,r=e.root_store;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),oa(t=o.call(this,{root_store:r}),"contracts",qi,la(t)),t.contracts_map={},oa(t,"has_error",Gi,la(t)),oa(t,"error_message",Xi,la(t)),oa(t,"granularity",$i,la(t)),oa(t,"chart_type",Zi,la(t)),t.applicable_contracts=function(){var e=t.root_store.modules.trade,r=e.symbol,n=e.contract_type;if(!n||!r)return[];var o=Object(ra.b)()[n].trade_types,i=Object(ta.a)(n);return i&&(o=["CALLE","PUTE","CALL","PUT"]),t.contracts.filter((function(e){return e.contract_info.underlying===r})).filter((function(e){var t=e.contract_info;return!(Object(H.a)(t.contract_type)&&Object(F.m)(e.contract_info))})).filter((function(e){var t=e.contract_info,r=-1!==o.indexOf(t.contract_type);return r&&t.barrier&&t.entry_tick&&i?"".concat(+t.entry_tick)==="".concat(+t.barrier)?"rise_fall"===n||"rise_fall_equal"===n:"high_low"===n:r}))},t.onSwitchAccount(t.accountSwitchListener),t}return t=i,(r=[{key:"updateChartType",value:function(e){Qi.LocalStore.set("contract_trade.chart_type",e),this.chart_type=e}},{key:"updateGranularity",value:function(e){0===e&&-1===["mountain","line","colored_line","spline","baseline"].indexOf(this.chart_type)&&(this.chart_type="mountain"),Qi.LocalStore.set("contract_trade.granularity",e),this.granularity=e,0===this.granularity&&this.root_store.ui.removeNotificationMessage(ea)}},{key:"addContract",value:function(e){var t=e.barrier,r=e.contract_id,n=e.contract_type,o=e.start_time,i=e.longcode,a=e.underlying,s=e.is_tick_contract,c=e.limit_order,l=void 0===c?{}:c;if(!this.contracts_map[r]){var u=new qo(this.root_store,{contract_id:r});u.populateConfig({date_start:o,barrier:t,contract_type:n,longcode:i,underlying:a,limit_order:l}),this.contracts.push(u),this.contracts_map[r]=u,s&&0!==this.granularity&&Object(p.isDesktop)()&&this.root_store.ui.addNotificationMessage(ea)}}},{key:"removeContract",value:function(e){var t=e.contract_id;this.contracts=this.contracts.filter((function(e){return e.contract_id!==t})),delete this.contracts_map[t]}},{key:"accountSwitchListener",value:function(){return this.has_error&&this.clearError(),Promise.resolve()}},{key:"onUnmount",value:function(){this.disposeSwitchAccount()}},{key:"updateProposal",value:function(e){if("error"in e)return this.has_error=!0,void(this.error_message=e.error.message);if(e.proposal_open_contract){var t=+e.proposal_open_contract.contract_id,r=this.contracts_map[t];r.populateConfig(e.proposal_open_contract),e.proposal_open_contract.is_sold&&(this.root_store.ui.removeNotificationMessage(ea),r.cacheProposalOpenContractResponse(e))}}},{key:"clearError",value:function(){this.error_message="",this.has_error=!1}},{key:"getContractById",value:function(e){return this.contracts_map[e]||this.root_store.modules.contract_replay.contract_store}},{key:"markers_array",get:function(){var e=this.applicable_contracts().map((function(e){return e.marker})).filter((function(e){return e})).map((function(e){return Object(pe.toJS)(e)}));return e.length&&(e[e.length-1].is_last_contract=!0),e}},{key:"last_contract",get:function(){var e=this.applicable_contracts(),t=e.length;return t>0?e[t-1]:{}}}])&&ia(t.prototype,r),n&&ia(t,n),i}(Co.a),qi=pa((Wi=Ji).prototype,"contracts",[Ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gi=pa(Wi.prototype,"has_error",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xi=pa(Wi.prototype,"error_message",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$i=pa(Wi.prototype,"granularity",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return+Qi.LocalStore.get("contract_trade.granularity")||0}}),Zi=pa(Wi.prototype,"chart_type",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qi.LocalStore.get("contract_trade.chart_type")||"mountain"}}),pa(Wi.prototype,"updateChartType",[Ii],Object.getOwnPropertyDescriptor(Wi.prototype,"updateChartType"),Wi.prototype),pa(Wi.prototype,"updateGranularity",[zi],Object.getOwnPropertyDescriptor(Wi.prototype,"updateGranularity"),Wi.prototype),pa(Wi.prototype,"markers_array",[pe.computed],Object.getOwnPropertyDescriptor(Wi.prototype,"markers_array"),Wi.prototype),pa(Wi.prototype,"addContract",[Li],Object.getOwnPropertyDescriptor(Wi.prototype,"addContract"),Wi.prototype),pa(Wi.prototype,"removeContract",[Ui],Object.getOwnPropertyDescriptor(Wi.prototype,"removeContract"),Wi.prototype),pa(Wi.prototype,"accountSwitchListener",[Fi],Object.getOwnPropertyDescriptor(Wi.prototype,"accountSwitchListener"),Wi.prototype),pa(Wi.prototype,"onUnmount",[Hi],Object.getOwnPropertyDescriptor(Wi.prototype,"onUnmount"),Wi.prototype),pa(Wi.prototype,"updateProposal",[Yi],Object.getOwnPropertyDescriptor(Wi.prototype,"updateProposal"),Wi.prototype),pa(Wi.prototype,"last_contract",[pe.computed],Object.getOwnPropertyDescriptor(Wi.prototype,"last_contract"),Wi.prototype),pa(Wi.prototype,"clearError",[Vi],Object.getOwnPropertyDescriptor(Wi.prototype,"clearError"),Wi.prototype),pa(Wi.prototype,"getContractById",[Bi],Object.getOwnPropertyDescriptor(Wi.prototype,"getContractById"),Wi.prototype),Wi),da=r("./Stores/Modules/MT5/mt5-store.js"),ha=r("../node_modules/lodash.throttle/index.js"),ma=r.n(ha),ya=r("../node_modules/mobx-utils/mobx-utils.module.js"),_a=r("./Constants/index.js"),ba=r("./_common/base/client_base.js");function ga(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function va(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ga(i,n,o,a,s,"next",e)}function s(e){ga(i,n,o,a,s,"throw",e)}a(void 0)}))}}var Oa,wa,ja,Sa,ka,Pa,Ea,xa,Ca,Da,Ta,Ma,Aa,Ra,Na,Ia,za,La,Ua,Fa,Ha,Ya,Va,Ba,Wa,qa,Ga,Xa,$a,Za,Ja,Ka,Qa=Object(pe.flow)(regeneratorRuntime.mark((function e(t){var r,n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur.a.wait("website_status");case 2:return r=e.sent,e.next=5,Ur.a.residenceList();case 5:n=e.sent,o=r.website_status.clients_country,i=(n.residence_list.find((function(e){return e.value===o}))||{}).text,t(Object(h.localize)("If you have an account, log in to continue."),i?Object(h.localize)("Sorry, this app is unavailable in {{clients_country}}.",{clients_country:i}):Object(h.localize)("Sorry, this app is unavailable in your current location."),Object(h.localize)("Log in"),(function(){return Object(Bt.redirectToLogin)(ba.a.isLoggedIn())}),!1);case 9:case"end":return e.stop()}}),e)}))),es=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return!!e.length&&(!!e.filter((function(e){return e.symbol===t}))[0]&&!e.filter((function(e){return e.symbol===t}))[0].exchange_is_open)},ts=function(){var e=va(regeneratorRuntime.mark((function e(){var t,r,n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=o.length>0&&void 0!==o[0]?o[0]:[]).length){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,rs(t);case 5:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",r);case 8:return e.next=10,ns(t);case 10:return n=e.sent,e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rs=function(){var e=va(regeneratorRuntime.mark((function e(t){var r,n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=Qi.LocalStore.get("cq-favorites")){e.next=4;break}return e.abrupt("return",void 0);case 4:if(n=JSON.parse(r)["chartTitle&Comparison"],!(o=n.map((function(e){return t.find((function(t){return t.symbol===e}))})))){e.next=14;break}if(!(i=o.filter((function(e){return e})).find(as))){e.next=14;break}return e.next=11,ss(i);case 11:if(!e.sent){e.next=14;break}return e.abrupt("return",i.symbol);case 14:return e.abrupt("return",void 0);case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",void 0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),ns=function(){var e=va(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,os(t,"1HZ100V");case 2:if(e.t1=e.sent,e.t1){e.next=7;break}return e.next=6,is(t,/random_index/);case 6:e.t1=e.sent;case 7:if(e.t0=e.t1,e.t0){e.next=12;break}return e.next=11,is(t,/major_pairs/);case 11:e.t0=e.sent;case 12:if(!(r=e.t0)){e.next=15;break}return e.abrupt("return",r.symbol);case 15:return e.abrupt("return",t.find((function(e){return"major_pairs"===e.submarket})).symbol);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),os=function(){var e=va(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.find((function(e){return e.symbol===r&&as(e)})),e.next=3,ss(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return",n);case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),is=function(){var e=va(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.find((function(e){return r.test(e.submarket)&&as(e)})),e.next=3,ss(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return",n);case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),as=function(e){return 1===e.exchange_is_open},ss=function(){var e=va(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur.a.storage.contractsFor(null==t?void 0:t.symbol);case 2:return n=e.sent,e.abrupt("return",!["InvalidSymbol","InputValidationFailed"].includes(null===(r=n.error)||void 0===r?void 0:r.code));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(e.find((function(e){return e.symbol.toUpperCase()===t.toUpperCase()}))||{display_name:""}).display_name},ls=r("./Modules/Reports/Helpers/market-underlying.js"),us=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=parseFloat(e.buy_price),o=parseFloat(e.payout),i=cs(t,Object(ls.b)(e.shortcode).underlying),a=e.transaction_id||e.transaction_ids&&e.transaction_ids.buy;return{contract_info:e,details:e.longcode.replace(/\n/g,"<br />"),display_name:i,id:e.contract_id,indicative:isNaN(r)||!r?0:r,payout:o,purchase:n,reference:+a,type:e.contract_type,is_unsupported:!!Object(_a.d)()[e.contract_type],contract_update:e.limit_order}},ps=r("./Stores/Modules/Portfolio/Helpers/details.js");function fs(e){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ds(e){return function(e){if(Array.isArray(e))return hs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return hs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ms(Object(r),!0).forEach((function(t){_s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ms(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bs(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function gs(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){bs(i,n,o,a,s,"next",e)}function s(e){bs(i,n,o,a,s,"throw",e)}a(void 0)}))}}function vs(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Os(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ws(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function js(e,t){return(js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ss(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Es(e);if(t){var o=Es(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ks(this,r)}}function ks(e,t){return!t||"object"!==fs(t)&&"function"!=typeof t?Ps(e):t}function Ps(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Es(e){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xs(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Cs=(Oa=pe.observable.shallow,wa=pe.observable.shallow,ja=pe.observable.shallow,Sa=pe.action.bound,ka=pe.action.bound,Pa=pe.action.bound,Ea=pe.action.bound,xa=pe.action.bound,Ca=pe.action.bound,Da=pe.action.bound,Ta=pe.action.bound,Ma=pe.action.bound,Aa=pe.action.bound,Ra=pe.action.bound,Na=pe.action.bound,Ia=pe.action.bound,za=pe.action.bound,La=pe.action.bound,Ua=pe.action.bound,Fa=pe.action.bound,Ha=pe.action.bound,Ya=pe.action.bound,Va=pe.action.bound,Ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&js(e,t)}(a,e);var t,r,n,o,i=Ss(a);function a(){var e;Os(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return vs(e=i.call.apply(i,[this].concat(r)),"positions",Wa,Ps(e)),vs(e,"all_positions",qa,Ps(e)),e.positions_map={},vs(e,"is_loading",Ga,Ps(e)),vs(e,"error",Xa,Ps(e)),e.getPositionById=Object(ya.a)((function(t){return e.positions.find((function(e){return+e.id==+t}))})),e.responseQueue=[],vs(e,"active_positions",$a,Ps(e)),vs(e,"initializePortfolio",Za,Ps(e)),e.deepClone=function(e){return JSON.parse(JSON.stringify(e))},e.proposalOpenContractQueueHandler=function(t){e.responseQueue.push(t),e.throttledUpdatePositions()},vs(e,"populateResultDetails",Ja,Ps(e)),e.updatePositions=function(){e.responseQueue.forEach((function(t){return e.proposalOpenContractHandler(t)})),e.responseQueue=[],e.setActivePositions()},e.throttledUpdatePositions=ma()(e.updatePositions,500),e}return t=a,(r=[{key:"clearTable",value:function(){this.positions=[],this.positions_map={},this.is_loading=!1,this.error="",this.updatePositions(),Ur.a.forgetAll("proposal_open_contract","transaction")}},{key:"portfolioHandler",value:function(e){var t=this;this.is_loading=!1,"error"in e?this.error=e.error.message:(this.error="",e.portfolio.contracts&&(this.positions=e.portfolio.contracts.map((function(e){return us(e,t.root_store.modules.trade.active_symbols)})).sort((function(e,t){return t.reference-e.reference})),this.positions.forEach((function(e){t.positions_map[e.id]=e})),this.updatePositions()))}},{key:"onBuyResponse",value:function(e){var t={contract_id:e.contract_id,longcode:e.longcode,contract_type:e.contract_type};this.pushNewPosition(t)}},{key:"transactionHandler",value:(o=gs(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("error"in t&&(this.error=t.error.message),t.transaction){e.next=3;break}return e.abrupt("return");case 3:if(r=t.transaction,n=r.contract_id,"sell"!==r.action){e.next=9;break}if(o=this.getPositionIndexById(n),this.positions[o]){e.next=8;break}return e.abrupt("return");case 8:this.positions[o].is_loading=!0;case 9:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"updateContractTradeStore",value:function(e){var t=this.root_store.modules.contract_trade,r=!Object(p.isEmptyObject)(e.proposal_open_contract),n=!!e.error;(r||n)&&r&&(t.addContract(this.deepClone(e.proposal_open_contract)),t.updateProposal(this.deepClone(e)))}},{key:"updateContractReplayStore",value:function(e){var t=this.root_store.modules.contract_replay;t.contract_id===e.proposal_open_contract.contract_id&&t.populateConfig(e)}},{key:"updateTradeStore",value:function(e,t,r){var n=this.root_store.modules.trade;r||n.setPurchaseSpotBarrier(e,t),n.updateLimitOrderBarriers(e,t)}},{key:"proposalOpenContractHandler",value:function(e){if("error"in e)return this.updateContractTradeStore(e),void this.updateContractReplayStore(e);var t=e.proposal_open_contract,r=this.positions_map[t.contract_id];if(r){this.updateContractTradeStore(e),this.updateContractReplayStore(e);var n=us(t,this.root_store.modules.trade.active_symbols,r.indicative);Object.assign(r,n);var o=r.indicative,i=+t.bid_price,a=+t.profit;if(t.barrier&&(r.barrier=+t.barrier),t.entry_spot&&(r.entry_spot=+t.entry_spot),r.indicative=i,r.profit_loss=a,r.is_valid_to_sell=Object(F.q)(t),r.contract_info=t,t.tick_count){var s=r.current_tick>Object(ps.a)(t)?r.current_tick:Object(ps.a)(t);r.current_tick=s}r.status=i>o?"profit":i<o?"loss":null,this.hovered_position_id===r.id&&(1===r.contract_info.is_sold?this.updateTradeStore(!1,r):this.updateTradeStore(!0,r,!0)),1===r.contract_info.is_sold&&this.populateResultDetails(e)}}},{key:"onClickCancel",value:function(e){var t=this,r=this.getPositionIndexById(e);this.positions[r].is_sell_requested=!0,e&&Ur.a.cancelContract(e).then((function(e){e.error?t.root_store.common.setServicesError(ys({type:e.msg_type},e.error)):t.root_store.ui.addNotificationMessage(gi())}))}},{key:"onClickSell",value:function(e){var t=this.getPositionIndexById(e),r=this.positions[t].contract_info.bid_price;this.positions[t].is_sell_requested=!0,e&&"number"==typeof r&&Ur.a.sell(e,r).then(this.handleSell)}},{key:"handleSell",value:function(e){if(e.error){var t=this.getPositionIndexById(e.echo_req.sell);this.positions[t].is_sell_requested=!1,"InvalidToken"!==e.error.code&&this.root_store.common.setServicesError(ys({type:e.msg_type},e.error))}else if(!e.error&&e.sell){var r=this.getPositionIndexById(e.sell.contract_id);this.positions[r].is_sell_requested=!1,this.root_store.modules.contract_trade.sell_info={sell_price:e.sell.sold_for,transaction_id:e.sell.transaction_id},this.root_store.ui.addNotificationMessage(bi(this.root_store.client.currency,e.sell.sold_for))}}},{key:"populateContractUpdate",value:function(e,t){var r=e.contract_update,n=this.getPositionById(t);n&&(Object.assign(n.contract_update,r),this.updatePositions())}},{key:"pushNewPosition",value:function(e){var t=us(e,this.root_store.modules.trade.active_symbols);this.positions.unshift(t),this.positions_map[t.id]=t,this.updatePositions()}},{key:"removePositionById",value:function(e){var t=this.getPositionIndexById(e);this.positions.splice(t,1),delete this.positions_map[e],this.updatePositions(),this.root_store.modules.contract_trade.removeContract({contract_id:e})}},{key:"accountSwitcherListener",value:function(){var e=this;return new Promise(function(){var t=gs(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r(e.initializePortfolio()));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"onHoverPosition",value:function(e,t){var r=this.root_store.modules.trade.symbol;t.contract_info.underlying===r&&!Object(F.m)(t.contract_info)&&Object(H.a)(t.type)&&(this.hovered_position_id=e?t.id:null,this.updateTradeStore(e,t))}},{key:"preSwitchAccountListener",value:function(){return this.clearTable(),Promise.resolve()}},{key:"logoutListener",value:function(){return this.clearTable(),Promise.resolve()}},{key:"networkStatusChangeListener",value:function(e){this.is_loading=!e}},{key:"onMount",value:function(){var e=this;this.onPreSwitchAccount(this.preSwitchAccountListener),this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),this.onLogout(this.logoutListener),0===this.positions.length&&(this.root_store.client.is_logged_in?this.initializePortfolio():Object(pe.reaction)((function(){return e.root_store.client.is_logged_in}),(function(){e.root_store.client.is_logged_in&&e.initializePortfolio()})))}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout()}},{key:"getPositionIndexById",value:function(e){return this.positions.findIndex((function(t){return+t.id==+e}))}},{key:"setActivePositions",value:function(){this.active_positions=this.positions.filter((function(e){return!Object(F.g)(e.contract_info)})),this.all_positions=ds(this.positions)}},{key:"totals",get:function(){var e=0,t=0,r=0;return this.positions.forEach((function(n){e+=+n.indicative,t+=+n.payout,r+=+n.purchase})),{indicative:e,payout:t,purchase:r}}},{key:"is_active_empty",get:function(){return!this.is_loading&&0===this.active_positions.length}},{key:"active_positions_count",get:function(){return this.active_positions.length||0}},{key:"is_empty",get:function(){return!this.is_loading&&0===this.all_positions.length}}])&&ws(t.prototype,r),n&&ws(t,n),a}(Co.a),Wa=xs((Ba=Ka).prototype,"positions",[Oa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qa=xs(Ba.prototype,"all_positions",[wa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ga=xs(Ba.prototype,"is_loading",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xa=xs(Ba.prototype,"error",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$a=xs(Ba.prototype,"active_positions",[ja],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Za=xs(Ba.prototype,"initializePortfolio",[Sa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return gs(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.is_loading=!0,t.next=3,Ur.a.wait("authorize");case 3:Ur.a.portfolio().then(e.portfolioHandler),Ur.a.subscribeProposalOpenContract(null,e.proposalOpenContractQueueHandler),Ur.a.subscribeTransaction(e.transactionHandler);case 6:case"end":return t.stop()}}),t)})))}}),xs(Ba.prototype,"clearTable",[ka],Object.getOwnPropertyDescriptor(Ba.prototype,"clearTable"),Ba.prototype),xs(Ba.prototype,"portfolioHandler",[Pa],Object.getOwnPropertyDescriptor(Ba.prototype,"portfolioHandler"),Ba.prototype),xs(Ba.prototype,"onBuyResponse",[Ea],Object.getOwnPropertyDescriptor(Ba.prototype,"onBuyResponse"),Ba.prototype),xs(Ba.prototype,"transactionHandler",[xa],Object.getOwnPropertyDescriptor(Ba.prototype,"transactionHandler"),Ba.prototype),xs(Ba.prototype,"proposalOpenContractHandler",[Ca],Object.getOwnPropertyDescriptor(Ba.prototype,"proposalOpenContractHandler"),Ba.prototype),xs(Ba.prototype,"onClickCancel",[Da],Object.getOwnPropertyDescriptor(Ba.prototype,"onClickCancel"),Ba.prototype),xs(Ba.prototype,"onClickSell",[Ta],Object.getOwnPropertyDescriptor(Ba.prototype,"onClickSell"),Ba.prototype),xs(Ba.prototype,"handleSell",[Ma],Object.getOwnPropertyDescriptor(Ba.prototype,"handleSell"),Ba.prototype),Ja=xs(Ba.prototype,"populateResultDetails",[Aa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var r=t.proposal_open_contract,n=e.getPositionIndexById(r.contract_id);e.positions[n]&&(e.positions[n].contract_info=r,e.positions[n].duration=Object(ps.c)(r),e.positions[n].duration_unit=Object(ps.d)(Object(ps.b)(r)),e.positions[n].exit_spot=r.exit_tick||r.current_spot,e.positions[n].is_valid_to_sell=Object(F.q)(r),e.positions[n].result=Object(F.f)(r),e.positions[n].profit_loss=+r.profit,e.positions[n].sell_time=Object(F.g)(r)||r.current_spot_time,e.positions[n].sell_price=r.sell_price,e.positions[n].status="complete",e.positions[n].contract_info.barrier&&e.positions[n].contract_info.entry_spot||(e.positions[n].contract_info.barrier=e.positions[n].barrier,e.positions[n].contract_info.entry_spot=e.positions[n].entry_spot),Object(F.o)(r)&&(e.positions[n].exit_spot="-"),e.positions[n].is_loading=!1)}}}),xs(Ba.prototype,"populateContractUpdate",[Ra],Object.getOwnPropertyDescriptor(Ba.prototype,"populateContractUpdate"),Ba.prototype),xs(Ba.prototype,"pushNewPosition",[Na],Object.getOwnPropertyDescriptor(Ba.prototype,"pushNewPosition"),Ba.prototype),xs(Ba.prototype,"removePositionById",[Ia],Object.getOwnPropertyDescriptor(Ba.prototype,"removePositionById"),Ba.prototype),xs(Ba.prototype,"accountSwitcherListener",[za],Object.getOwnPropertyDescriptor(Ba.prototype,"accountSwitcherListener"),Ba.prototype),xs(Ba.prototype,"onHoverPosition",[La],Object.getOwnPropertyDescriptor(Ba.prototype,"onHoverPosition"),Ba.prototype),xs(Ba.prototype,"logoutListener",[Ua],Object.getOwnPropertyDescriptor(Ba.prototype,"logoutListener"),Ba.prototype),xs(Ba.prototype,"networkStatusChangeListener",[Fa],Object.getOwnPropertyDescriptor(Ba.prototype,"networkStatusChangeListener"),Ba.prototype),xs(Ba.prototype,"onMount",[Ha],Object.getOwnPropertyDescriptor(Ba.prototype,"onMount"),Ba.prototype),xs(Ba.prototype,"onUnmount",[Ya],Object.getOwnPropertyDescriptor(Ba.prototype,"onUnmount"),Ba.prototype),xs(Ba.prototype,"totals",[pe.computed],Object.getOwnPropertyDescriptor(Ba.prototype,"totals"),Ba.prototype),xs(Ba.prototype,"setActivePositions",[Va],Object.getOwnPropertyDescriptor(Ba.prototype,"setActivePositions"),Ba.prototype),xs(Ba.prototype,"is_active_empty",[pe.computed],Object.getOwnPropertyDescriptor(Ba.prototype,"is_active_empty"),Ba.prototype),xs(Ba.prototype,"active_positions_count",[pe.computed],Object.getOwnPropertyDescriptor(Ba.prototype,"active_positions_count"),Ba.prototype),xs(Ba.prototype,"is_empty",[pe.computed],Object.getOwnPropertyDescriptor(Ba.prototype,"is_empty"),Ba.prototype),Ba),Ds=r("../node_modules/lodash.debounce/index.js"),Ts=r.n(Ds);function Ms(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function As(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(r),!0).forEach((function(t){Rs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ms(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ns=function(e,t){var r=Object(p.toMoment)().startOf("day").unix();return t&&r>t?t:Object(p.epochToMoment)(r).add(1,"d").subtract(1,"s").unix()},Is=function(e,t,r,n){return Object(p.toMoment)().startOf("day").unix()>n?r:e&&t?t:r},zs=function(e,t,r,n){return Object(p.toMoment)().startOf("day").unix()>n?!!e||t:t?r||e:!!e||!1},Ls=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return As(As({},zs(e,n,r,t)&&{date_from:Is(n,r,e,t)}),(t||n)&&{date_to:Ns(0,t)})};function Us(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(r),!0).forEach((function(t){Hs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Us(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ys,Vs,Bs,Ws,qs,Gs,Xs,$s,Zs,Js,Ks,Qs,ec,tc,rc,nc,oc,ic,ac,sc,cc=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="DD MMM YYYY HH:mm:ss",o="".concat(Object(p.toMoment)(+e.purchase_time).format(n)),i="".concat(Object(p.toMoment)(+e.sell_time).format(n)),a=parseFloat(e.payout),s=parseFloat(e.sell_price),c=parseFloat(e.buy_price),l=Object(p.formatMoney)(t,Number(s-c),!0),u=cs(r,Object(ls.b)(e.shortcode).underlying);return Fs(Fs({},e),{payout:a,sell_price:s,buy_price:c,profit_loss:l,sell_time:i,purchase_time:o,display_name:u})};function lc(e){return(lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uc(e){return function(e){if(Array.isArray(e))return pc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fc(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function dc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){fc(i,n,o,a,s,"next",e)}function s(e){fc(i,n,o,a,s,"throw",e)}a(void 0)}))}}function hc(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _c(e,t){return(_c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Oc(e);if(t){var o=Oc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return gc(this,r)}}function gc(e,t){return!t||"object"!==lc(t)&&"function"!=typeof t?vc(e):t}function vc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wc(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var jc,Sc,kc,Pc,Ec,xc,Cc,Dc,Tc,Mc,Ac,Rc,Nc,Ic,zc,Lc,Uc,Fc,Hc,Yc,Vc=(Ys=pe.action.bound,Vs=pe.action.bound,Bs=pe.action.bound,Ws=pe.action.bound,qs=pe.action.bound,Gs=pe.action.bound,Xs=pe.action.bound,$s=pe.action.bound,Zs=pe.action.bound,Js=pe.action.bound,sc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_c(e,t)}(s,e);var t,r,n,o,i,a=bc(s);function s(){var e;mc(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return hc(e=a.call.apply(a,[this].concat(r)),"data",Qs,vc(e)),hc(e,"date_from",ec,vc(e)),hc(e,"date_to",tc,vc(e)),hc(e,"error",rc,vc(e)),hc(e,"has_loaded_all",nc,vc(e)),hc(e,"is_loading",oc,vc(e)),hc(e,"filtered_date_range",ic,vc(e)),hc(e,"client_loginid",ac,vc(e)),e.fetchOnScroll=Ts()((function(t){t<2e3&&e.fetchNextBatch()}),150),e}return t=s,(r=[{key:"shouldFetchNextBatch",value:function(e){if(!e&&(this.has_loaded_all||this.is_loading))return!1;var t=Object(p.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix();return!(this.date_to<t)||!e&&this.partial_fetch_time}},{key:"fetchNextBatch",value:(i=dc(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],this.shouldFetchNextBatch(t)){e.next=3;break}return e.abrupt("return");case 3:return this.is_loading=!0,e.next=6,Ur.a.profitTable(50,t?void 0:this.data.length,Ls(this.date_from,this.date_to,this.partial_fetch_time,t));case 6:r=e.sent,this.profitTableResponseHandler(r,t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"profitTableResponseHandler",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("error"in e)this.error=e.error.message;else{var n=e.profit_table.transactions.map((function(e){return cc(e,t.root_store.client.currency,t.root_store.modules.trade.active_symbols)}));this.data=r?[].concat(uc(n),uc(this.data)):[].concat(uc(this.data),uc(n)),this.has_loaded_all=!r&&n.length<50,this.is_loading=!1,n.length>0&&(this.partial_fetch_time=Object(p.toMoment)().unix())}}},{key:"handleScroll",value:function(e){var t=e.target,r=t.scrollTop,n=t.scrollHeight-(r+t.clientHeight);this.fetchOnScroll(n)}},{key:"networkStatusChangeListener",value:function(e){this.is_loading=!e}},{key:"onMount",value:(o=dc(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertHasValidCache(this.client_loginid,this.clearDateFilter,this.clearTable,Ur.a.forgetAll.bind(null,"proposal")),this.client_loginid=this.root_store.client.loginid,this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),e.next=6,Ur.a.wait("authorize");case 6:this.fetchNextBatch(!0);case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"onUnmount",value:function(){this.disposeSwitchAccount(),Ur.a.forgetAll("proposal")}},{key:"accountSwitcherListener",value:function(){var e=this;return new Promise((function(t){return e.clearTable(),e.clearDateFilter(),t(e.fetchNextBatch())}))}},{key:"clearTable",value:function(){this.data=[],this.has_loaded_all=!1,this.is_loading=!1}},{key:"clearDateFilter",value:function(){this.date_from=null,this.date_to=Object(p.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix(),this.partial_fetch_time=0}},{key:"handleDateChange",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.date_range;this.filtered_date_range=o,this.date_from=null!==(t=null==e?void 0:e.from)&&void 0!==t?t:e.is_batch?null:this.date_from,this.date_to=null!==(r=null==e?void 0:e.to)&&void 0!==r?r:this.date_to,this.clearTable(),this.fetchNextBatch()}},{key:"total_profit",get:function(){return this.data.reduce((function(e,t){var r=Number(parseFloat(t.buy_price));return e+(Number(parseFloat(t.sell_price))-r)}),0)}},{key:"is_empty",get:function(){return!this.is_loading&&0===this.data.length}},{key:"has_selected_date",get:function(){return!(!this.date_from&&!this.date_to)}},{key:"totals",get:function(){var e=0;return this.data.forEach((function(t){e+=parseFloat(t.profit_loss.replace(/,/g,""))})),{profit_loss:e.toString()}}}])&&yc(t.prototype,r),n&&yc(t,n),s}(Co.a),Qs=wc((Ks=sc).prototype,"data",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ec=wc(Ks.prototype,"date_from",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tc=wc(Ks.prototype,"date_to",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(p.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix()}}),rc=wc(Ks.prototype,"error",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nc=wc(Ks.prototype,"has_loaded_all",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oc=wc(Ks.prototype,"is_loading",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ic=wc(Ks.prototype,"filtered_date_range",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ac=wc(Ks.prototype,"client_loginid",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wc(Ks.prototype,"total_profit",[pe.computed],Object.getOwnPropertyDescriptor(Ks.prototype,"total_profit"),Ks.prototype),wc(Ks.prototype,"is_empty",[pe.computed],Object.getOwnPropertyDescriptor(Ks.prototype,"is_empty"),Ks.prototype),wc(Ks.prototype,"has_selected_date",[pe.computed],Object.getOwnPropertyDescriptor(Ks.prototype,"has_selected_date"),Ks.prototype),wc(Ks.prototype,"fetchNextBatch",[Ys],Object.getOwnPropertyDescriptor(Ks.prototype,"fetchNextBatch"),Ks.prototype),wc(Ks.prototype,"profitTableResponseHandler",[Vs],Object.getOwnPropertyDescriptor(Ks.prototype,"profitTableResponseHandler"),Ks.prototype),wc(Ks.prototype,"handleScroll",[Bs],Object.getOwnPropertyDescriptor(Ks.prototype,"handleScroll"),Ks.prototype),wc(Ks.prototype,"networkStatusChangeListener",[Ws],Object.getOwnPropertyDescriptor(Ks.prototype,"networkStatusChangeListener"),Ks.prototype),wc(Ks.prototype,"onMount",[qs],Object.getOwnPropertyDescriptor(Ks.prototype,"onMount"),Ks.prototype),wc(Ks.prototype,"onUnmount",[Gs],Object.getOwnPropertyDescriptor(Ks.prototype,"onUnmount"),Ks.prototype),wc(Ks.prototype,"totals",[pe.computed],Object.getOwnPropertyDescriptor(Ks.prototype,"totals"),Ks.prototype),wc(Ks.prototype,"accountSwitcherListener",[Xs],Object.getOwnPropertyDescriptor(Ks.prototype,"accountSwitcherListener"),Ks.prototype),wc(Ks.prototype,"clearTable",[$s],Object.getOwnPropertyDescriptor(Ks.prototype,"clearTable"),Ks.prototype),wc(Ks.prototype,"clearDateFilter",[Zs],Object.getOwnPropertyDescriptor(Ks.prototype,"clearDateFilter"),Ks.prototype),wc(Ks.prototype,"handleDateChange",[Js],Object.getOwnPropertyDescriptor(Ks.prototype,"handleDateChange"),Ks.prototype),Ks);function Bc(e){return(Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wc(e){return function(e){if(Array.isArray(e))return qc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gc(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Xc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Gc(i,n,o,a,s,"next",e)}function s(e){Gc(i,n,o,a,s,"throw",e)}a(void 0)}))}}function $c(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Zc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kc(e,t){return(Kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=rl(e);if(t){var o=rl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return el(this,r)}}function el(e,t){return!t||"object"!==Bc(t)&&"function"!=typeof t?tl(e):t}function tl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rl(e){return(rl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nl(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ol=(jc=pe.action.bound,Sc=pe.action.bound,kc=pe.action.bound,Pc=pe.action.bound,Ec=pe.action.bound,xc=pe.action.bound,Cc=pe.action.bound,Dc=pe.action.bound,Tc=pe.action.bound,Mc=pe.action.bound,Yc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kc(e,t)}(s,e);var t,r,n,o,i,a=Qc(s);function s(){var e;Zc(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return $c(e=a.call.apply(a,[this].concat(r)),"data",Rc,tl(e)),$c(e,"is_loading",Nc,tl(e)),$c(e,"has_loaded_all",Ic,tl(e)),$c(e,"date_from",zc,tl(e)),$c(e,"date_to",Lc,tl(e)),$c(e,"error",Uc,tl(e)),$c(e,"filtered_date_range",Fc,tl(e)),$c(e,"client_loginid",Hc,tl(e)),e.fetchOnScroll=Ts()((function(t){t<2e3&&e.fetchNextBatch()}),150),e}return t=s,(r=[{key:"clearTable",value:function(){this.data=[],this.has_loaded_all=!1,this.is_loading=!1}},{key:"clearDateFilter",value:function(){this.date_from=null,this.date_to=Object(p.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix(),this.partial_fetch_time=0}},{key:"shouldFetchNextBatch",value:function(e){if(!e&&(this.has_loaded_all||this.is_loading))return!1;var t=Object(p.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix();return!(this.date_to<t)||!e&&this.partial_fetch_time}},{key:"fetchNextBatch",value:(i=Xc(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],this.shouldFetchNextBatch(t)){e.next=3;break}return e.abrupt("return");case 3:return this.is_loading=!0,e.next=6,Ur.a.statement(100,t?void 0:this.data.length,Ls(this.date_from,this.date_to,this.partial_fetch_time,t));case 6:r=e.sent,this.statementHandler(r,t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"statementHandler",value:function(e,t){var r=this;if("error"in e)this.error=e.error.message;else{var n=e.statement.transactions.map((function(e){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="DD MMM YYYY HH:mm:ss",o=Object(p.toMoment)(e.transaction_time).format(n),i=parseFloat(e.payout),a=parseFloat(e.amount),s=parseFloat(e.balance_after),c=!0,l=["buy","sell"].includes(e.action_type)?e.shortcode:null,u=l?cs(r,Object(ls.b)(l).underlying):"";return{action:Object(h.localize)(Object(p.toTitleCase)(e.action_type)),date:o,display_name:u,refid:e.transaction_id,payout:isNaN(i)?"-":Object(p.formatMoney)(t,i,c),amount:isNaN(a)?"-":Object(p.formatMoney)(t,a,c),balance:isNaN(s)?"-":Object(p.formatMoney)(t,s,c),desc:e.longcode.replace(/\n/g,"<br />"),id:e.contract_id,app_id:e.app_id,shortcode:l,action_type:e.action_type}}(e,r.root_store.client.currency,r.root_store.modules.trade.active_symbols)}));this.data=t?[].concat(Wc(n),Wc(this.data)):[].concat(Wc(this.data),Wc(n)),this.has_loaded_all=!t&&n.length<100,this.is_loading=!1,n.length>0&&(this.partial_fetch_time=Object(p.toMoment)().unix())}}},{key:"handleDateChange",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.date_range;this.filtered_date_range=o,this.date_from=null!==(t=null==e?void 0:e.from)&&void 0!==t?t:e.is_batch?null:this.date_from,this.date_to=null!==(r=null==e?void 0:e.to)&&void 0!==r?r:this.date_to,this.clearTable(),this.fetchNextBatch()}},{key:"handleScroll",value:function(e){var t=e.target,r=t.scrollTop,n=t.scrollHeight-(r+t.clientHeight);this.fetchOnScroll(n)}},{key:"accountSwitcherListener",value:function(){var e=this;return new Promise((function(t){return e.clearTable(),e.clearDateFilter(),t(e.fetchNextBatch())}))}},{key:"networkStatusChangeListener",value:function(e){this.is_loading=!e}},{key:"onMount",value:(o=Xc(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertHasValidCache(this.client_loginid,this.clearDateFilter,this.clearTable,Ur.a.forgetAll.bind(null,"proposal")),this.client_loginid=this.root_store.client.loginid,this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),e.next=6,Ur.a.wait("authorize");case 6:this.fetchNextBatch(!0);case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"onUnmount",value:function(){this.clearTable(),this.clearDateFilter(),this.disposeSwitchAccount(),Ur.a.forgetAll("proposal")}},{key:"is_empty",get:function(){return!this.is_loading&&0===this.data.length}},{key:"has_selected_date",get:function(){return!(!this.date_from&&!this.date_to)}}])&&Jc(t.prototype,r),n&&Jc(t,n),s}(Co.a),Rc=nl((Ac=Yc).prototype,"data",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nc=nl(Ac.prototype,"is_loading",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ic=nl(Ac.prototype,"has_loaded_all",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zc=nl(Ac.prototype,"date_from",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lc=nl(Ac.prototype,"date_to",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(p.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix()}}),Uc=nl(Ac.prototype,"error",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fc=nl(Ac.prototype,"filtered_date_range",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hc=nl(Ac.prototype,"client_loginid",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nl(Ac.prototype,"is_empty",[pe.computed],Object.getOwnPropertyDescriptor(Ac.prototype,"is_empty"),Ac.prototype),nl(Ac.prototype,"has_selected_date",[pe.computed],Object.getOwnPropertyDescriptor(Ac.prototype,"has_selected_date"),Ac.prototype),nl(Ac.prototype,"clearTable",[jc],Object.getOwnPropertyDescriptor(Ac.prototype,"clearTable"),Ac.prototype),nl(Ac.prototype,"clearDateFilter",[Sc],Object.getOwnPropertyDescriptor(Ac.prototype,"clearDateFilter"),Ac.prototype),nl(Ac.prototype,"fetchNextBatch",[kc],Object.getOwnPropertyDescriptor(Ac.prototype,"fetchNextBatch"),Ac.prototype),nl(Ac.prototype,"statementHandler",[Pc],Object.getOwnPropertyDescriptor(Ac.prototype,"statementHandler"),Ac.prototype),nl(Ac.prototype,"handleDateChange",[Ec],Object.getOwnPropertyDescriptor(Ac.prototype,"handleDateChange"),Ac.prototype),nl(Ac.prototype,"handleScroll",[xc],Object.getOwnPropertyDescriptor(Ac.prototype,"handleScroll"),Ac.prototype),nl(Ac.prototype,"accountSwitcherListener",[Cc],Object.getOwnPropertyDescriptor(Ac.prototype,"accountSwitcherListener"),Ac.prototype),nl(Ac.prototype,"networkStatusChangeListener",[Dc],Object.getOwnPropertyDescriptor(Ac.prototype,"networkStatusChangeListener"),Ac.prototype),nl(Ac.prototype,"onMount",[Tc],Object.getOwnPropertyDescriptor(Ac.prototype,"onMount"),Ac.prototype),nl(Ac.prototype,"onUnmount",[Mc],Object.getOwnPropertyDescriptor(Ac.prototype,"onUnmount"),Ac.prototype),Ac),il=r("./_common/base/server_time.js"),al=r.n(il);function sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(r),!0).forEach((function(t){ll(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ll(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ul(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var pl=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ur.a.buy(cl({proposal_id:t,price:r},n&&{passthrough:n})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ul(i,n,o,a,s,"next",e)}function s(e){ul(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r,n){return t.apply(this,arguments)}}(),fl=r("./Stores/Modules/Trading/Helpers/contract-type.js");function dl(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var hl=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fl.a.buildContractTypesConfig(t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){dl(i,n,o,a,s,"next",e)}function s(e){dl(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),ml=r("./Stores/Modules/Trading/Helpers/start-date.js");function yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vl=function(){return{stop_loss:{rules:[["req",{condition:function(e){return e.has_stop_loss&&!e.stop_loss},message:Object(h.localize)("Please enter a stop loss amount.")}]]},take_profit:{rules:[["req",{condition:function(e){return e.has_take_profit&&!e.take_profit},message:Object(h.localize)("Please enter a take profit amount.")}]]}}},Ol=function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(r),!0).forEach((function(t){gl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({amount:{rules:[["req",{message:Object(h.localize)("Amount is a required field.")}],["number",{min:0,type:"float"}]]},barrier_1:{rules:[["req",{condition:function(e){return e.barrier_count&&e.form_components.indexOf("barrier")>-1},message:Object(h.localize)("Barrier is a required field.")}],["barrier",{condition:function(e){return e.barrier_count}}],["custom",{func:function(e,t,r,n){return!(r.barrier_count>1)||+e>+n.barrier_2},message:Object(h.localize)("Higher barrier must be higher than lower barrier.")}]],trigger:"barrier_2"},barrier_2:{rules:[["req",{condition:function(e){return e.barrier_count>1&&e.form_components.indexOf("barrier")>-1},message:Object(h.localize)("Barrier is a required field.")}],["barrier",{condition:function(e){return e.barrier_count}}],["custom",{func:function(e,t,r,n){return/^[+-]/g.test(n.barrier_1)&&/^[+-]/g.test(e)||/^(?![+-])/g.test(n.barrier_1)&&/^(?![+-])/g.test(e)},message:Object(h.localize)("Both barriers should be relative or absolute")}],["custom",{func:function(e,t,r,n){return+n.barrier_1>+e},message:Object(h.localize)("Lower barrier must be lower than higher barrier.")}]],trigger:"barrier_1"},duration:{rules:[["req",{message:Object(h.localize)("Duration is a required field.")}]]},start_date:{trigger:"start_time"},expiry_date:{trigger:"expiry_time"},start_time:{rules:[["custom",{func:function(e,t,r){return"spot"===r.contract_start_type||Object(p.isTimeValid)(e)},message:Object(h.localize)('Please enter the start time in the format "HH:MM".')}],["custom",{func:function(e,t,r){return"spot"===r.contract_start_type||Object(p.isHourValid)(e)},message:Object(h.localize)("Hour must be between 0 and 23.")}],["custom",{func:function(e,t,r){return"spot"===r.contract_start_type||Object(p.isMinuteValid)(e)},message:Object(h.localize)("Minute must be between 0 and 59.")}],["custom",{func:function(e,t,r){if("spot"===r.contract_start_type)return!0;if(!Object(p.isTimeValid)(e))return!1;var n=Object(p.toMoment)(r.start_date),o=n.clone(),i=yl(e.split(":"),2),a=i[0],s=i[1];return Object(ml.b)(r.sessions,o.hour(a).minute(s),n)},message:Object(h.localize)("Start time cannot be in the past.")}]]},expiry_time:{rules:[["custom",{func:function(e,t,r){return"spot"===r.contract_start_type||Object(p.isTimeValid)(e)},message:Object(h.localize)('Please enter the start time in the format "HH:MM".')}],["custom",{func:function(e,t,r){return"spot"===r.contract_start_type||Object(p.isHourValid)(e)},message:Object(h.localize)("Hour must be between 0 and 23.")}],["custom",{func:function(e,t,r){return"spot"===r.contract_start_type||Object(p.isMinuteValid)(e)},message:Object(h.localize)("Minute must be between 0 and 59.")}],["custom",{func:function(e,t,r){if("spot"===r.contract_start_type)return!0;if(!Object(p.isTimeValid)(e))return!1;var n=Object(p.toMoment)(r.start_date),o=n.clone(),i=yl(e.split(":"),2),a=i[0],s=i[1];return Object(ml.b)(r.sessions,o.hour(a).minute(s),n)},message:Object(h.localize)("Expiry time cannot be in the past.")}]]}},vl())},wl=r("./Stores/Modules/Trading/Helpers/duration.js"),jl=function(e){var t=e.contract_types_list,r=e.contract_type;return fl.a.getContractType(t,r)},Sl=function(e){return fl.a.getContractValues(e)};function kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var El=function(e){var t=Object(wl.d)(e);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(r),!0).forEach((function(t){Pl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({contract_expiry_type:t},e.contract_expiry_type!==t&&fl.a.getBarriers(e.contract_type,t))};function xl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xl(Object(r),!0).forEach((function(t){Dl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tl(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var Ml=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,o,i,a,s,c,l,u,p,f,d,h,m,y,_,b,g,v,O,w,j,S,k,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contract_type,n=t.duration_unit,o=t.expiry_time,i=t.start_date,a=t.symbol,s=t.root_store.common.server_time,c=t.start_time,l=t.expiry_date,u=t.expiry_type,c=c||s.clone().add(6,"minute").format("HH:mm"),p=fl.a.getStartType(i),f=p.contract_start_type,d=fl.a.getSessions(r,i),h=d.sessions,m=fl.a.getStartTime(h,i,c),c=m.start_time,y=fl.a.getDurationUnitsList(r,f),_=y.duration_units_list,b=fl.a.getDurationUnit(n,r,f),g=fl.a.getExpiryType(_,u),u=g.expiry_type,v=fl.a.getExpiryDate(_,l,u,i),l=v.expiry_date,e.next=19,fl.a.getTradingTimes(l,a);case 19:return O=e.sent,w={market_open_times:O.open},j={market_close_times:O.close},S=j.market_close_times,k=fl.a.getExpiryTime(l,o,u,S,h,i,c),P=fl.a.getDurationMinMax(r,f),e.abrupt("return",Cl(Cl(Cl(Cl(Cl(Cl(Cl(Cl(Cl(Cl(Cl({},p),y),P),b),d),m),v),k),g),w),j));case 26:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Tl(i,n,o,a,s,"next",e)}function s(e){Tl(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();function Al(e){return function(e){if(Array.isArray(e))return Rl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Rl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nl(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var Il=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getSnapshot(),o=zl(t,r),i=0;case 3:if(!(i<o.length)){e.next=13;break}return e.t0=Object,e.t1=n,e.next=8,o[i](n);case 8:e.t2=e.sent,e.t0.assign.call(e.t0,e.t1,e.t2);case 10:i++,e.next=3;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Nl(i,n,o,a,s,"next",e)}function s(e){Nl(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),zl=function(e,t){return[fl.a.getContractCategories,jl].concat(Al(/\b(symbol|contract_type)\b/.test(Object.keys(t))||!e.contract_type?[Sl]:[]),[Ml,El])},Ll=r("./_common/common_functions.js");function Ul(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(r),!0).forEach((function(t){Hl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ul(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yl,Vl,Bl,Wl,ql,Gl,Xl,$l,Zl,Jl,Kl,Ql,eu,tu,ru,nu,ou,iu,au,su,cu,lu,uu,pu,fu,du,hu,mu,yu,_u,bu,gu,vu,Ou,wu,ju,Su,ku,Pu,Eu,xu,Cu,Du,Tu,Mu,Au,Ru,Nu,Iu,zu,Lu,Uu,Fu,Hu,Yu,Vu,Bu,Wu,qu,Gu,Xu,$u,Zu,Ju,Ku,Qu,ep,tp,rp,np,op,ip,ap,sp,cp,lp,up,pp,fp,dp,hp,mp,yp,_p,bp,gp,vp,Op,wp,jp,Sp,kp,Pp,Ep,xp,Cp,Dp,Tp,Mp,Ap,Rp,Np,Ip,zp,Lp,Up,Fp,Hp,Yp,Vp={barrier:"barrier_1",barrier2:"barrier_2",date_expiry:"expiry_date"},Bp=function(e){var t=Object(p.getPropertyValue)(e,["error","details","field"]);if(!t)return null;var r=Vp[t]||t,n=document.getElementsByName(r)[0];return n&&Object(Ll.isVisible)(n)?r:null},Wp=function(e,t){var r={},n={};if("endtime"===e.expiry_type){var o=Object(p.toMoment)(e.expiry_date);r.date_expiry=Object(p.convertToUnix)(o.unix(),e.expiry_time)}return e.is_multiplier&&function(e,t){t.multiplier=e.multiplier,t.cancellation=e.has_cancellation?e.cancellation_duration:void 0,t.limit_order=e.has_take_profit||e.has_stop_loss?{}:void 0,e.has_take_profit&&e.take_profit&&(t.limit_order.take_profit=+e.take_profit||0),e.has_stop_loss&&e.stop_loss&&(t.limit_order.stop_loss=+e.stop_loss||0)}(e,n),Fl(Fl(Fl(Fl(Fl({proposal:1,subscribe:1,amount:parseFloat(e.amount)||0,basis:e.basis,contract_type:t,currency:e.currency,symbol:e.symbol},e.start_date&&{date_start:Object(p.convertToUnix)(e.start_date,e.start_time)}),"duration"===e.expiry_type?{duration:parseInt(e.duration),duration_unit:e.duration_unit}:r),(e.barrier_count>0||-1!==e.form_components.indexOf("last_digit"))&&{barrier:e.barrier_1||e.last_digit}),2===e.barrier_count&&{barrier2:e.barrier_2}),n)},qp=r("./Stores/Modules/Trading/Helpers/barrier.js");function Gp(e){return(Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xp(Object(r),!0).forEach((function(t){Zp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jp(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Kp(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Jp(i,n,o,a,s,"next",e)}function s(e){Jp(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Qp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ef(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tf(e,t){return(tf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=af(e);if(t){var o=af(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return nf(this,r)}}function nf(e,t){return!t||"object"!==Gp(t)&&"function"!=typeof t?of(e):t}function of(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function af(e){return(af=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sf(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var cf={},lf=(Yl=pe.observable.ref,Vl=pe.observable.ref,Bl=pe.action.bound,Wl=pe.action.bound,ql=pe.action.bound,Gl=pe.action.bound,Xl=pe.action.bound,$l=pe.action.bound,Zl=pe.action.bound,Jl=pe.action.bound,Kl=pe.action.bound,Ql=pe.action.bound,eu=pe.action.bound,tu=pe.action.bound,ru=pe.action.bound,nu=pe.action.bound,ou=pe.action.bound,iu=pe.action.bound,au=pe.action.bound,su=pe.action.bound,cu=pe.action.bound,lu=pe.action.bound,uu=pe.action.bound,pu=pe.action.bound,fu=pe.action.bound,du=pe.action.bound,hu=pe.action.bound,mu=pe.action.bound,yu=pe.action.bound,_u=pe.action.bound,bu=pe.action.bound,gu=pe.action.bound,vu=pe.action.bound,Ou=pe.action.bound,wu=pe.action.bound,ju=pe.action.bound,Su=pe.action.bound,ku=pe.action.bound,Pu=pe.action.bound,Eu=pe.action.bound,xu=pe.action.bound,Cu=pe.action.bound,Du=pe.action.bound,Tu=pe.action.bound,Mu=pe.action.bound,Au=pe.action.bound,Ru=pe.action.bound,Nu=pe.action.bound,Iu=pe.action.bound,Yp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tf(e,t)}(b,e);var t,r,n,o,i,a,s,c,l,u,f,d,m,_=rf(b);function b(e){var t,r=e.root_store;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);return Qp(t=_.call(this,{root_store:r,local_storage_properties:["amount","barrier_1","barrier_2","basis","contract_start_type","contract_type","duration","duration_unit","expiry_date","expiry_type","has_take_profit","has_stop_loss","has_cancellation","is_equal","last_digit","multiplier","start_date","start_time","symbol","stop_loss","take_profit","is_trade_params_expanded"],store_name:"trade_store",validation_rules:Ol()}),"is_trade_component_mounted",Lu,of(t)),Qp(t,"is_purchase_enabled",Uu,of(t)),Qp(t,"is_trade_enabled",Fu,of(t)),Qp(t,"is_equal",Hu,of(t)),Qp(t,"symbol",Yu,of(t)),Qp(t,"is_market_closed",Vu,of(t)),Qp(t,"previous_symbol",Bu,of(t)),Qp(t,"active_symbols",Wu,of(t)),Qp(t,"should_refresh_active_symbols",qu,of(t)),Qp(t,"form_components",Gu,of(t)),Qp(t,"contract_expiry_type",Xu,of(t)),Qp(t,"contract_start_type",$u,of(t)),Qp(t,"contract_type",Zu,of(t)),Qp(t,"contract_types_list",Ju,of(t)),Qp(t,"trade_types",Ku,of(t)),Qp(t,"amount",Qu,of(t)),Qp(t,"basis",ep,of(t)),Qp(t,"basis_list",tp,of(t)),Qp(t,"currency",rp,of(t)),Qp(t,"duration",np,of(t)),Qp(t,"duration_unit",op,of(t)),Qp(t,"duration_units_list",ip,of(t)),Qp(t,"duration_min_max",ap,of(t)),Qp(t,"expiry_date",sp,of(t)),Qp(t,"expiry_time",cp,of(t)),Qp(t,"expiry_type",lp,of(t)),Qp(t,"barrier_1",up,of(t)),Qp(t,"barrier_2",pp,of(t)),Qp(t,"barrier_count",fp,of(t)),Qp(t,"main_barrier",dp,of(t)),Qp(t,"barriers",hp,of(t)),Qp(t,"start_date",mp,of(t)),Qp(t,"start_dates_list",yp,of(t)),Qp(t,"start_time",_p,of(t)),Qp(t,"sessions",bp,of(t)),Qp(t,"market_open_times",gp,of(t)),Qp(t,"market_close_times",vp,of(t)),Qp(t,"last_digit",Op,of(t)),Qp(t,"is_mobile_digit_view_selected",wp,of(t)),Qp(t,"proposal_info",jp,of(t)),Qp(t,"purchase_info",Sp,of(t)),Qp(t,"is_chart_loading",kp,of(t)),Qp(t,"multiplier",Pp,of(t)),Qp(t,"multiplier_range_list",Ep,of(t)),Qp(t,"stop_loss",xp,of(t)),Qp(t,"take_profit",Cp,of(t)),Qp(t,"has_stop_loss",Dp,of(t)),Qp(t,"has_take_profit",Tp,of(t)),Qp(t,"has_cancellation",Mp,of(t)),Qp(t,"commission",Ap,of(t)),Qp(t,"cancellation_price",Rp,of(t)),Qp(t,"hovered_contract_type",Np,of(t)),Qp(t,"cancellation_duration",Ip,of(t)),Qp(t,"cancellation_range_list",zp,of(t)),Qp(t,"is_trade_params_expanded",Lp,of(t)),t.addTickByProposal=function(){return null},t.debouncedProposal=Ts()(t.requestProposal,500),t.proposal_requests={},t.initial_barriers=void 0,t.is_initial_barrier_applied=!1,Qp(t,"should_skip_prepost_lifecycle",Up,of(t)),Qp(t,"init",Fp,of(t)),Qp(t,"clearContracts",Hp,of(t)),t.setMainBarrier=function(e){if(e){var r=e.contract_type,n=e.barrier,o=e.high_barrier,i=e.low_barrier;if(Object(To.b)(r)){var a=t.root_store.ui.is_dark_mode_on?Do.a.DARK_GRAY:Do.a.GRAY,s=new Mo.a(n||o,i,t.onChartBarrierChange,{color:a});t.main_barrier=s}else t.main_barrier=null}},t.disablePurchaseButtons=function(){var e=document.getElementsByClassName("trade-container__price-info"),t=document.getElementsByClassName("btn-purchase");[].forEach.bind(t,(function(e){e.classList.add("btn-purchase--disabled")}))(),[].forEach.bind(e,(function(e){e.classList.add("trade-container__price-info--fade")}))()},t.prev_chart_layout=null,t.wsSubscribe=function(e,t){if(1===e.subscribe){var r=JSON.stringify(e),n=Ur.a.subscribeTicksHistory(e,t);cf[r]=n}},t.wsForget=function(e){var t=JSON.stringify(e);cf[t]&&(cf[t].unsubscribe(),delete cf[t])},t.wsForgetStream=function(e){Ur.a.forgetStream(e)},t.wsSendRequest=function(e){return e.time?al.a.timePromise().then((function(e){return e?{msg_type:"time",time:e.unix()}:Ur.a.time()})):e.active_symbols?t.should_refresh_active_symbols?Ur.a.activeSymbols("brief"):Ur.a.wait("active_symbols"):Ur.a.storage.send(e)},t.refToAddTick=function(e){t.addTickByProposal=e},Object(pe.reaction)((function(){return[t.contract_expiry_type,t.duration_min_max,t.duration_unit,t.expiry_type]}),(function(){t.changeDurationValidationRules()})),Object(pe.reaction)((function(){return t.is_equal}),(function(){t.onAllowEqualsChange()})),Object(pe.reaction)((function(){return t.symbol}),(function(){var e=Object(wl.f)(t.symbol,t.expiry_type);e&&(t.expiry_date=e)})),Object(pe.reaction)((function(){return t.duration_unit}),(function(){t.contract_expiry_type="t"===t.duration_unit?"tick":"intraday"})),Object(pe.reaction)((function(){return[t.has_stop_loss,t.has_take_profit]}),(function(){t.has_stop_loss||(t.validation_errors.stop_loss=[]),t.has_take_profit||(t.validation_errors.take_profit=[])})),t}return t=b,(r=[{key:"setSkipPrePostLifecycle",value:function(e){!!e!=!!this.should_skip_prepost_lifecycle&&(this.should_skip_prepost_lifecycle=e,e||this.onUnmount())}},{key:"setTradeStatus",value:function(e){this.is_trade_enabled=e}},{key:"refresh",value:function(){this.forgetAllProposal(),this.proposal_info={},this.purchase_info={},this.proposal_requests={}}},{key:"setDefaultSymbol",value:(m=Kp(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.is_symbol_in_active_symbols){e.next=6;break}return e.next=3,ts(this.active_symbols);case 3:return t=e.sent,e.next=6,this.processNewValuesAsync({symbol:t});case 6:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"setActiveSymbols",value:(d=Kp(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.should_refresh_active_symbols){e.next=6;break}return e.next=3,Ur.a.wait("active_symbols");case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,Ur.a.authorized.activeSymbols();case 8:e.t0=e.sent;case 9:if(t=e.t0,r=t.active_symbols,!t.error){e.next=17;break}return this.root_store.common.showError(Object(h.localize)("Trading is unavailable at this time.")),e.abrupt("return");case 17:if(r&&r.length){e.next=26;break}if("maltainvest"===this.root_store.client.landing_company_shortcode){e.next=23;break}return Qa(this.root_store.common.showError),e.abrupt("return");case 23:if("maltainvest"!==this.root_store.client.landing_company_shortcode){e.next=26;break}return Object(p.showDigitalOptionsUnavailableError)(this.root_store.common.showError,{title:Object(h.localize)("Were working to have this available for you soon. If you have another account, switch to that account to continue trading. You may add a DMT5 Financial."),text:Object(h.localize)("DTrader is not available for this account"),link:Object(h.localize)("Go to DMT5 dashboard")}),e.abrupt("return");case 26:this.processNewValuesAsync({active_symbols:r});case 27:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"setContractTypes",value:(f=Kp(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.symbol||!this.is_symbol_in_active_symbols){e.next=4;break}return e.next=3,hl(this.symbol);case 3:Object(pe.runInAction)((function(){var e=fl.a.getContractCategories();t.processNewValuesAsync($p($p({},e),fl.a.getContractType(e.contract_types_list,t.contract_type))),t.processNewValuesAsync(fl.a.getContractValues(t))}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"prepareTradeStore",value:(u=Kp(regeneratorRuntime.mark((function e(){var t,r,n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currency=this.root_store.client.currency||this.root_store.client.default_currency,this.initial_barriers={barrier_1:this.barrier_1,barrier_2:this.barrier_2},e.next=4,Object(pe.when)((function(){return!o.root_store.client.is_populating_account_list}));case 4:return e.next=6,this.setActiveSymbols();case 6:return e.next=8,Ur.a.storage.contractsFor(this.symbol);case 8:if(r=e.sent,!["InvalidSymbol","InputValidationFailed"].includes(null===(t=r.error)||void 0===t?void 0:t.code)){e.next=15;break}return e.next=12,ts(this.active_symbols);case 12:return n=e.sent,e.next=15,this.processNewValuesAsync({symbol:n});case 15:return e.next=17,this.setDefaultSymbol();case 17:return e.next=19,this.setContractTypes();case 19:return e.next=21,this.processNewValuesAsync({is_market_closed:es(this.active_symbols,this.symbol)},!0,null,!1);case 21:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"onChangeMultiple",value:(l=Kp(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object.keys(t).forEach((function(e){if(!(e in r))throw new Error("Invalid Argument: ".concat(e))})),e.next=3,this.processNewValuesAsync($p({},t),!0);case 3:this.validateAllProperties();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"onChange",value:(c=Kp(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target,n=r.name,o=r.value,"symbol"!==n||!o){e.next=6;break}this.setChartStatus(!0),this.is_trade_enabled=!1,e.next=16;break;case 6:if("currency"!==n){e.next=10;break}this.root_store.client.is_logged_in||this.root_store.client.selectCurrency(o),e.next=16;break;case 10:if("expiry_date"!==n){e.next=14;break}this.expiry_time=null,e.next=16;break;case 14:if(n in this){e.next=16;break}throw new Error("Invalid Argument: ".concat(n));case 16:return e.next=18,this.processNewValuesAsync(Zp({},n,o),!0,"contract_type"===n?{contract_type:this.contract_type}:{},!0);case 18:this.validateAllProperties();case 19:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"setPreviousSymbol",value:function(e){this.previous_symbol!==e&&(this.previous_symbol=e)}},{key:"setAllowEqual",value:function(e){this.is_equal=e}},{key:"setIsTradeParamsExpanded",value:function(e){this.is_trade_params_expanded=e}},{key:"resetPreviousSymbol",value:(s=Kp(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setMarketStatus(es(this.active_symbols,this.previous_symbol)),e.next=3,hl(this.previous_symbol);case 3:return e.next=5,this.updateSymbol(this.symbol);case 5:this.setChartStatus(!1),Object(pe.runInAction)((function(){t.previous_symbol=""}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"updateBarrierColor",value:function(e){this.main_barrier&&this.main_barrier.updateBarrierColor(e)}},{key:"onHoverPurchase",value:function(e,t){this.is_purchase_enabled&&this.main_barrier&&!this.is_multiplier?this.main_barrier.updateBarrierShade(e,t):e||!this.main_barrier||this.is_multiplier||this.main_barrier.updateBarrierShade(!1,t),this.hovered_contract_type=e?t:null,Object(Eo.c)({barriers:this.barriers,is_over:e,contract_type:t,contract_info:this.proposal_info[t]})}},{key:"setPurchaseSpotBarrier",value:function(e,t){var r="PURCHASE_SPOT_BARRIER";if(e){var n=this.barriers.find((function(e){return e.key===r}));n?n.high!==+t.contract_info.entry_spot&&n.onChange({high:t.contract_info.entry_spot}):((n=new Mo.a(t.contract_info.entry_spot)).key=r,n.draggable=!1,n.hideOffscreenBarrier=!0,n.isSingleBarrier=!0,n.updateBarrierColor(this.root_store.ui.is_dark_mode_on),this.barriers.push(n))}else Object(To.c)(this.barriers,r)}},{key:"updateLimitOrderBarriers",value:function(e,t){var r=t.contract_info,n=this.barriers;Object(Eo.c)({barriers:n,contract_info:r,contract_type:r.contract_type,is_over:e})}},{key:"clearLimitOrderBarriers",value:function(){this.hovered_contract_type=null;var e=this.barriers;Object(Eo.c)({barriers:e,is_over:!1})}},{key:"onPurchase",value:function(e,t,r){var n=this;if(this.is_purchase_enabled&&e){this.is_purchase_enabled=!1;var o="t"===this.duration_unit;pl(e,t).then(Object(pe.action)((function(t){var i,a=+n.last_digit;if((null===(i=n.proposal_info[r])||void 0===i?void 0:i.id)!==e)throw new Error("Proposal ID does not match.");if(t.buy){var s=$p($p($p({},n.proposal_requests[r]),n.proposal_info[r]),{},{buy_price:t.buy.buy_price}),c=t.buy,l=c.contract_id,u=c.longcode,f=c.start_time;if(l){var d=t.buy.shortcode,h=lr.a.extractInfoFromShortcode(d),m=h.category,_=h.underlying,b=Object(y.a)(m.toUpperCase()),g=m.toUpperCase();return n.root_store.modules.contract_trade.addContract({contract_id:l,start_time:f,longcode:u,underlying:_,barrier:b?a:null,contract_type:g,is_tick_contract:o}),n.root_store.modules.portfolio.onBuyResponse({contract_id:l,longcode:u,contract_type:g}),(Object(p.isDesktop)()||Object(p.isMobile)()&&n.is_multiplier)&&n.root_store.ui.openPositionsDrawer(),n.proposal_info={},n.forgetAllProposal(),n.purchase_info=t,n.proposal_requests={},n.debouncedProposal(),n.clearLimitOrderBarriers(),void n.pushPurchaseDataToGtm(s)}}else t.error&&(n.disablePurchaseButtons(),"InvalidToken"!==t.error.code&&n.root_store.common.setServicesError($p({type:t.msg_type},t.error)));n.forgetAllProposal(),n.purchase_info=t,n.enablePurchase()})))}}},{key:"enablePurchase",value:function(){this.root_store.client.is_unwelcome||(this.is_purchase_enabled=!0)}},{key:"updateStore",value:function(e){var t=this;return Object.keys(Object(p.cloneObject)(e)).forEach((function(r){"root_store"===r||["validation_rules","validation_errors","currency"].indexOf(r)>-1||(JSON.stringify(t[r])===JSON.stringify(e[r])?delete e[r]:("symbol"===r&&(t.is_purchase_enabled=!1,t.is_trade_enabled=!1),e.start_date&&"string"==typeof e.start_date&&(e.start_date=parseInt(e.start_date)),t[r]=e[r],"barrier_2"===r&&e.barrier_1&&(t.barrier_1=e.barrier_1)))})),e}},{key:"processNewValuesAsync",value:(a=Kp(regeneratorRuntime.mark((function e(){var t,r,n,o,i,a,s,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},r=l.length>1&&void 0!==l[1]&&l[1],n=l.length>2&&void 0!==l[2]?l[2]:{},o=!(l.length>3&&void 0!==l[3])||l[3],/\bduration\b/.test(Object.keys(t))&&"string"==typeof t.duration&&(t.duration=+t.duration),o&&(this.forgetAllProposal(),this.proposal_requests={}),r&&/\bcurrency\b/.test(Object.keys(t))&&(i=n&&!Object(p.isEmptyObject)(n)&&n.currency?n.currency:this.currency,Object(p.isCryptocurrency)(t.currency)!==Object(p.isCryptocurrency)(i)&&(t.amount=r&&t.amount?t.amount:Object(p.getMinPayout)(t.currency)),this.currency=t.currency),!Object.keys(t).includes("symbol")){e.next=13;break}return this.setPreviousSymbol(this.symbol),e.next=11,hl(t.symbol);case 11:this.setMarketStatus(es(this.active_symbols,t.symbol)),a=fl.a.getContractCategories().has_only_forward_starting_contracts;case 13:if(this.root_store.ui.setHasOnlyForwardingContracts(a),!a){e.next=16;break}return e.abrupt("return");case 16:if(s=this.updateStore(Object(p.cloneObject)(t)),!r&&!/\b(symbol|contract_types_list)\b/.test(Object.keys(s))){e.next=30;break}return this.updateStore({is_purchase_enabled:!1,proposal_info:{}}),t.contract_type&&this.root_store.ui.is_advanced_duration&&Object(y.b)(t.contract_type)&&(this.barrier_1="",this.barrier_2="",this.expiry_type="duration",this.root_store.ui.is_advanced_duration=!1),"multiplier"!==(null==t?void 0:t.contract_type)&&"multiplier"===(null==n?void 0:n.contract_type)&&(delete this.validation_rules.stop_loss,delete this.validation_rules.take_profit),"multiplier"===(null==t?void 0:t.contract_type)&&"multiplier"!==(null==n?void 0:n.contract_type)&&Object.assign(this.validation_rules,vl()),e.next=24,Il(this,s);case 24:(c=e.sent).is_trade_enabled=!0,this.updateStore($p($p({},c),this.is_initial_barrier_applied?{}:this.initial_barriers)),this.is_initial_barrier_applied=!0,/\bcontract_type\b/.test(Object.keys(s))&&this.validateAllProperties(),this.debouncedProposal();case 30:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setMobileDigitView",value:function(e){this.is_mobile_digit_view_selected=e}},{key:"pushPurchaseDataToGtm",value:function(e){var t={event:"buy_contract",bom_ui:"new",contract:{amount:e.amount,barrier1:e.barrier,barrier2:e.barrier2,basis:e.basis,buy_price:e.buy_price,contract_type:e.contract_type,currency:e.currency,date_expiry:e.date_expiry,date_start:e.date_start,duration:e.duration,duration_unit:e.duration_unit,payout:e.payout,symbol:e.symbol},settings:{theme:this.root_store.ui.is_dark_mode_on?"dark":"light",positions_drawer:this.root_store.ui.is_positions_drawer_on?"open":"closed",purchase_confirm:this.root_store.ui.is_purchase_confirm_on?"enabled":"disabled",chart:{toolbar_position:this.root_store.ui.is_chart_layout_default?"bottom":"left",chart_asset_info:this.root_store.ui.is_chart_asset_info_visible?"visible":"hidden",chart_type:this.root_store.modules.contract_trade.chart_type,granularity:this.root_store.modules.contract_trade.granularity}}};this.root_store.gtm.pushDataLayer(t)}},{key:"clearPurchaseInfo",value:function(){this.purchase_info={},this.proposal_requests={},this.proposal_info={}}},{key:"requestProposal",value:function(){var e=this,t=function(e){var t={};return Object.keys(e.trade_types).forEach((function(r){var n=Wp(e,r);t[r]=n})),t}(this);if(Object.values(this.validation_errors).some((function(e){return e.length})))return this.proposal_info={},this.purchase_info={},void this.forgetAllProposal();Object(p.isEmptyObject)(t)||(this.proposal_requests=t,this.purchase_info={},Object.keys(this.proposal_requests).forEach((function(t){Ur.a.subscribeProposal(e.proposal_requests[t],e.onProposalResponse)}))),this.root_store.ui.resetPurchaseStates()}},{key:"forgetAllProposal",value:function(){Object.keys(this.proposal_requests).length>0&&Ur.a.forgetAll("proposal")}},{key:"setMarketStatus",value:function(e){this.is_market_closed=e}},{key:"onProposalResponse",value:function(e){var t=e.echo_req.contract_type,r=Object(p.getPropertyValue)(this.proposal_info,t)||{},n=Object(p.getPropertyValue)(r,"obj_contract_basis")||{};if(this.proposal_info=$p($p({},this.proposal_info),{},Zp({},t,function(e,t,r){var n,o,i,a=t.proposal||{},s=a.payout-a.ask_price||0,c=100*s/(a.ask_price||1),l=a.display_value,u=e.basis_list.find((function(t){return t.value!==e.basis}))||{},f="Stake"===u.text?l:a[u.value],d=f>r.value;r.value&&f!==r.value||(d=null);var h={text:u.text||"",value:f||""};return{commission:a.commission,cancellation:a.cancellation,id:a.id||"",has_error:!!t.error,has_error_details:!!Bp(t),error_code:null==t||null===(n=t.error)||void 0===n?void 0:n.code,error_field:null==t||null===(o=t.error)||void 0===o||null===(i=o.details)||void 0===i?void 0:i.field,has_increased:d,limit_order:a.limit_order,message:a.longcode||t.error.message,obj_contract_basis:h,payout:a.payout,profit:s.toFixed(Object(p.getDecimalPlaces)(e.currency)),returns:"".concat(c.toFixed(2),"%"),stake:l}}(this,e,n))),this.is_multiplier&&this.proposal_info&&this.proposal_info.MULTUP){var o=this.proposal_info.MULTUP,i=o.commission,a=o.cancellation;i&&(this.commission=i),a&&(this.cancellation_price=this.proposal_info.MULTUP.cancellation.ask_price)}if(this.main_barrier&&"NONE_SINGLE"!==this.main_barrier.shade||this.setMainBarrier(e.echo_req),this.hovered_contract_type===t&&(this.addTickByProposal(e),Object(Eo.c)({barriers:this.barriers,contract_info:this.proposal_info[this.hovered_contract_type],contract_type:t,is_over:!0})),e.error){var s=Bp(e);if(s&&this.setValidationErrorMessages(s,[e.error.message]),this.is_multiplier){var c=e.error,l=c.message,u=c.details,f=(l||"").match(/\((\d+\.*\d*)\)/);"stop_loss"===(null==u?void 0:u.field)&&(null==f?void 0:f[1])&&(this.commission=f[1])}}else this.validateAllProperties();this.enablePurchase()}},{key:"onChartBarrierChange",value:function(e,t){this.processNewValuesAsync({barrier_1:e,barrier_2:t},!0)}},{key:"onAllowEqualsChange",value:function(){this.processNewValuesAsync({contract_type:parseInt(this.is_equal)?"rise_fall_equal":"rise_fall"},!0)}},{key:"updateSymbol",value:function(e){e&&this.onChange({target:{name:"symbol",value:e}})}},{key:"changeDurationValidationRules",value:function(){if("endtime"!==this.expiry_type){if(this.validation_rules.duration){var e=this.validation_rules.duration.rules.findIndex((function(e){return"number"===e[0]})),t=this.duration_min_max[this.contract_expiry_type]||!1;if(t){var r={min:Object(wl.b)(+t.min,this.duration_unit),max:Object(wl.b)(+t.max,this.duration_unit)};e>-1?this.validation_rules.duration.rules[e][1]=r:this.validation_rules.duration.rules.push(["number",r]),this.validateProperty("duration",this.duration)}}}else this.validation_errors.duration=[]}},{key:"accountSwitcherListener",value:(i=Kp(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.root_store.client.standpoint.maltainvest){e.next=6;break}return e.next=3,Ur.a.authorized.activeSymbols();case 3:t=e.sent,(r=t.active_symbols)&&r.length||Object(p.showDigitalOptionsUnavailableError)(this.root_store.common.showError,{title:Object(h.localize)("Were working to have this available for you soon. If you have another account, switch to that account to continue trading. You may add a DMT5 Financial."),text:Object(h.localize)("DTrader is not available for this account"),link:Object(h.localize)("Go to DMT5 dashboard")});case 6:return this.resetErrorServices(),e.next=9,this.setContractTypes();case 9:return Object(pe.runInAction)(Kp(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.processNewValuesAsync({currency:n.root_store.client.currency||n.root_store.client.default_currency},!0,{currency:n.currency},!1);case 1:case"end":return e.stop()}}),e)})))),e.abrupt("return",Promise.resolve());case 11:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"preSwitchAccountListener",value:function(){return this.clearContracts(),this.is_trade_enabled=!1,Promise.resolve()}},{key:"logoutListener",value:function(){return this.should_refresh_active_symbols=!0,this.clearContracts(),this.refresh(),this.debouncedProposal(),this.resetErrorServices(),this.setContractTypes(),Promise.resolve()}},{key:"clientInitListener",value:function(){return this.initAccountCurrency(this.root_store.client.currency||this.root_store.client.default_currency),Promise.resolve()}},{key:"networkStatusChangeListener",value:function(e){this.setTradeStatus(e)}},{key:"themeChangeListener",value:function(e){this.updateBarrierColor(e)}},{key:"resetErrorServices",value:function(){this.root_store.ui.toggleServicesErrorModal(!1)}},{key:"onMount",value:function(){var e=this;this.is_trade_component_mounted&&this.should_skip_prepost_lifecycle||(this.onPreSwitchAccount(this.preSwitchAccountListener),this.onSwitchAccount(this.accountSwitcherListener),this.onLogout(this.logoutListener),this.onClientInit(this.clientInitListener),this.onNetworkStatusChange(this.networkStatusChangeListener),this.onThemeChange(this.themeChangeListener),this.setChartStatus(!0),Object(pe.runInAction)(Kp(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.is_trade_component_mounted=!0,e.prepareTradeStore();case 2:case"end":return t.stop()}}),t)})))))}},{key:"setChartStatus",value:function(e){this.is_chart_loading=e}},{key:"initAccountCurrency",value:(o=Kp(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currency!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.processNewValuesAsync({currency:t},!0,{currency:this.currency},!1);case 4:this.refresh(),this.debouncedProposal();case 6:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"onUnmount",value:function(){this.should_skip_prepost_lifecycle||(this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.is_trade_component_mounted=!1,this.root_store.modules.contract_trade.onUnmount(),this.refresh(),this.resetErrorServices(),this.root_store.ui.is_notifications_visible&&this.root_store.ui.toggleNotificationsModal(),window.history.pushState(null,null,window.location.pathname),this.prev_chart_layout&&(this.prev_chart_layout.is_used=!1))}},{key:"exportLayout",value:function(e){var t=this;delete e.previousMaxTicks,this.prev_chart_layout=e,this.prev_chart_layout.isDone=function(){t.prev_chart_layout.is_used=!0,t.setChartStatus(!1)}}},{key:"resetRefresh",value:function(){this.should_refresh_active_symbols=!1}},{key:"is_symbol_in_active_symbols",get:function(){var e=this;return this.active_symbols.some((function(t){return t.symbol===e.symbol&&1===t.exchange_is_open}))}},{key:"barrier_pipsize",get:function(){return Object(qp.b)(this.barrier_1)}},{key:"main_barrier_flattened",get:function(){return Object(y.b)(this.contract_type)?null:Object(pe.toJS)(this.main_barrier)}},{key:"barriers_flattened",get:function(){return this.barriers&&Object(pe.toJS)(this.barriers)}},{key:"show_digits_stats",get:function(){return Object(y.b)(this.contract_type)}},{key:"chart_layout",get:function(){var e=null;return this.prev_chart_layout&&!1===this.prev_chart_layout.is_used&&(e=this.prev_chart_layout),e}},{key:"has_alternative_source",get:function(){return this.is_multiplier&&!!this.hovered_contract_type}},{key:"is_multiplier",get:function(){return"multiplier"===this.contract_type}}])&&ef(t.prototype,r),n&&ef(t,n),b}(Co.a),Lu=sf((zu=Yp).prototype,"is_trade_component_mounted",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uu=sf(zu.prototype,"is_purchase_enabled",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fu=sf(zu.prototype,"is_trade_enabled",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hu=sf(zu.prototype,"is_equal",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yu=sf(zu.prototype,"symbol",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vu=sf(zu.prototype,"is_market_closed",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bu=sf(zu.prototype,"previous_symbol",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wu=sf(zu.prototype,"active_symbols",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qu=sf(zu.prototype,"should_refresh_active_symbols",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gu=sf(zu.prototype,"form_components",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xu=sf(zu.prototype,"contract_expiry_type",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$u=sf(zu.prototype,"contract_start_type",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zu=sf(zu.prototype,"contract_type",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ju=sf(zu.prototype,"contract_types_list",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ku=sf(zu.prototype,"trade_types",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qu=sf(zu.prototype,"amount",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),ep=sf(zu.prototype,"basis",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tp=sf(zu.prototype,"basis_list",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rp=sf(zu.prototype,"currency",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),np=sf(zu.prototype,"duration",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),op=sf(zu.prototype,"duration_unit",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ip=sf(zu.prototype,"duration_units_list",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ap=sf(zu.prototype,"duration_min_max",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),sp=sf(zu.prototype,"expiry_date",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cp=sf(zu.prototype,"expiry_time",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),lp=sf(zu.prototype,"expiry_type",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"duration"}}),up=sf(zu.prototype,"barrier_1",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pp=sf(zu.prototype,"barrier_2",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fp=sf(zu.prototype,"barrier_count",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dp=sf(zu.prototype,"main_barrier",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hp=sf(zu.prototype,"barriers",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mp=sf(zu.prototype,"start_date",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Number(0)}}),yp=sf(zu.prototype,"start_dates_list",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_p=sf(zu.prototype,"start_time",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bp=sf(zu.prototype,"sessions",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gp=sf(zu.prototype,"market_open_times",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vp=sf(zu.prototype,"market_close_times",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Op=sf(zu.prototype,"last_digit",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),wp=sf(zu.prototype,"is_mobile_digit_view_selected",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jp=sf(zu.prototype,"proposal_info",[Yl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Sp=sf(zu.prototype,"purchase_info",[Vl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),kp=sf(zu.prototype,"is_chart_loading",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pp=sf(zu.prototype,"multiplier",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ep=sf(zu.prototype,"multiplier_range_list",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xp=sf(zu.prototype,"stop_loss",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cp=sf(zu.prototype,"take_profit",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dp=sf(zu.prototype,"has_stop_loss",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tp=sf(zu.prototype,"has_take_profit",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mp=sf(zu.prototype,"has_cancellation",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ap=sf(zu.prototype,"commission",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rp=sf(zu.prototype,"cancellation_price",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Np=sf(zu.prototype,"hovered_contract_type",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ip=sf(zu.prototype,"cancellation_duration",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"60m"}}),zp=sf(zu.prototype,"cancellation_range_list",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lp=sf(zu.prototype,"is_trade_params_expanded",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Up=sf(zu.prototype,"should_skip_prepost_lifecycle",[pe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fp=sf(zu.prototype,"init",[Bl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Kp(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ur.a.wait("authorize","website_status");case 2:return t.next=4,Object(pe.when)((function(){return!e.root_store.client.is_populating_account_list}));case 4:Ur.a.storage.activeSymbols("brief").then((function(t){var r=t.active_symbols;Object(pe.runInAction)((function(){e.active_symbols=r}))}));case 5:case"end":return t.stop()}}),t)})))}}),sf(zu.prototype,"is_symbol_in_active_symbols",[pe.computed],Object.getOwnPropertyDescriptor(zu.prototype,"is_symbol_in_active_symbols"),zu.prototype),sf(zu.prototype,"setSkipPrePostLifecycle",[Wl],Object.getOwnPropertyDescriptor(zu.prototype,"setSkipPrePostLifecycle"),zu.prototype),sf(zu.prototype,"setTradeStatus",[ql],Object.getOwnPropertyDescriptor(zu.prototype,"setTradeStatus"),zu.prototype),sf(zu.prototype,"refresh",[Gl],Object.getOwnPropertyDescriptor(zu.prototype,"refresh"),zu.prototype),Hp=sf(zu.prototype,"clearContracts",[Xl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.root_store.modules.contract_trade.contracts=[]}}}),sf(zu.prototype,"setDefaultSymbol",[$l],Object.getOwnPropertyDescriptor(zu.prototype,"setDefaultSymbol"),zu.prototype),sf(zu.prototype,"setActiveSymbols",[Zl],Object.getOwnPropertyDescriptor(zu.prototype,"setActiveSymbols"),zu.prototype),sf(zu.prototype,"setContractTypes",[Jl],Object.getOwnPropertyDescriptor(zu.prototype,"setContractTypes"),zu.prototype),sf(zu.prototype,"prepareTradeStore",[Kl],Object.getOwnPropertyDescriptor(zu.prototype,"prepareTradeStore"),zu.prototype),sf(zu.prototype,"onChangeMultiple",[Ql],Object.getOwnPropertyDescriptor(zu.prototype,"onChangeMultiple"),zu.prototype),sf(zu.prototype,"onChange",[eu],Object.getOwnPropertyDescriptor(zu.prototype,"onChange"),zu.prototype),sf(zu.prototype,"setPreviousSymbol",[tu],Object.getOwnPropertyDescriptor(zu.prototype,"setPreviousSymbol"),zu.prototype),sf(zu.prototype,"setAllowEqual",[ru],Object.getOwnPropertyDescriptor(zu.prototype,"setAllowEqual"),zu.prototype),sf(zu.prototype,"setIsTradeParamsExpanded",[nu],Object.getOwnPropertyDescriptor(zu.prototype,"setIsTradeParamsExpanded"),zu.prototype),sf(zu.prototype,"resetPreviousSymbol",[ou],Object.getOwnPropertyDescriptor(zu.prototype,"resetPreviousSymbol"),zu.prototype),sf(zu.prototype,"updateBarrierColor",[iu],Object.getOwnPropertyDescriptor(zu.prototype,"updateBarrierColor"),zu.prototype),sf(zu.prototype,"onHoverPurchase",[au],Object.getOwnPropertyDescriptor(zu.prototype,"onHoverPurchase"),zu.prototype),sf(zu.prototype,"setPurchaseSpotBarrier",[su],Object.getOwnPropertyDescriptor(zu.prototype,"setPurchaseSpotBarrier"),zu.prototype),sf(zu.prototype,"updateLimitOrderBarriers",[cu],Object.getOwnPropertyDescriptor(zu.prototype,"updateLimitOrderBarriers"),zu.prototype),sf(zu.prototype,"clearLimitOrderBarriers",[lu],Object.getOwnPropertyDescriptor(zu.prototype,"clearLimitOrderBarriers"),zu.prototype),sf(zu.prototype,"barrier_pipsize",[pe.computed],Object.getOwnPropertyDescriptor(zu.prototype,"barrier_pipsize"),zu.prototype),sf(zu.prototype,"main_barrier_flattened",[pe.computed],Object.getOwnPropertyDescriptor(zu.prototype,"main_barrier_flattened"),zu.prototype),sf(zu.prototype,"barriers_flattened",[pe.computed],Object.getOwnPropertyDescriptor(zu.prototype,"barriers_flattened"),zu.prototype),sf(zu.prototype,"onPurchase",[uu],Object.getOwnPropertyDescriptor(zu.prototype,"onPurchase"),zu.prototype),sf(zu.prototype,"enablePurchase",[pu],Object.getOwnPropertyDescriptor(zu.prototype,"enablePurchase"),zu.prototype),sf(zu.prototype,"updateStore",[fu],Object.getOwnPropertyDescriptor(zu.prototype,"updateStore"),zu.prototype),sf(zu.prototype,"show_digits_stats",[pe.computed],Object.getOwnPropertyDescriptor(zu.prototype,"show_digits_stats"),zu.prototype),sf(zu.prototype,"setMobileDigitView",[du],Object.getOwnPropertyDescriptor(zu.prototype,"setMobileDigitView"),zu.prototype),sf(zu.prototype,"pushPurchaseDataToGtm",[hu],Object.getOwnPropertyDescriptor(zu.prototype,"pushPurchaseDataToGtm"),zu.prototype),sf(zu.prototype,"clearPurchaseInfo",[mu],Object.getOwnPropertyDescriptor(zu.prototype,"clearPurchaseInfo"),zu.prototype),sf(zu.prototype,"requestProposal",[yu],Object.getOwnPropertyDescriptor(zu.prototype,"requestProposal"),zu.prototype),sf(zu.prototype,"forgetAllProposal",[_u],Object.getOwnPropertyDescriptor(zu.prototype,"forgetAllProposal"),zu.prototype),sf(zu.prototype,"setMarketStatus",[bu],Object.getOwnPropertyDescriptor(zu.prototype,"setMarketStatus"),zu.prototype),sf(zu.prototype,"onProposalResponse",[gu],Object.getOwnPropertyDescriptor(zu.prototype,"onProposalResponse"),zu.prototype),sf(zu.prototype,"onChartBarrierChange",[vu],Object.getOwnPropertyDescriptor(zu.prototype,"onChartBarrierChange"),zu.prototype),sf(zu.prototype,"onAllowEqualsChange",[Ou],Object.getOwnPropertyDescriptor(zu.prototype,"onAllowEqualsChange"),zu.prototype),sf(zu.prototype,"updateSymbol",[wu],Object.getOwnPropertyDescriptor(zu.prototype,"updateSymbol"),zu.prototype),sf(zu.prototype,"changeDurationValidationRules",[ju],Object.getOwnPropertyDescriptor(zu.prototype,"changeDurationValidationRules"),zu.prototype),sf(zu.prototype,"accountSwitcherListener",[Su],Object.getOwnPropertyDescriptor(zu.prototype,"accountSwitcherListener"),zu.prototype),sf(zu.prototype,"preSwitchAccountListener",[ku],Object.getOwnPropertyDescriptor(zu.prototype,"preSwitchAccountListener"),zu.prototype),sf(zu.prototype,"logoutListener",[Pu],Object.getOwnPropertyDescriptor(zu.prototype,"logoutListener"),zu.prototype),sf(zu.prototype,"clientInitListener",[Eu],Object.getOwnPropertyDescriptor(zu.prototype,"clientInitListener"),zu.prototype),sf(zu.prototype,"networkStatusChangeListener",[xu],Object.getOwnPropertyDescriptor(zu.prototype,"networkStatusChangeListener"),zu.prototype),sf(zu.prototype,"themeChangeListener",[Cu],Object.getOwnPropertyDescriptor(zu.prototype,"themeChangeListener"),zu.prototype),sf(zu.prototype,"resetErrorServices",[Du],Object.getOwnPropertyDescriptor(zu.prototype,"resetErrorServices"),zu.prototype),sf(zu.prototype,"onMount",[Tu],Object.getOwnPropertyDescriptor(zu.prototype,"onMount"),zu.prototype),sf(zu.prototype,"setChartStatus",[Mu],Object.getOwnPropertyDescriptor(zu.prototype,"setChartStatus"),zu.prototype),sf(zu.prototype,"initAccountCurrency",[Au],Object.getOwnPropertyDescriptor(zu.prototype,"initAccountCurrency"),zu.prototype),sf(zu.prototype,"onUnmount",[Ru],Object.getOwnPropertyDescriptor(zu.prototype,"onUnmount"),zu.prototype),sf(zu.prototype,"exportLayout",[Nu],Object.getOwnPropertyDescriptor(zu.prototype,"exportLayout"),zu.prototype),sf(zu.prototype,"resetRefresh",[Iu],Object.getOwnPropertyDescriptor(zu.prototype,"resetRefresh"),zu.prototype),sf(zu.prototype,"has_alternative_source",[pe.computed],Object.getOwnPropertyDescriptor(zu.prototype,"has_alternative_source"),zu.prototype),sf(zu.prototype,"is_multiplier",[pe.computed],Object.getOwnPropertyDescriptor(zu.prototype,"is_multiplier"),zu.prototype),zu);var uf=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cashier=r.modules.cashier,this.contract_replay=new Ki({root_store:t}),this.contract_trade=new fa({root_store:t}),this.mt5=new da.a({root_store:t}),this.portfolio=new Cs({root_store:t}),this.profit_table=new Vc({root_store:t}),this.statement=new ol({root_store:t}),this.trade=new lf({root_store:t})};var pf=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=t.client,this.common=t.common,this.modules=new uf(this,t),this.ui=t.ui,this.gtm=t.gtm,this.segment=t.segment};Object(pe.configure)({enforceActions:"observed"});var ff=function(e,t,r){al.a.init(e.common),Object(Ur.b)(t),Object(ba.b)(r);var n=new pf(e);return n.modules.trade.init(),n};r("./sass/app.scss");function df(e){return(df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mf(e,t){return(mf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=bf(e);if(t){var o=bf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _f(this,r)}}function _f(e,t){return!t||"object"!==df(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bf(e){return(bf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gf=s()({loader:function(){return r.e("trade-modals").then(r.bind(null,"./App/Containers/Modals/index.js"))},loading:function(){return null}}),vf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mf(e,t)}(a,e);var t,r,n,o=yf(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e);var r=e.passthrough,n=r.WS,i=r.root_store,s=r.client_base;return t.root_store=ff(i,n,s),t}return t=a,(r=[{key:"componentWillUnmount",value:function(){this.root_store.ui.setPromptHandler(!1)}},{key:"render",value:function(){return i.createElement(_.a,{store:this.root_store},i.createElement(i.Fragment,null,i.createElement(sr,null),i.createElement(gf,null),i.createElement(_n.a,null),i.createElement($r,{store:this.root_store}),i.createElement(on,null),i.createElement(yn,{store:this.root_store})))}}])&&hf(t.prototype,r),n&&hf(t,n),a}(i.Component);vf.propTypes={passthrough:o.a.shape({root_store:o.a.object,WS:o.a.object})};var Of=vf},"./sass/app.scss":function(e,t,r){},"./sass/app/_common/components/positions-toggle.scss":function(e,t,r){},"./sass/app/modules/contract/digits.scss":function(e,t,r){},"@deriv/account/dist/js/file-uploader-container":function(t,r){t.exports=e},"@deriv/account/dist/js/form-sub-header":function(e,r){e.exports=t},"@deriv/account/dist/js/poa-expired":function(e,t){e.exports=r},"@deriv/account/dist/js/poa-needs-review":function(e,t){e.exports=n},"@deriv/account/dist/js/poa-status-codes":function(e,t){e.exports=o},"@deriv/account/dist/js/poa-submitted":function(e,t){e.exports=i},"@deriv/account/dist/js/poa-unverified":function(e,t){e.exports=a},"@deriv/account/dist/js/poa-verified":function(e,t){e.exports=s},"@deriv/account/dist/js/proof-of-identity-container":function(e,t){e.exports=c},"@deriv/components":function(e,t){e.exports=l},"@deriv/deriv-charts":function(e,t){e.exports=u},"@deriv/shared":function(e,t){e.exports=p},"@deriv/translations":function(e,t){e.exports=f},mobx:function(e,t){e.exports=d},"mobx-react":function(e,t){e.exports=h},react:function(e,t){e.exports=m},"react-dom":function(e,t){e.exports=y},"react-router":function(e,t){e.exports=_},"react-router-dom":function(e,t){e.exports=b}}).default}));
//# sourceMappingURL=trader.main.js.map