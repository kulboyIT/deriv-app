!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@deriv/account/dist/js/file-uploader-container"),require("@deriv/account/dist/js/form-sub-header"),require("@deriv/account/dist/js/poa-expired"),require("@deriv/account/dist/js/poa-needs-review"),require("@deriv/account/dist/js/poa-status-codes"),require("@deriv/account/dist/js/poa-submitted"),require("@deriv/account/dist/js/poa-unverified"),require("@deriv/account/dist/js/poa-verified"),require("@deriv/account/dist/js/proof-of-identity-container"),require("@deriv/components"),require("@deriv/deriv-charts"),require("@deriv/shared"),require("@deriv/translations"),require("mobx"),require("mobx-react"),require("react"),require("react-dom"),require("react-router"),require("react-router-dom")):"function"==typeof define&&define.amd?define(["@deriv/account/dist/js/file-uploader-container","@deriv/account/dist/js/form-sub-header","@deriv/account/dist/js/poa-expired","@deriv/account/dist/js/poa-needs-review","@deriv/account/dist/js/poa-status-codes","@deriv/account/dist/js/poa-submitted","@deriv/account/dist/js/poa-unverified","@deriv/account/dist/js/poa-verified","@deriv/account/dist/js/proof-of-identity-container","@deriv/components","@deriv/deriv-charts","@deriv/shared","@deriv/translations","mobx","mobx-react","react","react-dom","react-router","react-router-dom"],e):"object"==typeof exports?exports["@deriv/trader"]=e(require("@deriv/account/dist/js/file-uploader-container"),require("@deriv/account/dist/js/form-sub-header"),require("@deriv/account/dist/js/poa-expired"),require("@deriv/account/dist/js/poa-needs-review"),require("@deriv/account/dist/js/poa-status-codes"),require("@deriv/account/dist/js/poa-submitted"),require("@deriv/account/dist/js/poa-unverified"),require("@deriv/account/dist/js/poa-verified"),require("@deriv/account/dist/js/proof-of-identity-container"),require("@deriv/components"),require("@deriv/deriv-charts"),require("@deriv/shared"),require("@deriv/translations"),require("mobx"),require("mobx-react"),require("react"),require("react-dom"),require("react-router"),require("react-router-dom")):t["@deriv/trader"]=e(t["@deriv/account/dist/js/file-uploader-container"],t["@deriv/account/dist/js/form-sub-header"],t["@deriv/account/dist/js/poa-expired"],t["@deriv/account/dist/js/poa-needs-review"],t["@deriv/account/dist/js/poa-status-codes"],t["@deriv/account/dist/js/poa-submitted"],t["@deriv/account/dist/js/poa-unverified"],t["@deriv/account/dist/js/poa-verified"],t["@deriv/account/dist/js/proof-of-identity-container"],t["@deriv/components"],t["@deriv/deriv-charts"],t["@deriv/shared"],t["@deriv/translations"],t.mobx,t["mobx-react"],t.react,t["react-dom"],t["react-router"],t["react-router-dom"])}(window,(function(t,e,r,n,o,i,a,s,c,u,l,p,f,d,h,y,m,_,b){return function(t){function e(e){for(var r,n,s=e[0],c=e[1],u=e[3]||[],p=0,f=[];p<s.length;p++)n=s[p],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&f.push(o[n][0]),o[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e),u.forEach((function(t){if(void 0===o[t]){o[t]=null;var e=document.createElement("link");a.nc&&e.setAttribute("nonce",a.nc),e.rel="prefetch",e.as="script",e.href=i(t),document.head.appendChild(e)}}));f.length;)f.shift()()}var r={},n={main:0},o={main:0};function i(t){return a.p+"js/trader."+({404:"404",contract:"contract","error-component":"error-component","reports~screen-large~screen-small":"reports~screen-large~screen-small",reports:"reports","screen-large~screen-small":"screen-large~screen-small","screen-large":"screen-large","screen-small":"screen-small","settings-chart":"settings-chart","trade-modals":"trade-modals","vendors~mt5":"vendors~mt5",mt5:"mt5","two-month-picker":"two-month-picker"}[t]||t)+"."+{404:"bf2e255c06ff6190df07",contract:"0b442cfd609aeb132cdb","error-component":"b49cb3a139a0ff136694","reports~screen-large~screen-small":"daaf3be254c0299fbdfd",reports:"a2a42375f783527bdfec","screen-large~screen-small":"a6298aaf57090955dda6","screen-large":"2336ea1794d8f7bb8070","screen-small":"3699b0d7dd3f90d0557e","settings-chart":"197a0781f452d90e9f36","trade-modals":"3cac243fc2902b53e587","vendors~mt5":"a48afcfb8f8ca2c2d745",mt5:"1416167127d407008af8","two-month-picker":"85374ec2bd98e52aa6bb"}[t]+".js"}function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[];n[t]?e.push(n[t]):0!==n[t]&&{reports:1,"screen-small":1,mt5:1}[t]&&e.push(n[t]=new Promise((function(e,r){for(var o="css/trader."+({404:"404",contract:"contract","error-component":"error-component","reports~screen-large~screen-small":"reports~screen-large~screen-small",reports:"reports","screen-large~screen-small":"screen-large~screen-small","screen-large":"screen-large","screen-small":"screen-small","settings-chart":"settings-chart","trade-modals":"trade-modals","vendors~mt5":"vendors~mt5",mt5:"mt5","two-month-picker":"two-month-picker"}[t]||t)+"."+{404:"31d6cfe0d16ae931b73c",contract:"31d6cfe0d16ae931b73c","error-component":"31d6cfe0d16ae931b73c","reports~screen-large~screen-small":"31d6cfe0d16ae931b73c",reports:"4e767a872cbe2fee5760","screen-large~screen-small":"31d6cfe0d16ae931b73c","screen-large":"31d6cfe0d16ae931b73c","screen-small":"f372ca397aee3845a76a","settings-chart":"31d6cfe0d16ae931b73c","trade-modals":"31d6cfe0d16ae931b73c","vendors~mt5":"31d6cfe0d16ae931b73c",mt5:"b014737fe04aca6048d9","two-month-picker":"31d6cfe0d16ae931b73c"}[t]+".css",i=a.p+o,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=(p=s[c]).getAttribute("data-href")||p.getAttribute("href");if("stylesheet"===p.rel&&(u===o||u===i))return e()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){var p;if((u=(p=l[c]).getAttribute("data-href"))===o||u===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||i,a=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete n[t],f.parentNode.removeChild(f),r(a)},f.href=i,document.getElementsByTagName("head")[0].appendChild(f)})).then((function(){n[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var s=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.src=i(t);var l=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(p);var r=o[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",l.name="ChunkLoadError",l.type=n,l.request=i,r[1](l)}o[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},a.m=t,a.c=r,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a.oe=function(t){throw console.error(t),t};var s=window.webpackJsonp_deriv_trader=window.webpackJsonp_deriv_trader||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c,p=a(a.s="./index.js");return e([[],{},0,["vendors~mt5","mt5","settings-chart","trade-modals"]]),p}({"../node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},"../node_modules/classnames/index.js":function(t,e,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&t.push(a)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&t.push(s)}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0===(n=function(){return o}.apply(e,[]))||(t.exports=n)}()},"../node_modules/dom-helpers/class/addClass.js":function(t,e,r){"use strict";var n=r("../node_modules/@babel/runtime/helpers/interopRequireDefault.js");e.__esModule=!0,e.default=function(t,e){t.classList?t.classList.add(e):(0,o.default)(t,e)||("string"==typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var o=n(r("../node_modules/dom-helpers/class/hasClass.js"));t.exports=e.default},"../node_modules/dom-helpers/class/hasClass.js":function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},"../node_modules/dom-helpers/class/removeClass.js":function(t,e,r){"use strict";function n(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function(t,e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=n(t.className,e):t.setAttribute("class",n(t.className&&t.className.baseVal||"",e))}},"../node_modules/event-source-polyfill/src/eventsource.js":function(t,e,r){var n,o,i;
/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */!function(r){"use strict";var a=r.setTimeout,s=r.clearTimeout,c=r.XMLHttpRequest,u=r.XDomainRequest,l=r.ActiveXObject,p=r.EventSource,f=r.document,d=r.Promise,h=r.fetch,y=r.Response,m=r.TextDecoder,_=r.TextEncoder,b=r.AbortController;if("undefined"==typeof window||"readyState"in f||null!=f.body||(f.readyState="loading",window.addEventListener("load",(function(t){f.readyState="complete"}),!1)),null==c&&(c=function(){return new l("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),null==b){var g=h;h=function(t,e){var r=e.signal;return g(t,{headers:e.headers,credentials:e.credentials,cache:e.cache}).then((function(t){var e=t.body.getReader();return r._reader=e,r._aborted&&r._reader.cancel(),{status:t.status,statusText:t.statusText,headers:t.headers,body:{getReader:function(){return e}}}}))},b=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function v(){this.bitsNeeded=0,this.codePoint=0}v.prototype.decode=function(t){function e(t,e,r){if(1===r)return t>=128>>e&&t<<e<=2047;if(2===r)return t>=2048>>e&&t<<e<=55295||t>=57344>>e&&t<<e<=65535;if(3===r)return t>=65536>>e&&t<<e<=1114111;throw new Error}function r(t,e){if(6===t)return e>>6>15?3:e>31?2:1;if(12===t)return e>15?3:2;if(18===t)return 3;throw new Error}for(var n="",o=this.bitsNeeded,i=this.codePoint,a=0;a<t.length;a+=1){var s=t[a];0!==o&&(s<128||s>191||!e(i<<6|63&s,o-6,r(o,i)))&&(o=0,i=65533,n+=String.fromCharCode(i)),0===o?(s>=0&&s<=127?(o=0,i=s):s>=192&&s<=223?(o=6,i=31&s):s>=224&&s<=239?(o=12,i=15&s):s>=240&&s<=247?(o=18,i=7&s):(o=0,i=65533),0===o||e(i,o,r(o,i))||(o=0,i=65533)):(o-=6,i=i<<6|63&s),0===o&&(i<=65535?n+=String.fromCharCode(i):(n+=String.fromCharCode(55296+(i-65535-1>>10)),n+=String.fromCharCode(56320+(i-65535-1&1023))))}return this.bitsNeeded=o,this.codePoint=i,n};null!=m&&null!=_&&function(){try{return"test"===(new m).decode((new _).encode("test"),{stream:!0})}catch(t){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+t)}return!1}()||(m=v);var O=function(){};function w(t){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=O,this.onload=O,this.onerror=O,this.onreadystatechange=O,this._contentType="",this._xhr=t,this._sendTimeout=0,this._abort=O}function j(t){return t.replace(/[A-Z]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)+32)}))}function S(t){for(var e=Object.create(null),r=t.split("\r\n"),n=0;n<r.length;n+=1){var o=r[n].split(": "),i=o.shift(),a=o.join(": ");e[j(i)]=a}this._map=e}function k(){}function P(t){this._headers=t}function E(){}function x(){this._listeners=Object.create(null)}function C(t){a((function(){throw t}),0)}function D(t){this.type=t,this.target=void 0}function T(t,e){D.call(this,t),this.data=e.data,this.lastEventId=e.lastEventId}function M(t,e){D.call(this,t),this.status=e.status,this.statusText=e.statusText,this.headers=e.headers}function A(t,e){D.call(this,t),this.error=e.error}w.prototype.open=function(t,e){this._abort(!0);var r=this,n=this._xhr,o=1,i=0;this._abort=function(t){0!==r._sendTimeout&&(s(r._sendTimeout),r._sendTimeout=0),1!==o&&2!==o&&3!==o||(o=4,n.onload=O,n.onerror=O,n.onabort=O,n.onprogress=O,n.onreadystatechange=O,n.abort(),0!==i&&(s(i),i=0),t||(r.readyState=4,r.onabort(null),r.onreadystatechange())),o=0};var u=function(){if(1===o){var t=0,e="",i=void 0;if("contentType"in n)t=200,e="OK",i=n.contentType;else try{t=n.status,e=n.statusText,i=n.getResponseHeader("Content-Type")}catch(r){t=0,e="",i=void 0}0!==t&&(o=2,r.readyState=2,r.status=t,r.statusText=e,r._contentType=i,r.onreadystatechange())}},l=function(){if(u(),2===o||3===o){o=3;var t="";try{t=n.responseText}catch(t){}r.readyState=3,r.responseText=t,r.onprogress()}},p=function(t,e){if(null!=e&&null!=e.preventDefault||(e={preventDefault:O}),l(),1===o||2===o||3===o){if(o=4,0!==i&&(s(i),i=0),r.readyState=4,"load"===t)r.onload(e);else if("error"===t)r.onerror(e);else{if("abort"!==t)throw new TypeError;r.onabort(e)}r.onreadystatechange()}},f=function(){i=a((function(){f()}),500),3===n.readyState&&l()};"onload"in n&&(n.onload=function(t){p("load",t)}),"onerror"in n&&(n.onerror=function(t){p("error",t)}),"onabort"in n&&(n.onabort=function(t){p("abort",t)}),"onprogress"in n&&(n.onprogress=l),"onreadystatechange"in n&&(n.onreadystatechange=function(t){!function(t){null!=n&&(4===n.readyState?"onload"in n&&"onerror"in n&&"onabort"in n||p(""===n.responseText?"error":"load",t):3===n.readyState?"onprogress"in n||l():2===n.readyState&&u())}(t)}),!("contentType"in n)&&"ontimeout"in c.prototype||(e+=(-1===e.indexOf("?")?"?":"&")+"padding=true"),n.open(t,e,!0),"readyState"in n&&(i=a((function(){f()}),0))},w.prototype.abort=function(){this._abort(!1)},w.prototype.getResponseHeader=function(t){return this._contentType},w.prototype.setRequestHeader=function(t,e){var r=this._xhr;"setRequestHeader"in r&&r.setRequestHeader(t,e)},w.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},w.prototype.send=function(){if("ontimeout"in c.prototype&&("sendAsBinary"in c.prototype||"mozAnon"in c.prototype)||null==f||null==f.readyState||"complete"===f.readyState){var t=this._xhr;"withCredentials"in t&&(t.withCredentials=this.withCredentials);try{t.send(void 0)}catch(t){throw t}}else{var e=this;e._sendTimeout=a((function(){e._sendTimeout=0,e.send()}),4)}},S.prototype.get=function(t){return this._map[j(t)]},null!=c&&null==c.HEADERS_RECEIVED&&(c.HEADERS_RECEIVED=2),k.prototype.open=function(t,e,r,n,o,i,a){t.open("GET",o);var s=0;for(var u in t.onprogress=function(){var e=t.responseText.slice(s);s+=e.length,r(e)},t.onerror=function(t){t.preventDefault(),n(new Error("NetworkError"))},t.onload=function(){n(null)},t.onabort=function(){n(null)},t.onreadystatechange=function(){if(t.readyState===c.HEADERS_RECEIVED){var r=t.status,n=t.statusText,o=t.getResponseHeader("Content-Type"),i=t.getAllResponseHeaders();e(r,n,o,new S(i))}},t.withCredentials=i,a)Object.prototype.hasOwnProperty.call(a,u)&&t.setRequestHeader(u,a[u]);return t.send(),t},P.prototype.get=function(t){return this._headers.get(t)},E.prototype.open=function(t,e,r,n,o,i,a){var s=null,c=new b,u=c.signal,l=new m;return h(o,{headers:a,credentials:i?"include":"same-origin",signal:u,cache:"no-store"}).then((function(t){return s=t.body.getReader(),e(t.status,t.statusText,t.headers.get("Content-Type"),new P(t.headers)),new d((function(t,e){var n=function(){s.read().then((function(e){if(e.done)t(void 0);else{var o=l.decode(e.value,{stream:!0});r(o),n()}})).catch((function(t){e(t)}))};n()}))})).catch((function(t){return"AbortError"===t.name?void 0:t})).then((function(t){n(t)})),{abort:function(){null!=s&&s.cancel(),c.abort()}}},x.prototype.dispatchEvent=function(t){t.target=this;var e=this._listeners[t.type];if(null!=e)for(var r=e.length,n=0;n<r;n+=1){var o=e[n];try{"function"==typeof o.handleEvent?o.handleEvent(t):o.call(this,t)}catch(t){C(t)}}},x.prototype.addEventListener=function(t,e){t=String(t);var r=this._listeners,n=r[t];null==n&&(n=[],r[t]=n);for(var o=!1,i=0;i<n.length;i+=1)n[i]===e&&(o=!0);o||n.push(e)},x.prototype.removeEventListener=function(t,e){t=String(t);var r=this._listeners,n=r[t];if(null!=n){for(var o=[],i=0;i<n.length;i+=1)n[i]!==e&&o.push(n[i]);0===o.length?delete r[t]:r[t]=o}},T.prototype=Object.create(D.prototype),M.prototype=Object.create(D.prototype),A.prototype=Object.create(D.prototype);var R=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,L=function(t,e){var r=null==t?e:parseInt(t,10);return r!=r&&(r=e),N(r)},N=function(t){return Math.min(Math.max(t,1e3),18e6)},I=function(t,e,r){try{"function"==typeof e&&e.call(t,r)}catch(t){C(t)}};function z(t,e){x.call(this),e=e||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(t,e,r){e=String(e);var n=Boolean(r.withCredentials),o=N(1e3),i=L(r.heartbeatTimeout,45e3),l="",p=o,f=!1,d=0,h=r.headers||{},y=r.Transport,m=U&&null==y?void 0:new w(null!=y?new y:null!=c&&"withCredentials"in c.prototype||null==u?new c:new u),_=null!=y&&"string"!=typeof y?new y:null==m?new E:new k,b=void 0,g=0,v=-1,O="",j="",S="",P="",x=0,C=0,D=0,z=function(e,r,n,i){if(0===v)if(200===e&&null!=n&&R.test(n)){v=1,f=!0,p=o,t.readyState=1;var a=new M("open",{status:e,statusText:r,headers:i});t.dispatchEvent(a),I(t,t.onopen,a)}else{var s="";200!==e?(r&&(r=r.replace(/\s+/g," ")),s="EventSource's response has a status "+e+" "+r+" that is not 200. Aborting the connection."):s="EventSource's response has a Content-Type specifying an unsupported type: "+(null==n?"-":n.replace(/\s+/g," "))+". Aborting the connection.",H();a=new M("error",{status:e,statusText:r,headers:i});t.dispatchEvent(a),I(t,t.onerror,a),console.error(s)}},F=function(e){if(1===v){for(var r=-1,n=0;n<e.length;n+=1){(h=e.charCodeAt(n))!=="\n".charCodeAt(0)&&h!=="\r".charCodeAt(0)||(r=n)}var c=(-1!==r?P:"")+e.slice(0,r+1);P=(-1===r?P:"")+e.slice(r+1),""!==e&&(f=!0,d+=e.length);for(var u=0;u<c.length;u+=1){var h=c.charCodeAt(u);if(-1===x&&h==="\n".charCodeAt(0))x=0;else if(-1===x&&(x=0),h==="\r".charCodeAt(0)||h==="\n".charCodeAt(0)){if(0!==x){1===x&&(D=u+1);var y=c.slice(C,D-1),m=c.slice(D+(D<u&&c.charCodeAt(D)===" ".charCodeAt(0)?1:0),u);"data"===y?(O+="\n",O+=m):"id"===y?j=m:"event"===y?S=m:"retry"===y?(o=L(m,o),p=o):"heartbeatTimeout"===y&&(i=L(m,i),0!==g&&(s(g),g=a((function(){V()}),i)))}if(0===x){if(""!==O){l=j,""===S&&(S="message");var _=new T(S,{data:O.slice(1),lastEventId:j});if(t.dispatchEvent(_),"open"===S?I(t,t.onopen,_):"message"===S?I(t,t.onmessage,_):"error"===S&&I(t,t.onerror,_),2===v)return}O="",S=""}x=h==="\r".charCodeAt(0)?-1:0}else 0===x&&(C=u,x=1),1===x?h===":".charCodeAt(0)&&(D=u+1,x=2):2===x&&(x=3)}}},Y=function(e){if(1===v||0===v){v=-1,0!==g&&(s(g),g=0),g=a((function(){V()}),p),p=N(Math.min(16*o,2*p)),t.readyState=0;var r=new A("error",{error:e});t.dispatchEvent(r),I(t,t.onerror,r)}},H=function(){v=2,null!=b&&(b.abort(),b=void 0),0!==g&&(s(g),g=0),t.readyState=2},V=function(){if(g=0,-1===v){f=!1,d=0,g=a((function(){V()}),i),v=0,O="",S="",j=l,P="",C=0,D=0,x=0;var r=e;"data:"!==e.slice(0,5)&&"blob:"!==e.slice(0,5)&&""!==l&&(r+=(-1===e.indexOf("?")?"?":"&")+"lastEventId="+encodeURIComponent(l));var n=t.withCredentials,o={Accept:"text/event-stream"},s=t.headers;if(null!=s)for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c]);try{b=_.open(m,z,F,Y,r,n,o)}catch(t){throw H(),t}}else f||null==b?(f=!1,g=a((function(){V()}),i)):(Y(new Error("No activity within "+i+" milliseconds. "+(0===v?"No response received.":d+" chars received.")+" Reconnecting.")),null!=b&&(b.abort(),b=void 0))};t.url=e,t.readyState=0,t.withCredentials=n,t.headers=h,t._close=H,V()}(this,t,e)}var U=null!=h&&null!=y&&"body"in y.prototype;z.prototype=Object.create(x.prototype),z.prototype.CONNECTING=0,z.prototype.OPEN=1,z.prototype.CLOSED=2,z.prototype.close=function(){this._close()},z.CONNECTING=0,z.OPEN=1,z.CLOSED=2,z.prototype.withCredentials=void 0;var F=p;null==c||null!=p&&"withCredentials"in p.prototype||(F=z),function(r){if("object"==typeof t.exports){var a=r(e);void 0!==a&&(t.exports=a)}else o=[e],void 0===(i="function"==typeof(n=r)?n.apply(e,o):n)||(t.exports=i)}((function(t){t.EventSourcePolyfill=z,t.NativeEventSource=p,t.EventSource=F}))}("undefined"!=typeof window?window:"undefined"!=typeof self?self:this)},"../node_modules/extend/index.js":function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},c=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,r=n.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!i)return!1;for(e in t);return void 0===e||n.call(t,e)},u=function(t,e){i&&"__proto__"===e.name?i(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},l=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(a)return a(t,e).value}return t[e]};t.exports=function t(){var e,r,n,o,i,a,p=arguments[0],f=1,d=arguments.length,h=!1;for("boolean"==typeof p&&(h=p,p=arguments[1]||{},f=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});f<d;++f)if(null!=(e=arguments[f]))for(r in e)n=l(p,r),p!==(o=l(e,r))&&(h&&o&&(c(o)||(i=s(o)))?(i?(i=!1,a=n&&s(n)?n:[]):a=n&&c(n)?n:{},u(p,{name:r,newValue:t(h,a,o)})):void 0!==o&&u(p,{name:r,newValue:o}));return p}},"../node_modules/lodash.debounce/index.js":function(t,e,r){(function(e){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,u=s||c||Function("return this")(),l=Object.prototype.toString,p=Math.max,f=Math.min,d=function(){return u.Date.now()};function h(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==l.call(t)}(t))return NaN;if(h(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=h(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var s=o.test(t);return s||i.test(t)?a(t.slice(2),s?2:8):n.test(t)?NaN:+t}t.exports=function(t,e,r){var n,o,i,a,s,c,u=0,l=!1,m=!1,_=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var r=n,i=o;return n=o=void 0,u=e,a=t.apply(i,r)}function g(t){return u=t,s=setTimeout(O,e),l?b(t):a}function v(t){var r=t-c;return void 0===c||r>=e||r<0||m&&t-u>=i}function O(){var t=d();if(v(t))return w(t);s=setTimeout(O,function(t){var r=e-(t-c);return m?f(r,i-(t-u)):r}(t))}function w(t){return s=void 0,_&&n?b(t):(n=o=void 0,a)}function j(){var t=d(),r=v(t);if(n=arguments,o=this,c=t,r){if(void 0===s)return g(c);if(m)return s=setTimeout(O,e),b(c)}return void 0===s&&(s=setTimeout(O,e)),a}return e=y(e)||0,h(r)&&(l=!!r.leading,i=(m="maxWait"in r)?p(y(r.maxWait)||0,e):i,_="trailing"in r?!!r.trailing:_),j.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=c=o=s=void 0},j.flush=function(){return void 0===s?a:w(d())},j}}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/lodash.throttle/index.js":function(t,e,r){(function(e){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,u=s||c||Function("return this")(),l=Object.prototype.toString,p=Math.max,f=Math.min,d=function(){return u.Date.now()};function h(t,e,r){var n,o,i,a,s,c,u=0,l=!1,h=!1,_=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var r=n,i=o;return n=o=void 0,u=e,a=t.apply(i,r)}function g(t){return u=t,s=setTimeout(O,e),l?b(t):a}function v(t){var r=t-c;return void 0===c||r>=e||r<0||h&&t-u>=i}function O(){var t=d();if(v(t))return w(t);s=setTimeout(O,function(t){var r=e-(t-c);return h?f(r,i-(t-u)):r}(t))}function w(t){return s=void 0,_&&n?b(t):(n=o=void 0,a)}function j(){var t=d(),r=v(t);if(n=arguments,o=this,c=t,r){if(void 0===s)return g(c);if(h)return s=setTimeout(O,e),b(c)}return void 0===s&&(s=setTimeout(O,e)),a}return e=m(e)||0,y(r)&&(l=!!r.leading,i=(h="maxWait"in r)?p(m(r.maxWait)||0,e):i,_="trailing"in r?!!r.trailing:_),j.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=c=o=s=void 0},j.flush=function(){return void 0===s?a:w(d())},j}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==l.call(t)}(t))return NaN;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var s=o.test(t);return s||i.test(t)?a(t.slice(2),s?2:8):n.test(t)?NaN:+t}t.exports=function(t,e,r){var n=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return y(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),h(t,e,{leading:n,maxWait:e,trailing:o})}}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/mobx-utils/mobx-utils.module.js":function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return _}));var n=r("mobx");function o(t){throw new Error("[mobx-utils] "+t)}function i(t,e){void 0===e&&(e="Illegal state"),t||o(e)}function a(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}var s=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(s(Object.getPrototypeOf(t))||[])},c=function(t){return function(t){var e=s(t);return e.filter((function(t,r){return e.indexOf(t)===r}))}(t).filter((function(t){return"constructor"!==t&&!~t.indexOf("__")}))};function u(t){switch(this.state){case"pending":return t.pending&&t.pending(this.value);case"rejected":return t.rejected&&t.rejected(this.value);case"fulfilled":return t.fulfilled?t.fulfilled(this.value):this.value}}function l(t,e){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.then,"Please pass a promise or function to fromPromise"),!0===t.isPromiseBasedObservable)return t;"function"==typeof t&&(t=new Promise(t));var r=t;t.then(Object(n.action)("observableFromPromise-resolve",(function(t){r.value=t,r.state="fulfilled"})),Object(n.action)("observableFromPromise-reject",(function(t){r.value=t,r.state="rejected"}))),r.isPromiseBasedObservable=!0,r.case=u;var o=e&&"fulfilled"===e.state?e.value:void 0;return Object(n.extendObservable)(r,{value:o,state:"pending"},{},{deep:!1}),r}!function(t){t.reject=Object(n.action)("fromPromise.reject",(function(e){var r=t(Promise.reject(e));return r.state="rejected",r.value=e,r})),t.resolve=Object(n.action)("fromPromise.resolve",(function(e){void 0===e&&(e=void 0);var r=t(Promise.resolve(e));return r.state="fulfilled",r.value=e,r}))}(l||(l={}));var p=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};!function(){function t(t,e){var r=this;Object(n.runInAction)((function(){r.current=e,r.subscription=t.subscribe(r)}))}t.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.next=function(t){this.current=t},t.prototype.complete=function(){this.dispose()},t.prototype.error=function(t){this.current=t,this.dispose()},p([n.observable.ref],t.prototype,"current",void 0),p([n.action.bound],t.prototype,"next",null),p([n.action.bound],t.prototype,"complete",null),p([n.action.bound],t.prototype,"error",null)}();var f=function(){return(f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},h=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];!function(){function t(t){var e=this;this.model=t,this.localValues=n.observable.map({}),this.localComputedValues=n.observable.map({}),this.isPropertyDirty=function(t){return e.localValues.has(t)},i(Object(n.isObservableObject)(t),"createViewModel expects an observable object"),c(t).forEach((function(r){if(r!==n.$mobx&&"__mobxDidRunLazyInitializers"!==r){if(i(-1===h.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),Object(n.isComputedProp)(t,r)){var o=Object(n._getAdministration)(t,r).derivation;e.localComputedValues.set(r,Object(n.computed)(o.bind(e)))}var a=Object.getOwnPropertyDescriptor(t,r),s=a?{enumerable:a.enumerable}:{};Object.defineProperty(e,r,f(f({},s),{configurable:!0,get:function(){return Object(n.isComputedProp)(t,r)?e.localComputedValues.get(r).get():e.isPropertyDirty(r)?e.localValues.get(r):e.model[r]},set:Object(n.action)((function(t){t!==e.model[r]?e.localValues.set(r,t):e.localValues.delete(r)}))}))}}))}Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var t=this;Object(n.keys)(this.localValues).forEach((function(e){var r=t.localValues.get(e),o=t.model[e];Object(n.isObservableArray)(o)?o.replace(r):Object(n.isObservableMap)(o)?(o.clear(),o.merge(r)):Object(n.isComputed)(r)||(t.model[e]=r)})),this.localValues.clear()},t.prototype.reset=function(){this.localValues.clear()},t.prototype.resetProperty=function(t){this.localValues.delete(t)},d([n.computed],t.prototype,"isDirty",null),d([n.computed],t.prototype,"changedValues",null),d([n.action.bound],t.prototype,"submit",null),d([n.action.bound],t.prototype,"reset",null),d([n.action.bound],t.prototype,"resetProperty",null)}();var y=function(){return(y=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},m=0;function _(t,e){i("function"==typeof t&&t.length<2,"createTransformer expects a function that accepts one argument");var r={},o=void 0,s=!1,c=void 0;"object"==typeof e?(o=e.onCleanup,s=void 0!==e.keepAlive&&e.keepAlive,c=e.debugNameGenerator):"function"==typeof e&&(o=e);var u=!1;return function(i){var l=function(t){var e=typeof t;if("string"===e)return"string:"+t;if("number"===e)return"number:"+t;if(null===t||"object"!==e&&"function"!==e)throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(t));var r=t.$transformId;void 0===r&&(r="memoizationId:"+ ++m,a(t,"$transformId",r));return r}(i),p=r[l];if(p)return p.get();if(!s&&!Object(n._isComputingDerivation)()){u||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),u=!0);var f=t(i);return o&&o(f,i),f}return(p=r[l]=function(i,a){var u,l={};"object"==typeof e?(o=e.onCleanup,c=e.debugNameGenerator,l=e):"function"==typeof e?o=e:(o=void 0,c=void 0);var p=c?c(a):"Transformer-"+t.name+"-"+i,f=Object(n.computed)((function(){return u=t(a)}),y(y({},l),{name:p}));if(!s)var d=Object(n.onBecomeUnobserved)(f,(function(){delete r[i],d(),o&&o(u,a)}));return f}(l,i)).get()}}var b,g=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),v=(function(t){function e(e,r,o){var i=void 0===o?{}:o,a=i.name,s=void 0===a?"ogm"+(1e3*Math.random()|0):a,c=i.keyToName,u=void 0===c?function(t){return""+t}:c,l=t.call(this)||this;l._keyToName=u,l._groupBy=r,l._ogmInfoKey="function"==typeof Symbol?Symbol("ogmInfo"+s):"__ogmInfo"+s,l._base=e;for(var p=0;p<e.length;p++)l._addItem(e[p]);return l._disposeBaseObserver=Object(n.observe)(l._base,(function(t){if("splice"===t.type)Object(n.transaction)((function(){for(var e=0,r=t.removed;e<r.length;e++){var n=r[e];l._removeItem(n)}for(var o=0,i=t.added;o<i.length;o++){var a=i[o];l._addItem(a)}}));else{if("update"!==t.type)throw new Error("illegal state");Object(n.transaction)((function(){l._removeItem(t.oldValue),l._addItem(t.newValue)}))}})),l}g(e,t),e.prototype.clear=function(){throw new Error("not supported")},e.prototype.delete=function(t){throw new Error("not supported")},e.prototype.set=function(t,e){throw new Error("not supported")},e.prototype.dispose=function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var e=this._base[t];e[this._ogmInfoKey].reaction(),delete e[this._ogmInfoKey]}},e.prototype._getGroupArr=function(e){var r=t.prototype.get.call(this,e);return void 0===r&&(r=Object(n.observable)([],{name:"GroupArray["+this._keyToName(e)+"]"}),t.prototype.set.call(this,e,r)),r},e.prototype._removeFromGroupArr=function(e,r){var n=t.prototype.get.call(this,e);1===n.length?t.prototype.delete.call(this,e):(r===n.length-1||(n[r]=n[n.length-1],n[r][this._ogmInfoKey].groupArrIndex=r),n.length--)},e.prototype._addItem=function(t){var e=this,r=this._groupBy(t),o=this._getGroupArr(r),i={groupByValue:r,groupArrIndex:o.length,reaction:Object(n.reaction)((function(){return e._groupBy(t)}),(function(r,n){console.log("new group by value ",r);var o=t[e._ogmInfoKey];e._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=e._getGroupArr(r),a=i.length;i.push(t),o.groupByValue=r,o.groupArrIndex=a}))};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(t)},e.prototype._removeItem=function(t){var e=t[this._ogmInfoKey];this._removeFromGroupArr(e.groupByValue,e.groupArrIndex),e.reaction(),delete t[this._ogmInfoKey]}}(n.ObservableMap),function(){function t(t,e){this.base=t,this.args=e,this.closestIdx=0,this.isDisposed=!1;for(var r=this.closest=this.root=t,n=0;n<this.args.length-1&&(r=r.get(e[n]));n++)this.closest=r;this.closestIdx=n}return t.prototype.exists=function(){this.assertNotDisposed();var t=this.args.length;return this.closestIdx>=t-1&&this.closest.has(this.args[t-1])},t.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},t.prototype.set=function(t){this.assertNotDisposed();for(var e=this.args.length,r=this.closest,n=this.closestIdx;n<e-1;n++){var o=new Map;r.set(this.args[n],o),r=o}this.closestIdx=e-1,this.closest=r,r.set(this.args[e-1],t)},t.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var t=this.args.length;this.closest.delete(this.args[t-1]);for(var e=this.root,r=[e],n=0;n<t-1;n++)e=e.get(this.args[n]),r.push(e);for(n=r.length-1;n>0;n--)0===r[n].size&&r[n-1].delete(this.args[n-1]);this.isDisposed=!0},t.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},t}());!function(){function t(){this.store=new Map,this.argsLength=-1}t.prototype.entry=function(t){if(-1===this.argsLength)this.argsLength=t.length;else if(this.argsLength!==t.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+t.length);return this.last&&(this.last.isDisposed=!0),this.last=new v(this.store,t)}}();new Set,new Set;var O,w=Promise.resolve();O="undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==t&&t.nextTick?function(e){t.nextTick(e)}:function(t){setTimeout(t,0)};var j=function(){return new Promise((function(t){O(t)}))}}).call(this,r("../node_modules/process/browser.js"))},"../node_modules/moment/moment.js":function(t,e,r){(function(t){t.exports=function(){"use strict";var e,r;function n(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(a(t,e))return!1;return!0}function c(t){return void 0===t}function u(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function p(t,e){var r,n=[];for(r=0;r<t.length;++r)n.push(e(t[r],r));return n}function f(t,e){for(var r in e)a(e,r)&&(t[r]=e[r]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,r,n){return Se(t,e,r,n,!0).utc()}function h(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function y(t){if(null==t._isValid){var e=h(t),n=r.call(e.parsedDateParts,(function(t){return null!=t})),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function m(t){var e=d(NaN);return null!=t?f(h(e),t):h(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){var e,r=Object(this),n=r.length>>>0;for(e=0;e<n;e++)if(e in r&&t.call(this,r[e],e,r))return!0;return!1};var _=n.momentProperties=[],b=!1;function g(t,e){var r,n,o;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=h(e)),c(e._locale)||(t._locale=e._locale),_.length>0)for(r=0;r<_.length;r++)c(o=e[n=_[r]])||(t[n]=o);return t}function v(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,n.updateOffset(this),b=!1)}function O(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function w(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function j(t,e){var r=!0;return f((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),r){var o,i,s,c=[];for(i=0;i<arguments.length;i++){if(o="","object"==typeof arguments[i]){for(s in o+="\n["+i+"] ",arguments[0])a(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];c.push(o)}w(t+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),r=!1}return e.apply(this,arguments)}),e)}var S,k={};function P(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),k[t]||(w(e),k[t]=!0)}function E(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function x(t,e){var r,n=f({},t);for(r in e)a(e,r)&&(i(t[r])&&i(e[r])?(n[r]={},f(n[r],t[r]),f(n[r],e[r])):null!=e[r]?n[r]=e[r]:delete n[r]);for(r in t)a(t,r)&&!a(e,r)&&i(t[r])&&(n[r]=f({},n[r]));return n}function C(t){null!=t&&this.set(t)}function D(t,e,r){var n=""+Math.abs(t),o=e-n.length;return(t>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,r=[];for(e in t)a(t,e)&&r.push(e);return r};var T=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,A={},R={};function L(t,e,r,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(R[t]=o),e&&(R[e[0]]=function(){return D(o.apply(this,arguments),e[1],e[2])}),r&&(R[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function N(t,e){return t.isValid()?(e=I(e,t.localeData()),A[e]=A[e]||function(t){var e,r,n,o=t.match(T);for(e=0,r=o.length;e<r;e++)R[o[e]]?o[e]=R[o[e]]:o[e]=(n=o[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,i="";for(n=0;n<r;n++)i+=E(o[n])?o[n].call(e,t):o[n];return i}}(e),A[e](t)):t.localeData().invalidDate()}function I(t,e){var r=5;function n(t){return e.longDateFormat(t)||t}for(M.lastIndex=0;r>=0&&M.test(t);)t=t.replace(M,n),M.lastIndex=0,r-=1;return t}var z={};function U(t,e){var r=t.toLowerCase();z[r]=z[r+"s"]=z[e]=t}function F(t){return"string"==typeof t?z[t]||z[t.toLowerCase()]:void 0}function Y(t){var e,r,n={};for(r in t)a(t,r)&&(e=F(r))&&(n[e]=t[r]);return n}var H={};function V(t,e){H[t]=e}function B(t){return t%4==0&&t%100!=0||t%400==0}function W(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function G(t){var e=+t,r=0;return 0!==e&&isFinite(e)&&(r=W(e)),r}function q(t,e){return function(r){return null!=r?(Z(this,t,r),n.updateOffset(this,e),this):X(this,t)}}function X(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Z(t,e,r){t.isValid()&&!isNaN(r)&&("FullYear"===e&&B(t.year())&&1===t.month()&&29===t.date()?(r=G(r),t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),Ot(r,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](r))}var $,J=/\d/,K=/\d\d/,Q=/\d{3}/,tt=/\d{4}/,et=/[+-]?\d{6}/,rt=/\d\d?/,nt=/\d\d\d\d?/,ot=/\d\d\d\d\d\d?/,it=/\d{1,3}/,at=/\d{1,4}/,st=/[+-]?\d{1,6}/,ct=/\d+/,ut=/[+-]?\d+/,lt=/Z|[+-]\d\d:?\d\d/gi,pt=/Z|[+-]\d\d(?::?\d\d)?/gi,ft=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function dt(t,e,r){$[t]=E(e)?e:function(t,n){return t&&r?r:e}}function ht(t,e){return a($,t)?$[t](e._strict,e._locale):new RegExp(yt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,r,n,o){return e||r||n||o}))))}function yt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}$={};var mt,_t={};function bt(t,e){var r,n=e;for("string"==typeof t&&(t=[t]),u(e)&&(n=function(t,r){r[e]=G(t)}),r=0;r<t.length;r++)_t[t[r]]=n}function gt(t,e){bt(t,(function(t,r,n,o){n._w=n._w||{},e(t,n._w,n,o)}))}function vt(t,e,r){null!=e&&a(_t,t)&&_t[t](e,r._a,r,t)}function Ot(t,e){if(isNaN(t)||isNaN(e))return NaN;var r,n=(e%(r=12)+r)%r;return t+=(e-n)/12,1===n?B(t)?29:28:31-n%7%2}mt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},L("M",["MM",2],"Mo",(function(){return this.month()+1})),L("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),L("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),U("month","M"),V("month",8),dt("M",rt),dt("MM",rt,K),dt("MMM",(function(t,e){return e.monthsShortRegex(t)})),dt("MMMM",(function(t,e){return e.monthsRegex(t)})),bt(["M","MM"],(function(t,e){e[1]=G(t)-1})),bt(["MMM","MMMM"],(function(t,e,r,n){var o=r._locale.monthsParse(t,n,r._strict);null!=o?e[1]=o:h(r).invalidMonth=t}));var wt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),St=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,kt=ft,Pt=ft;function Et(t,e,r){var n,o,i,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?"MMM"===e?-1!==(o=mt.call(this._shortMonthsParse,a))?o:null:-1!==(o=mt.call(this._longMonthsParse,a))?o:null:"MMM"===e?-1!==(o=mt.call(this._shortMonthsParse,a))||-1!==(o=mt.call(this._longMonthsParse,a))?o:null:-1!==(o=mt.call(this._longMonthsParse,a))||-1!==(o=mt.call(this._shortMonthsParse,a))?o:null}function xt(t,e){var r;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=G(e);else if(!u(e=t.localeData().monthsParse(e)))return t;return r=Math.min(t.date(),Ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function Ct(t){return null!=t?(xt(this,t),n.updateOffset(this,!0),this):X(this,"Month")}function Dt(){function t(t,e){return e.length-t.length}var e,r,n=[],o=[],i=[];for(e=0;e<12;e++)r=d([2e3,e]),n.push(this.monthsShort(r,"")),o.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(n.sort(t),o.sort(t),i.sort(t),e=0;e<12;e++)n[e]=yt(n[e]),o[e]=yt(o[e]);for(e=0;e<24;e++)i[e]=yt(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Tt(t){return B(t)?366:365}L("Y",0,0,(function(){var t=this.year();return t<=9999?D(t,4):"+"+t})),L(0,["YY",2],0,(function(){return this.year()%100})),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),U("year","y"),V("year",1),dt("Y",ut),dt("YY",rt,K),dt("YYYY",at,tt),dt("YYYYY",st,et),dt("YYYYYY",st,et),bt(["YYYYY","YYYYYY"],0),bt("YYYY",(function(t,e){e[0]=2===t.length?n.parseTwoDigitYear(t):G(t)})),bt("YY",(function(t,e){e[0]=n.parseTwoDigitYear(t)})),bt("Y",(function(t,e){e[0]=parseInt(t,10)})),n.parseTwoDigitYear=function(t){return G(t)+(G(t)>68?1900:2e3)};var Mt=q("FullYear",!0);function At(t,e,r,n,o,i,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,r,n,o,i,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,r,n,o,i,a),s}function Rt(t){var e,r;return t<100&&t>=0?((r=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Lt(t,e,r){var n=7+e-r;return-(7+Rt(t,0,n).getUTCDay()-e)%7+n-1}function Nt(t,e,r,n,o){var i,a,s=1+7*(e-1)+(7+r-n)%7+Lt(t,n,o);return s<=0?a=Tt(i=t-1)+s:s>Tt(t)?(i=t+1,a=s-Tt(t)):(i=t,a=s),{year:i,dayOfYear:a}}function It(t,e,r){var n,o,i=Lt(t.year(),e,r),a=Math.floor((t.dayOfYear()-i-1)/7)+1;return a<1?n=a+zt(o=t.year()-1,e,r):a>zt(t.year(),e,r)?(n=a-zt(t.year(),e,r),o=t.year()+1):(o=t.year(),n=a),{week:n,year:o}}function zt(t,e,r){var n=Lt(t,e,r),o=Lt(t+1,e,r);return(Tt(t)-n+o)/7}function Ut(t,e){return t.slice(e,7).concat(t.slice(0,e))}L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),V("week",5),V("isoWeek",5),dt("w",rt),dt("ww",rt,K),dt("W",rt),dt("WW",rt,K),gt(["w","ww","W","WW"],(function(t,e,r,n){e[n.substr(0,1)]=G(t)})),L("d",0,"do","day"),L("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),L("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),L("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),dt("d",rt),dt("e",rt),dt("E",rt),dt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),dt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),dt("dddd",(function(t,e){return e.weekdaysRegex(t)})),gt(["dd","ddd","dddd"],(function(t,e,r,n){var o=r._locale.weekdaysParse(t,n,r._strict);null!=o?e.d=o:h(r).invalidWeekday=t})),gt(["d","e","E"],(function(t,e,r,n){e[n]=G(t)}));var Ft="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Yt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ht="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Vt=ft,Bt=ft,Wt=ft;function Gt(t,e,r){var n,o,i,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?"dddd"===e?-1!==(o=mt.call(this._weekdaysParse,a))?o:null:"ddd"===e?-1!==(o=mt.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=mt.call(this._minWeekdaysParse,a))?o:null:"dddd"===e?-1!==(o=mt.call(this._weekdaysParse,a))||-1!==(o=mt.call(this._shortWeekdaysParse,a))||-1!==(o=mt.call(this._minWeekdaysParse,a))?o:null:"ddd"===e?-1!==(o=mt.call(this._shortWeekdaysParse,a))||-1!==(o=mt.call(this._weekdaysParse,a))||-1!==(o=mt.call(this._minWeekdaysParse,a))?o:null:-1!==(o=mt.call(this._minWeekdaysParse,a))||-1!==(o=mt.call(this._weekdaysParse,a))||-1!==(o=mt.call(this._shortWeekdaysParse,a))?o:null}function qt(){function t(t,e){return e.length-t.length}var e,r,n,o,i,a=[],s=[],c=[],u=[];for(e=0;e<7;e++)r=d([2e3,1]).day(e),n=yt(this.weekdaysMin(r,"")),o=yt(this.weekdaysShort(r,"")),i=yt(this.weekdays(r,"")),a.push(n),s.push(o),c.push(i),u.push(n),u.push(o),u.push(i);a.sort(t),s.sort(t),c.sort(t),u.sort(t),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Zt(t,e){L(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function $t(t,e){return e._meridiemParse}L("H",["HH",2],0,"hour"),L("h",["hh",2],0,Xt),L("k",["kk",2],0,(function(){return this.hours()||24})),L("hmm",0,0,(function(){return""+Xt.apply(this)+D(this.minutes(),2)})),L("hmmss",0,0,(function(){return""+Xt.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),L("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),L("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),U("hour","h"),V("hour",13),dt("a",$t),dt("A",$t),dt("H",rt),dt("h",rt),dt("k",rt),dt("HH",rt,K),dt("hh",rt,K),dt("kk",rt,K),dt("hmm",nt),dt("hmmss",ot),dt("Hmm",nt),dt("Hmmss",ot),bt(["H","HH"],3),bt(["k","kk"],(function(t,e,r){var n=G(t);e[3]=24===n?0:n})),bt(["a","A"],(function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t})),bt(["h","hh"],(function(t,e,r){e[3]=G(t),h(r).bigHour=!0})),bt("hmm",(function(t,e,r){var n=t.length-2;e[3]=G(t.substr(0,n)),e[4]=G(t.substr(n)),h(r).bigHour=!0})),bt("hmmss",(function(t,e,r){var n=t.length-4,o=t.length-2;e[3]=G(t.substr(0,n)),e[4]=G(t.substr(n,2)),e[5]=G(t.substr(o)),h(r).bigHour=!0})),bt("Hmm",(function(t,e,r){var n=t.length-2;e[3]=G(t.substr(0,n)),e[4]=G(t.substr(n))})),bt("Hmmss",(function(t,e,r){var n=t.length-4,o=t.length-2;e[3]=G(t.substr(0,n)),e[4]=G(t.substr(n,2)),e[5]=G(t.substr(o))}));var Jt,Kt=q("Hours",!0),Qt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:wt,monthsShort:jt,week:{dow:0,doy:6},weekdays:Ft,weekdaysMin:Ht,weekdaysShort:Yt,meridiemParse:/[ap]\.?m?\.?/i},te={},ee={};function re(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function ne(t){return t?t.toLowerCase().replace("_","-"):t}function oe(e){var r=null;if(void 0===te[e]&&void 0!==t&&t&&t.exports)try{r=Jt._abbr,function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),ie(r)}catch(t){te[e]=null}return te[e]}function ie(t,e){var r;return t&&((r=c(e)?se(t):ae(t,e))?Jt=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Jt._abbr}function ae(t,e){if(null!==e){var r,n=Qt;if(e.abbr=t,null!=te[t])P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=te[t]._config;else if(null!=e.parentLocale)if(null!=te[e.parentLocale])n=te[e.parentLocale]._config;else{if(null==(r=oe(e.parentLocale)))return ee[e.parentLocale]||(ee[e.parentLocale]=[]),ee[e.parentLocale].push({name:t,config:e}),null;n=r._config}return te[t]=new C(x(n,e)),ee[t]&&ee[t].forEach((function(t){ae(t.name,t.config)})),ie(t),te[t]}return delete te[t],null}function se(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Jt;if(!o(t)){if(e=oe(t))return e;t=[t]}return function(t){for(var e,r,n,o,i=0;i<t.length;){for(e=(o=ne(t[i]).split("-")).length,r=(r=ne(t[i+1]))?r.split("-"):null;e>0;){if(n=oe(o.slice(0,e).join("-")))return n;if(r&&r.length>=e&&re(o,r)>=e-1)break;e--}i++}return Jt}(t)}function ce(t){var e,r=t._a;return r&&-2===h(t).overflow&&(e=r[1]<0||r[1]>11?1:r[2]<1||r[2]>Ot(r[0],r[1])?2:r[3]<0||r[3]>24||24===r[3]&&(0!==r[4]||0!==r[5]||0!==r[6])?3:r[4]<0||r[4]>59?4:r[5]<0||r[5]>59?5:r[6]<0||r[6]>999?6:-1,h(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),h(t)._overflowWeeks&&-1===e&&(e=7),h(t)._overflowWeekday&&-1===e&&(e=8),h(t).overflow=e),t}var ue=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,le=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],de=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],he=/^\/?Date\((-?\d+)/i,ye=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,me={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function _e(t){var e,r,n,o,i,a,s=t._i,c=ue.exec(s)||le.exec(s);if(c){for(h(t).iso=!0,e=0,r=fe.length;e<r;e++)if(fe[e][1].exec(c[1])){o=fe[e][0],n=!1!==fe[e][2];break}if(null==o)return void(t._isValid=!1);if(c[3]){for(e=0,r=de.length;e<r;e++)if(de[e][1].exec(c[3])){i=(c[2]||" ")+de[e][0];break}if(null==i)return void(t._isValid=!1)}if(!n&&null!=i)return void(t._isValid=!1);if(c[4]){if(!pe.exec(c[4]))return void(t._isValid=!1);a="Z"}t._f=o+(i||"")+(a||""),we(t)}else t._isValid=!1}function be(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function ge(t){var e,r,n,o,i,a,s,c,u=ye.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){if(r=u[4],n=u[3],o=u[2],i=u[5],a=u[6],s=u[7],c=[be(r),jt.indexOf(n),parseInt(o,10),parseInt(i,10),parseInt(a,10)],s&&c.push(parseInt(s,10)),e=c,!function(t,e,r){return!t||Yt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(h(r).weekdayMismatch=!0,r._isValid=!1,!1)}(u[1],e,t))return;t._a=e,t._tzm=function(t,e,r){if(t)return me[t];if(e)return 0;var n=parseInt(r,10),o=n%100;return(n-o)/100*60+o}(u[8],u[9],u[10]),t._d=Rt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),h(t).rfc2822=!0}else t._isValid=!1}function ve(t,e,r){return null!=t?t:null!=e?e:r}function Oe(t){var e,r,o,i,a,s=[];if(!t._d){for(o=function(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,r,n,o,i,a,s,c,u;null!=(e=t._w).GG||null!=e.W||null!=e.E?(i=1,a=4,r=ve(e.GG,t._a[0],It(ke(),1,4).year),n=ve(e.W,1),((o=ve(e.E,1))<1||o>7)&&(c=!0)):(i=t._locale._week.dow,a=t._locale._week.doy,u=It(ke(),i,a),r=ve(e.gg,t._a[0],u.year),n=ve(e.w,u.week),null!=e.d?((o=e.d)<0||o>6)&&(c=!0):null!=e.e?(o=e.e+i,(e.e<0||e.e>6)&&(c=!0)):o=i),n<1||n>zt(r,i,a)?h(t)._overflowWeeks=!0:null!=c?h(t)._overflowWeekday=!0:(s=Nt(r,n,o,i,a),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=ve(t._a[0],o[0]),(t._dayOfYear>Tt(a)||0===t._dayOfYear)&&(h(t)._overflowDayOfYear=!0),r=Rt(a,0,t._dayOfYear),t._a[1]=r.getUTCMonth(),t._a[2]=r.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Rt:At).apply(null,s),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(h(t).weekdayMismatch=!0)}}function we(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],h(t).empty=!0;var e,r,o,i,a,s,c=""+t._i,u=c.length,l=0;for(o=I(t._f,t._locale).match(T)||[],e=0;e<o.length;e++)i=o[e],(r=(c.match(ht(i,t))||[])[0])&&((a=c.substr(0,c.indexOf(r))).length>0&&h(t).unusedInput.push(a),c=c.slice(c.indexOf(r)+r.length),l+=r.length),R[i]?(r?h(t).empty=!1:h(t).unusedTokens.push(i),vt(i,r,t)):t._strict&&!r&&h(t).unusedTokens.push(i);h(t).charsLeftOver=u-l,c.length>0&&h(t).unusedInput.push(c),t._a[3]<=12&&!0===h(t).bigHour&&t._a[3]>0&&(h(t).bigHour=void 0),h(t).parsedDateParts=t._a.slice(0),h(t).meridiem=t._meridiem,t._a[3]=function(t,e,r){var n;return null==r?e:null!=t.meridiemHour?t.meridiemHour(e,r):null!=t.isPM?((n=t.isPM(r))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),null!==(s=h(t).era)&&(t._a[0]=t._locale.erasConvertYear(s,t._a[0])),Oe(t),ce(t)}else ge(t);else _e(t)}function je(t){var e=t._i,r=t._f;return t._locale=t._locale||se(t._l),null===e||void 0===r&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),O(e)?new v(ce(e)):(l(e)?t._d=e:o(r)?function(t){var e,r,n,o,i,a,s=!1;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)i=0,a=!1,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],we(e),y(e)&&(a=!0),i+=h(e).charsLeftOver,i+=10*h(e).unusedTokens.length,h(e).score=i,s?i<n&&(n=i,r=e):(null==n||i<n||a)&&(n=i,r=e,a&&(s=!0));f(t,r||e)}(t):r?we(t):function(t){var e=t._i;c(e)?t._d=new Date(n.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=he.exec(t._i);null===e?(_e(t),!1===t._isValid&&(delete t._isValid,ge(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:n.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):o(e)?(t._a=p(e.slice(0),(function(t){return parseInt(t,10)})),Oe(t)):i(e)?function(t){if(!t._d){var e=Y(t._i),r=void 0===e.day?e.date:e.day;t._a=p([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Oe(t)}}(t):u(e)?t._d=new Date(e):n.createFromInputFallback(t)}(t),y(t)||(t._d=null),t))}function Se(t,e,r,n,a){var c,u={};return!0!==e&&!1!==e||(n=e,e=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(i(t)&&s(t)||o(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=r,u._i=t,u._f=e,u._strict=n,(c=new v(ce(je(u))))._nextDay&&(c.add(1,"d"),c._nextDay=void 0),c}function ke(t,e,r,n){return Se(t,e,r,n,!1)}n.createFromInputFallback=j("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Pe=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=ke.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()})),Ee=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=ke.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}));function xe(t,e){var r,n;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return ke();for(r=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](r)||(r=e[n]);return r}var Ce=["year","quarter","month","week","day","hour","minute","second","millisecond"];function De(t){var e=Y(t),r=e.year||0,n=e.quarter||0,o=e.month||0,i=e.week||e.isoWeek||0,s=e.day||0,c=e.hour||0,u=e.minute||0,l=e.second||0,p=e.millisecond||0;this._isValid=function(t){var e,r,n=!1;for(e in t)if(a(t,e)&&(-1===mt.call(Ce,e)||null!=t[e]&&isNaN(t[e])))return!1;for(r=0;r<Ce.length;++r)if(t[Ce[r]]){if(n)return!1;parseFloat(t[Ce[r]])!==G(t[Ce[r]])&&(n=!0)}return!0}(e),this._milliseconds=+p+1e3*l+6e4*u+1e3*c*60*60,this._days=+s+7*i,this._months=+o+3*n+12*r,this._data={},this._locale=se(),this._bubble()}function Te(t){return t instanceof De}function Me(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ae(t,e){L(t,0,0,(function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+D(~~(t/60),2)+e+D(~~t%60,2)}))}Ae("Z",":"),Ae("ZZ",""),dt("Z",pt),dt("ZZ",pt),bt(["Z","ZZ"],(function(t,e,r){r._useUTC=!0,r._tzm=Le(pt,t)}));var Re=/([\+\-]|\d\d)/gi;function Le(t,e){var r,n,o=(e||"").match(t);return null===o?null:0===(n=60*(r=((o[o.length-1]||[])+"").match(Re)||["-",0,0])[1]+G(r[2]))?0:"+"===r[0]?n:-n}function Ne(t,e){var r,o;return e._isUTC?(r=e.clone(),o=(O(t)||l(t)?t.valueOf():ke(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+o),n.updateOffset(r,!1),r):ke(t).local()}function Ie(t){return-Math.round(t._d.getTimezoneOffset())}function ze(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Ue=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Fe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ye(t,e){var r,n,o,i,s,c,l=t,p=null;return Te(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:u(t)||!isNaN(+t)?(l={},e?l[e]=+t:l.milliseconds=+t):(p=Ue.exec(t))?(r="-"===p[1]?-1:1,l={y:0,d:G(p[2])*r,h:G(p[3])*r,m:G(p[4])*r,s:G(p[5])*r,ms:G(Me(1e3*p[6]))*r}):(p=Fe.exec(t))?(r="-"===p[1]?-1:1,l={y:He(p[2],r),M:He(p[3],r),w:He(p[4],r),d:He(p[5],r),h:He(p[6],r),m:He(p[7],r),s:He(p[8],r)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(i=ke(l.from),s=ke(l.to),o=i.isValid()&&s.isValid()?(s=Ne(s,i),i.isBefore(s)?c=Ve(i,s):((c=Ve(s,i)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(l={}).ms=o.milliseconds,l.M=o.months),n=new De(l),Te(t)&&a(t,"_locale")&&(n._locale=t._locale),Te(t)&&a(t,"_isValid")&&(n._isValid=t._isValid),n}function He(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function Ve(t,e){var r={};return r.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function Be(t,e){return function(r,n){var o;return null===n||isNaN(+n)||(P(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),We(this,Ye(r,n),t),this}}function We(t,e,r,o){var i=e._milliseconds,a=Me(e._days),s=Me(e._months);t.isValid()&&(o=null==o||o,s&&xt(t,X(t,"Month")+s*r),a&&Z(t,"Date",X(t,"Date")+a*r),i&&t._d.setTime(t._d.valueOf()+i*r),o&&n.updateOffset(t,a||s))}Ye.fn=De.prototype,Ye.invalid=function(){return Ye(NaN)};var Ge=Be(1,"add"),qe=Be(-1,"subtract");function Xe(t){return"string"==typeof t||t instanceof String}function Ze(t){return O(t)||l(t)||Xe(t)||u(t)||function(t){var e=o(t),r=!1;return e&&(r=0===t.filter((function(e){return!u(e)&&Xe(t)})).length),e&&r}(t)||function(t){var e,r,n=i(t)&&!s(t),o=!1,c=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<c.length;e+=1)r=c[e],o=o||a(t,r);return n&&o}(t)||null==t}function $e(t){var e,r=i(t)&&!s(t),n=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<o.length;e+=1)n=n||a(t,o[e]);return r&&n}function Je(t,e){if(t.date()<e.date())return-Je(e,t);var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,"months");return-(r+(e-n<0?(e-n)/(n-t.clone().add(r-1,"months")):(e-n)/(t.clone().add(r+1,"months")-n)))||0}function Ke(t){var e;return void 0===t?this._locale._abbr:(null!=(e=se(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qe=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function tr(){return this._locale}function er(t,e){return(t%e+e)%e}function rr(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-126227808e5:new Date(t,e,r).valueOf()}function nr(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-126227808e5:Date.UTC(t,e,r)}function or(t,e){return e.erasAbbrRegex(t)}function ir(){var t,e,r=[],n=[],o=[],i=[],a=this.eras();for(t=0,e=a.length;t<e;++t)n.push(yt(a[t].name)),r.push(yt(a[t].abbr)),o.push(yt(a[t].narrow)),i.push(yt(a[t].name)),i.push(yt(a[t].abbr)),i.push(yt(a[t].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function ar(t,e){L(0,[t,t.length],0,e)}function sr(t,e,r,n,o){var i;return null==t?It(this,n,o).year:(e>(i=zt(t,n,o))&&(e=i),cr.call(this,t,e,r,n,o))}function cr(t,e,r,n,o){var i=Nt(t,e,r,n,o),a=Rt(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}L("N",0,0,"eraAbbr"),L("NN",0,0,"eraAbbr"),L("NNN",0,0,"eraAbbr"),L("NNNN",0,0,"eraName"),L("NNNNN",0,0,"eraNarrow"),L("y",["y",1],"yo","eraYear"),L("y",["yy",2],0,"eraYear"),L("y",["yyy",3],0,"eraYear"),L("y",["yyyy",4],0,"eraYear"),dt("N",or),dt("NN",or),dt("NNN",or),dt("NNNN",(function(t,e){return e.erasNameRegex(t)})),dt("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),bt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,r,n){var o=r._locale.erasParse(t,n,r._strict);o?h(r).era=o:h(r).invalidEra=t})),dt("y",ct),dt("yy",ct),dt("yyy",ct),dt("yyyy",ct),dt("yo",(function(t,e){return e._eraYearOrdinalRegex||ct})),bt(["y","yy","yyy","yyyy"],0),bt(["yo"],(function(t,e,r,n){var o;r._locale._eraYearOrdinalRegex&&(o=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[0]=r._locale.eraYearOrdinalParse(t,o):e[0]=parseInt(t,10)})),L(0,["gg",2],0,(function(){return this.weekYear()%100})),L(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ar("gggg","weekYear"),ar("ggggg","weekYear"),ar("GGGG","isoWeekYear"),ar("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),dt("G",ut),dt("g",ut),dt("GG",rt,K),dt("gg",rt,K),dt("GGGG",at,tt),dt("gggg",at,tt),dt("GGGGG",st,et),dt("ggggg",st,et),gt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,r,n){e[n.substr(0,2)]=G(t)})),gt(["gg","GG"],(function(t,e,r,o){e[o]=n.parseTwoDigitYear(t)})),L("Q",0,"Qo","quarter"),U("quarter","Q"),V("quarter",7),dt("Q",J),bt("Q",(function(t,e){e[1]=3*(G(t)-1)})),L("D",["DD",2],"Do","date"),U("date","D"),V("date",9),dt("D",rt),dt("DD",rt,K),dt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),bt(["D","DD"],2),bt("Do",(function(t,e){e[2]=G(t.match(rt)[0])}));var ur=q("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),V("dayOfYear",4),dt("DDD",it),dt("DDDD",Q),bt(["DDD","DDDD"],(function(t,e,r){r._dayOfYear=G(t)})),L("m",["mm",2],0,"minute"),U("minute","m"),V("minute",14),dt("m",rt),dt("mm",rt,K),bt(["m","mm"],4);var lr=q("Minutes",!1);L("s",["ss",2],0,"second"),U("second","s"),V("second",15),dt("s",rt),dt("ss",rt,K),bt(["s","ss"],5);var pr,fr,dr=q("Seconds",!1);for(L("S",0,0,(function(){return~~(this.millisecond()/100)})),L(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),L(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),L(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),L(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),L(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),L(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),U("millisecond","ms"),V("millisecond",16),dt("S",it,J),dt("SS",it,K),dt("SSS",it,Q),pr="SSSS";pr.length<=9;pr+="S")dt(pr,ct);function hr(t,e){e[6]=G(1e3*("0."+t))}for(pr="S";pr.length<=9;pr+="S")bt(pr,hr);fr=q("Milliseconds",!1),L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var yr=v.prototype;function mr(t){return t}yr.add=Ge,yr.calendar=function(t,e){1===arguments.length&&(Ze(arguments[0])?(t=arguments[0],e=void 0):$e(arguments[0])&&(e=arguments[0],t=void 0));var r=t||ke(),o=Ne(r,this).startOf("day"),i=n.calendarFormat(this,o)||"sameElse",a=e&&(E(e[i])?e[i].call(this,r):e[i]);return this.format(a||this.localeData().calendar(i,this,ke(r)))},yr.clone=function(){return new v(this)},yr.diff=function(t,e,r){var n,o,i;if(!this.isValid())return NaN;if(!(n=Ne(t,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),e=F(e)){case"year":i=Je(this,n)/12;break;case"month":i=Je(this,n);break;case"quarter":i=Je(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-o)/864e5;break;case"week":i=(this-n-o)/6048e5;break;default:i=this-n}return r?i:W(i)},yr.endOf=function(t){var e,r;if(void 0===(t=F(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?nr:rr,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-er(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-er(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-er(e,1e3)-1}return this._d.setTime(e),n.updateOffset(this,!0),this},yr.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=N(this,t);return this.localeData().postformat(e)},yr.from=function(t,e){return this.isValid()&&(O(t)&&t.isValid()||ke(t).isValid())?Ye({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},yr.fromNow=function(t){return this.from(ke(),t)},yr.to=function(t,e){return this.isValid()&&(O(t)&&t.isValid()||ke(t).isValid())?Ye({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},yr.toNow=function(t){return this.to(ke(),t)},yr.get=function(t){return E(this[t=F(t)])?this[t]():this},yr.invalidAt=function(){return h(this).overflow},yr.isAfter=function(t,e){var r=O(t)?t:ke(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf())},yr.isBefore=function(t,e){var r=O(t)?t:ke(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf())},yr.isBetween=function(t,e,r,n){var o=O(t)?t:ke(t),i=O(e)?e:ke(e);return!!(this.isValid()&&o.isValid()&&i.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(o,r):!this.isBefore(o,r))&&(")"===n[1]?this.isBefore(i,r):!this.isAfter(i,r)))},yr.isSame=function(t,e){var r,n=O(t)?t:ke(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf()))},yr.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},yr.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},yr.isValid=function(){return y(this)},yr.lang=Qe,yr.locale=Ke,yr.localeData=tr,yr.max=Ee,yr.min=Pe,yr.parsingFlags=function(){return f({},h(this))},yr.set=function(t,e){if("object"==typeof t){var r,n=function(t){var e,r=[];for(e in t)a(t,e)&&r.push({unit:e,priority:H[e]});return r.sort((function(t,e){return t.priority-e.priority})),r}(t=Y(t));for(r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit])}else if(E(this[t=F(t)]))return this[t](e);return this},yr.startOf=function(t){var e,r;if(void 0===(t=F(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?nr:rr,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=er(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=er(e,6e4);break;case"second":e=this._d.valueOf(),e-=er(e,1e3)}return this._d.setTime(e),n.updateOffset(this,!0),this},yr.subtract=qe,yr.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},yr.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},yr.toDate=function(){return new Date(this.valueOf())},yr.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?N(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",N(r,"Z")):N(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},yr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,r,n="moment",o="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),t="["+n+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=o+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(yr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),yr.toJSON=function(){return this.isValid()?this.toISOString():null},yr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},yr.unix=function(){return Math.floor(this.valueOf()/1e3)},yr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},yr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},yr.eraName=function(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].name;if(n[t].until<=r&&r<=n[t].since)return n[t].name}return""},yr.eraNarrow=function(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].narrow;if(n[t].until<=r&&r<=n[t].since)return n[t].narrow}return""},yr.eraAbbr=function(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].abbr;if(n[t].until<=r&&r<=n[t].since)return n[t].abbr}return""},yr.eraYear=function(){var t,e,r,o,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,o=this.startOf("day").valueOf(),i[t].since<=o&&o<=i[t].until||i[t].until<=o&&o<=i[t].since)return(this.year()-n(i[t].since).year())*r+i[t].offset;return this.year()},yr.year=Mt,yr.isLeapYear=function(){return B(this.year())},yr.weekYear=function(t){return sr.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},yr.isoWeekYear=function(t){return sr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},yr.quarter=yr.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},yr.month=Ct,yr.daysInMonth=function(){return Ot(this.year(),this.month())},yr.week=yr.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},yr.isoWeek=yr.isoWeeks=function(t){var e=It(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},yr.weeksInYear=function(){var t=this.localeData()._week;return zt(this.year(),t.dow,t.doy)},yr.weeksInWeekYear=function(){var t=this.localeData()._week;return zt(this.weekYear(),t.dow,t.doy)},yr.isoWeeksInYear=function(){return zt(this.year(),1,4)},yr.isoWeeksInISOWeekYear=function(){return zt(this.isoWeekYear(),1,4)},yr.date=ur,yr.day=yr.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},yr.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},yr.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},yr.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},yr.hour=yr.hours=Kt,yr.minute=yr.minutes=lr,yr.second=yr.seconds=dr,yr.millisecond=yr.milliseconds=fr,yr.utcOffset=function(t,e,r){var o,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Le(pt,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&e&&(o=Ie(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==t&&(!e||this._changeInProgress?We(this,Ye(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Ie(this)},yr.utc=function(t){return this.utcOffset(0,t)},yr.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ie(this),"m")),this},yr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Le(lt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},yr.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?ke(t).utcOffset():0,(this.utcOffset()-t)%60==0)},yr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},yr.isLocal=function(){return!!this.isValid()&&!this._isUTC},yr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},yr.isUtc=ze,yr.isUTC=ze,yr.zoneAbbr=function(){return this._isUTC?"UTC":""},yr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},yr.dates=j("dates accessor is deprecated. Use date instead.",ur),yr.months=j("months accessor is deprecated. Use month instead",Ct),yr.years=j("years accessor is deprecated. Use year instead",Mt),yr.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),yr.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t,e={};return g(e,this),(e=je(e))._a?(t=e._isUTC?d(e._a):ke(e._a),this._isDSTShifted=this.isValid()&&function(t,e,r){var n,o=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0;for(n=0;n<o;n++)(r&&t[n]!==e[n]||!r&&G(t[n])!==G(e[n]))&&a++;return a+i}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var _r=C.prototype;function br(t,e,r,n){var o=se(),i=d().set(n,e);return o[r](i,t)}function gr(t,e,r){if(u(t)&&(e=t,t=void 0),t=t||"",null!=e)return br(t,e,r,"month");var n,o=[];for(n=0;n<12;n++)o[n]=br(t,n,r,"month");return o}function vr(t,e,r,n){"boolean"==typeof t?(u(e)&&(r=e,e=void 0),e=e||""):(r=e=t,t=!1,u(e)&&(r=e,e=void 0),e=e||"");var o,i=se(),a=t?i._week.dow:0,s=[];if(null!=r)return br(e,(r+a)%7,n,"day");for(o=0;o<7;o++)s[o]=br(e,(o+a)%7,n,"day");return s}_r.calendar=function(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return E(n)?n.call(e,r):n},_r.longDateFormat=function(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(T).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},_r.invalidDate=function(){return this._invalidDate},_r.ordinal=function(t){return this._ordinal.replace("%d",t)},_r.preparse=mr,_r.postformat=mr,_r.relativeTime=function(t,e,r,n){var o=this._relativeTime[r];return E(o)?o(t,e,r,n):o.replace(/%d/i,t)},_r.pastFuture=function(t,e){var r=this._relativeTime[t>0?"future":"past"];return E(r)?r(e):r.replace(/%s/i,e)},_r.set=function(t){var e,r;for(r in t)a(t,r)&&(E(e=t[r])?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},_r.eras=function(t,e){var r,o,i,a=this._eras||se("en")._eras;for(r=0,o=a.length;r<o;++r){switch(typeof a[r].since){case"string":i=n(a[r].since).startOf("day"),a[r].since=i.valueOf()}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=n(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf()}}return a},_r.erasParse=function(t,e,r){var n,o,i,a,s,c=this.eras();for(t=t.toUpperCase(),n=0,o=c.length;n<o;++n)if(i=c[n].name.toUpperCase(),a=c[n].abbr.toUpperCase(),s=c[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(a===t)return c[n];break;case"NNNN":if(i===t)return c[n];break;case"NNNNN":if(s===t)return c[n]}else if([i,a,s].indexOf(t)>=0)return c[n]},_r.erasConvertYear=function(t,e){var r=t.since<=t.until?1:-1;return void 0===e?n(t.since).year():n(t.since).year()+(e-t.offset)*r},_r.erasAbbrRegex=function(t){return a(this,"_erasAbbrRegex")||ir.call(this),t?this._erasAbbrRegex:this._erasRegex},_r.erasNameRegex=function(t){return a(this,"_erasNameRegex")||ir.call(this),t?this._erasNameRegex:this._erasRegex},_r.erasNarrowRegex=function(t){return a(this,"_erasNarrowRegex")||ir.call(this),t?this._erasNarrowRegex:this._erasRegex},_r.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||St).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},_r.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[St.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},_r.monthsParse=function(t,e,r){var n,o,i;if(this._monthsParseExact)return Et.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=d([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(r&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}},_r.monthsRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||Dt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Pt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},_r.monthsShortRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||Dt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=kt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},_r.week=function(t){return It(t,this._week.dow,this._week.doy).week},_r.firstDayOfYear=function(){return this._week.doy},_r.firstDayOfWeek=function(){return this._week.dow},_r.weekdays=function(t,e){var r=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Ut(r,this._week.dow):t?r[t.day()]:r},_r.weekdaysMin=function(t){return!0===t?Ut(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},_r.weekdaysShort=function(t){return!0===t?Ut(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},_r.weekdaysParse=function(t,e,r){var n,o,i;if(this._weekdaysParseExact)return Gt.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=d([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(r&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(r&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}},_r.weekdaysRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Vt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},_r.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Bt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},_r.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Wt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},_r.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},_r.meridiem=function(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"},ie("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===G(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=j("moment.lang is deprecated. Use moment.locale instead.",ie),n.langData=j("moment.langData is deprecated. Use moment.localeData instead.",se);var Or=Math.abs;function wr(t,e,r,n){var o=Ye(e,r);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function jr(t){return t<0?Math.floor(t):Math.ceil(t)}function Sr(t){return 4800*t/146097}function kr(t){return 146097*t/4800}function Pr(t){return function(){return this.as(t)}}var Er=Pr("ms"),xr=Pr("s"),Cr=Pr("m"),Dr=Pr("h"),Tr=Pr("d"),Mr=Pr("w"),Ar=Pr("M"),Rr=Pr("Q"),Lr=Pr("y");function Nr(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ir=Nr("milliseconds"),zr=Nr("seconds"),Ur=Nr("minutes"),Fr=Nr("hours"),Yr=Nr("days"),Hr=Nr("months"),Vr=Nr("years"),Br=Math.round,Wr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Gr(t,e,r,n,o){return o.relativeTime(e||1,!!r,t,n)}var qr=Math.abs;function Xr(t){return(t>0)-(t<0)||+t}function Zr(){if(!this.isValid())return this.localeData().invalidDate();var t,e,r,n,o,i,a,s,c=qr(this._milliseconds)/1e3,u=qr(this._days),l=qr(this._months),p=this.asSeconds();return p?(t=W(c/60),e=W(t/60),c%=60,t%=60,r=W(l/12),l%=12,n=c?c.toFixed(3).replace(/\.?0+$/,""):"",o=p<0?"-":"",i=Xr(this._months)!==Xr(p)?"-":"",a=Xr(this._days)!==Xr(p)?"-":"",s=Xr(this._milliseconds)!==Xr(p)?"-":"",o+"P"+(r?i+r+"Y":"")+(l?i+l+"M":"")+(u?a+u+"D":"")+(e||t||c?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(c?s+n+"S":"")):"P0D"}var $r=De.prototype;return $r.isValid=function(){return this._isValid},$r.abs=function(){var t=this._data;return this._milliseconds=Or(this._milliseconds),this._days=Or(this._days),this._months=Or(this._months),t.milliseconds=Or(t.milliseconds),t.seconds=Or(t.seconds),t.minutes=Or(t.minutes),t.hours=Or(t.hours),t.months=Or(t.months),t.years=Or(t.years),this},$r.add=function(t,e){return wr(this,t,e,1)},$r.subtract=function(t,e){return wr(this,t,e,-1)},$r.as=function(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if("month"===(t=F(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,r=this._months+Sr(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(kr(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},$r.asMilliseconds=Er,$r.asSeconds=xr,$r.asMinutes=Cr,$r.asHours=Dr,$r.asDays=Tr,$r.asWeeks=Mr,$r.asMonths=Ar,$r.asQuarters=Rr,$r.asYears=Lr,$r.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*G(this._months/12):NaN},$r._bubble=function(){var t,e,r,n,o,i=this._milliseconds,a=this._days,s=this._months,c=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*jr(kr(s)+a),a=0,s=0),c.milliseconds=i%1e3,t=W(i/1e3),c.seconds=t%60,e=W(t/60),c.minutes=e%60,r=W(e/60),c.hours=r%24,a+=W(r/24),o=W(Sr(a)),s+=o,a-=jr(kr(o)),n=W(s/12),s%=12,c.days=a,c.months=s,c.years=n,this},$r.clone=function(){return Ye(this)},$r.get=function(t){return t=F(t),this.isValid()?this[t+"s"]():NaN},$r.milliseconds=Ir,$r.seconds=zr,$r.minutes=Ur,$r.hours=Fr,$r.days=Yr,$r.weeks=function(){return W(this.days()/7)},$r.months=Hr,$r.years=Vr,$r.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var r,n,o=!1,i=Wr;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(o=t),"object"==typeof e&&(i=Object.assign({},Wr,e),null!=e.s&&null==e.ss&&(i.ss=e.s-1)),r=this.localeData(),n=function(t,e,r,n){var o=Ye(t).abs(),i=Br(o.as("s")),a=Br(o.as("m")),s=Br(o.as("h")),c=Br(o.as("d")),u=Br(o.as("M")),l=Br(o.as("w")),p=Br(o.as("y")),f=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||a<=1&&["m"]||a<r.m&&["mm",a]||s<=1&&["h"]||s<r.h&&["hh",s]||c<=1&&["d"]||c<r.d&&["dd",c];return null!=r.w&&(f=f||l<=1&&["w"]||l<r.w&&["ww",l]),(f=f||u<=1&&["M"]||u<r.M&&["MM",u]||p<=1&&["y"]||["yy",p])[2]=e,f[3]=+t>0,f[4]=n,Gr.apply(null,f)}(this,!o,i,r),o&&(n=r.pastFuture(+this,n)),r.postformat(n)},$r.toISOString=Zr,$r.toString=Zr,$r.toJSON=Zr,$r.locale=Ke,$r.localeData=tr,$r.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zr),$r.lang=Qe,L("X",0,0,"unix"),L("x",0,0,"valueOf"),dt("x",ut),dt("X",/[+-]?\d+(\.\d{1,3})?/),bt("X",(function(t,e,r){r._d=new Date(1e3*parseFloat(t))})),bt("x",(function(t,e,r){r._d=new Date(G(t))})),
//! moment.js
n.version="2.26.0",e=ke,n.fn=yr,n.min=function(){var t=[].slice.call(arguments,0);return xe("isBefore",t)},n.max=function(){var t=[].slice.call(arguments,0);return xe("isAfter",t)},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(t){return ke(1e3*t)},n.months=function(t,e){return gr(t,e,"months")},n.isDate=l,n.locale=ie,n.invalid=m,n.duration=Ye,n.isMoment=O,n.weekdays=function(t,e,r){return vr(t,e,r,"weekdays")},n.parseZone=function(){return ke.apply(null,arguments).parseZone()},n.localeData=se,n.isDuration=Te,n.monthsShort=function(t,e){return gr(t,e,"monthsShort")},n.weekdaysMin=function(t,e,r){return vr(t,e,r,"weekdaysMin")},n.defineLocale=ae,n.updateLocale=function(t,e){if(null!=e){var r,n,o=Qt;null!=te[t]&&null!=te[t].parentLocale?te[t].set(x(te[t]._config,e)):(null!=(n=oe(t))&&(o=n._config),e=x(o,e),null==n&&(e.abbr=t),(r=new C(e)).parentLocale=te[t],te[t]=r),ie(t)}else null!=te[t]&&(null!=te[t].parentLocale?(te[t]=te[t].parentLocale,t===ie()&&ie(t)):null!=te[t]&&delete te[t]);return te[t]},n.locales=function(){return S(te)},n.weekdaysShort=function(t,e,r){return vr(t,e,r,"weekdaysShort")},n.normalizeUnits=F,n.relativeTimeRounding=function(t){return void 0===t?Br:"function"==typeof t&&(Br=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==Wr[t]&&(void 0===e?Wr[t]:(Wr[t]=e,"s"===t&&(Wr.ss=e-1),!0))},n.calendarFormat=function(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},n.prototype=yr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}).call(this,r("../node_modules/webpack/buildin/module.js")(t))},"../node_modules/process/browser.js":function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var c,u=[],l=!1,p=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&d())}function d(){if(!l){var t=s(f);l=!0;for(var e=u.length;e;){for(c=u,u=[];++p<e;)c&&c[p].run();p=-1,e=u.length}c=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new h(t,e)),1!==u.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"../node_modules/promise-polyfill/src/finally.js":function(t,e,r){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(r){return e.resolve(t()).then((function(){return r}))}),(function(r){return e.resolve(t()).then((function(){return e.reject(r)}))}))}},"../node_modules/promise-polyfill/src/index.js":function(t,e,r){"use strict";(function(t){var e=r("../node_modules/promise-polyfill/src/finally.js"),n=setTimeout;function o(t){return Boolean(t&&void 0!==t.length)}function i(){}function a(t){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,a._immediateFn((function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(t){return void u(e.promise,t)}c(e.promise,n)}else(1===t._state?c:u)(e.promise,t._value)}))):t._deferreds.push(e)}function c(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof a)return t._state=3,t._value=e,void l(t);if("function"==typeof r)return void f((n=r,o=e,function(){n.apply(o,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){u(t,e)}var n,o}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&a._immediateFn((function(){t._handled||a._unhandledRejectionFn(t._value)}));for(var e=0,r=t._deferreds.length;e<r;e++)s(t,t._deferreds[e]);t._deferreds=null}function p(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function f(t,e){var r=!1;try{t((function(t){r||(r=!0,c(e,t))}),(function(t){r||(r=!0,u(e,t))}))}catch(t){if(r)return;r=!0,u(e,t)}}a.prototype.catch=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var r=new this.constructor(i);return s(this,new p(t,e,r)),r},a.prototype.finally=e.a,a.all=function(t){return new a((function(e,r){if(!o(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var i=n.length;function a(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(e){a(t,e)}),r)}n[t]=o,0==--i&&e(n)}catch(t){r(t)}}for(var s=0;s<n.length;s++)a(s,n[s])}))},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a((function(e){e(t)}))},a.reject=function(t){return new a((function(e,r){r(t)}))},a.race=function(t){return new a((function(e,r){if(!o(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)a.resolve(t[n]).then(e,r)}))},a._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){n(t,0)},a._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)}}).call(this,r("../node_modules/timers-browserify/main.js").setImmediate)},"../node_modules/prop-types/factoryWithThrowingShims.js":function(t,e,r){"use strict";var n=r("../node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},"../node_modules/prop-types/index.js":function(t,e,r){t.exports=r("../node_modules/prop-types/factoryWithThrowingShims.js")()},"../node_modules/prop-types/lib/ReactPropTypesSecret.js":function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js":function(t,e,r){"use strict";function n(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function o(t){this.setState(function(e){var r=this.constructor.getDerivedStateFromProps(t,e);return null!=r?r:null}.bind(this))}function i(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var r=null,a=null,s=null;if("function"==typeof e.componentWillMount?r="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?s="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==a||null!==s){var c=t.displayName||t.name,u="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=n,e.componentWillReceiveProps=o),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i;var l=e.componentDidUpdate;e.componentDidUpdate=function(t,e,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;l.call(this,t,e,n)}}return t}r.r(e),r.d(e,"polyfill",(function(){return a})),n.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},"../node_modules/react-loadable/lib/index.js":function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=r("react"),c=r("../node_modules/prop-types/index.js"),u=[],l=[];function p(t){var e=t(),r={loading:!0,loaded:null,error:null};return r.promise=e.then((function(t){return r.loading=!1,r.loaded=t,t})).catch((function(t){throw r.loading=!1,r.error=t,t})),r}function f(t){var e={loading:!1,loaded:{},error:null},r=[];try{Object.keys(t).forEach((function(n){var o=p(t[n]);o.loading?e.loading=!0:(e.loaded[n]=o.loaded,e.error=o.error),r.push(o.promise),o.promise.then((function(t){e.loaded[n]=t})).catch((function(t){e.error=t}))}))}catch(t){e.error=t}return e.promise=Promise.all(r).then((function(t){return e.loading=!1,t})).catch((function(t){throw e.loading=!1,t})),e}function d(t,e){return s.createElement((r=t)&&r.__esModule?r.default:r,e);var r}function h(t,e){var p,f;if(!e.loading)throw new Error("react-loadable requires a `loading` component");var h=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:d,webpack:null,modules:null},e),y=null;function m(){return y||(y=t(h.loader)),y.promise}return u.push(m),"function"==typeof h.webpack&&l.push((function(){if(t=h.webpack,"object"===n(r.m)&&t().every((function(t){return void 0!==t&&void 0!==r.m[t]})))return m();var t})),f=p=function(e){function r(n){o(this,r);var a=i(this,e.call(this,n));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),y=t(h.loader),a._loadModule()},m(),a.state={error:y.error,pastDelay:!1,timedOut:!1,loading:y.loading,loaded:y.loaded},a}return a(r,e),r.preload=function(){return m()},r.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},r.prototype._loadModule=function(){var t=this;if(this.context.loadable&&Array.isArray(h.modules)&&h.modules.forEach((function(e){t.context.loadable.report(e)})),y.loading){"number"==typeof h.delay&&(0===h.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){t.setState({pastDelay:!0})}),h.delay)),"number"==typeof h.timeout&&(this._timeout=setTimeout((function(){t.setState({timedOut:!0})}),h.timeout));var e=function(){t._mounted&&(t.setState({error:y.error,loaded:y.loaded,loading:y.loading}),t._clearTimeouts())};y.promise.then((function(){e()})).catch((function(t){e()}))}},r.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},r.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},r.prototype.render=function(){return this.state.loading||this.state.error?s.createElement(h.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?h.render(this.state.loaded,this.props):null},r}(s.Component),p.contextTypes={loadable:c.shape({report:c.func.isRequired})},f}function y(t){return h(p,t)}y.Map=function(t){if("function"!=typeof t.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return h(f,t)};var m=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},e.prototype.render=function(){return s.Children.only(this.props.children)},e}(s.Component);function _(t){for(var e=[];t.length;){var r=t.pop();e.push(r())}return Promise.all(e).then((function(){if(t.length)return _(t)}))}m.propTypes={report:c.func.isRequired},m.childContextTypes={loadable:c.shape({report:c.func.isRequired}).isRequired},y.Capture=m,y.preloadAll=function(){return new Promise((function(t,e){_(u).then(t,e)}))},y.preloadReady=function(){return new Promise((function(t,e){_(l).then(t,t)}))},t.exports=y},"../node_modules/react-transition-group/CSSTransition.js":function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}e.default=t}(r("../node_modules/prop-types/index.js"));var n=s(r("../node_modules/dom-helpers/class/addClass.js")),o=s(r("../node_modules/dom-helpers/class/removeClass.js")),i=s(r("react")),a=s(r("../node_modules/react-transition-group/Transition.js"));r("../node_modules/react-transition-group/utils/PropTypes.js");function s(t){return t&&t.__esModule?t:{default:t}}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var u=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,n.default)(t,e)}))},l=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,o.default)(t,e)}))},p=function(t){var e,r;function n(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).onEnter=function(t,r){var n=e.getClassNames(r?"appear":"enter").className;e.removeClasses(t,"exit"),u(t,n),e.props.onEnter&&e.props.onEnter(t,r)},e.onEntering=function(t,r){var n=e.getClassNames(r?"appear":"enter").activeClassName;e.reflowAndAddClass(t,n),e.props.onEntering&&e.props.onEntering(t,r)},e.onEntered=function(t,r){var n=e.getClassNames("appear").doneClassName,o=e.getClassNames("enter").doneClassName,i=r?n+" "+o:o;e.removeClasses(t,r?"appear":"enter"),u(t,i),e.props.onEntered&&e.props.onEntered(t,r)},e.onExit=function(t){var r=e.getClassNames("exit").className;e.removeClasses(t,"appear"),e.removeClasses(t,"enter"),u(t,r),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var r=e.getClassNames("exit").activeClassName;e.reflowAndAddClass(t,r),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var r=e.getClassNames("exit").doneClassName;e.removeClasses(t,"exit"),u(t,r),e.props.onExited&&e.props.onExited(t)},e.getClassNames=function(t){var r=e.props.classNames,n="string"==typeof r,o=n?(n&&r?r+"-":"")+t:r[t];return{className:o,activeClassName:n?o+"-active":r[t+"Active"],doneClassName:n?o+"-done":r[t+"Done"]}},e}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=n.prototype;return o.removeClasses=function(t,e){var r=this.getClassNames(e),n=r.className,o=r.activeClassName,i=r.doneClassName;n&&l(t,n),o&&l(t,o),i&&l(t,i)},o.reflowAndAddClass=function(t,e){e&&(t&&t.scrollTop,u(t,e))},o.render=function(){var t=c({},this.props);return delete t.classNames,i.default.createElement(a.default,c({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(i.default.Component);p.defaultProps={classNames:""},p.propTypes={};var f=p;e.default=f,t.exports=e.default},"../node_modules/react-transition-group/ReplaceTransition.js":function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;a(r("../node_modules/prop-types/index.js"));var n=a(r("react")),o=r("react-dom"),i=a(r("../node_modules/react-transition-group/TransitionGroup.js"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e,r;function a(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).handleEnter=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.handleLifecycle("onEnter",0,r)},e.handleEntering=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.handleLifecycle("onEntering",0,r)},e.handleEntered=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.handleLifecycle("onEntered",0,r)},e.handleExit=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.handleLifecycle("onExit",1,r)},e.handleExiting=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.handleLifecycle("onExiting",1,r)},e.handleExited=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.handleLifecycle("onExited",1,r)},e}r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var s=a.prototype;return s.handleLifecycle=function(t,e,r){var i,a=this.props.children,s=n.default.Children.toArray(a)[e];s.props[t]&&(i=s.props)[t].apply(i,r),this.props[t]&&this.props[t]((0,o.findDOMNode)(this))},s.render=function(){var t=this.props,e=t.children,r=t.in,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,["children","in"]),a=n.default.Children.toArray(e),s=a[0],c=a[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,n.default.createElement(i.default,o,r?n.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(n.default.Component);s.propTypes={};var c=s;e.default=c,t.exports=e.default},"../node_modules/react-transition-group/Transition.js":function(t,e,r){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}(r("../node_modules/prop-types/index.js")),o=s(r("react")),i=s(r("react-dom")),a=r("../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");r("../node_modules/react-transition-group/utils/PropTypes.js");function s(t){return t&&t.__esModule?t:{default:t}}e.UNMOUNTED="unmounted";e.EXITED="exited";e.ENTERING="entering";e.ENTERED="entered";e.EXITING="exiting";var c=function(t){var e,r;function n(e,r){var n;n=t.call(this,e,r)||this;var o,i=r.transitionGroup,a=i&&!i.isMounting?e.enter:e.appear;return n.appearStatus=null,e.in?a?(o="exited",n.appearStatus="entering"):o="entered":o=e.unmountOnExit||e.mountOnEnter?"unmounted":"exited",n.state={status:o},n.nextCallback=null,n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=n.prototype;return a.getChildContext=function(){return{transitionGroup:null}},n.getDerivedStateFromProps=function(t,e){return t.in&&"unmounted"===e.status?{status:"exited"}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(t){var e=null;if(t!==this.props){var r=this.state.status;this.props.in?"entering"!==r&&"entered"!==r&&(e="entering"):"entering"!==r&&"entered"!==r||(e="exiting")}this.updateStatus(!1,e)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var t,e,r,n=this.props.timeout;return t=e=r=n,null!=n&&"number"!=typeof n&&(t=n.exit,e=n.enter,r=void 0!==n.appear?n.appear:e),{exit:t,enter:e,appear:r}},a.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var r=i.default.findDOMNode(this);"entering"===e?this.performEnter(r,t):this.performExit(r)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(t,e){var r=this,n=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,i=this.getTimeouts(),a=o?i.appear:i.enter;e||n?(this.props.onEnter(t,o),this.safeSetState({status:"entering"},(function(){r.props.onEntering(t,o),r.onTransitionEnd(t,a,(function(){r.safeSetState({status:"entered"},(function(){r.props.onEntered(t,o)}))}))}))):this.safeSetState({status:"entered"},(function(){r.props.onEntered(t)}))},a.performExit=function(t){var e=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(t),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(t),e.onTransitionEnd(t,n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(t)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(t)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},a.setNextCallback=function(t){var e=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,e.nextCallback=null,t(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},a.onTransitionEnd=function(t,e,r){this.setNextCallback(r);var n=null==e&&!this.props.addEndListener;t&&!n?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if("unmounted"===t)return null;var e=this.props,r=e.children,n=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(e,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"==typeof r)return r(t,n);var i=o.default.Children.only(r);return o.default.cloneElement(i,n)},n}(o.default.Component);function u(){}c.contextTypes={transitionGroup:n.object},c.childContextTypes={transitionGroup:function(){}},c.propTypes={},c.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:u,onEntering:u,onEntered:u,onExit:u,onExiting:u,onExited:u},c.UNMOUNTED=0,c.EXITED=1,c.ENTERING=2,c.ENTERED=3,c.EXITING=4;var l=(0,a.polyfill)(c);e.default=l},"../node_modules/react-transition-group/TransitionGroup.js":function(t,e,r){"use strict";e.__esModule=!0,e.default=void 0;var n=s(r("../node_modules/prop-types/index.js")),o=s(r("react")),i=r("../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js"),a=r("../node_modules/react-transition-group/utils/ChildMapping.js");function s(t){return t&&t.__esModule?t:{default:t}}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},p=function(t){var e,r;function n(e,r){var n,o=(n=t.call(this,e,r)||this).handleExited.bind(u(u(n)));return n.state={handleExited:o,firstRender:!0},n}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var i=n.prototype;return i.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},i.componentDidMount=function(){this.appeared=!0,this.mounted=!0},i.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,e){var r=e.children,n=e.handleExited;return{children:e.firstRender?(0,a.getInitialChildMapping)(t,n):(0,a.getNextChildMapping)(t,r,n),firstRender:!1}},i.handleExited=function(t,e){var r=(0,a.getChildMapping)(this.props.children);t.key in r||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var r=c({},e.children);return delete r[t.key],{children:r}})))},i.render=function(){var t=this.props,e=t.component,r=t.childFactory,n=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,["component","childFactory"]),i=l(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===e?i:o.default.createElement(e,n,i)},n}(o.default.Component);p.childContextTypes={transitionGroup:n.default.object.isRequired},p.propTypes={},p.defaultProps={component:"div",childFactory:function(t){return t}};var f=(0,i.polyfill)(p);e.default=f,t.exports=e.default},"../node_modules/react-transition-group/index.js":function(t,e,r){"use strict";var n=s(r("../node_modules/react-transition-group/CSSTransition.js")),o=s(r("../node_modules/react-transition-group/ReplaceTransition.js")),i=s(r("../node_modules/react-transition-group/TransitionGroup.js")),a=s(r("../node_modules/react-transition-group/Transition.js"));function s(t){return t&&t.__esModule?t:{default:t}}t.exports={Transition:a.default,TransitionGroup:i.default,ReplaceTransition:o.default,CSSTransition:n.default}},"../node_modules/react-transition-group/utils/ChildMapping.js":function(t,e,r){"use strict";e.__esModule=!0,e.getChildMapping=o,e.mergeChildMappings=i,e.getInitialChildMapping=function(t,e){return o(t.children,(function(r){return(0,n.cloneElement)(r,{onExited:e.bind(null,r),in:!0,appear:a(r,"appear",t),enter:a(r,"enter",t),exit:a(r,"exit",t)})}))},e.getNextChildMapping=function(t,e,r){var s=o(t.children),c=i(e,s);return Object.keys(c).forEach((function(o){var i=c[o];if((0,n.isValidElement)(i)){var u=o in e,l=o in s,p=e[o],f=(0,n.isValidElement)(p)&&!p.props.in;!l||u&&!f?l||!u||f?l&&u&&(0,n.isValidElement)(p)&&(c[o]=(0,n.cloneElement)(i,{onExited:r.bind(null,i),in:p.props.in,exit:a(i,"exit",t),enter:a(i,"enter",t)})):c[o]=(0,n.cloneElement)(i,{in:!1}):c[o]=(0,n.cloneElement)(i,{onExited:r.bind(null,i),in:!0,exit:a(i,"exit",t),enter:a(i,"enter",t)})}})),c};var n=r("react");function o(t,e){var r=Object.create(null);return t&&n.Children.map(t,(function(t){return t})).forEach((function(t){r[t.key]=function(t){return e&&(0,n.isValidElement)(t)?e(t):t}(t)})),r}function i(t,e){function r(r){return r in e?e[r]:t[r]}t=t||{},e=e||{};var n,o=Object.create(null),i=[];for(var a in t)a in e?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var c in e){if(o[c])for(n=0;n<o[c].length;n++){var u=o[c][n];s[o[c][n]]=r(u)}s[c]=r(c)}for(n=0;n<i.length;n++)s[i[n]]=r(i[n]);return s}function a(t,e,r){return null!=r[e]?r[e]:t.props[e]}},"../node_modules/react-transition-group/utils/PropTypes.js":function(t,e,r){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0;var n;(n=r("../node_modules/prop-types/index.js"))&&n.__esModule;e.timeoutsShape=null;e.classNamesShape=null},"../node_modules/setimmediate/setImmediate.js":function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,o,i,a,s,c=1,u={},l=!1,p=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},n=function(t){i.port2.postMessage(t)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,n=function(t){var e=p.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):n=function(t){setTimeout(h,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&h(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var o={callback:t,args:e};return u[c]=o,n(c),c++},f.clearImmediate=d}function d(t){delete u[t]}function h(t){if(l)setTimeout(h,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r("../node_modules/webpack/buildin/global.js"),r("../node_modules/process/browser.js"))},"../node_modules/timers-browserify/main.js":function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r("../node_modules/setimmediate/setImmediate.js"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r("../node_modules/webpack/buildin/global.js"))},"../node_modules/webpack/buildin/global.js":function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},"../node_modules/webpack/buildin/module.js":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"./App/Components/Animations/index.js":function(t,e,r){"use strict";r.d(e,"a",(function(){return lo})),r.d(e,"b",(function(){return ho}));var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r.n(i),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function c(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var u=function(){return(u=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function l(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function p(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var f=function(){return(f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(t,e){return function(r){return Math.max(Math.min(r,e),t)}},h=function(t){return t%1?Number(t.toFixed(5)):t},y=/(-)?(\d[\d\.]*)/g,m=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,_=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i,b={test:function(t){return"number"==typeof t},parse:parseFloat,transform:function(t){return t}},g=f(f({},b),{transform:d(0,1)}),v=f(f({},b),{default:1}),O=function(t){return{test:function(e){return"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length},parse:parseFloat,transform:function(e){return""+e+t}}},w=O("deg"),j=O("%"),S=O("px"),k=O("vh"),P=O("vw"),E=f(f({},j),{parse:function(t){return j.parse(t)/100},transform:function(t){return j.transform(100*t)}}),x=d(0,255),C=function(t){return void 0!==t.red},D=function(t){return void 0!==t.hue},T=function(t){return function(e){if("string"!=typeof e)return e;for(var r,n={},o=(r=e,r.substring(r.indexOf("(")+1,r.lastIndexOf(")"))).split(/,\s*/),i=0;i<4;i++)n[t[i]]=void 0!==o[i]?parseFloat(o[i]):1;return n}},M=f(f({},b),{transform:function(t){return Math.round(x(t))}});function A(t,e){return t.startsWith(e)&&_.test(t)}var R={test:function(t){return"string"==typeof t?A(t,"rgb"):C(t)},parse:T(["red","green","blue","alpha"]),transform:function(t){var e=t.red,r=t.green,n=t.blue,o=t.alpha,i=void 0===o?1:o;return function(t){var e=t.red,r=t.green,n=t.blue,o=t.alpha;return"rgba("+e+", "+r+", "+n+", "+(void 0===o?1:o)+")"}({red:M.transform(e),green:M.transform(r),blue:M.transform(n),alpha:h(g.transform(i))})}},L={test:function(t){return"string"==typeof t?A(t,"hsl"):D(t)},parse:T(["hue","saturation","lightness","alpha"]),transform:function(t){var e=t.hue,r=t.saturation,n=t.lightness,o=t.alpha,i=void 0===o?1:o;return function(t){var e=t.hue,r=t.saturation,n=t.lightness,o=t.alpha;return"hsla("+e+", "+r+", "+n+", "+(void 0===o?1:o)+")"}({hue:Math.round(e),saturation:j.transform(h(r)),lightness:j.transform(h(n)),alpha:h(g.transform(i))})}},N=f(f({},R),{test:function(t){return"string"==typeof t&&A(t,"#")},parse:function(t){var e="",r="",n="";return t.length>4?(e=t.substr(1,2),r=t.substr(3,2),n=t.substr(5,2)):(e=t.substr(1,1),r=t.substr(2,1),n=t.substr(3,1),e+=e,r+=r,n+=n),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:1}}}),I={test:function(t){return"string"==typeof t&&_.test(t)||C(t)||D(t)},parse:function(t){return R.test(t)?R.parse(t):L.test(t)?L.parse(t):N.test(t)?N.parse(t):t},transform:function(t){return C(t)?R.transform(t):D(t)?L.transform(t):t}},z=function(t){return"number"==typeof t?0:t},U={test:function(t){if("string"!=typeof t||!isNaN(t))return!1;var e=0,r=t.match(y),n=t.match(m);return r&&(e+=r.length),n&&(e+=n.length),e>0},parse:function(t){var e=t,r=[],n=e.match(m);n&&(e=e.replace(m,"${c}"),r.push.apply(r,n.map(I.parse)));var o=e.match(y);return o&&r.push.apply(r,o.map(b.parse)),r},createTransformer:function(t){var e=t,r=0,n=t.match(m),o=n?n.length:0;if(n)for(var i=0;i<o;i++)e=e.replace(n[i],"${c}"),r++;var a=e.match(y),s=a?a.length:0;if(a)for(i=0;i<s;i++)e=e.replace(a[i],"${n}"),r++;return function(t){for(var n=e,i=0;i<r;i++)n=n.replace(i<o?"${c}":"${n}",i<o?I.transform(t[i]):h(t[i]));return n}},getAnimatableNone:function(t){var e=U.parse(t);return U.createTransformer(t)(e.map(z))}};var F,Y=0,H="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?function(t){return window.requestAnimationFrame(t)}:function(t){var e=Date.now(),r=Math.max(0,16.7-(e-Y));Y=e+r,setTimeout((function(){return t(Y)}),r)};!function(t){t.Read="read",t.Update="update",t.Render="render",t.PostRender="postRender",t.FixedUpdate="fixedUpdate"}(F||(F={}));var V=1/60*1e3,B=!0,W=!1,G=!1,q={delta:0,timestamp:0},X=[F.Read,F.Update,F.Render,F.PostRender],Z=function(t){return W=t},$=X.reduce((function(t,e){var r,n,o,i,a,s,c,u,l,p=(r=Z,n=[],o=[],i=0,a=!1,s=0,c=new WeakSet,u=new WeakSet,l={cancel:function(t){var e=o.indexOf(t);c.add(t),-1!==e&&o.splice(e,1)},process:function(t){var e,p;if(a=!0,n=(e=[o,n])[0],(o=e[1]).length=0,i=n.length)for(s=0;s<i;s++)(p=n[s])(t),!0!==u.has(p)||c.has(p)||(l.schedule(p),r(!0));a=!1},schedule:function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!1);var s=r&&a,l=s?n:o;c.delete(t),e&&u.add(t),-1===l.indexOf(t)&&(l.push(t),s&&(i=n.length))}});return t.sync[e]=function(t,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!1),W||rt(),p.schedule(t,e,r),t},t.cancelSync[e]=function(t){return p.cancel(t)},t.steps[e]=p,t}),{steps:{},sync:{},cancelSync:{}}),J=$.steps,K=$.sync,Q=$.cancelSync,tt=function(t){return J[t].process(q)},et=function(t){W=!1,q.delta=B?V:Math.max(Math.min(t-q.timestamp,40),1),B||(V=q.delta),q.timestamp=t,G=!0,X.forEach(tt),G=!1,W&&(B=!1,H(et))},rt=function(){W=!0,B=!0,G||H(et)},nt=function(){return q},ot=K,it=function(t){return function(e){return 1-t(1-e)}},at=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},st=it,ct=function(t){return function(e){return e*e*((t+1)*e-t)}},ut=function(t){var e=ct(t);return function(t){return(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))}},lt=function(t){return t},pt=function(t){return function(e){return Math.pow(e,t)}}(2),ft=it(pt),dt=at(pt),ht=function(t){return 1-Math.sin(Math.acos(t))},yt=it(ht),mt=at(yt),_t=ct(1.525),bt=it(_t),gt=at(_t),vt=ut(1.525),Ot="undefined"!=typeof Float32Array,wt=function(t,e){return 1-3*e+3*t},jt=function(t,e){return 3*e-6*t},St=function(t){return 3*t},kt=function(t,e,r){return 3*wt(e,r)*t*t+2*jt(e,r)*t+St(e)},Pt=function(t,e,r){return((wt(e,r)*t+jt(e,r))*t+St(e))*t};function Et(t,e,r,n){var o=Ot?new Float32Array(11):new Array(11),i=function(e){for(var n,i,a,s=0,c=1;10!==c&&o[c]<=e;++c)s+=.1;return--c,n=(e-o[c])/(o[c+1]-o[c]),(a=kt(i=s+.1*n,t,r))>=.001?function(e,n){for(var o=0,i=0;o<8;++o){if(0===(i=kt(n,t,r)))return n;n-=(Pt(n,t,r)-e)/i}return n}(e,i):0===a?i:function(e,n,o){var i,a,s=0;do{(i=Pt(a=n+(o-n)/2,t,r)-e)>0?o=a:n=a}while(Math.abs(i)>1e-7&&++s<10);return a}(e,s,s+.1)};!function(){for(var e=0;e<11;++e)o[e]=Pt(.1*e,t,r)}();return function(o){return t===e&&r===n?o:0===o?0:1===o?1:Pt(i(o),e,n)}}var xt={x:0,y:0,z:0},Ct=function(t){return"number"==typeof t},Dt=function(t){return 180*t/Math.PI},Tt=function(t,e){return void 0===e&&(e=xt),Dt(Math.atan2(e.y-t.y,e.x-t.x))},Mt=function(t,e){var r=!0;return void 0===e&&(e=t,r=!1),function(n){return r?n-t+e:(t=n,r=!0,e)}},At=function(t){return function(e,r,n){return void 0!==n?t(e,r,n):function(n){return t(e,r,n)}}},Rt=At((function(t,e,r){return Math.min(Math.max(r,t),e)})),Lt=function(t){return t.hasOwnProperty("x")&&t.hasOwnProperty("y")},Nt=function(t){return Lt(t)&&t.hasOwnProperty("z")},It=function(t,e){return Math.abs(t-e)},zt=function(t,e){if(void 0===e&&(e=xt),Ct(t)&&Ct(e))return It(t,e);if(Lt(t)&&Lt(e)){var r=It(t.x,e.x),n=It(t.y,e.y),o=Nt(t)&&Nt(e)?It(t.z,e.z):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2)+Math.pow(o,2))}return 0},Ut=function(t,e,r){var n=e-t;return 0===n?1:(r-t)/n},Ft=function(t,e,r){return-r*t+r*e+t},Yt=function(){return(Yt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ht=function(t,e,r){var n=t*t,o=e*e;return Math.sqrt(Math.max(0,r*(o-n)+n))},Vt=[N,R,L],Bt=function(t){return Vt.find((function(e){return e.test(t)}))},Wt=function(t){return"'"+t+"' is not an animatable color. Use the equivalent color code instead."},Gt=function(t,e){var r=Bt(t),n=Bt(e);Wt(t),Wt(e),r.transform,n.transform;var o=r.parse(t),i=n.parse(e),a=Yt({},o),s=r===L?Ft:Ht;return function(t){for(var e in a)"alpha"!==e&&(a[e]=s(o[e],i[e],t));return a.alpha=Ft(o.alpha,i.alpha,t),r.transform(a)}},qt=function(t,e){return function(r){return e(t(r))}},Xt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(qt)};function Zt(t,e){return Ct(t)?function(r){return Ft(t,e,r)}:I.test(t)?Gt(t,e):Qt(t,e)}var $t=function(t,e){var r=t.slice(),n=r.length,o=t.map((function(t,r){return Zt(t,e[r])}));return function(t){for(var e=0;e<n;e++)r[e]=o[e](t);return r}},Jt=function(t,e){var r=Yt({},t,e),n={};for(var o in r)void 0!==t[o]&&void 0!==e[o]&&(n[o]=Zt(t[o],e[o]));return function(t){for(var e in n)r[e]=n[e](t);return r}};function Kt(t){for(var e=U.parse(t),r=e.length,n=0,o=0,i=0,a=0;a<r;a++)n||"number"==typeof e[a]?n++:void 0!==e[a].hue?i++:o++;return{parsed:e,numNumbers:n,numRGB:o,numHSL:i}}var Qt=function(t,e){var r=U.createTransformer(e),n=Kt(t),o=Kt(e);return n.numHSL===o.numHSL&&n.numRGB===o.numRGB&&(n.numNumbers,o.numNumbers),Xt($t(n.parsed,o.parsed),r)},te=function(t,e){return function(r){return Ft(t,e,r)}};function ee(t,e,r){for(var n,o=[],i=r||("number"==typeof(n=t[0])?te:"string"==typeof n?I.test(n)?Gt:Qt:Array.isArray(n)?$t:"object"==typeof n?Jt:void 0),a=t.length-1,s=0;s<a;s++){var c=i(t[s],t[s+1]);if(e){var u=Array.isArray(e)?e[s]:e;c=Xt(u,c)}o.push(c)}return o}var re,ne=function(t,e,r,n){return void 0===n&&(n=0),o=t+r*(e-t)/Math.max(n,r),void 0===i&&(i=2),i=Math.pow(10,i),Math.round(o*i)/i;var o,i},oe=function(t){return t},ie=function(t){return void 0===t&&(t=oe),At((function(e,r,n){var o=r-n,i=-(0-e+1)*(0-t(Math.abs(o)));return o<=0?r+i:r-i}))},ae=ie(),se=ie(Math.sqrt),ce=function(t,e){return Ct(t)?t/(1e3/e):0},ue=function(t,e){return e?t*(1e3/e):0},le=At((function(t,e,r){var n=e-t;return((r-t)%n+n)%n+t})),pe=(Rt(0,1),function(t){var e=t.onRead,r=t.onRender,n=t.uncachedValues,o=void 0===n?new Set:n,i=t.useCache,a=void 0===i||i;return function(t){void 0===t&&(t={});var n=l(t,[]),i={},s=[],c=!1;function u(t,e){t.startsWith("--")&&(n.hasCSSVariable=!0);var r=i[t];i[t]=e,i[t]!==r&&(-1===s.indexOf(t)&&s.push(t),c||(c=!0,ot.render(p.render)))}var p={get:function(t,r){return void 0===r&&(r=!1),!r&&a&&!o.has(t)&&void 0!==i[t]?i[t]:e(t,n)},set:function(t,e){if("string"==typeof t)u(t,e);else for(var r in t)u(r,t[r]);return this},render:function(t){return void 0===t&&(t=!1),(c||!0===t)&&(r(i,n,s),c=!1,s.length=0),this}};return p}}),fe=/([a-z])([A-Z])/g,de=function(t){return t.replace(fe,"$1-$2").toLowerCase()},he=new Map,ye=new Map,me=["Webkit","Moz","O","ms",""],_e=me.length,be="undefined"!=typeof document,ge=function(t,e){return ye.set(t,de(e))},ve=function(t,e){void 0===e&&(e=!1);var r=e?ye:he;return r.has(t)||(be?function(t){re=re||document.createElement("div");for(var e=0;e<_e;e++){var r=me[e],n=""===r,o=n?t:r+t.charAt(0).toUpperCase()+t.slice(1);if(o in re.style||n){if(n&&"clipPath"===t&&ye.has(t))return;he.set(t,o),ge(t,(n?"":"-")+de(o))}}}(t):function(t){ge(t,t)}(t)),r.get(t)||t},Oe=["","X","Y","Z"],we=["translate","scale","rotate","skew","transformPerspective"].reduce((function(t,e){return Oe.reduce((function(t,r){return t.push(e+r),t}),t)}),["x","y","z"]),je=we.reduce((function(t,e){return t[e]=!0,t}),{});function Se(t){return!0===je[t]}function ke(t,e){return we.indexOf(t)-we.indexOf(e)}var Pe=new Set(["originX","originY","originZ"]);function Ee(t){return Pe.has(t)}var xe=u(u({},b),{transform:Math.round}),Ce={color:I,backgroundColor:I,outlineColor:I,fill:I,stroke:I,borderColor:I,borderTopColor:I,borderRightColor:I,borderBottomColor:I,borderLeftColor:I,borderWidth:S,borderTopWidth:S,borderRightWidth:S,borderBottomWidth:S,borderLeftWidth:S,borderRadius:S,radius:S,borderTopLeftRadius:S,borderTopRightRadius:S,borderBottomRightRadius:S,borderBottomLeftRadius:S,width:S,maxWidth:S,height:S,maxHeight:S,size:S,top:S,right:S,bottom:S,left:S,padding:S,paddingTop:S,paddingRight:S,paddingBottom:S,paddingLeft:S,margin:S,marginTop:S,marginRight:S,marginBottom:S,marginLeft:S,rotate:w,rotateX:w,rotateY:w,rotateZ:w,scale:v,scaleX:v,scaleY:v,scaleZ:v,skew:w,skewX:w,skewY:w,distance:S,translateX:S,translateY:S,translateZ:S,x:S,y:S,z:S,perspective:S,opacity:g,originX:E,originY:E,originZ:S,zIndex:xe,fillOpacity:g,strokeOpacity:g,numOctaves:xe},De=function(t){return Ce[t]},Te=function(t,e){return e&&"number"==typeof t?e.transform(t):t},Me=new Set(["scrollLeft","scrollTop"]),Ae=new Set(["scrollLeft","scrollTop","transform"]),Re={x:"translateX",y:"translateY",z:"translateZ"};function Le(t){return"function"==typeof t}function Ne(t,e,r,n,o,i,a,s){void 0===e&&(e=!0),void 0===r&&(r={}),void 0===n&&(n={}),void 0===o&&(o={}),void 0===i&&(i=[]),void 0===a&&(a=!1),void 0===s&&(s=!0);var c=!0,u=!1,l=!1;for(var p in t){var f=t[p],d=De(p),h=Te(f,d);Se(p)?(u=!0,n[p]=h,i.push(p),c&&(d.default&&f!==d.default||!d.default&&0!==f)&&(c=!1)):Ee(p)?(o[p]=h,l=!0):Ae.has(p)&&Le(h)||(r[ve(p,a)]=h)}return(u||"function"==typeof t.transform)&&(r.transform=function(t,e,r,n,o,i){void 0===i&&(i=!0);var a="",s=!1;r.sort(ke);for(var c=r.length,u=0;u<c;u++){var l=r[u];a+=(Re[l]||l)+"("+e[l]+") ",s="z"===l||s}return!s&&o?a+="translateZ(0)":a=a.trim(),Le(t.transform)?a=t.transform(e,n?"":a):i&&n&&(a="none"),a}(t,n,i,c,e,s)),l&&(r.transformOrigin=(o.originX||"50%")+" "+(o.originY||"50%")+" "+(o.originZ||0)),r}function Ie(t){var e=void 0===t?{}:t,r=e.enableHardwareAcceleration,n=void 0===r||r,o=e.isDashCase,i=void 0===o||o,a=e.allowTransformNone,s=void 0===a||a,c={},u={},l={},p=[];return function(t){return p.length=0,Ne(t,n,c,u,l,p,i,s),c}}var ze=pe({onRead:function(t,e){var r=e.element,n=e.preparseOutput,o=De(t);if(Se(t))return o&&o.default||0;if(Me.has(t))return r[t];var i=window.getComputedStyle(r,null).getPropertyValue(ve(t,!0))||0;return n&&o&&o.test(i)&&o.parse?o.parse(i):i},onRender:function(t,e,r){var n=e.element,o=e.buildStyles,i=e.hasCSSVariable;if(Object.assign(n.style,o(t)),i)for(var a=r.length,s=0;s<a;s++){var c=r[s];c.startsWith("--")&&n.style.setProperty(c,t[c])}-1!==r.indexOf("scrollLeft")&&(n.scrollLeft=t.scrollLeft),-1!==r.indexOf("scrollTop")&&(n.scrollTop=t.scrollTop)},uncachedValues:Me});var Ue=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]),Fe=function(t,e){return S.transform(t*e)},Ye={x:0,y:0,width:0,height:0};function He(t,e,r){return"string"==typeof t?t:S.transform(e+r*t)}var Ve={enableHardwareAcceleration:!1,isDashCase:!1};function Be(t,e,r,n,o,i){void 0===e&&(e=Ye),void 0===n&&(n=Ie(Ve)),void 0===o&&(o={style:{}}),void 0===i&&(i=!0);var a=t.attrX,s=t.attrY,c=t.originX,u=t.originY,p=t.pathLength,f=t.pathSpacing,d=void 0===f?1:f,h=t.pathOffset,y=void 0===h?0:h,m=n(l(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]));for(var _ in m){if("transform"===_)o.style.transform=m[_];else o[i&&!Ue.has(_)?de(_):_]=m[_]}return(void 0!==c||void 0!==u||m.transform)&&(o.style.transformOrigin=function(t,e,r){return He(e,t.x,t.width)+" "+He(r,t.y,t.height)}(e,void 0!==c?c:.5,void 0!==u?u:.5)),void 0!==a&&(o.x=a),void 0!==s&&(o.y=s),void 0!==r&&void 0!==p&&(o[i?"stroke-dashoffset":"strokeDashoffset"]=Fe(-y,r),o[i?"stroke-dasharray":"strokeDasharray"]=Fe(p,r)+" "+Fe(d,r)),o}function We(t,e,r){void 0===r&&(r=!0);var n={style:{}},o=Ie(Ve);return function(i){return Be(i,t,e,o,n,r)}}var Ge=pe({onRead:function(t,e){var r=e.element;if(Se(t=Ue.has(t)?t:de(t))){var n=De(t);return n&&n.default||0}return r.getAttribute(t)},onRender:function(t,e){var r=e.element,n=(0,e.buildAttrs)(t);for(var o in n)"style"===o?Object.assign(r.style,n.style):r.setAttribute(o,n[o])}}),qe=pe({useCache:!1,onRead:function(t){return"scrollTop"===t?window.pageYOffset:window.pageXOffset},onRender:function(t){var e=t.scrollTop,r=void 0===e?0:e,n=t.scrollLeft,o=void 0===n?0:n;return window.scrollTo(o,r)}}),Xe=new WeakMap,Ze=function(t,e){var r,n,o,i;return t===window?r=qe(t):!function(t){return t instanceof HTMLElement||"function"==typeof t.click}(t)?function(t){return t instanceof SVGElement||"ownerSVGElement"in t}(t)&&(o=function(t){try{return function(t){return"function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}(t)}catch(t){return{x:0,y:0,width:0,height:0}}}(n=t),i=function(t){return"path"===t.tagName}(n)&&n.getTotalLength?n.getTotalLength():void 0,r=Ge({element:n,buildAttrs:We(o,i)})):r=function(t,e){void 0===e&&(e={});var r=e.enableHardwareAcceleration,n=e.allowTransformNone,o=l(e,["enableHardwareAcceleration","allowTransformNone"]);return ze(u({element:t,buildStyles:Ie({enableHardwareAcceleration:r,allowTransformNone:n}),preparseOutput:!0},o))}(t,e),Xe.set(t,r),r};var $e=function(t,e){return function(t,e){return Xe.has(t)?Xe.get(t):Ze(t,e)}("string"==typeof t?document.querySelector(t):t,e)},Je=function(){function t(t){void 0===t&&(t={}),this.props=t}return t.prototype.applyMiddleware=function(t){return this.create(u(u({},this.props),{middleware:this.props.middleware?p([t],this.props.middleware):[t]}))},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=1===t.length?t[0]:Xt.apply(void 0,t);return this.applyMiddleware((function(t){return function(e){return t(r(e))}}))},t.prototype.while=function(t){return this.applyMiddleware((function(e,r){return function(n){return t(n)?e(n):r()}}))},t.prototype.filter=function(t){return this.applyMiddleware((function(e){return function(r){return t(r)&&e(r)}}))},t}(),Ke=function(){return function(t,e){var r=this,n=t.middleware,o=t.onComplete;this.isActive=!0,this.update=function(t){r.observer.update&&r.updateObserver(t)},this.complete=function(){r.observer.complete&&r.isActive&&r.observer.complete(),r.onComplete&&r.onComplete(),r.isActive=!1},this.error=function(t){r.observer.error&&r.isActive&&r.observer.error(t),r.isActive=!1},this.observer=e,this.updateObserver=function(t){return e.update(t)},this.onComplete=o,e.update&&n&&n.length&&n.forEach((function(t){return r.updateObserver=t(r.updateObserver,r.complete)}))}}(),Qe=function(t,e,r){var n=e.middleware;return new Ke({middleware:n,onComplete:r},"function"==typeof t?{update:t}:t)},tr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.create=function(t){return new e(t)},e.prototype.start=function(t){void 0===t&&(t={});var e=!1,r={stop:function(){}},n=this.props,o=n.init,i=l(n,["init"]),a=o(Qe(t,i,(function(){e=!0,r.stop()})));return r=a?u(u({},r),a):r,t.registerParent&&t.registerParent(r),e&&r.stop(),r},e}(Je),er=function(t){return new tr({init:t})},rr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.subscribers=[],e}return c(e,t),e.prototype.complete=function(){this.subscribers.forEach((function(t){return t.complete()}))},e.prototype.error=function(t){this.subscribers.forEach((function(e){return e.error(t)}))},e.prototype.update=function(t){for(var e=0;e<this.subscribers.length;e++)this.subscribers[e].update(t)},e.prototype.subscribe=function(t){var e=this,r=Qe(t,this.props);return this.subscribers.push(r),{unsubscribe:function(){var t=e.subscribers.indexOf(r);-1!==t&&e.subscribers.splice(t,1)}}},e.prototype.stop=function(){this.parent&&this.parent.stop()},e.prototype.registerParent=function(t){this.stop(),this.parent=t},e}(Je),nr=function(t,e){var r=1/(t-1),n=1/(2*(t-1)),o=Math.min(e,1)/n;return Math.floor((o+1)/2)*r},or=function(t){function e(e){var r,n,o=t.call(this,e)||this;return o.scheduleVelocityCheck=function(){return ot.postRender(o.velocityCheck)},o.velocityCheck=function(t){t.timestamp!==o.lastUpdated&&(o.prev=o.current)},o.prev=o.current=e.value||0,r=o.current,"string"===(n=typeof r)||"number"===n?(o.updateCurrent=function(t){return o.current=t},o.getVelocityOfCurrent=function(){return o.getSingleVelocity(o.current,o.prev)}):!function(t){return Array.isArray(t)}(o.current)?(o.updateCurrent=function(t){for(var e in o.current={},t)t.hasOwnProperty(e)&&(o.current[e]=t[e])},o.getVelocityOfCurrent=function(){return o.getMapVelocity()}):(o.updateCurrent=function(t){return o.current=p(t)},o.getVelocityOfCurrent=function(){return o.getListVelocity()}),e.initialSubscription&&o.subscribe(e.initialSubscription),o}return c(e,t),e.prototype.create=function(t){return new e(t)},e.prototype.get=function(){return this.current},e.prototype.getVelocity=function(){return this.getVelocityOfCurrent()},e.prototype.update=function(e){t.prototype.update.call(this,e),this.prev=this.current,this.updateCurrent(e);var r=nt(),n=r.delta,o=r.timestamp;this.timeDelta=n,this.lastUpdated=o,ot.postRender(this.scheduleVelocityCheck)},e.prototype.subscribe=function(e){var r=t.prototype.subscribe.call(this,e);return this.subscribers[this.subscribers.length-1].update(this.current),r},e.prototype.getSingleVelocity=function(t,e){return"number"==typeof t&&"number"==typeof e?ue(t-e,this.timeDelta):ue(parseFloat(t)-parseFloat(e),this.timeDelta)||0},e.prototype.getListVelocity=function(){var t=this;return this.current.map((function(e,r){return t.getSingleVelocity(e,t.prev[r])}))},e.prototype.getMapVelocity=function(){var t={};for(var e in this.current)this.current.hasOwnProperty(e)&&(t[e]=this.getSingleVelocity(this.current[e],this.prev[e]));return t},e}(rr),ir=function(t,e){return new or({value:t,initialSubscription:e})},ar=function(t){var e=t.getCount,r=t.getFirst,n=t.getOutput,o=t.mapApi,i=t.setProp,a=t.startActions;return function(t){return er((function(s){var c=s.update,u=s.complete,l=s.error,p=e(t),f=n(),d=function(){return c(f)},h=0,y=a(t,(function(t,e){var r=!1;return t.start({complete:function(){r||(r=!0,++h===p&&ot.update(u))},error:l,update:function(t){i(f,e,t),ot.update(d,!1,!0)}})}));return Object.keys(r(y)).reduce((function(t,e){return t[e]=o(y,e),t}),{})}))}},sr=ar({getOutput:function(){return{}},getCount:function(t){return Object.keys(t).length},getFirst:function(t){return t[Object.keys(t)[0]]},mapApi:function(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Object.keys(t).reduce((function(n,o){var i;return t[o][e]&&(r[0]&&void 0!==r[0][o]?n[o]=t[o][e](r[0][o]):n[o]=(i=t[o])[e].apply(i,r)),n}),{})}},setProp:function(t,e,r){return t[e]=r},startActions:function(t,e){return Object.keys(t).reduce((function(r,n){return r[n]=e(t[n],n),r}),{})}}),cr=ar({getOutput:function(){return[]},getCount:function(t){return t.length},getFirst:function(t){return t[0]},mapApi:function(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.map((function(t,n){if(t[e])return Array.isArray(r[0])?t[e](r[0][n]):t[e].apply(t,r)}))}},setProp:function(t,e,r){return t[e]=r},startActions:function(t,e){return t.map((function(t,r){return e(t,r)}))}}),ur=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return cr(t)},lr=[S,j,w,k,P],pr=function(t){return lr.find((function(e){return e.test(t)}))},fr=function(t,e){return t(e)},dr=function(t,e,r){var n=r[0],o=e[n].map((function(n,o){var i=r.reduce(function(t){return function(e,r){return e[r]=e[r][t],e}}(o),u({},e));return vr(n)(t,i)}));return ur.apply(void 0,o)},hr=function(t,e,r){var n=r[0],o=Object.keys(e[n]).reduce((function(o,i){var a=r.reduce(function(t){return function(e,r){return e[r]=e[r][t],e}}(i),u({},e));return o[i]=vr(e[n][i])(t,a),o}),{});return sr(o)},yr=function(t,e){var r=e.from,n=e.to,o=l(e,["from","to"]),i=pr(r)||pr(n),a=i.transform,s=i.parse;return t(u(u({},o),{from:"string"==typeof r?s(r):r,to:"string"==typeof n?s(n):n})).pipe(a)},mr=function(t){return function(e,r){var n=r.from,o=r.to,i=l(r,["from","to"]);return e(u(u({},i),{from:0,to:1})).pipe(t(n,o))}},_r=mr(Gt),br=mr(Qt),gr=function(t,e){var r=function(t){var e=Object.keys(t),r=function(e,r){return void 0!==e&&!t[r](e)};return{getVectorKeys:function(t){return e.reduce((function(e,n){return r(t[n],n)&&e.push(n),e}),[])},testVectorProps:function(t){return t&&e.some((function(e){return r(t[e],e)}))}}}(e),n=r.testVectorProps,o=r.getVectorKeys;return function(e){if(!n(e))return t(e);var r=o(e),i=e[r[0]];return vr(i)(t,e,r)}},vr=function(t){return"number"==typeof t?fr:Array.isArray(t)?dr:function(t){return Boolean(pr(t))}(t)?yr:I.test(t)?_r:U.test(t)?br:"object"==typeof t?hr:fr},Or=function(t){return void 0===t&&(t={}),er((function(e){var r=e.complete,n=e.update,o=t.velocity,i=void 0===o?0:o,a=t.from,s=void 0===a?0:a,c=t.power,u=void 0===c?.8:c,l=t.timeConstant,p=void 0===l?350:l,f=t.restDelta,d=void 0===f?.5:f,h=t.modifyTarget,y=0,m=u*i,_=s+m,b=void 0===h?_:h(_);b!==_&&(m=b-s);var g=ot.update((function(t){var e=t.delta;y+=e;var o=-m*Math.exp(-y/p),i=o>d||o<-d;n(i?b+o:b),i||(Q.update(g),r())}),!0);return{stop:function(){return Q.update(g)}}}))},wr=gr(Or,{from:b.test,modifyTarget:function(t){return"function"==typeof t},velocity:b.test}),jr=function(t){return void 0===t&&(t={}),er((function(e){var r=e.update,n=e.complete,o=t.velocity,i=void 0===o?0:o,a=t.from,s=void 0===a?0:a,c=t.to,u=void 0===c?0:c,l=t.stiffness,p=void 0===l?100:l,f=t.damping,d=void 0===f?10:f,h=t.mass,y=void 0===h?1:h,m=t.restSpeed,_=void 0===m?.01:m,b=t.restDelta,g=void 0===b?.01:b,v=i?-i/1e3:0,O=0,w=u-s,j=s,S=j,k=ot.update((function(t){var e=t.delta;O+=e;var o=d/(2*Math.sqrt(p*y)),a=Math.sqrt(p/y)/1e3;if(S=j,o<1){var s=Math.exp(-o*a*O),c=a*Math.sqrt(1-o*o);j=u-s*((v+o*a*w)/c*Math.sin(c*O)+w*Math.cos(c*O))}else{s=Math.exp(-a*O);j=u-s*(w+(v+a*w)*O)}i=ue(j-S,e);var l=Math.abs(i)<=_,f=Math.abs(u-j)<=g;l&&f?(r(j=u),Q.update(k),n()):r(j)}),!0);return{stop:function(){return Q.update(k)}}}))},Sr=gr(jr,{from:b.test,to:b.test,stiffness:b.test,damping:b.test,mass:b.test,velocity:b.test}),kr=gr((function(t){var e=t.from,r=void 0===e?0:e,n=t.to,o=void 0===n?1:n,i=t.ease,a=void 0===i?lt:i,s=t.reverseEase;return void 0!==s&&s&&(a=st(a)),er((function(t){var e=t.update;return{seek:function(t){return e(t)}}})).pipe(a,(function(t){return Ft(r,o,t)}))}),{ease:function(t){return"function"==typeof t},from:b.test,to:b.test}),Pr=Rt(0,1),Er=function(t){return void 0===t&&(t={}),er((function(e){var r,n=e.update,o=e.complete,i=t.duration,a=void 0===i?300:i,s=t.ease,c=void 0===s?ft:s,u=t.flip,l=void 0===u?0:u,p=t.loop,f=void 0===p?0:p,d=t.yoyo,h=void 0===d?0:d,y=t.repeatDelay,m=void 0===y?0:y,_=t.from,b=void 0===_?0:_,g=t.to,v=void 0===g?1:g,O=t.elapsed,w=void 0===O?0:O,j=t.flipCount,S=void 0===j?0:j,k=t.yoyoCount,P=void 0===k?0:k,E=t.loopCount,x=void 0===E?0:E,C=kr({from:b,to:v,ease:c}).start(n),D=0,T=!1,M=function(t){var e;void 0===t&&(t=!1),C=kr({from:b=(e=[v,b])[0],to:v=e[1],ease:c,reverseEase:t}).start(n)},A=function(){D=Pr(Ut(0,a,w)),C.seek(D)},R=function(){T=!0,r=ot.update((function(t){var e,n=t.delta;w+=n,A(),!(e=T&&w>a+m)||(!e||f||l||h)&&(w=a-(w-m),f&&x<f?(x++,1):l&&S<l?(S++,M(),1):h&&P<h&&(P++,M(P%2!=0),1))||(Q.update(r),o&&ot.update(o,!1,!0))}),!0)},L=function(){T=!1,r&&Q.update(r)};return R(),{isActive:function(){return T},getElapsed:function(){return Rt(0,a,w)},getProgress:function(){return D},stop:function(){L()},pause:function(){return L(),this},resume:function(){return T||R(),this},seek:function(t){return w=Ft(0,a,t),ot.update(A,!1,!0),this},reverse:function(){return M(),this}}}))},xr=Rt(0,1),Cr=function(t){var e=t.easings,r=t.ease,n=void 0===r?lt:r,o=t.times,i=t.values,a=l(t,["easings","ease","times","values"]);e=Array.isArray(e)?e:function(t,e){return t.map((function(){return e||ft})).splice(0,t.length-1)}(i,e),o=o||function(t){var e=t.length;return t.map((function(t,r){return 0!==r?r/(e-1):0}))}(i);var s=e.map((function(t,e){return kr({from:i[e],to:i[e+1],ease:t})}));return Er(u(u({},a),{ease:n})).applyMiddleware((function(t){return function(t,e,r){var n=t.length,o=n-1,i=o-1,a=e.map((function(t){return t.start(r)}));return function(e){e<=t[0]&&a[0].seek(0),e>=t[o]&&a[i].seek(1);for(var r=1;r<n&&!(t[r]>e||r===o);r++);var s=Ut(t[r-1],t[r],e);a[r-1].seek(xr(s))}}(o,s,t)}))},Dr=gr((function(t){return void 0===t&&(t={}),er((function(e){var r=e.complete,n=e.update,o=t.acceleration,i=void 0===o?0:o,a=t.friction,s=void 0===a?0:a,c=t.velocity,u=void 0===c?0:c,l=t.springStrength,p=t.to,f=t.restSpeed,d=void 0===f?.001:f,h=t.from,y=void 0===h?0:h,m=ot.update((function(t){var e=t.delta,o=Math.max(e,16);(i&&(u+=ce(i,o)),s&&(u*=Math.pow(1-s,o/100)),void 0!==l&&void 0!==p)&&(u+=(p-y)*ce(l,o));y+=ce(u,o),n(y),!1!==d&&(!u||Math.abs(u)<=d)&&(Q.update(m),r())}),!0);return{set:function(t){return y=t,this},setAcceleration:function(t){return i=t,this},setFriction:function(t){return s=t,this},setSpringStrength:function(t){return l=t,this},setSpringTarget:function(t){return p=t,this},setVelocity:function(t){return u=t,this},stop:function(){return Q.update(m)}}}))}),{acceleration:b.test,friction:b.test,velocity:b.test,from:b.test,to:b.test,springStrength:b.test}),Tr=function(t,e,r){return er((function(n){var o=n.update,i=e.split(" ").map((function(e){return t.addEventListener(e,o,r),e}));return{stop:function(){return i.forEach((function(e){return t.removeEventListener(e,o,r)}))}}}))},Mr=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},Ar=function(t,e){return void 0===e&&(e={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),e.clientX=e.x=t.clientX,e.clientY=e.y=t.clientY,e.pageX=t.pageX,e.pageY=t.pageY,e},Rr=[Mr()],Lr=!1;if("undefined"!=typeof document){Tr(document,"touchstart touchmove",{passive:!0,capture:!0}).start((function(t){var e=t.touches;Lr=!0;var r=e.length;Rr.length=0;for(var n=0;n<r;n++){var o=e[n];Rr.push(Ar(o))}}))}var Nr=Mr(),Ir=!1;if("undefined"!=typeof document){Tr(document,"mousedown mousemove",!0).start((function(t){Ir=!0,Ar(t,Nr)}))}var zr,Ur=function(t){return t[0]},Fr=function(t){return void 0===t&&(t={}),Lr?(e=t,r=void 0===e?{}:e,n=r.preventDefault,o=void 0===n||n,i=r.scale,a=void 0===i?1:i,s=r.rotate,c=void 0===s?0:s,er((function(t){var e=t.update,r={touches:Rr,scale:a,rotate:c},n=0,i=0,s=Rr.length>1;if(s){var u=Rr[0],l=Rr[1];n=zt(u,l),i=Tt(u,l)}var p=function(){if(s){var t=Rr[0],o=Rr[1],u=zt(t,o),l=Tt(t,o);r.scale=a*(u/n),r.rotate=c+(l-i)}e(r)},f=Tr(document,"touchmove",{passive:!o}).start((function(t){(o||t.touches.length>1)&&t.preventDefault(),ot.update(p)}));return Lr&&ot.update(p),{stop:function(){Q.update(p),f.stop()}}}))).pipe((function(t){return t.touches}),Ur):function(t){var e=(void 0===t?{}:t).preventDefault,r=void 0===e||e;return er((function(t){var e=t.update,n=function(){return e(Nr)},o=Tr(document,"mousemove").start((function(t){r&&t.preventDefault(),ot.update(n)}));return Ir&&ot.update(n),{stop:function(){Q.update(n),o.stop()}}}))}(t);var e,r,n,o,i,a,s,c},Yr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return er((function(e){var r,n=e.update,o=e.complete,i=0,a=function(){r=t[i].start({complete:function(){++i>=t.length?o():a()},update:n})};return a(),{stop:function(){return r&&r.stop()}}}))},Hr=function(t){return er((function(e){var r=e.complete,n=setTimeout(r,t);return{stop:function(){return clearTimeout(n)}}}))},Vr=Object.freeze({__proto__:null,applyOffset:Mt,clamp:Rt,conditional:function(t,e){return function(r){return t(r)?e(r):r}},interpolate:function(t,e,r){var n=void 0===r?{}:r,o=n.clamp,i=void 0===o||o,a=n.ease,s=n.mixer,c=t.length;e.length,!a||!Array.isArray(a)||a.length,t[0]>t[c-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());var u=ee(e,a,s),l=2===c?function(t,e){var r=t[0],n=t[1],o=e[0];return function(t){return o(Ut(r,n,t))}}(t,u):function(t,e){var r=t.length,n=r-1;return function(o){var i=0,a=!1;if(o<=t[0]?a=!0:o>=t[n]&&(i=n-1,a=!0),!a){for(var s=1;s<r&&!(t[s]>o||s===n);s++);i=s-1}var c=Ut(t[i],t[i+1],o);return e[i](c)}}(t,u);return i?Xt(Rt(t[0],t[c-1]),l):l},blendArray:$t,blendColor:Gt,pipe:Xt,smooth:function(t){void 0===t&&(t=50);var e=0,r=0;return function(n){var o=nt().timestamp,i=o!==r?o-r:0,a=i?ne(e,n,i,t):e;return r=o,e=a,a}},snap:function(t){if("number"==typeof t)return function(e){return Math.round(e/t)*t};var e=0,r=t.length;return function(n){var o=Math.abs(t[0]-n);for(e=1;e<r;e++){var i=t[e],a=Math.abs(i-n);if(0===a)return i;if(a>o)return t[e-1];if(e===r-1)return i;o=a}}},generateStaticSpring:ie,nonlinearSpring:se,linearSpring:ae,wrap:le,appendUnit:function(t){return function(e){return""+e+t}},steps:function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),function(n){var o=Ut(e,r,n);return Ft(e,r,nr(t,o))}},transformMap:function(t){return function(e){var r=u({},e);for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];r[n]=o(e[n])}return r}}}),Br=function(t){t.transition,t.flip,t.delay,t.delayChildren,t.staggerChildren,t.staggerDirection,t.afterChildren,t.beforeChildren,t.preTransition,t.applyAtStart,t.applyAtEnd;return l(t,["transition","flip","delay","delayChildren","staggerChildren","staggerDirection","afterChildren","beforeChildren","preTransition","applyAtStart","applyAtEnd"])},Wr=function(t,e){return"function"==typeof t?t(e):t},Gr=function(t,e,r,n){return t&&void 0!==t[e]?Wr(t[e],n):r},qr=function(t,e,r,n,o,i){var a;if("function"==typeof t){var s=t(n);a=qr(s,e,r,n,o,i)}else if(t[e]||t.default){var c=t[e]||t.default;a="function"==typeof c?c(n):c}else a=t;return!1===a?i(r,n):o(r,a,n)},Xr=function(t,e,r,n,o){return Object.keys(t).forEach((function(i){var a=Wr(t[i],r);e.has(i)?n(e.get(i),a):o(i,a,r)}))},Zr=function(t){var e=t.state,r=t.poses,n=t.startAction,o=t.stopAction,i=t.getInstantTransition,a=t.addActionDelay,s=t.getTransitionProps,c=t.resolveTarget,l=t.transformPose,f=t.posePriority,d=t.convertTransitionDefinition,h=t.setValue,y=t.setValueNative,m=t.forceRender;return function(t,_,b){void 0===_&&(_={}),void 0===b&&(b=!0);var g=e.children,v=e.values,O=e.props,w=e.activeActions,j=e.activePoses,S=_.delay,k=void 0===S?0:S,P=g.size,E=u(u({},O),_),x=r[t],C=function(){return P&&b?function(t,e,r,n){var o=[],i=Gr(r,"delayChildren",0,n),a=Gr(r,"staggerChildren",0,n),s=Gr(r,"staggerDirection",1,n),c=(t.size-1)*a,u=1===s?function(t){return t*a}:function(t){return c-t*a};return Array.from(t).forEach((function(t,r){o.push(t.set(e,{delay:i+u(r)}))})),o}(g,t,x,E):[]},D=function(){if(!x)return[];var r=x.applyAtStart;r&&(Xr(r,v,E,h,y),m&&m(E)),l&&(x=l(x,t,e));var p=x.preTransition,_=x.transition,b=x.applyAtEnd;p&&p(E);var g=Object.keys(Br(x)).map((function(e){var r=(j.has(e)||j.set(e,[]),j.get(e)),l=r.indexOf(t);-1!==l&&r.splice(l,1);var p=f?f.indexOf(t):0,h=p<=0?0:function(t,e,r){for(var n=0,o=r-1;o>=0;o--){var i=t.indexOf(e[o]);if(-1!==i){n=i+1;break}}return n}(r,f,p);return r.splice(h,0,t),0===h?new Promise((function(t){var r=v.get(e),l=u(u({},E),{key:e,value:r}),p=c(r,Wr(x[e],l));w.has(e)&&o(w.get(e));var f=u(u({to:p},l),s(r,p,l)),h=qr(_,e,r,f,d,i),y=k||Wr(x.delay,l);y&&(h=a(y,h)),w.set(e,n(r,h,t))})):Promise.resolve()}));return b?[Promise.all(g).then((function(){Xr(b,v,E,h,y)}))]:g};if(x&&P){if(Wr(x.beforeChildren,E))return Promise.all(D()).then((function(){return Promise.all(C())}));if(Wr(x.afterChildren,E))return Promise.all(C()).then((function(){return Promise.all(D())}))}return Promise.all(p(D(),C()))}},$r=function(t){return function(t){return t.includes("scale")}(t)?1:0},Jr=function(t){var e=Array.isArray(t)?t:[t];return e.push("init"),e},Kr=function(t,e,r,n,o,i){void 0===o&&(o=$r);var a=Jr(r).filter(Boolean).find((function(r){var n=t[r];return n&&(void 0!==n[e]||n.applyAtStart&&void 0!==n.applyAtStart[e]||n.applyAtEnd&&void 0!==n.applyAtEnd[e])}));return i.set(e,[a||"init"]),a?function(t,e,r){var n=t.applyAtEnd&&void 0!==t.applyAtEnd[e]?t.applyAtEnd[e]:void 0!==t[e]?t[e]:t.applyAtStart&&void 0!==t.applyAtStart[e]?t.applyAtStart[e]:0;return Wr(n,r)}(t[a],e,n):o(e,n)},Qr=function(t,e){return function(r){var n=e.poses[r];Object.keys(Br(n)).forEach(function(t,e){var r=e.userSetValues,n=e.createValue,o=e.convertValue,i=e.readValueFromSource,a=e.initialPose,s=e.poses,c=e.activePoses,u=e.props;return function(e){if(!t.has(e)){var l;if(r&&void 0!==r[e])l=o(r[e],e,u);else{var p=Kr(s,e,a,u,i,c);l=n(p,e,u)}t.set(e,l)}}}(t,e))}},tn=function(t){var e=t.poses,r=t.passive,n=new Map;return Object.keys(e).forEach(Qr(n,t)),function(t){var e=t.setValueNative,r=t.initialPose,n=t.props,o=t.poses,i=new Set,a=function(t,r){if(t[r])for(var o in t[r])i.has(o)||(i.add(o),e(o,Wr(t[r][o],n),n))};Jr(r).forEach((function(t){var e=o[t];e&&(a(e,"applyAtEnd"),a(e,"applyAtStart"))}))}(t),r&&Object.keys(r).forEach(function(t,e){var r=e.passive,n=e.ancestorValues,o=e.createValue,i=e.readValue,a=e.props;return function(e){var s=r[e],c=s[0],u=s[1],l=s[2],p=l&&n.length?function(t,e,r){if(!0===e)return r[0]&&r[0].values.get(t);var n=r.find((function(t){return t.label===e}));return n&&n.values.get(t)}(c,l,n):!!t.has(c)&&t.get(c);if(p){var f=o(i(p),e,a,{passiveParentKey:c,passiveParent:p,passiveProps:u});t.set(e,f)}}}(n,t)),n},en=function(t,e){return Object.keys(t).forEach((function(r){var n=t[r];t[r]=void 0!==n.transition?n:function(t,e,r){return u(u({},t),{transition:r.has(e)?r.get(e):r.get("default")})}(n,r,e)})),t},rn=function(t){var e=t.getDefaultProps,r=t.defaultTransitions,n=t.bindOnChange,o=t.startAction,i=t.stopAction,a=t.readValue,s=t.readValueFromSource,c=t.resolveTarget,f=t.setValue,d=t.setValueNative,h=t.createValue,y=t.convertValue,m=t.getInstantTransition,_=t.getTransitionProps,b=t.addActionDelay,g=t.selectValueToRead,v=t.convertTransitionDefinition,O=t.transformPose,w=t.posePriority,j=t.forceRender,S=t.extendAPI;return function(t){var k=t.parentValues,P=t.ancestorValues,E=void 0===P?[]:P;k&&E.unshift({values:k});var x=new Map,C=new Map,D=new Set,T=en(function(t){t.label,t.props,t.values,t.parentValues,t.ancestorValues,t.onChange,t.passive,t.initialPose;return l(t,["label","props","values","parentValues","ancestorValues","onChange","passive","initialPose"])}(t),r),M=t.props,A=void 0===M?{}:M;e&&(A=u(u({},e(t)),A));var R=t.passive,L=t.values,N=t.initialPose,I=void 0===N?"init":N,z=tn({poses:T,passive:R,ancestorValues:E,readValue:a,setValueNative:d,createValue:h,convertValue:y,readValueFromSource:s,userSetValues:L,initialPose:I,activePoses:C,props:A}),U={activeActions:x,activePoses:C,children:D,props:A,values:z},F=t.onChange;F&&Object.keys(F).forEach(n(z,F));var Y=Zr({state:U,poses:T,getInstantTransition:m,getTransitionProps:_,convertTransitionDefinition:v,setValue:f,setValueNative:d,startAction:o,stopAction:i,resolveTarget:c,addActionDelay:b,transformPose:O,posePriority:w,forceRender:j});return S({set:Y,unset:function(t,e){var r=[];C.forEach((function(e){var n=e.indexOf(t);if(-1!==n){var o=e[0];e.splice(n,1);var i=e[0];i!==o&&-1===r.indexOf(i)&&r.push(i)}}));var n,o=r.sort((n=w,function(t,e){var r=n.indexOf(t),o=n.indexOf(e);return-1===r&&-1!==o?-1:-1!==r&&-1===o?1:r-o})).map((function(t){return Y(t,e,!1)}));return D.forEach((function(e){return o.push(e.unset(t))})),Promise.all(o)},get:function(t){return t?g(z.get(t)):function(t,e){var r={};return t.forEach((function(t,n){return r[n]=e(t)})),r}(z,g)},has:function(t){return!!T[t]},setProps:function(t){return U.props=u(u({},U.props),t)},_addChild:function(e,r){var n=r(u(u({initialPose:I},e),{ancestorValues:p([{label:t.label,values:z}],E)}));return D.add(n),n},removeChild:function(t){return D.delete(t)},clearChildren:function(){D.forEach((function(t){return t.destroy()})),D.clear()},destroy:function(){x.forEach(i),D.forEach((function(t){return t.destroy()}))}},U,t)}},nn=function(){return(nn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function on(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}!function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"}(zr||(zr={}));var an=function(t,e){return"function"==typeof t?t(e):t},sn=Vr.interpolate,cn=function(t){return function(e){var r;return function(t){void 0===t&&(t={});var e=t.x,r=t.y,n=l(t,["x","y"]);if(void 0!==e||void 0!==r){var o=Mt(e||0),i=Mt(r||0),a={x:0,y:0};return Fr(n).pipe((function(t){return a.x=o(t.x),a.y=i(t.y),a}))}return Fr(n)}((r={},r[t]="string"==typeof e?parseFloat(e):e,r)).pipe((function(e){return e[t]}))}},un=cn("x"),ln=cn("y"),pn=function(t,e,r,n){return function(o){var i=o.from,a=o.type,s=o.dimensions,c=o.dragBounds,u=t(s.measurementAsPixels(n,i,a)),l=[];if(c){var p=an(c,o);void 0!==p[e]&&l.push((function(t){return Math.max(t,s.measurementAsPixels(n,p[e],a))})),void 0!==p[r]&&l.push((function(t){return Math.min(t,s.measurementAsPixels(n,p[r],a))}))}return a===j&&l.push(sn([0,s.get(n)],[0,100],{clamp:!1}),(function(t){return t+"%"})),l.length?u.pipe.apply(u,l):u}},fn=function(t){return er((function(e){var r=e.update,n=e.complete;r(t),n()}))},dn=function(t){var e=t.from,r=t.velocity,n=t.to;return Sr({from:e,to:n,velocity:r,stiffness:500,damping:25,restDelta:.5,restSpeed:10})},hn=function(t){var e=t.from,r=t.velocity,n=t.to;return Sr({from:e,to:n,velocity:r,stiffness:700,damping:0===n?100:35})},yn={x:dn,y:dn,z:dn,rotate:dn,rotateX:dn,rotateY:dn,rotateZ:dn,scaleX:hn,scaleY:hn,scale:hn,opacity:function(t){var e=t.from,r=t.to;return Er({from:e,to:r,ease:lt})},default:Er},mn=nn(nn({},yn),{x:pn(un,"left","right",zr.width),y:pn(ln,"top","bottom",zr.height)}),_n=function(t){var e=t.from;return fn(e)},bn=new Map([["default",yn],["drag",mn],["dragEnd",nn(nn({},yn),{x:_n,y:_n})]]),gn={tween:Er,spring:Sr,decay:wr,keyframes:Cr,physics:Dr},vn={linear:lt,easeIn:pt,easeOut:ft,easeInOut:dt,circIn:ht,circOut:yt,circInOut:mt,backIn:_t,backOut:bt,backInOut:gt,anticipate:vt},On=[b,w,j,S,P,k,{test:function(t){return"auto"===t},parse:function(t){return t}}],wn=function(t){return On.find(function(t){return function(e){return e.test(t)}}(t))},jn=function(t,e){return void 0===t&&(t=0),Yr(Hr(t),e)},Sn=function(t){var e=t.transformPose,r=t.addListenerToValue,n=t.extendAPI,o=t.readValueFromSource,i=t.posePriority,a=t.setValueNative;return rn({bindOnChange:function(t,e){return function(r){t.has(r)&&t.get(r).raw.subscribe(e[r])}},readValue:function(t){return t.raw.get()},setValue:function(t,e){return t.raw.update(e)},createValue:function(t,e,n,o){var i=n.elementStyler,a=void 0===o?{}:o,s=a.passiveParent,c=a.passiveProps,u=s?function(t,e,r){var n=ir(r(t));return e.raw.subscribe((function(t){return n.update(r(t))})),{raw:n}}(t,s,c):function(t){var e=wn(t);return{raw:ir(t),type:e}}(t);return u.raw.subscribe(r(e,i)),u},convertValue:function(t,e,n){var o=n.elementStyler;return t.subscribe(r(e,o)),{raw:t,type:wn(t.get())}},getTransitionProps:function(t,e){var r=t.raw,n=t.type;return{from:r.get(),velocity:r.getVelocity(),to:e,type:n}},resolveTarget:function(t,e){return e},selectValueToRead:function(t){return t.raw},startAction:function(t,e,r){var n=t.raw,o={update:function(t){return n.update(t)},complete:r};return e.start(o)},stopAction:function(t){return t.stop()},getInstantTransition:function(t,e){var r=e.to;return fn(r)},convertTransitionDefinition:function(t,e,r){if(function(t){return void 0!==t.start}(e))return e;var n=e.delay,o=e.min,i=e.max,a=e.round,s=function(t,e,r){var n,o=r.from,i=r.to,a=r.velocity,s=e.type,c=void 0===s?"tween":s,u=e.ease,l=on(e,["type","ease"]);if(gn[c],"tween"===c&&"function"!=typeof u)if("string"==typeof u)n=vn[u];else if(Array.isArray(u)&&"number"==typeof u[0]){u.length,n=Et(u[0],u[1],u[2],u[3])}n=n||u;var p="keyframes"!==c?{from:o,to:i,velocity:a,ease:n}:{ease:n};return gn[c](nn(nn({},p),l))}(0,on(e,["delay","min","max","round"]),r),c=[];return n&&(s=jn(n,s)),void 0!==o&&c.push((function(t){return Math.max(t,o)})),void 0!==i&&c.push((function(t){return Math.min(t,i)})),a&&c.push(Math.round),c.length?s.pipe.apply(s,c):s},setValueNative:a,addActionDelay:jn,defaultTransitions:bn,transformPose:e,readValueFromSource:o,posePriority:i,extendAPI:n})},kn=function(t){var e=!1,r={width:0,height:0,top:0,left:0,bottom:0,right:0};return{get:function(t){return t?r[t]:r},measure:function(){return r=t.getBoundingClientRect(),e=!0,r},measurementAsPixels:function(t,e,n){return n===j?("string"==typeof e?parseFloat(e):e)/100*r[t]:e},has:function(){return e}}},Pn=function(t){var e=t.startEvents,r=t.endEvents,n=t.startPose,o=t.endPose,i=t.startCallback,a=t.endCallback,s=t.useDocumentToEnd,c=t.preventScroll;return function(t,u,l,p){var f=n+"Start",d=n+"End",h=n+"Move";if(c){var y=Tr(t,"touchmove",{passive:!1}).start((function(t){t.preventDefault()}));u.set(h,y)}var m=Tr(t,e).start((function(e){l.unset(o),l.set(n),i&&p[i]&&p[i](e);var c=Tr(s?document.documentElement:t,r+(s?" mouseenter":"")).start((function(t){s&&"mouseenter"===t.type&&1===t.buttons||(u.get(d).stop(),l.unset(n),l.set(o),a&&p[a]&&p[a](t))}));u.set(d,c)}));u.set(f,m)}},En={draggable:Pn({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"drag",endPose:"dragEnd",startCallback:"onDragStart",endCallback:"onDragEnd",useDocumentToEnd:!0,preventScroll:!0}),hoverable:Pn({startEvents:"mouseenter",endEvents:"mouseleave",startPose:"hover",endPose:"hoverEnd"}),focusable:Pn({startEvents:"focus",endEvents:"blur",startPose:"focus",endPose:"blur"}),pressable:Pn({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"press",endPose:"pressEnd",startCallback:"onPressStart",endCallback:"onPressEnd",useDocumentToEnd:!0})},xn=Object.keys(En),Cn=function(t){var e=t.top,r=t.right,n=t.bottom;return{x:(t.left+r)/2,y:(e+n)/2}},Dn=["width","height","top","left","bottom","right"],Tn=new Set(Dn),Mn=function(t){return Tn.has(t)},An=function(t,e,r){var n=t.values,o=t.props;if(n.has(e)){var i=n.get(e).raw;i.update(r),i.update(r)}else n.set(e,{raw:ir(r,(function(t){return o.elementStyler.set(e,t)}))})},Rn=function(t,e){var r=t.props,n=r.dimensions,o=r.element,i=r.elementStyler;if(!n.has())return{};var a=n.get(),s=function(t){var e=t.style.transform;t.style.transform="";var r=t.getBoundingClientRect();return t.style.transform=e,r}(o),c=a.left===s.left?0:a.right===s.right?"100%":"50%",u=a.top===s.top?0:a.bottom===s.bottom?"100%":"50%";i.set({originX:c,originY:u}),a.width!==s.width&&(An(t,"scaleX",a.width/s.width),e.scaleX=1),a.height!==s.height&&(An(t,"scaleY",a.height/s.height),e.scaleY=1);var l=Cn(a),p=Cn(s);return"50%"===c&&(An(t,"x",l.x-p.x),e.x=0),"50%"===u&&(An(t,"y",l.y-p.y),e.y=0),i.render(),e},Ln=function(t,e){return r=e,Object.keys(r).some(Mn)?function(t,e){var r=t.props,n=r.dimensions,o=r.elementStyler;n.measure();e.width,e.height,e.top,e.left,e.bottom,e.right,e.position;var i=on(e,["width","height","top","left","bottom","right","position"]),a=Dn.concat("position").reduce((function(r,n){return void 0!==e[n]&&(r[n]=an(e[n],t.props)),r}),{});return o.set(a).render(),Rn(t,i)}(t,e):Rn(t,e);var r},Nn=function(t,e){return parseFloat(t.split(", ")[e])},In=function(t,e){return function(r,n,o){var i=o.transform;if(!i||"none"===i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);return a?Nn(a[1],e):Nn(i.match(/^matrix\((.+)\)$/)[1],t)}},zn={width:function(t,e){return e.width},height:function(t,e){return e.height},top:function(t,e,r){var n=r.top;return parseFloat(n)},left:function(t,e,r){var n=r.left;return parseFloat(n)},bottom:function(t,e,r){var n=e.height,o=r.top;return parseFloat(o)+n},right:function(t,e,r){var n=e.width,o=r.left;return parseFloat(o)+n},x:In(4,13),y:In(5,14)},Un=function(t){return void 0!==zn[t]},Fn=function(t){return function(e){return e.elementStyler.get(t)}},Yn=function(t,e){var r=e.onDragStart,n=e.onDragEnd,o=e.onPressStart,i=e.onPressEnd,a=e.draggable,s=e.hoverable,c=e.focusable,u=e.pressable,l=e.dragBounds,p=on(e,["onDragStart","onDragEnd","onPressStart","onPressEnd","draggable","hoverable","focusable","pressable","dragBounds"]),f=nn(nn({flip:{}},p),{props:nn(nn({},p.props),{onDragStart:r,onDragEnd:n,onPressStart:o,onPressEnd:i,dragBounds:l,draggable:a,hoverable:s,focusable:c,pressable:u,element:t,elementStyler:$e(t,{preparseOutput:!1}),dimensions:kn(t)})});if(a){var d=function(t){var e={preTransition:function(t){return t.dimensions.measure()}},r={};return!0!==t&&"x"!==t||(e.x=r.x=Fn("x")),!0!==t&&"y"!==t||(e.y=r.y=Fn("y")),{drag:e,dragEnd:r}}(a),h=d.drag,y=d.dragEnd;f.drag=nn(nn({},h),f.drag),f.dragEnd=nn(nn({},y),f.dragEnd)}return f},Hn=Sn({posePriority:["drag","press","focus","hover"],transformPose:function(t,e,r){var n,o=t.flip,i=on(t,["flip"]);return function(t,e,r){return r.props.element instanceof HTMLElement&&(!0===t||"flip"===e)}(o,e,r)?Ln(r,i):(n=i,Object.keys(n).some(Un)?function(t,e){var r=t.values,n=t.props,o=n.element,i=n.elementStyler,a=Object.keys(e).filter(Un),s=[],c=getComputedStyle(o),u=!1;if(a.forEach((function(o){var i=r.get(o),a=wn(i.raw.get()),c=an(e[o],n);a!==wn(c)&&(s.push(o),u||(u=!0,e.applyAtEnd=e.applyAtEnd?nn({},e.applyAtEnd):{}),e.applyAtEnd[o]=e.applyAtEnd[o]||e[o],An(t,o,c))})),!s.length)return e;var l=o.getBoundingClientRect(),p={top:c.top,left:c.left,bottom:c.bottom,right:c.right,transform:c.transform};i.render();var f=o.getBoundingClientRect();return s.forEach((function(r){An(t,r,zn[r](o,l,p)),e[r]=zn[r](o,f,c)})),i.render(),e}(r,i):i)},forceRender:function(t){t.elementStyler.render()},addListenerToValue:function(t,e){return function(r){return e.set(t,r)}},readValueFromSource:function(t,e){var r=e.elementStyler,n=e.dragBounds,o=r.get(t);if(n&&("x"===t||"y"===t)){var i="x"===t?n.left||n.right:n.top||n.bottom;if(i)o=wn(i).transform(o)}return isNaN(o)?o:parseFloat(o)},setValueNative:function(t,e,r){return r.elementStyler.set(t,e)},extendAPI:function(t,e,r){var n=e.props,o=e.activeActions,i=n.dimensions.measure,a=nn(nn({},t),{addChild:function(e,r){return t._addChild(Yn(e,r),Hn)},measure:i,flip:function(e){return e&&(i(),e()),t.set("flip")}});return n.elementStyler.render(),function(t,e,r,n){var o=n.props;xn.forEach((function(n){o[n]&&En[n](t,e,r,o)}))}(n.element,o,a,r),a}}),Vn=function(t,e){return Hn(Yn(t,e))};var Bn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Wn=function(t){var e={};return function(r){return void 0===e[r]&&(e[r]=t(r)),e[r]}}((function(t){return Bn.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),Gn=Object(i.createContext)({}),qn=Gn.Consumer,Xn=Gn.Provider,Zn=function(t,e){return Array.isArray(t)?-1!==t.indexOf(e):t===e},$n=function(){return!0},Jn=function(t){t.elementType,t.poseConfig,t.onValueChange,t.innerRef,t._pose,t.pose,t.initialPose,t.poseKey,t.onPoseComplete,t.getParentPoseConfig,t.registerChild,t.onUnmount,t.getInitialPoseFromParent,t.popFromFlow,t.values,t.parentValues,t.onDragStart,t.onDragEnd,t.onPressStart,t.onPressEnd;return l(t,["elementType","poseConfig","onValueChange","innerRef","_pose","pose","initialPose","poseKey","onPoseComplete","getParentPoseConfig","registerChild","onUnmount","getInitialPoseFromParent","popFromFlow","values","parentValues","onDragStart","onDragEnd","onPressStart","onPressEnd"])},Kn=function(t){function e(e){var r=t.call(this,e)||this;r.children=new Set,r.childrenHandlers={registerChild:function(t){r.children.add(t),r.poser&&r.flushChildren()},onUnmount:function(t){return r.poser.removeChild(t)},getParentPoseConfig:function(){return r.poseConfig},getInitialPoseFromParent:function(){return r.getInitialPose()}},r.setRef=function(t){null===t||t instanceof Element&&r.ref,r.ref=t;var e=r.props.innerRef;e&&("function"==typeof e?e(t):e.current=t)},r.shouldForwardProp="string"==typeof r.props.elementType?Wn:$n;var n=r.props.poseConfig;return r.poseConfig="function"==typeof n?n(Jn(e)):n,r}return c(e,t),e.prototype.getInitialPose=function(){var t=this.props,e=t.getInitialPoseFromParent,r=t.pose,n=t._pose,o=t.initialPose;if(o)return o;var i=e&&e(),a=(Array.isArray(i)?i:[i]).concat(r,n).filter(Boolean);return a.length>0?a:void 0},e.prototype.getFirstPose=function(){var t=this.props,e=t.initialPose,r=t.pose,n=t._pose;if(e){var o=(Array.isArray(r)?r:[r]).concat(n).filter(Boolean);return 1===o.length?o[0]:o}},e.prototype.getSetProps=function(){var t,e=Jn(this.props);return this.props.popFromFlow&&this.ref&&this.ref instanceof HTMLElement?this.popStyle?e.style=this.popStyle:(e.style=u(u({},e.style),{position:"absolute",top:(t=this.ref).offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}),this.popStyle=e.style):this.popStyle=null,e},e.prototype.componentDidMount=function(){var t=this;this.ref,Element;var e,r=this.props,n=r.onValueChange,o=r.registerChild,i=r.values,a=r.parentValues,s=r.onDragStart,c=r.onDragEnd,l=r.onPressStart,p=r.onPressEnd,f=u(u({},this.poseConfig),{initialPose:this.getInitialPose(),values:i||this.poseConfig.values,parentValues:a?(e=a,Object.keys(e).reduce((function(t,r){return t.set(r,{raw:e[r]}),t}),new Map)):void 0,props:this.getSetProps(),onDragStart:s,onDragEnd:c,onPressStart:l,onPressEnd:p,onChange:n});o?o({element:this.ref,poseConfig:f,onRegistered:function(e){return t.initPoser(e)}}):this.initPoser(Vn(this.ref,f))},e.prototype.getSnapshotBeforeUpdate=function(){var t=this.props,e=t.pose,r=t._pose;return(Zn(e,"flip")||Zn(r,"flip"))&&this.poser.measure(),null},e.prototype.componentDidUpdate=function(t){var e=this.props,r=e.pose,n=e._pose,o=e.poseKey;this.poser.setProps(this.getSetProps()),(o!==t.poseKey||function(t,e){if(t===e)return!1;var r=Array.isArray(t),n=Array.isArray(e);if(r!==n||!r&&!n)return!0;if(r&&n){var o=t.length;if(o!==e.length)return!0;for(var i=0;i<o;i++)if(t[i]!==e[i])return!0}return!1}(t.pose,r)||"flip"===r)&&this.setPose(r),n===t._pose&&"flip"!==n||this.setPose(n)},e.prototype.componentWillUnmount=function(){if(this.poser){var t=this.props.onUnmount;t&&t(this.poser),this.poser.destroy()}},e.prototype.initPoser=function(t){this.poser=t,this.flushChildren();var e=this.getFirstPose();e&&this.setPose(e)},e.prototype.setPose=function(t){var e=this,r=this.props.onPoseComplete,n=Array.isArray(t)?t:[t];Promise.all(n.map((function(t){return t&&e.poser.set(t)}))).then((function(){return r&&r(t)}))},e.prototype.flushChildren=function(){var t=this;this.children.forEach((function(e){var r=e.element,n=e.poseConfig;return(0,e.onRegistered)(t.poser.addChild(r,n))})),this.children.clear()},e.prototype.render=function(){var t,e=this.props.elementType;return a.a.createElement(Xn,{value:this.childrenHandlers},Object(i.createElement)(e,(t=this.shouldForwardProp,[this.getSetProps(),{ref:this.setRef}].reduce((function(e,r){for(var n in r)t(n)&&(e[n]=r[n]);return e}),{}))))},e}(i.PureComponent),Qn=new Map,to=function(t){var e=function(e){return void 0===e&&(e={}),Object(i.forwardRef)((function(r,n){var o=r.withParent,i=void 0===o||o,s=l(r,["withParent"]);return s.innerRef,!i||s.parentValues?a.a.createElement(Kn,u({poseConfig:e,innerRef:n,elementType:t},s)):a.a.createElement(qn,null,(function(r){return a.a.createElement(Kn,u({poseConfig:e,elementType:t,innerRef:n},s,r))}))}))};return Qn.set(t,e),e},eo=function(t){return e=t,Qn.has(e)?Qn.get(e):to(e);var e};["a","article","aside","audio","b","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dialog","div","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","label","legend","li","nav","object","ol","option","p","param","picture","pre","progress","q","section","select","span","strong","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","ul","video","circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce((function(t,e){return t[e]=to(e),t}),eo);var ro=function(t){return t&&t.key,("number"==typeof t.key?t.key.toString():t.key).replace(".$","")},no=function(t,e){return Object(i.createElement)(t.type,u(u({key:t.key,ref:t.ref},e),t.props))},oo=function(t,e){var r=function(t,e){var r=e.displayedChildren,n=e.finishedLeaving,o=e.hasInitialized,a=e.indexedChildren,s=e.scheduleChildRemoval,c=t.children,u=t.preEnterPose,p=t.enterPose,f=t.exitPose,d=t.animateOnMount,h=(t.enterAfterExit,t.flipMove),y=(t.onRest,l(t,["children","preEnterPose","enterPose","exitPose","animateOnMount","enterAfterExit","flipMove","onRest"])),m=io(c),_={displayedChildren:[]};var b=r.map(ro),g=m.map(ro),v=0!==Object.keys(y).length,O=new Set(g.filter((function(t){return n.hasOwnProperty(t)||-1===b.indexOf(t)})));O.forEach((function(t){return delete n[t]}));var w=[],j={};b.forEach((function(t){if(!O.has(t)){var e=n.hasOwnProperty(t);(e||-1===g.indexOf(t))&&(w.push(t),e||(n[t]=!1,j[t]=!0))}}));var S=new Set(b.filter((function(t,e){return!O.has(t)||-1===w.indexOf(t)})));return m.forEach((function(t){var e={};O.has(t.key)?((o||d)&&(e.initialPose=u),e._pose=p):S.has(t.key)&&h?e._pose=[p,"flip"]:e._pose=p;var r=Object(i.cloneElement)(t,e);a[t.key]=r,_.displayedChildren.push(v?no(r,y):r)})),w.forEach((function(t){var e=a[t],r=j[t]?Object(i.cloneElement)(e,{_pose:f,onPoseComplete:function(r){r===f&&s(t);var n=e.props.onPoseComplete;n&&n(r)},popFromFlow:h}):e,n=b.indexOf(t);a[e.key]=r,_.displayedChildren.splice(n,0,v?no(r,y):r)})),_}(t,e);return r.hasInitialized=!0,r},io=function(t){var e=[];return i.Children.forEach(t,(function(t){return t&&e.push(t)})),e},ao=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={displayedChildren:[],finishedLeaving:{},hasInitialized:!1,indexedChildren:{},scheduleChildRemoval:function(t){return e.removeChild(t)}},e}return c(e,t),e.prototype.removeChild=function(t){var e=this.state,r=e.displayedChildren,n=e.finishedLeaving,o=this.props,i=o.enterAfterExit,a=o.onRest;if(n.hasOwnProperty(t)&&(n[t]=!0,Object.keys(n).every((function(t){return n[t]})))){var s=r.filter((function(t){return!n.hasOwnProperty(t.key)})),c=i?u({finishedLeaving:{}},oo(u(u({},this.props),{enterAfterExit:!1}),u(u({},this.state),{displayedChildren:s}))):{finishedLeaving:{},displayedChildren:s};this.setState(c,a)}},e.prototype.shouldComponentUpdate=function(t,e){return this.state!==e},e.prototype.render=function(){return this.state.displayedChildren},e.defaultProps={flipMove:!1,enterAfterExit:!1,preEnterPose:"exit",enterPose:"enter",exitPose:"exit"},e.getDerivedStateFromProps=oo,e}(i.Component),so=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.render=function(){return Object(i.createElement)(ao,u({},this.props))},e.defaultProps={flipMove:!0},e}(i.Component),co=eo,uo=co.div({enter:{y:0,opacity:1,transition:{y:{type:"spring",stiffness:500,damping:15},default:{duration:300}}},exit:{y:35,opacity:0,transition:{duration:0}}}),lo=function(t){var e=t.children,r=t.className,n=t.is_visible,o=t.keyname;return n?i.createElement(so,null,i.createElement(uo,{className:r,key:o},e)):null};lo.propTypes={children:o.a.node,is_visible:o.a.bool,keyname:o.a.string};var po=co.div({enter:{y:0,opacity:1,transition:{duration:200}},exit:{y:-20,opacity:0,transition:{duration:100}}}),fo=co.div({enter:{y:0,opacity:1,transition:{duration:200}},exit:{y:20,opacity:0,transition:{duration:100}}}),ho=function(t){var e=t.children,r=t.className,n=t.keyname,o=t.is_visible;return"bottom"===t.type?i.createElement(so,{flipMove:!1},o&&i.createElement(fo,{className:r,key:n},e)):i.createElement(so,{flipMove:!1},o&&i.createElement(po,{className:r,key:n},e))};ho.propTypes={children:o.a.node,is_visible:o.a.bool,keyname:o.a.string,type:o.a.string}},"./App/Components/Elements/ContentLoader/index.js":function(t,e,r){"use strict";r.d(e,"a",(function(){return d})),r.d(e,"b",(function(){return h})),r.d(e,"c",(function(){return m}));var n=r("react"),o=function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var i=function(){return Math.random().toString(36).substring(2)},a=function(t){var e=t.rtl,r=t.speed,a=t.interval,s=t.style,c=t.width,u=t.height,l=t.baseUrl,p=t.gradientRatio,f=t.animate,d=t.ariaLabel,h=t.children,y=t.className,m=t.uniquekey,_=t.primaryColor,b=t.primaryOpacity,g=t.secondaryColor,v=t.secondaryOpacity,O=t.preserveAspectRatio,w=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(t,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),j=m?m+"-idClip":i(),S=m?m+"-idGradient":i(),k=e?{transform:"scaleX(-1)"}:{},P="0; "+a+"; 1",E=r+"s";return Object(n.createElement)("svg",o({role:"img",style:o(o({},s),k),className:y,"aria-label":d||null,viewBox:"0 0 "+c+" "+u,preserveAspectRatio:O},w),d?Object(n.createElement)("title",null,d):null,Object(n.createElement)("rect",{x:"0",y:"0",width:c,height:u,clipPath:"url("+l+"#"+j+")",style:{fill:"url("+l+"#"+S+")"}}),Object(n.createElement)("defs",null,Object(n.createElement)("clipPath",{id:j},h),Object(n.createElement)("linearGradient",{id:S},Object(n.createElement)("stop",{offset:"0%",stopColor:_,stopOpacity:b},f&&Object(n.createElement)("animate",{attributeName:"offset",values:-p+"; "+-p+"; 1",keyTimes:P,dur:E,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"50%",stopColor:g,stopOpacity:v},f&&Object(n.createElement)("animate",{attributeName:"offset",values:-p/2+"; "+-p/2+"; "+(1+p/2),keyTimes:P,dur:E,repeatCount:"indefinite"})),Object(n.createElement)("stop",{offset:"100%",stopColor:_,stopOpacity:b},f&&Object(n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+p),keyTimes:P,dur:E,repeatCount:"indefinite"})))))},s={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},c=function(t){return Object(n.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:t.width,height:t.height})},u=function(t){var e=o(o({},s),t);return Object(n.createElement)(a,o({},e),t.children||Object(n.createElement)(c,o({},e)))},l=u,p=r("../node_modules/prop-types/index.js"),f=r.n(p),d=function(t){var e=t.speed;return n.createElement(l,{height:173,width:218,speed:e,primaryColor:"var(--general-section-1)",secondaryColor:"var(--general-hover)"},n.createElement("rect",{x:"43",y:"19",rx:"0",ry:"0",width:"56",height:"8"}),n.createElement("rect",{x:"147",y:"19",rx:"0",ry:"0",width:"56",height:"8"}),n.createElement("rect",{x:"12",y:"50",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"13",y:"68",rx:"0",ry:"0",width:"192",height:"8"}),n.createElement("rect",{x:"5",y:"89",rx:"0",ry:"0",width:"208",height:"1"}),n.createElement("rect",{x:"12",y:"104",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"12",y:"9",rx:"0",ry:"0",width:"24",height:"24"}),n.createElement("rect",{x:"116",y:"11",rx:"0",ry:"0",width:"24",height:"24"}),n.createElement("rect",{x:"12",y:"118",rx:"0",ry:"0",width:"88",height:"8"}),n.createElement("rect",{x:"116",y:"104",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"116",y:"118",rx:"0",ry:"0",width:"88",height:"8"}),n.createElement("rect",{x:"12",y:"139",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"12",y:"153",rx:"0",ry:"0",width:"88",height:"8"}),n.createElement("rect",{x:"116",y:"139",rx:"0",ry:"0",width:"44",height:"8"}),n.createElement("rect",{x:"116",y:"153",rx:"0",ry:"0",width:"88",height:"8"}))};d.propTypes={speed:f.a.number};var h=function(t){var e=t.speed;return n.createElement(l,{height:64,width:992,speed:e,primaryColor:"var(--general-hover)",secondaryColor:"var(--general-active)"},n.createElement("rect",{x:"16",y:"16",rx:"4",ry:"4",width:"32",height:"32"}),n.createElement("rect",{x:"52",y:"16",rx:"4",ry:"4",width:"32",height:"32"}),n.createElement("rect",{x:"132",y:"28",rx:"4",ry:"4",width:"101",height:"8"}),n.createElement("rect",{x:"273",y:"28",rx:"4",ry:"4",width:"120",height:"8"}),n.createElement("rect",{x:"460",y:"28",rx:"4",ry:"4",width:"46",height:"8"}),n.createElement("rect",{x:"593",y:"28",rx:"4",ry:"4",width:"46",height:"8"}),n.createElement("rect",{x:"726",y:"28",rx:"4",ry:"4",width:"64",height:"8"}),n.createElement("rect",{x:"906",y:"28",rx:"4",ry:"4",width:"64",height:"8"}))};h.propTypes={speed:f.a.number};var y=r("@deriv/components"),m=function(t){var e=t.speed;return n.createElement(n.Fragment,null,n.createElement(y.MobileWrapper,null,n.createElement(l,{height:214,width:344,speed:e,primaryColor:"var(--general-section-1)",secondaryColor:"var(--general-hover)"},n.createElement("rect",{x:"148",y:"24",rx:"3",ry:"3",width:"40",height:"4"}),n.createElement("rect",{x:"8",y:"40",rx:"4",ry:"4",width:"328",height:"40"}),n.createElement("rect",{x:"8",y:"88",rx:"4",ry:"4",width:"328",height:"40"}),n.createElement("rect",{x:"8",y:"136",rx:"4",ry:"4",width:"160",height:"70"}),n.createElement("rect",{x:"176",y:"136",rx:"4",ry:"4",width:"160",height:"70"}))),n.createElement(y.DesktopWrapper,null,n.createElement(l,{height:548,width:240,speed:e,primaryColor:"var(--general-section-1)",secondaryColor:"var(--general-hover)"},n.createElement("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"240",height:"76"}),n.createElement("rect",{x:"0",y:"84",rx:"4",ry:"4",width:"240",height:"132"}),n.createElement("rect",{x:"0",y:"224",rx:"4",ry:"4",width:"240",height:"120"}),n.createElement("rect",{x:"0",y:"352",rx:"4",ry:"4",width:"240",height:"194"}))))};m.propTypes={speed:f.a.number}},"./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card.jsx":function(t,e,r){"use strict";var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("react-router-dom"),u=r("./App/Components/Elements/currency-badge.jsx"),l=r("@deriv/components"),p=r("@deriv/shared"),f=r("./Constants/contract.js"),d=r("./Stores/connect.js"),h=function(t){var e=t.addToast,r=t.className,n=t.contract_info,i=t.contract_update,a=t.currency,d=t.getContractById,h=t.is_mobile,y=t.is_sell_requested,m=t.is_unsupported,_=t.is_link_disabled,b=t.profit_loss,g=t.onClickCancel,v=t.onClickSell,O=t.onClickRemove,w=t.onMouseEnter,j=t.onMouseLeave,S=t.removeToast,k=t.result,P=t.setCurrentFocus,E=t.server_time,x=t.should_show_cancellation_warning,C=t.show_transition,D=t.status,T=t.toggleCancellationWarning,M=t.toggleUnsupportedContractModal,A=Object(p.isMultiplierContract)(n.contract_type),R=s.createElement("div",{className:"dc-contract-card__content-loader"},s.createElement(l.ContractCard.Loader,{speed:2})),L=s.createElement(l.ContractCard.Header,{contract_info:n,getCardLabels:f.a,getContractTypeDisplay:f.c,has_progress_slider:!A,is_mobile:h,is_positions:!0,is_sell_requested:y,onClickSell:v,server_time:E}),N=s.createElement(l.ContractCard.Body,{contract_info:n,contract_update:i,currency:a,getCardLabels:f.a,is_mobile:h,is_multiplier:A,status:D,server_time:E}),I=s.createElement(s.Fragment,null,s.createElement(l.DesktopWrapper,null,N),s.createElement(l.MobileWrapper,null,s.createElement("div",{className:o()({"dc-contract-card__body-wrapper":!A})},N))),z=s.createElement(l.ContractCard.Footer,{addToast:e,contract_info:n,getCardLabels:f.a,getContractById:d,is_multiplier:A,is_positions:!0,is_sell_requested:y,onClickCancel:g,onClickSell:v,removeToast:S,setCurrentFocus:P,server_time:E,should_show_cancellation_warning:x,status:D,toggleCancellationWarning:T}),U=s.createElement(s.Fragment,null,L,s.createElement(u.a,{currency:a}),I),F=C&&"dc-contract-card__wrapper--transition";return s.createElement(l.ContractCard,{contract_info:n,getCardLabels:f.a,getContractPath:p.getContractPath,is_multiplier:A,is_positions:!0,is_unsupported:m,onClickRemove:O,profit_loss:b,result:k,should_show_result_overlay:!0,toggleUnsupportedContractModal:M},s.createElement("div",{id:"dc_contract_card_".concat(n.contract_id),className:o()("dc-contract-card__wrapper",F,r),onMouseEnter:function(){"function"==typeof w&&w(!0,n)},onMouseLeave:function(){"function"==typeof j&&j(!1,n)},onClick:function(){"function"==typeof j&&j(!1,n)}},m?s.createElement("div",{className:o()("dc-contract-card",{"dc-contract-card--green":!A&&b>0&&!k,"dc-contract-card--red":!A&&b<0&&!k}),onClick:function(){return M(!0)}},n.underlying?U:R):_?s.createElement("div",{className:o()("dc-contract-card",{"dc-contract-card--green":!A&&b>0&&!k,"dc-contract-card--red":!A&&b<0&&!k})},n.underlying?U:R):s.createElement(c.NavLink,{className:o()("dc-contract-card",{"dc-contract-card--green":!A&&b>0&&!k,"dc-contract-card--red":!A&&b<0&&!k}),to:{pathname:"/contract/".concat(n.contract_id),state:{}}},n.underlying?U:R),z))};h.propTypes={addToast:a.a.func,className:a.a.string,contract_info:a.a.object,currency:a.a.string,current_tick:a.a.number,duration:a.a.oneOfType([a.a.number,a.a.string]),duration_unit:a.a.string,exit_spot:a.a.oneOfType([a.a.number,a.a.string]),id:a.a.number,indicative:a.a.number,is_loading:a.a.bool,is_mobile:a.a.bool,is_sell_requested:a.a.bool,is_unsupported:a.a.bool,is_valid_to_sell:a.a.oneOfType([a.a.number,a.a.bool]),onClickRemove:a.a.func,onClickSell:a.a.func,profit_loss:a.a.number,result:a.a.string,sell_time:a.a.number,setCurrentFocus:a.a.func,status:a.a.string,toggleUnsupportedContractModal:a.a.func,type:a.a.string},e.a=Object(d.b)((function(t){var e=t.modules,r=t.ui;return{addToast:r.addToast,getContractById:e.contract_trade.getContractById,is_mobile:r.is_mobile,removeToast:r.removeToast,setCurrentFocus:r.setCurrentFocus,should_show_cancellation_warning:r.should_show_cancellation_warning,toggleCancellationWarning:r.toggleCancellationWarning}}))(h)},"./App/Components/Elements/PositionsDrawer/helpers/index.js":function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return u})),r.d(e,"e",(function(){return l})),r.d(e,"b",(function(){return f}));var n=r("@deriv/translations"),o=r("@deriv/shared"),i=r("./Stores/Modules/Trading/Constants/contract.js"),a=r("./Stores/Modules/Contract/Helpers/contract-type.js"),s=function(t,e){if(!t||isNaN(t))return t;var r=String(e?(+t).toFixed(e):t),n=r.indexOf(".");return r.replace(/\d(?=(?:\d{3})+(?:\.|$))/g,(function(t,e){return n<=0||e<n?"".concat(t,","):t}))},c=function(t){return l(t.contract_type)?Object(n.localize)("Target"):Object(n.localize)("Barrier")},u=function(t){return l(t.contract_type)?p(t)[t.contract_type]:s(t.barrier)},l=function(t){return/digit/.test(t.toLowerCase())},p=function(t){return{DIGITDIFF:Object(n.localize)("Not {{barrier}}",{barrier:t.barrier}),DIGITEVEN:Object(n.localize)("Even"),DIGITMATCH:Object(n.localize)("Equals {{barrier}}",{barrier:t.barrier}),DIGITODD:Object(n.localize)("Odd"),DIGITOVER:Object(n.localize)("Over {{barrier}}",{barrier:t.barrier}),DIGITUNDER:Object(n.localize)("Under {{barrier}}",{barrier:t.barrier})}},f=function(t,e){var r,n=t.contract_type,s=t.shortcode,c=Object(a.a)(e),u=Object(o.isHighLow)({shortcode:s}),l=c?["CALL","CALLE","PUT","PUTE"]:null===(r=Object(i.b)()[e])||void 0===r?void 0:r.trade_types,p=null==l?void 0:l.includes(n);return"high_low"===e?u:p&&!u}},"./App/Components/Elements/chart-loader.jsx":function(t,e,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("../node_modules/classnames/index.js"),s=r.n(a),c=function(t){var e=t.className,r=t.id,n=t.is_fullscreen,o=void 0===n||n,a=t.is_slow_loading,c=t.status,u=t.theme,l=u?"barspinner-".concat(u):"barspinner-light";return i.createElement("div",{className:s()("initial-loader",{"initial-loader--fullscreen":o},e)},i.createElement("div",{id:r,className:s()("initial-loader__barspinner","barspinner",l)},Array.from(new Array(5)).map((function(t,e){return i.createElement("div",{key:e,className:"initial-loader__barspinner--rect barspinner__rect barspinner__rect--".concat(e+1," rect").concat(e+1)})}))),a&&c.map((function(t,e){return i.createElement("h3",{className:"initial-loader__text",key:e},t)})))};c.propTypes={id:o.a.oneOfType([o.a.string,o.a.number]),is_slow_loading:o.a.bool,status:o.a.array,theme:o.a.string};var u=c,l=function(t){var e=t.is_dark;return t.is_visible?i.createElement("div",{className:"chart-container__loader"},i.createElement(u,{theme:e?"dark":"light"})):null};l.propTypes={is_dark:o.a.bool,is_visible:o.a.bool};e.a=l},"./App/Components/Elements/currency-badge.jsx":function(t,e,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("@deriv/shared"),s=function(t){var e=t.currency;return i.createElement("span",{className:"currency-badge"},Object(a.getCurrencyDisplayCode)(e))};s.propTypes={currency:o.a.string},e.a=s},"./App/Components/Routes/helpers.js":function(t,e,r){"use strict";r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s}));var n=r("react-router"),o=r("@deriv/shared"),i=function(t){return/^\//.test(t)?t:"/".concat(t||"")},a=function t(e,r){var o;return r.some((function(r){var i;try{i=Object(n.matchPath)(e,r)}catch(t){if(/undefined/.test(t.message))return}return i?(o=r,!0):!!r.routes&&(o=t(e,r.routes))})),o},s=function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t.replace(":".concat(r),e[r])}),t)}(o.routes.contract,{contract_id:t})}},"./Constants/contract.js":function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"e",(function(){return u})),r.d(e,"g",(function(){return l})),r.d(e,"f",(function(){return p})),r.d(e,"b",(function(){return f})),r.d(e,"c",(function(){return d})),r.d(e,"d",(function(){return h}));var n=r("react"),o=r("@deriv/translations");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=function(){return{APPLY:Object(o.localize)("Apply"),STAKE:Object(o.localize)("Stake:"),CLOSE:Object(o.localize)("Close"),CANCEL:Object(o.localize)("Cancel"),CURRENT_STAKE:Object(o.localize)("Current stake:"),DEAL_CANCEL_FEE:Object(o.localize)("Deal cancel. fee:"),TAKE_PROFIT:Object(o.localize)("Take profit:"),BUY_PRICE:Object(o.localize)("Buy price:"),STOP_LOSS:Object(o.localize)("Stop loss:"),TOTAL_PROFIT_LOSS:Object(o.localize)("Total profit/loss:"),PROFIT_LOSS:Object(o.localize)("Profit/Loss:"),POTENTIAL_PROFIT_LOSS:Object(o.localize)("Potential profit/loss:"),INDICATIVE_PRICE:Object(o.localize)("Indicative price:"),PAYOUT:Object(o.localize)("Payout:"),PURCHASE_PRICE:Object(o.localize)("Purchase price:"),POTENTIAL_PAYOUT:Object(o.localize)("Potential payout:"),TICK:Object(o.localize)("Tick "),WON:Object(o.localize)("Won"),LOST:Object(o.localize)("Lost"),DAYS:Object(o.localize)("Days"),DAY:Object(o.localize)("Day"),SELL:Object(o.localize)("Sell"),SELL_CONTRACT:Object(o.localize)("Sell contract"),INCREMENT_VALUE:Object(o.localize)("Increment value"),DECREMENT_VALUE:Object(o.localize)("Decrement value"),TAKE_PROFIT_LOSS_NOT_AVAILABLE:Object(o.localize)("Take profit and/or stop loss are not available while deal cancellation is active."),DONT_SHOW_THIS_AGAIN:Object(o.localize)("Don't show this again")}},u=function(){return{FRXAUDCAD:n.createElement(o.Localize,{i18n_default_text:"AUD/CAD"}),FRXAUDCHF:n.createElement(o.Localize,{i18n_default_text:"AUD/CHF"}),FRXAUDJPY:n.createElement(o.Localize,{i18n_default_text:"AUD/JPY"}),FRXAUDNZD:n.createElement(o.Localize,{i18n_default_text:"AUD/NZD"}),FRXAUDPLN:n.createElement(o.Localize,{i18n_default_text:"AUD/PLN"}),FRXAUDUSD:n.createElement(o.Localize,{i18n_default_text:"AUD/USD"}),FRXBROUSD:n.createElement(o.Localize,{i18n_default_text:"Oil/USD"}),FRXEURAUD:n.createElement(o.Localize,{i18n_default_text:"EUR/AUD"}),FRXEURCAD:n.createElement(o.Localize,{i18n_default_text:"EUR/CAD"}),FRXEURCHF:n.createElement(o.Localize,{i18n_default_text:"EUR/CHF"}),FRXEURGBP:n.createElement(o.Localize,{i18n_default_text:"EUR/GBP"}),FRXEURJPY:n.createElement(o.Localize,{i18n_default_text:"EUR/JPY"}),FRXEURNZD:n.createElement(o.Localize,{i18n_default_text:"EUR/NZD"}),FRXEURUSD:n.createElement(o.Localize,{i18n_default_text:"EUR/USD"}),FRXGBPAUD:n.createElement(o.Localize,{i18n_default_text:"GBP/AUD"}),FRXGBPCAD:n.createElement(o.Localize,{i18n_default_text:"GBP/CAD"}),FRXGBPCHF:n.createElement(o.Localize,{i18n_default_text:"GBP/CHF"}),FRXGBPJPY:n.createElement(o.Localize,{i18n_default_text:"GBP/JPY"}),FRXGBPNOK:n.createElement(o.Localize,{i18n_default_text:"GBP/NOK"}),FRXGBPUSD:n.createElement(o.Localize,{i18n_default_text:"GBP/USD"}),FRXNZDJPY:n.createElement(o.Localize,{i18n_default_text:"NZD/JPY"}),FRXNZDUSD:n.createElement(o.Localize,{i18n_default_text:"NZD/USD"}),FRXUSDCAD:n.createElement(o.Localize,{i18n_default_text:"USD/CAD"}),FRXUSDCHF:n.createElement(o.Localize,{i18n_default_text:"USD/CHF"}),FRXUSDJPY:n.createElement(o.Localize,{i18n_default_text:"USD/JPY"}),FRXUSDNOK:n.createElement(o.Localize,{i18n_default_text:"USD/NOK"}),FRXUSDPLN:n.createElement(o.Localize,{i18n_default_text:"USD/PLN"}),FRXUSDSEK:n.createElement(o.Localize,{i18n_default_text:"USD/SEK"}),FRXXAGUSD:n.createElement(o.Localize,{i18n_default_text:"Silver/USD"}),FRXXAUUSD:n.createElement(o.Localize,{i18n_default_text:"Gold/USD"}),FRXXPDUSD:n.createElement(o.Localize,{i18n_default_text:"Palladium/USD"}),FRXXPTUSD:n.createElement(o.Localize,{i18n_default_text:"Platinum/USD"}),OTC_AEX:n.createElement(o.Localize,{i18n_default_text:"Dutch Index"}),OTC_AS51:n.createElement(o.Localize,{i18n_default_text:"Australian Index"}),OTC_DJI:n.createElement(o.Localize,{i18n_default_text:"Wall Street Index"}),OTC_FCHI:n.createElement(o.Localize,{i18n_default_text:"French Index"}),OTC_FTSE:n.createElement(o.Localize,{i18n_default_text:"UK Index"}),OTC_GDAXI:n.createElement(o.Localize,{i18n_default_text:"German Index"}),OTC_HSI:n.createElement(o.Localize,{i18n_default_text:"Hong Kong Index"}),OTC_IBEX35:n.createElement(o.Localize,{i18n_default_text:"Spanish Index"}),OTC_N225:n.createElement(o.Localize,{i18n_default_text:"Japanese Index"}),OTC_NDX:n.createElement(o.Localize,{i18n_default_text:"US Tech Index"}),OTC_SPC:n.createElement(o.Localize,{i18n_default_text:"US Index"}),OTC_SSMI:n.createElement(o.Localize,{i18n_default_text:"Swiss Index"}),OTC_SX5E:n.createElement(o.Localize,{i18n_default_text:"Euro 50 Index"}),R_10:n.createElement(o.Localize,{i18n_default_text:"Volatility 10 Index"}),R_25:n.createElement(o.Localize,{i18n_default_text:"Volatility 25 Index"}),R_50:n.createElement(o.Localize,{i18n_default_text:"Volatility 50 Index"}),R_75:n.createElement(o.Localize,{i18n_default_text:"Volatility 75 Index"}),R_100:n.createElement(o.Localize,{i18n_default_text:"Volatility 100 Index"}),RDBEAR:n.createElement(o.Localize,{i18n_default_text:"Bear Market Index"}),RDBULL:n.createElement(o.Localize,{i18n_default_text:"Bull Market Index"}),WLDAUD:n.createElement(o.Localize,{i18n_default_text:"AUD Index"}),WLDEUR:n.createElement(o.Localize,{i18n_default_text:"EUR Index"}),WLDGBP:n.createElement(o.Localize,{i18n_default_text:"GBP Index"}),WLDUSD:n.createElement(o.Localize,{i18n_default_text:"USD Index"}),"1HZ10V":n.createElement(o.Localize,{i18n_default_text:"Volatility 10 (1s) Index"}),"1HZ100V":n.createElement(o.Localize,{i18n_default_text:"Volatility 100 (1s) Index"})}},l=function(){return{EXPIRYMISS:{name:n.createElement(o.Localize,{i18n_default_text:"Ends Outside"}),position:"top"},EXPIRYRANGE:{name:n.createElement(o.Localize,{i18n_default_text:"Ends Between"}),position:"bottom"},RANGE:{name:n.createElement(o.Localize,{i18n_default_text:"Stays Between"}),position:"top"},UPORDOWN:{name:n.createElement(o.Localize,{i18n_default_text:"Goes Outside"}),position:"bottom"},RESETCALL:{name:n.createElement(o.Localize,{i18n_default_text:"Reset Call"}),position:"top"},RESETPUT:{name:n.createElement(o.Localize,{i18n_default_text:"Reset Put"}),position:"bottom"},TICKHIGH:{name:n.createElement(o.Localize,{i18n_default_text:"High Tick"}),position:"top"},TICKLOW:{name:n.createElement(o.Localize,{i18n_default_text:"Low Tick"}),position:"bottom"},ASIANU:{name:n.createElement(o.Localize,{i18n_default_text:"Asian Up"}),position:"top"},ASIAND:{name:n.createElement(o.Localize,{i18n_default_text:"Asian Down"}),position:"bottom"},LBFLOATCALL:{name:n.createElement(o.Localize,{i18n_default_text:"Close-to-Low"}),position:"top"},LBFLOATPUT:{name:n.createElement(o.Localize,{i18n_default_text:"High-to-Close"}),position:"top"},LBHIGHLOW:{name:n.createElement(o.Localize,{i18n_default_text:"High-to-Low"}),position:"top"},CALLSPREAD:{name:n.createElement(o.Localize,{i18n_default_text:"Spread Up"}),position:"top"},PUTSPREAD:{name:n.createElement(o.Localize,{i18n_default_text:"Spread Down"}),position:"bottom"},RUNHIGH:{name:n.createElement(o.Localize,{i18n_default_text:"Only Ups"}),position:"top"},RUNLOW:{name:n.createElement(o.Localize,{i18n_default_text:"Only Downs"}),position:"bottom"}}},p=function(t){return{CALL:{name:t?n.createElement(o.Localize,{i18n_default_text:"Higher"}):n.createElement(o.Localize,{i18n_default_text:"Rise"}),position:"top"},PUT:{name:t?n.createElement(o.Localize,{i18n_default_text:"Lower"}):n.createElement(o.Localize,{i18n_default_text:"Fall"}),position:"bottom"},CALLE:{name:n.createElement(o.Localize,{i18n_default_text:"Rise"}),position:"top"},PUTE:{name:n.createElement(o.Localize,{i18n_default_text:"Fall"}),position:"bottom"},DIGITMATCH:{name:n.createElement(o.Localize,{i18n_default_text:"Matches"}),position:"top"},DIGITDIFF:{name:n.createElement(o.Localize,{i18n_default_text:"Differs"}),position:"bottom"},DIGITEVEN:{name:n.createElement(o.Localize,{i18n_default_text:"Even"}),position:"top"},DIGITODD:{name:n.createElement(o.Localize,{i18n_default_text:"Odd"}),position:"bottom"},DIGITOVER:{name:n.createElement(o.Localize,{i18n_default_text:"Over"}),position:"top"},DIGITUNDER:{name:n.createElement(o.Localize,{i18n_default_text:"Under"}),position:"bottom"},ONETOUCH:{name:n.createElement(o.Localize,{i18n_default_text:"Touch"}),position:"top"},NOTOUCH:{name:n.createElement(o.Localize,{i18n_default_text:"No Touch"}),position:"bottom"},MULTUP:{name:n.createElement(o.Localize,{i18n_default_text:"Up"}),position:"top"},MULTDOWN:{name:n.createElement(o.Localize,{i18n_default_text:"Down"}),position:"bottom"}}},f=function(t){return a(a({},p(t)),l())},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f(e)[t]?f(e)[t.toUpperCase()].name:""},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f(e)[t]?f(e)[t.toUpperCase()].position:"top"}},"./Constants/index.js":function(t,e,r){"use strict";r.d(e,"b",(function(){return n.e})),r.d(e,"d",(function(){return n.g})),r.d(e,"c",(function(){return n.f})),r.d(e,"a",(function(){return n.b}));var n=r("./Constants/contract.js")},"./Modules/Contract/Components/Digits/index.js":function(t,e,r){"use strict";r.d(e,"a",(function(){return Z}));var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("mobx"),u=r("@deriv/components"),l=r("@deriv/shared"),p=r("@deriv/translations"),f=r("./Stores/Modules/Contract/Helpers/logic.js"),d=r("./App/Components/Animations/index.js"),h=r("./Constants/index.js"),y=function(t){var e=t.current_spot,r=t.is_selected_winning,n=t.is_lost,i=t.is_won;return s.createElement(s.Fragment,null,s.createElement("span",{className:"digits__digit-spot-value"},e.slice(0,-1)),s.createElement("span",{className:o()("digits__digit-spot-last",{"digits__digit-spot-last--selected-win":r,"digits__digit-spot-last--win":i,"digits__digit-spot-last--loss":n})},e.slice(-1)))};y.propTypes={current_spot:a.a.string,is_lost:a.a.bool,is_won:a.a.bool};var m=y,_=r("mobx-react"),b=function(t){var e=t.is_latest,r=t.is_lost,n=t.is_selected,i=t.is_won,a=t.percentage,c=t.value,u=a&&!isNaN(a)?parseFloat(a).toFixed(1):null;return s.createElement(s.Fragment,null,s.createElement("span",{className:o()("digits__digit-value",{"digits__digit-value--latest":e,"digits__digit-value--selected":n,"digits__digit-value--win":i&&e,"digits__digit-value--loss":r&&e})},s.createElement("i",{className:o()("digits__digit-display-value",{"digits__digit-display-value--no-stats":!u})},c),!!u&&s.createElement("i",{className:"digits__digit-display-percentage"},u,"%")))};b.propTypes={is_latest:a.a.bool,is_lost:a.a.bool,is_selected:a.a.bool,is_trade_page:a.a.bool,is_won:a.a.bool,value:a.a.number};var g=b,v=function(t){var e=t.is_max,r=t.is_min,n=t.is_selected,i=t.percentage,a=(i-10)/4;a=((a=Math.min(Math.max(a,-1),1))+1)/2*.85+.15;var c=339.292,u=(20*i-102)/3/100;return u=Math.max(Math.min(u,.66),.06),s.createElement("div",{className:o()("digits__pie-container",{"digits__pie-container--selected":n})},s.createElement("svg",{className:"digits__pie-progress",width:"120",height:"120",viewBox:"0 0 120 120"},s.createElement("circle",{className:"progress__bg",cx:"60",cy:"60",r:"54",fill:"none",stroke:"#E8EEFC",strokeWidth:"12"}),i&&s.createElement("circle",{className:o()("progress__value",{"progress__value--is-max":e,"progress__value--is-min":r}),cx:"60",cy:"60",r:"54",fill:"none",strokeOpacity:e||r?1:a,strokeWidth:"12",strokeDasharray:[c*u,c*(1-u)],strokeDashoffset:c*((u+1)/2)})))};v.propTypes={is_max:a.a.bool,is_min:a.a.bool,percentage:a.a.number};var O=v,w=function(t){var e=t.barrier,r=t.is_digit_contract,n=t.has_entry_spot,i=t.is_lost,a=t.is_max,c=t.is_min,p=t.is_won,f=t.onSelect,h=t.latest_digit,y=t.selected_digit,_=t.status,b=t.stats,v=t.value,w=t.onLastDigitSpot,j=h.digit,S=h.spot,k=v===j,P=v===e,E=j===e,x=b?100*b/1e3:null;s.useEffect((function(){w&&w({spot:S,is_lost:i,is_selected_winning:E,is_latest:k,is_won:p})}),[h,S,e,v]);var C=Object(l.isMobile)()&&"function"==typeof f&&!_,D=Object(l.isMobile)()&&v===y&&!_;return s.createElement("div",{className:o()("digits__digit",{"digits__digit--latest":k,"digits__digit--win":p&&k,"digits__digit--loss":i&&k,"digits__digit--is-selectable":C,"digits__digit--is-selected":D}),onClick:function(){C&&f(v)}},s.createElement(O,{is_min:c,is_max:a,is_selected:P,percentage:x}),s.createElement(u.DesktopWrapper,null,s.createElement(d.a,{is_visible:!!(r&&k&&S&&_&&n),className:"digits__digit-spot",keyname:"digits__digit-spot"},s.createElement(m,{current_spot:S,is_lost:i,is_selected_winning:E,is_visible:!(!k||!S),is_won:p}))),s.createElement(g,{is_latest:k,is_lost:i,is_selected:P,is_won:p,percentage:x,value:v}))};w.propTypes={barrier:a.a.number,has_entry_spot:a.a.bool,is_lost:a.a.bool,is_won:a.a.bool,latest_digit:a.a.object,value:a.a.number};var j=Object(_.observer)(w),S=function(t){var e=t.is_lost,r=t.is_trade_page,n=t.is_won,i=t.position;return s.createElement(s.Fragment,null,!!i&&s.createElement("span",{className:"digits__pointer",style:{transform:"translate3d(calc(".concat(i.left,"px), ").concat(i.top,"px, 0px)")}},s.createElement(u.Icon,{icon:"IcProfit",className:o()("digits__icon",{"digits__icon--win":n&&!r,"digits__icon--loss":e&&!r}),color:n?"green":"red",custom_color:n||e?void 0:"var(--brand-orange)"})))};S.propTypes={is_lost:a.a.bool,is_won:a.a.bool,position:a.a.object};var k=S;function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=R(t);if(e){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return A(this,r)}}function A(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=Array.from(Array(10).keys()),N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(a,t);var e,r,n,i=M(a);function a(){var t;C(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=i.call.apply(i,[this].concat(r))).digit_offset={0:{left:6,top:0},1:{left:6+1*t.props.dimension,top:0},2:{left:6+2*t.props.dimension,top:0},3:{left:6+3*t.props.dimension,top:0},4:{left:6+4*t.props.dimension,top:0},5:{left:6+5*t.props.dimension,top:0},6:{left:6+6*t.props.dimension,top:0},7:{left:6+7*t.props.dimension,top:0},8:{left:6+8*t.props.dimension,top:0},9:{left:6+9*t.props.dimension,top:0}},t.digit_offset_mobile={0:{left:6,top:-60},1:{left:6+1*t.props.dimension,top:-60},2:{left:6+2*t.props.dimension,top:-60},3:{left:6+3*t.props.dimension,top:-60},4:{left:6+4*t.props.dimension,top:-60},5:{left:6+0*t.props.dimension,top:8},6:{left:6+1*t.props.dimension,top:8},7:{left:6+2*t.props.dimension,top:8},8:{left:6+3*t.props.dimension,top:8},9:{left:6+4*t.props.dimension,top:8}},t.handleSelect=function(e){t.is_selectable_digit_type&&e!==t.props.selected_digit&&"function"==typeof t.props.onDigitChange&&t.props.onDigitChange({target:{name:"last_digit",value:e}})},t.getBarrier=function(e){var r=t.props,n=r.barrier,o=r.contract_type,i={DIGITMATCH:function(t){return t===n},DIGITDIFF:function(t){return t!==n&&!isNaN(n)},DIGITOVER:function(t){return t>n},DIGITUNDER:function(t){return t<n},DIGITODD:function(t){return t%2},DIGITEVEN:function(t){return!(t%2)}};return o&&i[o]&&i[o](e)?e:null},t}return e=a,(r=[{key:"render",value:function(){var t=this,e=this.props,r=e.digits,n=e.digits_info,i=e.is_digit_contract,a=e.has_entry_spot,c=e.is_ended,u=e.is_trade_page,l=e.tick,p=e.selected_digit,f=e.status,d=Object.keys(n).sort().map((function(t){return n[t]})).slice(-1)[0]||{},h=c&&"won"===f&&i,y=c&&"lost"===f&&i,m=r?Math.min.apply(Math,E(r)):null,_=r?Math.max.apply(Math,E(r)):null,b=l?+l.pip_size:null,g=l&&l.ask?l.ask.toFixed(b):null,v=g?+g.split("").pop():null,O=l?this.offset[v]:this.offset[d.digit],w=h||y?d:{digit:v,spot:g};return s.createElement("div",{ref:function(e){return t.node=e},className:o()("digits",{"digits--trade":u})},L.map((function(e){return s.createElement(j,{barrier:t.getBarrier(e),has_entry_spot:a,is_digit_contract:i,is_lost:y,is_trade_page:u,is_won:h,key:e,is_max:r?r[e]===_:null,is_min:r?r[e]===m:null,stats:r?r[e]:null,status:f,latest_digit:u?w:d,value:e,onLastDigitSpot:t.props.onLastDigitSpot,onSelect:t.is_selectable_digit_type?t.handleSelect:null,selected_digit:!!t.is_selectable_digit_type&&p})})),s.createElement(k,{is_lost:y,is_trade_page:u,is_won:h,position:O}))}},{key:"offset",get:function(){return Object(l.isMobile)()?this.digit_offset_mobile:this.digit_offset}},{key:"is_selectable_digit_type",get:function(){return!!Object(l.isMobile)()&&"even_odd"!==this.props.trade_type}}])&&D(e.prototype,r),n&&D(e,n),a}(s.Component);N.propTypes={barrier:a.a.number,contract_type:a.a.string,digits_info:a.a.object,is_ended:a.a.bool,status:a.a.string,trade_type:a.a.string,onDigitChange:a.a.func,selected_digit:a.a.number};var I=Object(_.observer)(N);r("./sass/app/modules/contract/digits.scss");function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(){return(U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=W(t);if(e){var o=W(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return B(this,r)}}function B(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var q=function(t){var e=t.contract_info,r=t.digits_array,n=t.digits_info,o=t.display_status,i=t.is_digit_contract,a=t.is_ended,u=t.is_trade_page,p=t.onDigitChange,d=t.selected_digit,h=t.trade_type,y=G(t,["contract_info","digits_array","digits_info","display_status","is_digit_contract","is_ended","is_trade_page","onDigitChange","selected_digit","trade_type"]),m=e.date_start,_=y.tick,b=!u||!!_,g=!!u&&Object(f.h)(e,_),v=!g&&b?o:null;if(m&&!g){_=null;var O=e.tick_stream;if(O&&O.length){var w=Object(c.toJS)(O.slice(-1)[0]);_={ask:w.tick,bid:w.tick,epoch:w.epoch,pip_size:w.tick_display_value.split(".")[1].length,current_tick:O.length}}}return s.useEffect((function(){y.onChangeStatus&&y.onChangeStatus({status:v,current_tick:_?_.current_tick:null})}),[_,u,o]),s.createElement(I,{dimension:Object(l.isMobile)()?64:52,has_entry_spot:!!e.entry_tick,barrier:!g&&b?+e.barrier:null,contract_type:!g&&b?e.contract_type:null,digits:r,digits_info:!g&&b?n:{},is_digit_contract:i,is_ended:a,is_trade_page:u,status:v,tick:_,trade_type:h,onDigitChange:p,selected_digit:d,onLastDigitSpot:y.onLastDigitSpot})},X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(a,t);var e,r,n,i=V(a);function a(){var t;F(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=i.call.apply(i,[this].concat(r))).state={mounted:!1},t.onChangeStatus=function(e){var r=e.status,n=e.current_tick;t.setState({status:r,current_tick:n})},t.onLastDigitSpot=function(e){var r=e.spot,n=e.is_lost,o=e.is_selected_winning,i=e.is_latest,a=e.is_won;t.setState({spot:r,is_lost:n,is_selected_winning:o,is_latest:i,is_won:a})},t}return e=a,(r=[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var t=this.props,e=t.contract_info,r=t.digits_array,n=t.is_digit_contract,i=t.is_trade_page,a=this.state,c=a.status,l=a.spot,f=a.is_lost,h=a.is_selected_winning,y=a.is_latest,_=a.is_won,b=a.current_tick;return s.createElement(s.Fragment,null,s.createElement(u.DesktopWrapper,null,s.createElement(d.b,{is_visible:(r||n)&&this.state.mounted,className:"digits__container",keyname:"digits",type:"bottom"},i&&s.createElement("div",{className:"digits__tooltip-container"},s.createElement(u.Popover,{alignment:"top",classNameBubble:"digits__tooltip-bubble",icon:"info",id:"dt_last_digits_info_tooltip",margin:4,message:this.popover_message})),s.createElement(q,this.props))),s.createElement(u.MobileWrapper,null,s.createElement("div",{className:"digits__container"},s.createElement(d.a,{is_visible:!!(n&&c&&l&&e.entry_tick),className:o()("digits__digit-spot",{"digits__digit-spot--is-trading":i}),keyname:"digits__digit-spot"},i&&s.createElement("span",{className:"digits__digit-spot-value"},s.createElement(p.Localize,{i18n_default_text:"Tick {{current_tick}} - ",values:{current_tick:b}})),s.createElement(m,{current_spot:l,is_lost:f,is_selected_winning:h,is_visible:!(!y||!l),is_won:_})),s.createElement(q,U({},this.props,{onChangeStatus:this.onChangeStatus,onLastDigitSpot:this.onLastDigitSpot})))))}},{key:"popover_message",get:function(){var t=this.props,e=t.contract_info,r=t.is_trade_page,n=t.underlying,o=r?n:e.underlying;return Object(p.localize)("Last digit stats for latest 1000 ticks for {{underlying_name}}",{underlying_name:Object(h.b)()[o.toUpperCase()]})}}])&&Y(e.prototype,r),n&&Y(e,n),a}(s.PureComponent);X.propTypes={contract_info:a.a.object,digits_info:a.a.object,display_status:a.a.string,is_digit_contract:a.a.bool,is_ended:a.a.bool,is_trade_page:a.a.bool,trade_type:a.a.string,onDigitChange:a.a.func,selected_digit:a.a.number};var Z=X},"./Modules/Reports/Helpers/market-underlying.js":function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return i})),r.d(e,"d",(function(){return a})),r.d(e,"a",(function(){return s}));var n=r("./Constants/index.js"),o=function(t){var e={category:"",underlying:""},r=new RegExp("^([A-Z]+)_((OTC_[A-Z0-9]+)|R_[\\d]{2,3}|[A-Z]+)_").exec(t);return null!==r&&(e.category=r[1].toLowerCase(),e.underlying=r[2]),e},i=function(t){return t?Object(n.b)()[t.toUpperCase()]:null},a=function(t){return t?Object(n.a)()[t.toUpperCase()].name:null},s=function(t,e){if(/^MULTUP|MULTDOWN/.test(e))return"";var r=new RegExp("ticks|tick|seconds|minutes|minute|hour|hours").exec(t);if(null!==r){var n=r[0],o=n[0].toUpperCase()+n.slice(1);return o.endsWith("s")?o:"".concat(o,"s")}return"Days"}},"./Modules/SmartChart/Components/bottom-widgets.jsx":function(t,e,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=function(t){var e=t.Digits;return i.createElement("div",{className:"bottom-widgets"},e)};a.propTypes={Digits:o.a.node},e.a=a},"./Modules/SmartChart/Components/top-widgets.jsx":function(t,e,r){"use strict";var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("react-dom"),s=r.n(a),c=r("@deriv/components"),u=r("@deriv/translations"),l=r("@deriv/shared"),p=r("./Stores/connect.js"),f=r("./Modules/SmartChart/index.js"),d=Object(p.b)((function(t){var e=t.modules;return{granularity:e.contract_trade.granularity,markers_array:e.contract_trade.markers_array}}))((function(t){var e=t.markers_array,r=t.granularity,n=e[e.length-1];if(!n||!n.contract_info.tick_stream)return null;if(Object(l.isEnded)(n.contract_info)||0!==r)return null;var o=n.contract_info,a=o.contract_type,s=o.tick_stream,c=o.tick_count,p=Object(l.isDigitContract)(a)?s.length:Math.max(s.length-1,0);return i.createElement("span",{className:"recent-trade-info"},Object(u.localize)("Tick")," ",p,"/",c)})),h=function(t){var e=t.InfoBox,r=t.is_mobile,n=t.is_title_enabled,o=void 0===n||n,a=t.onSymbolChange,u=t.y_axis_width,l=t.theme,p=t.active_category,h=t.open,y=t.is_digits_widget_active,m=i.createElement(f.c,{active_category:p,open:h,enabled:o,onChange:a,searchInputClassName:"data-hj-whitelist",isNestedList:r,portalNodeId:r?"deriv_app":void 0}),_=s.a.createPortal(i.createElement("div",{className:"smartcharts-".concat(l)},i.createElement("div",{className:"top-widgets-portal",style:{width:"calc(100% - ".concat(u?u+5:0,"px)")}},m,!y&&i.createElement(d,null))),document.getElementById("app_contents"));return i.createElement(i.Fragment,null,e,i.createElement(c.MobileWrapper,null,_),i.createElement(c.DesktopWrapper,null,m),i.createElement(f.a,null))};h.propTypes={InfoBox:o.a.node,is_mobile:o.a.bool,is_title_enabled:o.a.bool,onSymbolChange:o.a.func},e.a=h},"./Modules/SmartChart/index.js":function(t,e,r){"use strict";r.d(e,"h",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return u})),r.d(e,"b",(function(){return l})),r.d(e,"d",(function(){return p})),r.d(e,"g",(function(){return f})),r.d(e,"i",(function(){return d})),r.d(e,"k",(function(){return h})),r.d(e,"j",(function(){return y})),r.d(e,"e",(function(){return m})),r.d(e,"f",(function(){return _}));var n=r("react"),o=r("@deriv/shared"),i=Promise.resolve().then(r.t.bind(null,"@deriv/deriv-charts",7));i.then((function(t){(0,t.setSmartChartsPublicPath)(Object(o.getUrlBase)("/js/smartcharts/"))}));var a=function(t){return function(){return i.then((function(e){return{default:e[t]}}))}},s=n.lazy(a("SmartChart")),c=n.lazy(a("AssetInformation")),u=n.lazy(a("ChartTitle")),l=(a("ChartSize"),n.lazy(a("ChartMode"))),p=(a("Comparison"),n.lazy(a("DrawTools"))),f=n.lazy(a("Share")),d=n.lazy(a("StudyLegend")),h=n.lazy(a("Views")),y=n.lazy(a("ToolbarWidget")),m=n.lazy(a("FastMarker")),_=n.lazy(a("RawMarker"))},"./Modules/Trading/Containers/toast-popup.jsx":function(t,e,r){"use strict";r.d(e,"b",(function(){return m})),r.d(e,"a",(function(){return b}));var n=r("../node_modules/classnames/index.js"),o=r.n(n),i=r("../node_modules/prop-types/index.js"),a=r.n(i),s=r("react"),c=r("react-dom"),u=r.n(c),l=r("@deriv/components"),p=r("./Stores/connect.js");function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function y(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var m=function(t){var e=t.portal_id,r=void 0===e?"popup_root":e,n=t.children,i=t.className,a=y(t,["portal_id","children","className"]);return document.getElementById(r)?u.a.createPortal(s.createElement(l.Toast,h({className:o()("dc-toast-popup",i)},a),n),document.getElementById(r)):null},_=function(t){var e=t.status,r=t.portal_id,n=t.message,i=f(s.useState(!1),2),a=i[0],c=i[1];return document.getElementById(r)&&n?(a||"online"===e?a&&"online"===e&&setTimeout((function(){c(!1)}),1500):c(!0),u.a.createPortal(s.createElement(l.MobileWrapper,null,s.createElement(l.Toast,{className:o()({"dc-toast--blinker":"blinker"===e}),is_open:a,timeout:0,type:"error"},n)),document.getElementById(r))):null};_.propTypes={portal_id:a.a.string,status:a.a.string,message:a.a.string};var b=Object(p.b)((function(t){return{network_status:t.common.network_status}}))((function(t){var e=t.network_status;return s.createElement(_,{portal_id:"popup_root",message:e.tooltip,status:e.class})}))},"./Modules/Trading/Helpers/digits.js":function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return a}));var n=["even_odd","match_diff","over_under"],o=["DIGITDIFF","DIGITMATCH","DIGITOVER","DIGITUNDER","DIGITEVEN","DIGITODD"],i=function(t){return n.includes(t)},a=function(t){return o.includes(t)}},"./Services/ws-methods.js":function(t,e,r){"use strict";var n;r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o}));var o=function(t){n=t}},"./Stores/Modules/Contract/Helpers/contract-type.js":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=function(t){return"rise_fall"===t||"rise_fall_equal"===t||"high_low"===t}},"./Stores/Modules/Contract/Helpers/logic.js":function(t,e,r){"use strict";r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return p})),r.d(e,"h",(function(){return h})),r.d(e,"i",(function(){return y})),r.d(e,"g",(function(){return m})),r.d(e,"e",(function(){return _})),r.d(e,"f",(function(){return b})),r.d(e,"a",(function(){return g})),r.d(e,"d",(function(){return v}));var n=r("../node_modules/moment/moment.js"),o=r.n(n),i=r("@deriv/shared"),a=r("./_common/base/server_time.js"),s=r.n(a),c=function(t){if(Object(i.isEmptyObject)(t))return null;var e=t.date_start,r=_(t),n=f(e,r||null),o=p(e,r||null);return{chart_type:t.tick_count?"mountain":o,granularity:t.tick_count?0:n,end_epoch:r,start_epoch:e,scroll_to_epoch:t.purchase_time}},u=[[1,0],[2,120],[6,600],[24,900],[120,3600],[720,14400]],l=function(t){return t||s.a.get().unix()},p=function(t,e){return o.a.duration(o.a.unix(l(e)).diff(o.a.unix(t))).asHours()<=1?"mountain":"candle"},f=function(t,e){return d(l(e)-t)},d=function(t){return(u.find((function(e){return t<=3600*e[0]}))||[null,86400])[1]},h=function(t,e){if(Object(i.isEmptyObject)(e)||Object(i.isEmptyObject)(t))return!1;var r=_(t);return!(!r||!e.epoch)&&o.a.duration(o.a.unix(e.epoch).diff(o.a.unix(r))).asSeconds()>=2},y=function(t){return"cancelled"===t.status},m=function(t){return!!(t.cancellation.date_expiry<s.a.get().unix())},_=function(t){var e=t.exit_tick_time,r=t.date_expiry,n=t.is_expired,o=t.is_path_dependent,a=t.sell_time,s=t.status,c=t.tick_count;if(n&&"open"!==s||Object(i.isUserSold)(t)||y(t))return Object(i.isUserSold)(t)?a>r?r:a:!c&&a>r||r>e&&!+o?r:e},b=function(t){var e=t.contract_info;return e.bid_price-e.buy_price},g=function(t){return t.contract_info.buy_price},v=function(t){var e=t.contract_update,r=t.limit_order,n=Object(i.getLimitOrderAmount)(r||e),o=n.stop_loss,a=n.take_profit;return{contract_update_stop_loss:o?Math.abs(o).toString():"",contract_update_take_profit:a?a.toString():"",has_contract_update_stop_loss:!!o,has_contract_update_take_profit:!!a}}},"./Stores/Modules/MT5/Helpers/mt5-config.js":function(t,e,r){"use strict";r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return a}));var n=r("@deriv/translations"),o=function(){var t={account_type:"",leverage:500,short_title:Object(n.localize)("Synthetic")},e={account_type:"financial",leverage:1e3,short_title:Object(n.localize)("Financial")},r={account_type:"financial_stp",leverage:100,short_title:Object(n.localize)("Financial STP")};return{demo:{synthetic:{mt5_account_type:t.account_type,leverage:t.leverage,title:Object(n.localize)("Demo Synthetic"),short_title:t.short_title},financial:{mt5_account_type:e.account_type,leverage:e.leverage,title:Object(n.localize)("Demo Financial"),short_title:e.short_title},financial_stp:{mt5_account_type:r.account_type,leverage:r.leverage,title:Object(n.localize)("Demo Financial STP"),short_title:r.short_title}},real:{synthetic:{mt5_account_type:t.account_type,leverage:t.leverage,title:Object(n.localize)("Synthetic"),short_title:t.short_title},financial:{mt5_account_type:e.account_type,leverage:e.leverage,title:Object(n.localize)("Financial"),short_title:e.short_title},financial_stp:{mt5_account_type:r.account_type,leverage:r.leverage,title:Object(n.localize)("Financial STP"),short_title:r.short_title}}}},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e={real_svg:{type:"synthetic",category:"real"},real_svg_financial:{type:"financial",category:"real"},real_vanuatu_financial:{type:"financial",category:"real"},real_labuan_financial_stp:{type:"financial_stp",category:"real"},demo_svg:{type:"synthetic",category:"demo"},demo_svg_financial:{type:"financial",category:"demo"},demo_vanuatu_financial:{type:"financial",category:"demo"},demo_labuan_financial_stp:{type:"financial_stp",category:"demo"},demo_maltainvest_financial:{type:"financial",category:"demo"},real_maltainvest_financial:{type:"financial",category:"real"},demo_malta:{type:"synthetic",category:"demo"},real_malta:{type:"synthetic",category:"real"}};return void 0!==t?e[t]&&e[t].type?e[t]:{type:"",category:""}:e},a=function(t){var e=t.category,r=t.type;return{real:{synthetic:{account_type:"gaming"},financial:{account_type:"financial",mt5_account_type:"financial"},financial_stp:{account_type:"financial",mt5_account_type:"financial_stp"}},demo:{synthetic:{account_type:"demo"},financial:{account_type:"demo",mt5_account_type:"financial"},financial_stp:{account_type:"demo",mt5_account_type:"financial_stp"}}}[e][r]}},"./Stores/Modules/MT5/mt5-store.js":function(t,e,r){"use strict";r.d(e,"a",(function(){return ct}));var n,o,i,a,s,c,u,l,p,f,d,h,y,m,_,b,g,v,O,w,j,S,k,P,E,x,C,D,T,M,A,R,L,N,I,z,U,F,Y,H=r("mobx"),V=r("./Services/ws-methods.js"),B=r("./Stores/base-store.js"),W=r("./Stores/Modules/MT5/Helpers/mt5-config.js");function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function X(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){q(i,n,o,a,s,"next",t)}function s(t){q(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(r),!0).forEach((function(e){J(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function J(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tt(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=at(t);if(e){var o=at(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ot(this,r)}}function ot(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?it(t):e}function it(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var ct=(n=H.action.bound,o=H.action.bound,i=H.action.bound,a=H.action.bound,s=H.action.bound,c=H.action.bound,u=H.action.bound,l=H.action.bound,p=H.action.bound,f=H.action.bound,d=H.action.bound,h=H.action.bound,y=H.action.bound,m=H.action.bound,_=H.action.bound,b=H.action.bound,g=H.action.bound,v=H.action.bound,O=H.action.bound,w=H.action.bound,j=H.action.bound,S=H.action.bound,k=H.action.bound,P=H.action.bound,E=H.action.bound,Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(c,t);var e,r,n,o,i,a,s=nt(c);function c(t){var e,r=t.root_store;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),tt(e=s.call(this,{root_store:r}),"is_compare_accounts_visible",C,it(e)),tt(e,"account_type",D,it(e)),tt(e,"new_account_response",T,it(e)),tt(e,"map_type",M,it(e)),tt(e,"has_mt5_error",A,it(e)),tt(e,"error_message",R,it(e)),tt(e,"is_mt5_success_dialog_enabled",L,it(e)),tt(e,"is_mt5_financial_stp_modal_open",N,it(e)),tt(e,"is_mt5_password_modal_enabled",I,it(e)),tt(e,"is_mt5_reset_password_modal_enabled",z,it(e)),tt(e,"is_mt5_pending_dialog_open",U,it(e)),tt(e,"current_account",F,it(e)),e}return e=c,r=[{key:"onMount",value:function(){this.checkShouldOpenAccount(),this.onRealAccountSignupEnd(this.realAccountSignupEndListener),this.root_store.ui.is_mt5_page=!0}},{key:"onUnmount",value:function(){this.disposeRealAccountSignupEnd(),this.root_store.ui.is_mt5_page=!1}},{key:"checkShouldOpenAccount",value:function(){var t=sessionStorage.getItem("open_mt5_account_type");if(t){var e=K(t.split("."),2),r=e[0],n=e[1];this.createMT5Account({category:r,type:n}),sessionStorage.removeItem("open_mt5_account_type")}}},{key:"realAccountSignupEndListener",value:function(){var t=JSON.parse(sessionStorage.getItem("post_real_account_signup"));return t&&t.category&&t.type&&(sessionStorage.removeItem("post_real_account_signup"),this.enableMt5PasswordModal()),Promise.resolve()}},{key:"clearMt5Error",value:function(){this.error_message="",this.has_mt5_error=!1,this.is_mt5_password_modal_enabled=!1}},{key:"createMT5Account",value:function(t){var e=t.category,r=t.type;this.setAccountType({category:e,type:r}),"real"===e?this.realMt5Signup():this.demoMt5Signup()}},{key:"demoMt5Signup",value:function(){this.enableMt5PasswordModal()}},{key:"disableMt5PasswordModal",value:function(){this.is_mt5_password_modal_enabled=!1}},{key:"enableMt5PasswordModal",value:function(){this.is_mt5_password_modal_enabled=!0}},{key:"getName",value:function(){var t=(this.root_store.client.account_settings&&this.root_store.client.account_settings).first_name,e=this.mt5_companies[this.account_type.category][this.account_type.type].title;return t?[t,e].join(" "):e}},{key:"openAccount",value:function(t){var e=this.getName(),r=this.mt5_companies[this.account_type.category][this.account_type.type].leverage,n=Object(W.a)(this.account_type);return V.a.mt5NewAccount($({mainPassword:t,email:this.root_store.client.email_address,leverage:r,name:e},n))}},{key:"beginRealSignupForMt5",value:function(){sessionStorage.setItem("post_real_account_signup",JSON.stringify(this.account_type)),this.root_store.ui.openRealAccountSignup()}},{key:"realMt5Signup",value:function(){switch(this.account_type.type){case"financial":this.enableMt5PasswordModal();break;case"financial_stp":this.root_store.client.fetchResidenceList(),this.root_store.client.fetchStatesList(),this.root_store.client.fetchAccountSettings(),this.enableMt5FinancialStpModal();break;case"synthetic":this.enableMt5PasswordModal();break;default:throw new Error("Cannot determine mt5 account signup.")}}},{key:"enableMt5FinancialStpModal",value:function(){"real"===this.account_type.category&&"financial_stp"===this.account_type.type&&(this.is_mt5_financial_stp_modal_open=!0)}},{key:"setAccountType",value:function(t){this.account_type=t}},{key:"setCurrentAccount",value:function(t,e){this.current_account=$($({},e),t)}},{key:"setError",value:function(t,e){this.has_mt5_error=t,this.error_message=e?e.message:""}},{key:"setMt5Account",value:function(t){this.new_account_response=t}},{key:"setMt5SuccessDialog",value:function(t){this.is_mt5_success_dialog_enabled=!!t}},{key:"storeProofOfAddress",value:function(t,e,r){var n=this,o=r.setStatus;return new Promise((function(r,i){o({msg:""}),n.setState({is_btn_loading:!0}),V.a.setSettings(e).then((function(e){e.error?(o({msg:e.error.message}),i(e)):(n.root_store.fetchAccountSettings(),t.current.upload().then((function(t){t.warning?(o({msg:t.message}),i(t)):V.a.authorized.storage.getAccountStatus().then((function(t){var e=t.error,n=t.get_account_status;e&&i(e);var o=n.authentication.identity,a=!(o&&"none"===o.status);r({identity:o,has_poi:a})}))})))}))}))}},{key:"submitMt5Password",value:(a=X(regeneratorRuntime.mark((function t(e,r){var n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.openAccount(e);case 2:(n=t.sent).error?(this.setError(!0,n.error),console.warn("API Error: ",n)):(V.a.authorized.storage.mt5LoginList().then(this.root_store.client.responseMt5LoginList),V.a.transferBetweenAccounts(),Object(H.runInAction)((function(){o.setMt5Account(n.mt5_new_account),o.is_mt5_password_modal_enabled=!1,o.has_mt5_error=!1,setTimeout((function(){return o.setMt5SuccessDialog(!0)}),300)}))),r(!1);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"toggleCompareAccountsModal",value:function(){this.is_compare_accounts_visible=!this.is_compare_accounts_visible}},{key:"disableMt5FinancialStpModal",value:function(){this.is_mt5_financial_stp_modal_open=!1}},{key:"topUpVirtual",value:(i=X(regeneratorRuntime.mark((function t(){var e,r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.a.authorized.mt5Deposit({to_mt5:this.current_account.login});case 2:if((e=t.sent).error){t.next=11;break}return t.next=6,V.a.authorized.mt5LoginList().then(this.root_store.client.responseMt5LoginList);case 6:r=this.root_store.client.mt5_login_list.find((function(t){return t.login===n.current_account.login})).balance,Object(H.runInAction)((function(){n.root_store.ui.is_top_up_virtual_open=!1,n.current_account.balance=r})),setTimeout((function(){Object(H.runInAction)((function(){n.root_store.ui.is_top_up_virtual_success=!0}))}),250),t.next=12;break;case 11:console.error(e);case 12:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"closeMT5PendingDialog",value:function(){this.is_mt5_pending_dialog_open=!1}},{key:"openPendingDialog",value:function(){var t=this;setTimeout(Object(H.runInAction)((function(){t.is_mt5_pending_dialog_open=!0})),300)}},{key:"sendVerifyEmail",value:function(){return V.a.verifyEmail(this.root_store.client.email,"mt5_password_reset")}},{key:"setMt5PasswordResetModal",value:function(t){this.is_mt5_reset_password_modal_enabled=!!t}},{key:"has_mt5_account",get:function(){return this.current_list.length>0}},{key:"account_title",get:function(){return this.account_type.category?Object(W.c)()[this.account_type.category][this.account_type.type].title:""}},{key:"current_list",get:function(){var t=[];return this.root_store.client.mt5_login_list.forEach((function(e){var r=Object(W.b)(e.group),n=r.type,o=r.category;t["".concat(o,".").concat(n)]=Object.assign({},e)})),t}},{key:"mt5_companies",get:function(){return Object(W.c)()}}],n=[{key:"changePassword",value:(o=X(regeneratorRuntime.mark((function t(e){var r,n,o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.login,n=e.old_password,o=e.new_password,i=e.password_type,t.next=3,V.a.authorized.mt5PasswordChange(r,n,o,i);case 3:return a=t.sent,s=a.error,t.abrupt("return",null==s?void 0:s.message);case 6:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})}],r&&et(e.prototype,r),n&&et(e,n),c}(B.a),C=st((x=Y).prototype,"is_compare_accounts_visible",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=st(x.prototype,"account_type",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{category:void 0,type:void 0}}}),T=st(x.prototype,"new_account_response",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),M=st(x.prototype,"map_type",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),A=st(x.prototype,"has_mt5_error",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=st(x.prototype,"error_message",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=st(x.prototype,"is_mt5_success_dialog_enabled",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=st(x.prototype,"is_mt5_financial_stp_modal_open",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=st(x.prototype,"is_mt5_password_modal_enabled",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=st(x.prototype,"is_mt5_reset_password_modal_enabled",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=st(x.prototype,"is_mt5_pending_dialog_open",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=st(x.prototype,"current_account",[H.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),st(x.prototype,"has_mt5_account",[H.computed],Object.getOwnPropertyDescriptor(x.prototype,"has_mt5_account"),x.prototype),st(x.prototype,"account_title",[H.computed],Object.getOwnPropertyDescriptor(x.prototype,"account_title"),x.prototype),st(x.prototype,"current_list",[H.computed],Object.getOwnPropertyDescriptor(x.prototype,"current_list"),x.prototype),st(x.prototype,"onMount",[n],Object.getOwnPropertyDescriptor(x.prototype,"onMount"),x.prototype),st(x.prototype,"onUnmount",[o],Object.getOwnPropertyDescriptor(x.prototype,"onUnmount"),x.prototype),st(x.prototype,"realAccountSignupEndListener",[i],Object.getOwnPropertyDescriptor(x.prototype,"realAccountSignupEndListener"),x.prototype),st(x.prototype,"clearMt5Error",[a],Object.getOwnPropertyDescriptor(x.prototype,"clearMt5Error"),x.prototype),st(x.prototype,"createMT5Account",[s],Object.getOwnPropertyDescriptor(x.prototype,"createMT5Account"),x.prototype),st(x.prototype,"disableMt5PasswordModal",[c],Object.getOwnPropertyDescriptor(x.prototype,"disableMt5PasswordModal"),x.prototype),st(x.prototype,"enableMt5PasswordModal",[u],Object.getOwnPropertyDescriptor(x.prototype,"enableMt5PasswordModal"),x.prototype),st(x.prototype,"getName",[l],Object.getOwnPropertyDescriptor(x.prototype,"getName"),x.prototype),st(x.prototype,"openAccount",[p],Object.getOwnPropertyDescriptor(x.prototype,"openAccount"),x.prototype),st(x.prototype,"beginRealSignupForMt5",[f],Object.getOwnPropertyDescriptor(x.prototype,"beginRealSignupForMt5"),x.prototype),st(x.prototype,"enableMt5FinancialStpModal",[d],Object.getOwnPropertyDescriptor(x.prototype,"enableMt5FinancialStpModal"),x.prototype),st(x.prototype,"setAccountType",[h],Object.getOwnPropertyDescriptor(x.prototype,"setAccountType"),x.prototype),st(x.prototype,"setCurrentAccount",[y],Object.getOwnPropertyDescriptor(x.prototype,"setCurrentAccount"),x.prototype),st(x.prototype,"setError",[m],Object.getOwnPropertyDescriptor(x.prototype,"setError"),x.prototype),st(x.prototype,"setMt5Account",[_],Object.getOwnPropertyDescriptor(x.prototype,"setMt5Account"),x.prototype),st(x.prototype,"setMt5SuccessDialog",[b],Object.getOwnPropertyDescriptor(x.prototype,"setMt5SuccessDialog"),x.prototype),st(x.prototype,"storeProofOfAddress",[g],Object.getOwnPropertyDescriptor(x.prototype,"storeProofOfAddress"),x.prototype),st(x.prototype,"submitMt5Password",[v],Object.getOwnPropertyDescriptor(x.prototype,"submitMt5Password"),x.prototype),st(x.prototype,"toggleCompareAccountsModal",[O],Object.getOwnPropertyDescriptor(x.prototype,"toggleCompareAccountsModal"),x.prototype),st(x.prototype,"disableMt5FinancialStpModal",[w],Object.getOwnPropertyDescriptor(x.prototype,"disableMt5FinancialStpModal"),x.prototype),st(x.prototype,"topUpVirtual",[j],Object.getOwnPropertyDescriptor(x.prototype,"topUpVirtual"),x.prototype),st(x.prototype,"closeMT5PendingDialog",[S],Object.getOwnPropertyDescriptor(x.prototype,"closeMT5PendingDialog"),x.prototype),st(x.prototype,"openPendingDialog",[k],Object.getOwnPropertyDescriptor(x.prototype,"openPendingDialog"),x.prototype),st(x.prototype,"sendVerifyEmail",[P],Object.getOwnPropertyDescriptor(x.prototype,"sendVerifyEmail"),x.prototype),st(x.prototype,"setMt5PasswordResetModal",[E],Object.getOwnPropertyDescriptor(x.prototype,"setMt5PasswordResetModal"),x.prototype),x)},"./Stores/Modules/Portfolio/Helpers/details.js":function(t,e,r){"use strict";r.d(e,"d",(function(){return a})),r.d(e,"c",(function(){return s})),r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return u}));var n=r("@deriv/shared"),o=r("@deriv/translations"),i=function(t){return t%1!=0},a=function(){return{d:{name_plural:Object(o.localize)("days"),name_singular:Object(o.localize)("day")},h:{name_plural:Object(o.localize)("hours"),name_singular:Object(o.localize)("hour")},m:{name_plural:Object(o.localize)("minutes"),name_singular:Object(o.localize)("minute")},s:{name:Object(o.localize)("seconds")}}},s=function(t){var e=a(),r=t.asMilliseconds()/1e3;if(r){if(r>=864e5)return r/864e5<=2?e.d.name_singular:e.d.name_plural;if(r>=36e5&&r<864e5)return i(r/36e5)?"":36e5===r?e.h.name_singular:e.h.name_plural;if(r>=6e4&&r<36e5)return i(r/6e4)?"":6e4===r?e.m.name_singular:e.m.name_plural;if(r>=1e3&&r<6e4)return e.s.name}return e.s.name},c=function(t){return Object(n.getDiffDuration)(Object(n.epochToMoment)(t.purchase_time||t.date_start),Object(n.epochToMoment)(t.date_expiry))},u=function(t){return t.tick_count?t.tick_count:function(t){var e=t.asMilliseconds()/1e3;if(e>=864e5){var r=e/864e5;return Math.floor(r)}if(e>=36e5&&e<864e5){var o=i(e/36e5),a=i(e/6e4)?"HH[h] mm[m] ss[s]":"HH[h] mm[m]";return o?Object(n.formatMiliseconds)(e,a):Math.floor(e/36e5)}return e>=6e4&&e<36e5?i(e/6e4)?Object(n.formatMiliseconds)(e,"mm[m] ss[s]"):Math.floor(e/6e4):Math.floor(e/1e3)}(c(t))}},"./Stores/Modules/Trading/Constants/contract.js":function(t,e,r){"use strict";r.d(e,"c",(function(){return i})),r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return s})),r.d(e,"d",(function(){return c}));var n=r("@deriv/translations");function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=function(){return{payout:Object(n.localize)("Payout"),stake:Object(n.localize)("Stake"),multiplier:Object(n.localize)("Multiplier")}},a=function(){return{rise_fall:{title:Object(n.localize)("Rise/Fall"),trade_types:["CALL","PUT"],basis:["stake","payout"],components:["start_date"],barrier_count:0},rise_fall_equal:{title:Object(n.localize)("Rise/Fall"),trade_types:["CALLE","PUTE"],basis:["stake","payout"],components:["start_date"],barrier_count:0},high_low:{title:Object(n.localize)("Higher/Lower"),trade_types:["CALL","PUT"],basis:["stake","payout"],components:["barrier"],barrier_count:1},touch:{title:Object(n.localize)("Touch/No Touch"),trade_types:["ONETOUCH","NOTOUCH"],basis:["stake","payout"],components:["barrier"]},end:{title:Object(n.localize)("Ends In/Ends Out"),trade_types:["EXPIRYMISS","EXPIRYRANGE"],basis:["stake","payout"],components:["barrier"]},stay:{title:Object(n.localize)("Stays In/Goes Out"),trade_types:["RANGE","UPORDOWN"],basis:["stake","payout"],components:["barrier"]},asian:{title:Object(n.localize)("Asian Up/Asian Down"),trade_types:["ASIANU","ASIAND"],basis:["stake","payout"],components:[]},match_diff:{title:Object(n.localize)("Matches/Differs"),trade_types:["DIGITMATCH","DIGITDIFF"],basis:["stake","payout"],components:["last_digit"]},even_odd:{title:Object(n.localize)("Even/Odd"),trade_types:["DIGITODD","DIGITEVEN"],basis:["stake","payout"],components:[]},over_under:{title:Object(n.localize)("Over/Under"),trade_types:["DIGITOVER","DIGITUNDER"],basis:["stake","payout"],components:["last_digit"]},lb_call:{title:Object(n.localize)("Close-to-Low"),trade_types:["LBFLOATCALL"],basis:["multiplier"],components:[]},lb_put:{title:Object(n.localize)("High-to-Close"),trade_types:["LBFLOATPUT"],basis:["multiplier"],components:[]},lb_high_low:{title:Object(n.localize)("High-to-Low"),trade_types:["LBHIGHLOW"],basis:["multiplier"],components:[]},tick_high_low:{title:Object(n.localize)("High Tick/Low Tick"),trade_types:["TICKHIGH","TICKLOW"],basis:[],components:[]},run_high_low:{title:Object(n.localize)("Only Ups/Only Downs"),trade_types:["RUNHIGH","RUNLOW"],basis:[],components:[]},reset:{title:Object(n.localize)("Reset Up/Reset Down"),trade_types:["RESETCALL","RESETPUT"],basis:[],components:[]},callputspread:{title:Object(n.localize)("Spread Up/Spread Down"),trade_types:["CALLSPREAD","PUTSPREAD"],basis:[],components:[]},multiplier:{title:Object(n.localize)("Multipliers"),trade_types:["MULTUP","MULTDOWN"],basis:["stake"],components:["multiplier","take_profit","stop_loss","cancellation"],config:{hide_duration:!0}}}},s=function(){var t;return o(t={},Object(n.localize)("Ups & Downs"),["rise_fall","rise_fall_equal","run_high_low","reset","asian","callputspread"]),o(t,Object(n.localize)("Highs & Lows"),["high_low","touch","tick_high_low"]),o(t,Object(n.localize)("Ins & Outs"),["end","stay"]),o(t,Object(n.localize)("Look Backs"),["lb_high_low","lb_put","lb_call"]),o(t,Object(n.localize)("Digits"),["match_diff","even_odd","over_under"]),o(t,Object(n.localize)("Multipliers"),["multiplier"]),t},c=["callputspread","run_high_low","reset","asian","tick_high_low","end","stay","lb_call","lb_put","lb_high_low"]},"./Stores/Modules/Trading/Helpers/barrier.js":function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return i}));var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:t.barriers};if(t.barriers){var r={};return["barrier","low_barrier","high_barrier"].forEach((function(e){e in t&&(r[e]=t[e])})),Object.assign(e||{},n({},t.expiry_type,r))}},i=function(t){return Math.floor(t)===t||t.length<1||t%1==0||isNaN(t)?0:t.toString().split(".")[1].length||0}},"./Stores/Modules/Trading/Helpers/contract-type.js":function(t,e,r){"use strict";var n=r("@deriv/shared"),o=r("./_common/base/server_time.js"),i=r.n(o),a=r("@deriv/translations"),s=r("./Services/ws-methods.js"),c=r("./Stores/Modules/Portfolio/Helpers/details.js"),u=r("./Stores/Modules/Trading/Helpers/barrier.js"),l=r("./Stores/Modules/Trading/Helpers/duration.js"),p=r("./Stores/Modules/Trading/Helpers/start-date.js"),f=r("./Stores/Modules/Trading/Constants/contract.js");function d(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){d(i,n,o,a,s,"next",t)}function s(t){d(i,n,o,a,s,"throw",t)}a(void 0)}))}}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,e)||_(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){if(t){if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var j,S,k,P,E,x,C,D,T,M,A,R,L,N,I,z,U,F,Y,H,V,B,W,G,q,X=(S={},k={},P={},E={},x=!1,C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[t.contract_type]=t.contract_display,e},D=function(t,e){return-1!==t.indexOf(e)?e:t[0]},T=function(t){return{form_components:["duration","amount"].concat(m(j[t].components)).filter((function(e){return!("duration"===e&&j[t].config&&j[t].config.hide_duration)}))}},M=function(t,e){return{duration_units_list:Object(n.getPropertyValue)(S,[t,"config","durations","units_display",e])||[]}},A=function(t,e,r){var o=Object(n.getPropertyValue)(S,[e,"config","durations","units_display",r])||[],i=[];return o.forEach((function(t){i.push(t.value)})),{duration_unit:D(i,t)}},R=function(t,e,r){var o=Object(n.getPropertyValue)(S,[t,"config","durations","min_max",e])||{};return r&&(o=o[r]||{}),{duration_min_max:o}},L=function(t){return{contract_start_type:t===Number(0)?"spot":"forward"}},N=function(t,e){var r=Object(n.getPropertyValue)(S,[t,"config"]),o=[];return r.has_spot&&o.push({text:Object(a.localize)("Now"),value:Number(0)}),r.forward_starting_dates&&o.push.apply(o,m(r.forward_starting_dates)),{start_date:o.find((function(t){return t.value===e}))?e:o[0].value,start_dates_list:o}},I=m(Array(24).keys()).map((function(t){return"0".concat(t).slice(-2)})),z=m(Array(12).keys()).map((function(t){return"0".concat(5*t).slice(-2)})),U=function(t,e,r){return t&&!Object(p.b)(t,e)&&(e.minute(z.find((function(r){return Object(p.b)(t,e.minute(r))}))||e.format("mm")),Object(p.b)(t,e)||(e.minute(0),e.hour(I.find((function(n){return Object(p.b)(t,e.hour(n),r,!0)}))||e.format("HH")),e.minute(z.find((function(r){return Object(p.b)(t,e.minute(r))}))||e.format("mm")))),e.format("HH:mm")},F=function(t,e){var r=y(Object(n.isTimeValid)(e)?e.split(":"):[0,0],2),o=r[0],a=r[1];return Object(n.toMoment)(t||i.a.get()).hour(o).minute(a)},H=function(t){return t.minute(5*Math.ceil(t.minute()/5))},V=function(t){return{trade_types:Object(n.getPropertyValue)(S,[t,"config","trade_types"])}},W=function(t,e){var r=Object(n.getPropertyValue)(S,[t,"basis"])||[],o=Object(f.c)();return{basis_list:r.reduce((function(t,e){return[].concat(m(t),[{text:o[e],value:e}])}),[]),basis:D(r,e)}},G=function(t,e){var r=Object(n.getPropertyValue)(S,[t,"config","multiplier_range"])||[];return{multiplier_range_list:r.map((function(t){return{text:"x".concat(t),value:t}})),multiplier:D(r,e)}},q=function(t,e){var r=Object(n.getPropertyValue)(S,[t,"config","cancellation_range"])||[],o=new RegExp("^([0-9]+)|([a-zA-Z]+)$","g");return{cancellation_duration:D(r,e),cancellation_range_list:r.map((function(t){return{text:"".concat((e=t,r=y(e.match(o),2),n=r[0],i=r[1],a=Object(c.d)(),"".concat(n," ").concat(a[i].name_plural))),value:t};var e,r,n,i,a}))}},{buildContractTypesConfig:function(t){return s.a.storage.contractsFor(t).then((function(t){var e=Object(n.getPropertyValue)(t,["contracts_for"]);if(x=e&&!t.contracts_for.available.find((function(t){return"forward"!==t.start_type})),e&&!x){var r=Object(f.a)();j=Object(f.b)(),S={},k=Object(n.cloneObject)(r),t.contracts_for.available.forEach((function(t){var e=Object.keys(j).find((function(e){return-1!==j[e].trade_types.indexOf(t.contract_type)&&(void 0===j[e].barrier_count||+j[e].barrier_count===t.barriers)}));if(e){if(!S[e]){var r=k[Object.keys(k).find((function(t){return-1!==k[t].indexOf(e)}))];if(!r)return;r[r.indexOf(e)]={value:e,text:j[e].title},S[e]=Object(n.cloneObject)(j[e])}var o=S[e].config||{};o.has_spot=o.has_spot||"spot"===t.start_type,o.durations=!o.hide_duration&&Object(l.a)(t,o.durations),o.trade_types=C(t,o.trade_types),o.barriers=Object(u.a)(t,o.barriers),o.forward_starting_dates=Object(p.a)(t,o.forward_starting_dates),o.multiplier_range=t.multiplier_range,o.cancellation_range=t.cancellation_range,S[e].config=o}})),Object.keys(k).forEach((function(t){k[t]=k[t].filter((function(t){return"object"===w(t)})),0===k[t].length&&delete k[t]}))}}))},getBarriers:B=function(t,e){var r=Object(n.getPropertyValue)(S,[t,"config","barriers"])||{},o=r[e]||{},i=o.barrier||o.high_barrier||"",a=o.low_barrier||"";return{barrier_count:r.count||0,barrier_1:i.toString(),barrier_2:a.toString()}},getContractType:function(t,e){var r=Object.keys(t||{}).reduce((function(e,r){return[].concat(m(e),m(t[r].map((function(t){return t.value}))))}),[]).filter((function(t){return-1===f.d.indexOf(t)}));return{contract_type:D(r,e)}},getContractValues:function(t){var e=t.contract_expiry_type,r=t.contract_type,n=t.basis,o=t.duration_unit,i=t.expiry_type,a=t.multiplier,s=t.start_date,c=t.cancellation_duration;if(!r)return{};var u=T(r),l=W(r,n),p=V(r),f=N(r,s),d=L(f.start_date),h=B(r,e),y=A(o,r,d.contract_start_type),m=M(r,d.contract_start_type),_=R(r,d.contract_start_type),b=G(r,a),g=q(r,c),O=Y(m,i);return v(v(v(v(v(v(v(v(v(v(v(v({},u),l),p),f),d),h),y),m),_),O),b),g)},getDurationMinMax:R,getDurationUnit:A,getDurationUnitsList:M,getFullContractTypes:function(){return S},getExpiryDate:function(t,e,r,o){var i=null;if("endtime"===r){var a=Object(n.toMoment)(o),s=Object(n.toMoment)(e);i=Object(l.e)(t)?(s.isBefore(a,"day")||o&&s.isAfter(a.clone().add(1,"day"))?a:s).format("YYYY-MM-DD"):(s.isSameOrBefore(a,"day")?a.clone().add(1,"day"):s).format("YYYY-MM-DD")}return{expiry_date:i}},getExpiryTime:function(t,e,r,o,a,s,c){var u=null;if("endtime"===r){var l="23:59:59";if(o&&o.length&&"--"!==o[0]&&(l=o.slice(-1)[0]),!s&&i.a.get().isBefore(F(t),"day"))u=l;else{var f=s?F(s,c):i.a.get(),d=F(t,e);u=d.format("HH:mm");var h=[{open:f.clone().add(5,"minute"),close:Object(n.minDate)(f.clone().add(24,"hour"),F(t,l))}];if(Object(p.b)(h,d)||(u=U(h,d.clone(),f.clone())),d.isSameOrBefore(f)||d.diff(f,"minute")<5){var y=23===f.get("hours")&&f.get("minute")>=55,m=a&&!Object(p.b)(a,f.clone().add(5,"minutes"));u=f.clone().add(y||m?0:5,"minutes"),u=H(u).format("HH:mm")}"00:00"===u&&f.isBefore(d,"day")&&(u=f.clone().subtract(5,"minute").format("HH:mm"))}}return{expiry_time:u}},getExpiryType:Y=function(t,e){if(t){if(!e&&t.length>0||1===t.length&&"t"===t[0].value)return{expiry_type:"duration"};if(0===t.length)return{expiry_type:null}}return{expiry_type:e}},getSessions:function(t,e){return{sessions:(((Object(n.getPropertyValue)(S,[t,"config"])||{}).forward_starting_dates||[]).find((function(t){return t.value===e}))||{}).sessions}},getStartTime:function(t,e,r){return{start_time:e?U(t,F(e,r)):null}},getStartType:L,getTradingEvents:function(){var t=h(regeneratorRuntime.mark((function t(e){var r,o,i,a,c,u,l,p,f=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:null,e){t.next=3;break}return t.abrupt("return",[]);case 3:if(e in P){t.next=8;break}return t.next=6,s.a.tradingTimes(e);case 6:if(o=t.sent,Object(n.getPropertyValue)(o,["trading_times","markets"]))for(i=0;i<o.trading_times.markets.length;i++)if(a=o.trading_times.markets[i].submarkets)for(c=0;c<a.length;c++)if(u=a[c].symbols)for(l=0;l<u.length;l++)p=u[l],P[o.echo_req.trading_times]||(P[o.echo_req.trading_times]={}),P[o.echo_req.trading_times][p.symbol]=p.events;case 8:return t.abrupt("return",P[e][r]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getTradingTimes:function(){var t=h(regeneratorRuntime.mark((function t(e){var r,o,i,a,c,u,l,p,f=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:null,e){t.next=3;break}return t.abrupt("return",[]);case 3:if(e in E){t.next=8;break}return t.next=6,s.a.tradingTimes(e);case 6:if(o=t.sent,Object(n.getPropertyValue)(o,["trading_times","markets"]))for(i=0;i<o.trading_times.markets.length;i++)if(a=o.trading_times.markets[i].submarkets)for(c=0;c<a.length;c++)if(u=a[c].symbols)for(l=0;l<u.length;l++)p=u[l],E[o.echo_req.trading_times]||(E[o.echo_req.trading_times]={}),E[o.echo_req.trading_times][p.symbol]={open:p.times.open,close:p.times.close};case 8:return t.abrupt("return",r?E[e][r]:E[e]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getContractCategories:function(){return{contract_types_list:k,has_only_forward_starting_contracts:x}}});e.a=X},"./Stores/Modules/Trading/Helpers/duration.js":function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"d",(function(){return p})),r.d(e,"b",(function(){return f})),r.d(e,"e",(function(){return d})),r.d(e,"f",(function(){return h})),r.d(e,"c",(function(){return y}));var n=r("@deriv/translations"),o=r("@deriv/shared");function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=function(){return{t:{display:Object(n.localize)("Ticks"),order:1},s:{display:Object(n.localize)("Seconds"),order:2,to_second:1},m:{display:Object(n.localize)("Minutes"),order:3,to_second:60},h:{display:Object(n.localize)("Hours"),order:4,to_second:3600},d:{display:Object(n.localize)("Days"),order:5,to_second:86400}}},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{min_max:{},units_display:{}};e.min_max[t.start_type]=e.min_max[t.start_type]||{},e.units_display[t.start_type]=e.units_display[t.start_type]||[];var r=l(t.min_contract_duration),n=l(t.max_contract_duration);e.min_max[t.start_type][t.expiry_type]={min:u(r.duration,r.unit,"s"),max:u(n.duration,n.unit,"s")};var o=[];e.units_display[t.start_type].forEach((function(t){o.push(t.value)}));var a=s();return/^tick|daily$/.test(t.expiry_type)?-1===o.indexOf(r.unit)&&o.push(r.unit):Object.keys(a).forEach((function(t){"d"!==t&&-1===o.indexOf(t)&&a[t].order>=a[r.unit].order&&a[t].order<=a[n.unit].order&&o.push(t)})),e.units_display[t.start_type]=o.sort((function(t,e){return a[t].order>a[e].order?1:-1})).reduce((function(t,e){return[].concat(i(t),[{text:a[e].display,value:e}])}),[]),e},u=function(t,e,r){if(!t||!e||!r||isNaN(parseInt(t)))return null;var n=s();return e!==r&&"to_second"in n[e]?t*n[e].to_second/n[r].to_second:t},l=function(t){var e=t.toString().match(/[a-zA-Z]+|[0-9]+/g);return{duration:+e[0],unit:e[1]}},p=function(t){var e=t.duration_unit,r=t.expiry_date,n=t.expiry_type,i=t.duration_units_list,a=t.root_store.common.server_time,s="duration"===n&&"d"===e,c="endtime"===n&&(Object(o.toMoment)(r).isAfter(Object(o.toMoment)(a),"day")||!d(i)),u="daily";return s||c||(u="t"===e?"tick":"intraday"),u},f=function(t,e){if(!(t>=0&&e&&Number.isInteger(t)))return null;if("m"===e){var r=t/60;return r>=1?Math.floor(r):1}if("h"===e){var n=t/3600;return n>=1?Math.floor(n):1}if("d"===e){var o=t/86400;return o>=1?Math.floor(o):1}return t},d=function(t){return t.some((function(t){return-1!==["m","h"].indexOf(t.value)}))},h=function(t,e){return/^R_/.test(t)&&"endtime"===e?Object(o.toMoment)(null).format("DD MMM YYYY"):null},y=function(t,e,r){if(!t[e])return[];var n=f(+t[e].max,r);return[f(+t[e].min,r),n]}},"./Stores/Modules/Trading/Helpers/start-date.js":function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return c}));var n=r("./_common/base/server_time.js"),o=r.n(n),i=r("@deriv/shared"),a=function(t,e){var r=[];return(t.forward_starting_options||[]).length&&t.forward_starting_options.forEach((function(t){var e=r.find((function(e){return e.value===parseInt(t.date)})),n={open:Object(i.toMoment)(t.open),close:Object(i.toMoment)(t.close)};e?e.sessions.push(n):r.push({text:Object(i.toMoment)(t.date).format("ddd - DD MMM, YYYY"),value:parseInt(t.date),sessions:[n]})})),r.length?r:e},s=function(t,e,r){var n=Object(i.toMoment)(e);return r&&n.minute(0).second(0),t.isBefore(n)&&n.unix()!==t.unix()},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.toMoment)(o.a.get()),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.toMoment)(o.a.get()),n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!(s(e,o.a.get(),n)||s(e,r,n)||t.length&&!t.find((function(t){return e.isBetween(t.open,t.close,n?"hour":null,"[]")})))}},"./Stores/base-store.js":function(t,e,r){"use strict";r.d(e,"a",(function(){return H}));var n=r("mobx"),o=r("@deriv/shared"),i=r("./_common/utility.js");function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,r,n;return e=t,(r=[{key:"add",value:function(t,e){this.has(t)||(this.errors[t]=[]),-1===this.errors[t].indexOf(e)&&this.errors[t].push(e)}},{key:"all",value:function(){return this.errors}},{key:"first",value:function(t){return this.has(t)?this.errors[t][0]:null}},{key:"get",value:function(t){return this.has(t)?this.errors[t]:[]}},{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.errors,t)}}])&&a(e.prototype,r),n&&a(e,n),t}();function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l,p,f,d,h,y,m,_,b,g,v,O,w,j,S,k,P,E,x,C,D,T,M=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c(this,t),this.input=e,this.rules=r,this.store=n,this.errors=new s,this.error_count=0}var e,r,n;return e=t,n=[{key:"getRuleObject",value:function(t){var e="string"==typeof t,r={name:e?t:t[0],options:e?{}:t[1]||{}};return r.validator="custom"===r.name?t[1].func:Object(o.getPreBuildDVRs)()[r.name].func,r}}],(r=[{key:"addFailure",value:function(t,e,r){var n=r||e.options.message||Object(o.getPreBuildDVRs)()[e.name].message();"length"===e.name?n=Object(i.template)(n,[e.options.min===e.options.max?e.options.min:"".concat(e.options.min,"-").concat(e.options.max)]):"min"===e.name?n=Object(i.template)(n,[e.options.min]):"not_equal"===e.name&&(n=Object(i.template)(n,[e.options.name1,e.options.name2])),this.errors.add(t,n),this.error_count++}},{key:"check",value:function(){var e=this;return Object.keys(this.input).forEach((function(r){Object.prototype.hasOwnProperty.call(e.rules,r)&&e.rules[r].forEach((function(n){var o=t.getRuleObject(n);if((o.validator||"function"==typeof o.validator)&&(!o.options.condition||o.options.condition(e.store))&&(""!==e.input[r]||"req"===o.name)){var i,a;if("number"===o.name){var s=o.validator(e.input[r],o.options,e.store,e.input);i=s.is_ok,a=s.message}else i=o.validator(e.input[r],o.options,e.store,e.input);i||e.addFailure(r,o,a)}}))})),!this.error_count}},{key:"isPassed",value:function(){return this.check()}}])&&u(e.prototype,r),n&&u(e,n),t}();function A(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function R(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){A(i,n,o,a,s,"next",t)}function s(t){A(i,n,o,a,s,"throw",t)}a(void 0)}))}}function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?L(Object(r),!0).forEach((function(e){I(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function I(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Y(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var H=(l=n.action.bound,p=n.action.bound,f=n.action.bound,d=n.action.bound,h=n.action.bound,y=n.action.bound,m=n.action.bound,_=n.action.bound,b=n.action.bound,g=n.action.bound,v=n.action.bound,O=n.action.bound,w=n.action.bound,j=n.action.bound,S=n.action.bound,k=n.action.bound,T=D=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};U(this,t),z(this,"validation_errors",E,this),z(this,"validation_rules",x,this),this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,z(this,"partial_fetch_time",C,this);var r=e.root_store,n=e.local_storage_properties,o=e.session_storage_properties,i=e.validation_rules,a=e.store_name;Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0});var s=n&&n.length||o&&o.length;if(s){if(!a)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:a,enumerable:!1,writable:!1})}this.root_store=r,this.local_storage_properties=n||[],this.session_storage_properties=o||[],this.setValidationRules(i),this.setupReactionForLocalStorage(),this.setupReactionForSessionStorage(),this.retrieveFromStorage()}var e,r,i;return e=t,(r=[{key:"getSnapshot",value:function(t){var e=Object(n.toJS)(this);return Object(o.isEmptyObject)(this.root_store)||(e.root_store=this.root_store),t&&t.length&&(e=t.reduce((function(t,r){return Object.assign(t,I({},r,e[r]))}),{})),e}},{key:"setupReactionForLocalStorage",value:function(){var e=this;this.local_storage_properties.length&&Object(n.reaction)((function(){return e.local_storage_properties.map((function(t){return e[t]}))}),(function(){return e.saveToStorage(e.local_storage_properties,t.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var e=this;this.session_storage_properties.length&&Object(n.reaction)((function(){return e.session_storage_properties.map((function(t){return e[t]}))}),(function(){return e.saveToStorage(e.session_storage_properties,t.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(e,r){var n=JSON.stringify(this.getSnapshot(e),(function(t,e){if(null!==e)return e}));r===t.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,n):r===t.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,n)}},{key:"retrieveFromStorage",value:function(){var t=this,e=JSON.parse(localStorage.getItem(this.store_name,{})),r=JSON.parse(sessionStorage.getItem(this.store_name,{})),n=N(N({},e),r);Object.keys(n).forEach((function(e){return t[e]=n[e]}))}},{key:"setValidationErrorMessages",value:function(t,e){var r=this;this.validation_errors[t]&&!r.validation_errors[t].filter((function(t){return!e.includes(t)})).concat(e.filter((function(e){return!r.validation_errors[t].includes(e)}))).length||(this.validation_errors[t]=e)}},{key:"setValidationRules",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(r){t.addRule(r,e[r])}))}},{key:"addRule",value:function(t,e){var r=this;this.validation_rules[t]=e,Object(n.intercept)(this,t,(function(e){return r.validateProperty(t,e.newValue),e}))}},{key:"validateProperty",value:function(t,e){var r=this,n=this.validation_rules[t].trigger,o=I({},t,void 0!==e?e:this[t]),i=I({},t,this.validation_rules[t].rules||[]);n&&Object.hasOwnProperty.call(this,n)&&(o[n]=this[n],i[n]=this.validation_rules[n].rules||[]);var a=new M(o,i,this);a.isPassed(),Object.keys(o).forEach((function(t){r.setValidationErrorMessages(t,a.errors.get(t))}))}},{key:"validateAllProperties",value:function(){var t=this,e=Object.keys(this.validation_rules),r=Object.keys(this.validation_errors);e.forEach((function(e){t.validateProperty(e,t[e])})),r.forEach((function(r){e.includes(r)||delete t.validation_errors[r]}))}},{key:"onSwitchAccount",value:function(t){var e=this;t&&(this.switch_account_listener=t,this.switchAccountDisposer=Object(n.when)((function(){return e.root_store.client.switch_broadcast}),(function(){try{var t=e.switch_account_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Switching account listeners are required to return a promise.");t.then((function(){e.root_store.client.switchEndSignal(),e.onSwitchAccount(e.switch_account_listener)}))}catch(t){Object(o.isProduction)()||console.error(t)}})))}},{key:"onPreSwitchAccount",value:function(t){var e=this;t&&(this.pre_switch_account_listener=t,this.preSwitchAccountDisposer=Object(n.when)((function(){return e.root_store.client.pre_switch_broadcast}),(function(){try{var t=e.pre_switch_account_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Pre-switch account listeners are required to return a promise.");t.then((function(){e.root_store.client.setPreSwitchAccount(!1),e.onPreSwitchAccount(e.pre_switch_account_listener)}))}catch(t){Object(o.isProduction)()||console.error(t)}})))}},{key:"onLogout",value:function(t){var e=this;this.logoutDisposer=Object(n.when)((function(){return e.root_store.client.has_logged_out}),R(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=e.logout_listener())||!r.then||"function"!=typeof r.then){t.next=6;break}r.then((function(){e.root_store.client.setLogout(!1),e.onLogout(e.logout_listener)})),t.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Object(o.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.logout_listener=t}},{key:"onClientInit",value:function(t){var e=this;this.clientInitDisposer=Object(n.when)((function(){return e.root_store.client.initialized_broadcast}),R(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=e.client_init_listener())||!r.then||"function"!=typeof r.then){t.next=6;break}r.then((function(){e.root_store.client.setInitialized(!1),e.onClientInit(e.client_init_listener)})),t.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Object(o.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.client_init_listener=t}},{key:"onNetworkStatusChange",value:function(t){var e=this;this.networkStatusChangeDisposer=Object(n.reaction)((function(){return e.root_store.common.is_network_online}),(function(t){try{e.network_status_change_listener(t)}catch(t){Object(o.isProduction)()||console.error(t)}})),this.network_status_change_listener=t}},{key:"onThemeChange",value:function(t){var e=this;this.themeChangeDisposer=Object(n.reaction)((function(){return e.root_store.ui.is_dark_mode_on}),(function(t){try{e.theme_change_listener(t)}catch(t){Object(o.isProduction)()||console.error(t)}})),this.theme_change_listener=t}},{key:"onRealAccountSignupEnd",value:function(t){var e=this;this.realAccountSignupEndedDisposer=Object(n.when)((function(){return e.root_store.ui.has_real_account_signup_ended}),(function(){try{var t=e.real_account_signup_ended_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Real account signup listeners are required to return a promise.");t.then((function(){e.root_store.ui.setRealAccountSignupEnd(!1),e.onRealAccountSignupEnd(e.real_account_signup_ended_listener)}))}catch(t){Object(o.isProduction)()||console.error(t)}})),this.real_account_signup_ended_listener=t}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(t){if(this.root_store.client.loginid!==t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach((function(t){return t()})),this.partial_fetch_time=!1}}}])&&F(e.prototype,r),i&&F(e,i),t}(),D.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")}),E=Y((P=T).prototype,"validation_errors",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),x=Y(P.prototype,"validation_rules",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),C=Y(P.prototype,"partial_fetch_time",[n.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y(P.prototype,"retrieveFromStorage",[n.action],Object.getOwnPropertyDescriptor(P.prototype,"retrieveFromStorage"),P.prototype),Y(P.prototype,"setValidationErrorMessages",[n.action],Object.getOwnPropertyDescriptor(P.prototype,"setValidationErrorMessages"),P.prototype),Y(P.prototype,"setValidationRules",[n.action],Object.getOwnPropertyDescriptor(P.prototype,"setValidationRules"),P.prototype),Y(P.prototype,"addRule",[n.action],Object.getOwnPropertyDescriptor(P.prototype,"addRule"),P.prototype),Y(P.prototype,"validateProperty",[n.action],Object.getOwnPropertyDescriptor(P.prototype,"validateProperty"),P.prototype),Y(P.prototype,"validateAllProperties",[n.action],Object.getOwnPropertyDescriptor(P.prototype,"validateAllProperties"),P.prototype),Y(P.prototype,"onSwitchAccount",[l],Object.getOwnPropertyDescriptor(P.prototype,"onSwitchAccount"),P.prototype),Y(P.prototype,"onPreSwitchAccount",[p],Object.getOwnPropertyDescriptor(P.prototype,"onPreSwitchAccount"),P.prototype),Y(P.prototype,"onLogout",[f],Object.getOwnPropertyDescriptor(P.prototype,"onLogout"),P.prototype),Y(P.prototype,"onClientInit",[d],Object.getOwnPropertyDescriptor(P.prototype,"onClientInit"),P.prototype),Y(P.prototype,"onNetworkStatusChange",[h],Object.getOwnPropertyDescriptor(P.prototype,"onNetworkStatusChange"),P.prototype),Y(P.prototype,"onThemeChange",[y],Object.getOwnPropertyDescriptor(P.prototype,"onThemeChange"),P.prototype),Y(P.prototype,"onRealAccountSignupEnd",[m],Object.getOwnPropertyDescriptor(P.prototype,"onRealAccountSignupEnd"),P.prototype),Y(P.prototype,"disposePreSwitchAccount",[_],Object.getOwnPropertyDescriptor(P.prototype,"disposePreSwitchAccount"),P.prototype),Y(P.prototype,"disposeSwitchAccount",[b],Object.getOwnPropertyDescriptor(P.prototype,"disposeSwitchAccount"),P.prototype),Y(P.prototype,"disposeLogout",[g],Object.getOwnPropertyDescriptor(P.prototype,"disposeLogout"),P.prototype),Y(P.prototype,"disposeClientInit",[v],Object.getOwnPropertyDescriptor(P.prototype,"disposeClientInit"),P.prototype),Y(P.prototype,"disposeNetworkStatusChange",[O],Object.getOwnPropertyDescriptor(P.prototype,"disposeNetworkStatusChange"),P.prototype),Y(P.prototype,"disposeThemeChange",[w],Object.getOwnPropertyDescriptor(P.prototype,"disposeThemeChange"),P.prototype),Y(P.prototype,"disposeRealAccountSignupEnd",[j],Object.getOwnPropertyDescriptor(P.prototype,"disposeRealAccountSignupEnd"),P.prototype),Y(P.prototype,"onUnmount",[S],Object.getOwnPropertyDescriptor(P.prototype,"onUnmount"),P.prototype),Y(P.prototype,"assertHasValidCache",[k],Object.getOwnPropertyDescriptor(P.prototype,"assertHasValidCache"),P.prototype),P)},"./Stores/connect.js":function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return l}));var n=r("mobx-react"),o=r("react");function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c=o.createContext(null);var u=function(t){var e=t.store,r=t.children;return o.createElement(c.Provider,{value:a(a({},e),{},{mobxStores:e})},r)},l=function(t){return function(e){return function(t,e){var r=function(r){var i=o.useContext(c),s=e;if(function(t){return!("function"!=typeof t||!t.prototype||!t.prototype.isReactComponent)}(e)){s=function(t){return o.createElement(e,t)}}return Object(n.useObserver)((function(){return s(a(a({},r),t(i,r)))}))};return r.displayName=e.name,r}(t,e)}}},"./_common/base/login.js":function(t,e,r){var n,o=r("@deriv/shared").getStaticUrl,i=r("@deriv/shared").loginUrl,a=r("@deriv/shared").isStorageSupported,s=r("@deriv/translations").getLanguage,c={redirectToLogin:function(t){t||n()||!a(sessionStorage)||(sessionStorage.setItem("redirect_url",window.location.href),window.location.href=i({language:s()}))},isLoginPages:n=function(){return/logged_inws|redirect/i.test(window.location.pathname)},redirectToSignUp:function(t){var e=t.is_deriv_crypto;window.open(o("/signup/",{is_deriv_crypto:e}))}};t.exports=c},"./_common/base/server_time.js":function(t,e,r){var n,o,i,a=r("./_common/utility.js").PromiseClass,s=(o=!1,i=new a,{init:function(t){o||(n=t,i.resolve(n.server_time),o=!0)},get:function(){return o&&n.server_time?n.server_time.clone():void 0},timePromise:function(){return o?Promise.resolve(n.server_time):i.promise}});t.exports=s},"./_common/utility.js":function(t,e){var r;t.exports={template:function(t,e){var r=e;return e&&!Array.isArray(e)&&(r=[e]),t.replace(/\[_(\d+)]/g,(function(t,e){return r[+e-1]}))},createElement:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(t);return Object.keys(e).forEach((function(t){var n=e[t];"text"===t?r.textContent=n:"html"===t?r.html(n):r.setAttribute(t,n)})),r},getStaticHash:function(){return r=r||(document.querySelector('script[src*="main"]').getAttribute("src")||"").split(".")[1]},PromiseClass:function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.promise=new Promise((function(t,r){e.reject=r,e.resolve=t}))}}},"./index.js":function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return Ef}));r("../node_modules/promise-polyfill/src/index.js"),r("../node_modules/event-source-polyfill/src/eventsource.js");var n=r("../node_modules/prop-types/index.js"),o=r.n(n),i=r("react"),a=r("../node_modules/react-loadable/lib/index.js"),s=r.n(a),c=r("mobx-react"),u=r("react-router"),l=r("@deriv/components"),p=r("@deriv/shared"),f=r("react-router-dom"),d=r("./App/Components/Routes/helpers.js"),h=r("@deriv/translations"),y=r("./App/Components/Elements/chart-loader.jsx"),m=r("./Modules/Trading/Helpers/digits.js"),_=r("./Stores/connect.js"),b=r("../node_modules/classnames/index.js"),g=r.n(b),v=r("../node_modules/react-transition-group/index.js");function O(){return(O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function w(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var k=function(t,e){var r;void 0===e&&(e=S);var n,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&r===this&&e(a,o)||(n=t.apply(this,a),i=!0,r=this,o=a),n}};var P="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function E(t){cancelAnimationFrame(t.id)}function x(t,e){var r=P();var n={id:requestAnimationFrame((function o(){P()-r>=e?t.call(null):n.id=requestAnimationFrame(o)}))};return n}var C=null;function D(t){if(void 0===t&&(t=!1),null===C||t){var e=document.createElement("div"),r=e.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),o=n.style;return o.width="100px",o.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?C="positive-descending":(e.scrollLeft=1,C=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),C}return C}var T=function(t,e){return t};function M(t){var e,r,n=t.getItemOffset,o=t.getEstimatedTotalSize,a=t.getItemSize,s=t.getOffsetForIndexAndAlignment,c=t.getStartIndexForOffset,u=t.getStopIndexForStartIndex,l=t.initInstanceProps,p=t.shouldResetStyleCacheOnItemSizeChange,f=t.validateProps;return r=e=function(t){function e(e){var r;return(r=t.call(this,e)||this)._instanceProps=l(r.props,j(j(r))),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:j(j(r)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=k((function(t,e,n,o){return r.props.onItemsRendered({overscanStartIndex:t,overscanStopIndex:e,visibleStartIndex:n,visibleStopIndex:o})})),r._callOnScroll=void 0,r._callOnScroll=k((function(t,e,n){return r.props.onScroll({scrollDirection:t,scrollOffset:e,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(t){var e,o=r.props,i=o.direction,s=o.itemSize,c=o.layout,u=r._getItemStyleCache(p&&s,p&&c,p&&i);if(u.hasOwnProperty(t))e=u[t];else{var l,f=n(r.props,t,r._instanceProps),d=a(r.props,t,r._instanceProps),h="horizontal"===i||"horizontal"===c;u[t]=((l={position:"absolute"})["rtl"===i?"right":"left"]=h?f:0,l.top=h?0:f,l.height=h?"100%":d,l.width=h?d:"100%",e=l)}return e},r._getItemStyleCache=void 0,r._getItemStyleCache=k((function(t,e,r){return{}})),r._onScrollHorizontal=function(t){var e=t.currentTarget,n=e.clientWidth,o=e.scrollLeft,i=e.scrollWidth;r.setState((function(t){if(t.scrollOffset===o)return null;var e=r.props.direction,a=o;if("rtl"===e)switch(D()){case"negative":a=-o;break;case"positive-descending":a=i-n-o}return a=Math.max(0,Math.min(a,i-n)),{isScrolling:!0,scrollDirection:t.scrollOffset<o?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(t){var e=t.currentTarget,n=e.clientHeight,o=e.scrollHeight,i=e.scrollTop;r.setState((function(t){if(t.scrollOffset===i)return null;var e=Math.max(0,Math.min(i,o-n));return{isScrolling:!0,scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(t){var e=r.props.outerRef;r._outerRef=t,"function"==typeof e?e(t):null!=e&&"object"==typeof e&&e.hasOwnProperty("current")&&(e.current=t)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&E(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=x(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}w(e,t),e.getDerivedStateFromProps=function(t,e){return A(t,e),f(t),null};var r=e.prototype;return r.scrollTo=function(t){t=Math.max(0,t),this.setState((function(e){return e.scrollOffset===t?null:{scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},r.scrollToItem=function(t,e){void 0===e&&(e="auto");var r=this.props.itemCount,n=this.state.scrollOffset;t=Math.max(0,Math.min(t,r-1)),this.scrollTo(s(this.props,t,e,n,this._instanceProps))},r.componentDidMount=function(){var t=this.props,e=t.direction,r=t.initialScrollOffset,n=t.layout;if("number"==typeof r&&null!=this._outerRef){var o=this._outerRef;"horizontal"===e||"horizontal"===n?o.scrollLeft=r:o.scrollTop=r}this._callPropsCallbacks()},r.componentDidUpdate=function(){var t=this.props,e=t.direction,r=t.layout,n=this.state,o=n.scrollOffset;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("horizontal"===e||"horizontal"===r)if("rtl"===e)switch(D()){case"negative":i.scrollLeft=-o;break;case"positive-ascending":i.scrollLeft=o;break;default:var a=i.clientWidth,s=i.scrollWidth;i.scrollLeft=s-a-o}else i.scrollLeft=o;else i.scrollTop=o}this._callPropsCallbacks()},r.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&E(this._resetIsScrollingTimeoutId)},r.render=function(){var t=this.props,e=t.children,r=t.className,n=t.direction,a=t.height,s=t.innerRef,c=t.innerElementType,u=t.innerTagName,l=t.itemCount,p=t.itemData,f=t.itemKey,d=void 0===f?T:f,h=t.layout,y=t.outerElementType,m=t.outerTagName,_=t.style,b=t.useIsScrolling,g=t.width,v=this.state.isScrolling,w="horizontal"===n||"horizontal"===h,j=w?this._onScrollHorizontal:this._onScrollVertical,S=this._getRangeToRender(),k=S[0],P=S[1],E=[];if(l>0)for(var x=k;x<=P;x++)E.push(Object(i.createElement)(e,{data:p,key:d(x,p),index:x,isScrolling:b?v:void 0,style:this._getItemStyle(x)}));var C=o(this.props,this._instanceProps);return Object(i.createElement)(y||m||"div",{className:r,onScroll:j,ref:this._outerRefSetter,style:O({position:"relative",height:a,width:g,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:n},_)},Object(i.createElement)(c||u||"div",{children:E,ref:s,style:{height:w?"100%":C,pointerEvents:v?"none":void 0,width:w?C:"100%"}}))},r._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var t=this._getRangeToRender(),e=t[0],r=t[1],n=t[2],o=t[3];this._callOnItemsRendered(e,r,n,o)}if("function"==typeof this.props.onScroll){var i=this.state,a=i.scrollDirection,s=i.scrollOffset,c=i.scrollUpdateWasRequested;this._callOnScroll(a,s,c)}},r._getRangeToRender=function(){var t=this.props,e=t.itemCount,r=t.overscanCount,n=this.state,o=n.isScrolling,i=n.scrollDirection,a=n.scrollOffset;if(0===e)return[0,0,0,0];var s=c(this.props,a,this._instanceProps),l=u(this.props,s,a,this._instanceProps),p=o&&"backward"!==i?1:Math.max(1,r),f=o&&"forward"!==i?1:Math.max(1,r);return[Math.max(0,s-p),Math.max(0,Math.min(e-1,l+f)),s,l]},e}(i.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},r}var A=function(t,e){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,e.instance},R=function(t,e,r){var n=t.itemSize,o=r.itemMetadataMap,i=r.lastMeasuredIndex;if(e>i){var a=0;if(i>=0){var s=o[i];a=s.offset+s.size}for(var c=i+1;c<=e;c++){var u=n(c);o[c]={offset:a,size:u},a+=u}r.lastMeasuredIndex=e}return o[e]},L=function(t,e,r,n,o){for(;n<=r;){var i=n+Math.floor((r-n)/2),a=R(t,i,e).offset;if(a===o)return i;a<o?n=i+1:a>o&&(r=i-1)}return n>0?n-1:0},N=function(t,e,r,n){for(var o=t.itemCount,i=1;r<o&&R(t,r,e).offset<n;)r+=i,i*=2;return L(t,e,Math.min(r,o-1),Math.floor(r/2),n)},I=function(t,e){var r=t.itemCount,n=e.itemMetadataMap,o=e.estimatedItemSize,i=e.lastMeasuredIndex,a=0;if(i>=r&&(i=r-1),i>=0){var s=n[i];a=s.offset+s.size}return a+(r-i-1)*o},z=M({getItemOffset:function(t,e,r){return R(t,e,r).offset},getItemSize:function(t,e,r){return r.itemMetadataMap[e].size},getEstimatedTotalSize:I,getOffsetForIndexAndAlignment:function(t,e,r,n,o){var i=t.direction,a=t.height,s=t.layout,c=t.width,u="horizontal"===i||"horizontal"===s?c:a,l=R(t,e,o),p=I(t,o),f=Math.max(0,Math.min(p-u,l.offset)),d=Math.max(0,l.offset-u+l.size);switch("smart"===r&&(r=n>=d-u&&n<=f+u?"auto":"center"),r){case"start":return f;case"end":return d;case"center":return Math.round(d+(f-d)/2);case"auto":default:return n>=d&&n<=f?n:n<d?d:f}},getStartIndexForOffset:function(t,e,r){return function(t,e,r){var n=e.itemMetadataMap,o=e.lastMeasuredIndex;return(o>0?n[o].offset:0)>=r?L(t,e,o,0,r):N(t,e,Math.max(0,o),r)}(t,r,e)},getStopIndexForStartIndex:function(t,e,r,n){for(var o=t.direction,i=t.height,a=t.itemCount,s=t.layout,c=t.width,u="horizontal"===o||"horizontal"===s?c:i,l=R(t,e,n),p=r+u,f=l.offset+l.size,d=e;d<a-1&&f<p;)d++,f+=R(t,d,n).size;return d},initInstanceProps:function(t,e){var r={itemMetadataMap:{},estimatedItemSize:t.estimatedItemSize||50,lastMeasuredIndex:-1};return e.resetAfterIndex=function(t,n){void 0===n&&(n=!0),r.lastMeasuredIndex=Math.min(r.lastMeasuredIndex,t-1),e._getItemStyleCache(-1),n&&e.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});var U=function(t){var e=t.error;return i.createElement("div",{className:"portfolio-empty"},i.createElement("div",{className:"portfolio-empty__wrapper"},e?i.createElement("span",{className:"portfolio-empty__text"},e):i.createElement(i.Fragment,null,i.createElement(l.Icon,{icon:"IcPortfolio",className:"portfolio-empty__icon",size:96,color:"disabled"}),i.createElement("span",{className:"portfolio-empty__text"},Object(h.localize)("No open positions")))))},F=r("./Stores/Modules/Trading/Constants/contract.js"),Y=r("./Stores/Modules/Contract/Helpers/contract-type.js"),H=r("./App/Components/Elements/PositionsDrawer/helpers/index.js"),V=r("./App/Components/Elements/PositionsDrawer/PositionsDrawerCard/positions-drawer-card.jsx");function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=$(t);if(e){var o=$(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Z(this,r)}}function Z(t,e){return!e||"object"!==B(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(){return(J=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var K=i.forwardRef((function(t,e){return i.createElement(l.ThemedScrollbars,J({},t,{height:"calc(100vh - 220px)",forwardedRef:e}),t.children)}));K.displayName="ThemedScrollbars";var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(a,t);var e,r,n,o=X(a);function a(){var t;W(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))).state={},t.itemRender=function(e){var r=e.data,n=e.index,o=e.style,a=e.isScrolling,s=t.props,c=s.currency,u=s.onClickCancel,l=s.onClickSell,p=s.onClickRemove,f=s.onHoverPosition,d=s.server_time,h=s.toggleUnsupportedContractModal,y=r[n];return i.createElement("div",{key:y.id,style:o},i.createElement(v.CSSTransition,{appear:!0,key:y.id,in:!0,timeout:a?0:150,classNames:a?{}:{appear:"contract-card__wrapper--enter",enter:"contract-card__wrapper--enter",enterDone:"contract-card__wrapper--enter-done",exit:"contract-card__wrapper--exit"},unmountOnExit:!0},i.createElement(V.a,J({onClickCancel:u,onClickSell:l,onClickRemove:p,onMouseEnter:function(){f(!0,y)},onMouseLeave:function(){f(!1,y)},key:y.id,currency:c,server_time:d,show_transition:!a,toggleUnsupportedContractModal:h},y))))},t.filterByContractType=function(e){var r,n=e.contract_type,o=e.shortcode,i=t.props.trade_contract_type,a=Object(Y.a)(i),s=Object(p.isHighLow)({shortcode:o}),c=a?["CALL","CALLE","PUT","PUTE"]:null===(r=Object(F.b)()[i])||void 0===r?void 0:r.trade_types,u=null==c?void 0:c.includes(n);return"high_low"===i?s:u&&!s},t.hasPositionsHeightChanged=function(t,e){if(t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0;return!1},t.getCachedPositionHeight=function(e){return t.positionsHeight[e]},t.getPositionHeight=function(t){var e=t.contract_info,r=Object(p.isValidToSell)(e),n=Object(p.isMultiplierContract)(e.contract_type),o=e.tick_count>0;return e.is_sold?n?248:151:o?193:n?310:r?238:198},t}return e=a,(r=[{key:"componentDidMount",value:function(){this.props.onMount(),this.setState({drawer_height:this.drawer_ref.clientHeight})}},{key:"componentWillReceiveProps",value:function(t){(this.props.symbol&&t.symbol!==this.props.symbol||this.props.trade_contract_type&&t.trade_contract_type!==this.props.trade_contract_type)&&this.list_ref&&this.scrollbar_ref&&(this.list_ref.scrollTo(0),this.scrollbar_ref.scrollToTop())}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"calculatePositionsHeight",value:function(){var t=this,e=this.positions.map((function(e){return t.getPositionHeight(e)}));this.list_ref&&this.hasPositionsHeightChanged(e,this.positionsHeight)&&setTimeout((function(){return t.list_ref?t.list_ref.resetAfterIndex(0):void 0})),this.positionsHeight=e}},{key:"render",value:function(){var t=this,e=this.props,r=e.all_positions,n=e.error,o=e.is_empty,a=e.is_positions_drawer_on,s=e.symbol,c=e.toggleDrawer,u=e.trade_contract_type;this.positions=r.filter((function(t){return t.contract_info&&s===t.contract_info.underlying&&Object(H.b)(t.contract_info,u)})),this.calculatePositionsHeight();var d=i.createElement(i.Fragment,null,i.createElement("div",{style:{height:"100%"}},this.state.drawer_height>0&&i.createElement(v.TransitionGroup,{component:"div",style:{position:"relative",height:"100%",width:"100%"}},i.createElement(z,{itemCount:this.positions.length,itemData:this.positions,itemSize:this.getCachedPositionHeight,height:this.state.drawer_height,outerElementType:o?null:K,ref:function(e){return t.list_ref=e},useIsScrolling:!0},this.itemRender))));return i.createElement(i.Fragment,null,i.createElement("div",{className:g()("positions-drawer__bg",{"positions-drawer__bg--open":a})}),i.createElement("div",{id:"dt_positions_drawer",className:g()("positions-drawer",{"positions-drawer--open":a})},i.createElement("div",{className:"positions-drawer__header"},i.createElement("span",{className:"positions-drawer__title"},Object(h.localize)("Recent positions")),i.createElement("div",{id:"dt_positions_drawer_close_icon",className:"positions-drawer__icon-close",onClick:c},i.createElement(l.Icon,{icon:"IcMinusBold"}))),i.createElement("div",{className:"positions-drawer__body",ref:function(e){t.drawer_ref=e}},0===this.positions.length||n?i.createElement(U,{error:n}):d),i.createElement("div",{className:"positions-drawer__footer"},i.createElement(f.NavLink,{id:"dt_positions_drawer_report_button",className:"dc-btn dc-btn--secondary dc-btn__large",to:p.routes.reports},i.createElement("span",{className:"dc-btn__text"},Object(h.localize)("Go to Reports"))))))}}])&&G(e.prototype,r),n&&G(e,n),a}(i.Component);Q.propTypes={all_positions:c.PropTypes.arrayOrObservableArray,children:o.a.any,currency:o.a.string,error:o.a.string,is_empty:o.a.bool,is_mobile:o.a.bool,is_positions_drawer_on:o.a.bool,onChangeContractUpdate:o.a.func,onClickContractUpdate:o.a.func,onClickRemove:o.a.func,onClickSell:o.a.func,onHoverPosition:o.a.func,onMount:o.a.func,onUnmount:o.a.func,symbol:o.a.string,toggleDrawer:o.a.func};var tt=Object(_.b)((function(t){var e=t.client,r=t.common,n=t.modules,o=t.ui;return{currency:e.currency,all_positions:n.portfolio.all_positions,error:n.portfolio.error,onClickCancel:n.portfolio.onClickCancel,is_empty:n.portfolio.is_empty,onClickSell:n.portfolio.onClickSell,onClickRemove:n.portfolio.removePositionById,onHoverPosition:n.portfolio.onHoverPosition,onMount:n.portfolio.onMount,onUnmount:n.portfolio.onUnmount,server_time:r.server_time,symbol:n.trade.symbol,trade_contract_type:n.trade.contract_type,is_mobile:o.is_mobile,is_positions_drawer_on:o.is_positions_drawer_on,toggleDrawer:o.togglePositionsDrawer,toggleUnsupportedContractModal:o.toggleUnsupportedContractModal}}))(Q),et=function(t){var e=t.onClick;return i.createElement("div",{className:"market-is-closed-overlay"},i.createElement("p",null,i.createElement(h.Localize,{i18n_default_text:"Market is closed."})),i.createElement("p",null,i.createElement(h.Localize,{i18n_default_text:"Try Synthetic Indices which simulate real-world market volatility and are open 24/7."})),i.createElement(l.Button,{className:"market-is-closed-overlay__button",onClick:e,text:Object(h.localize)("Try Synthetic Indices"),primary:!0}))},rt=r("mobx");function nt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(r),!0).forEach((function(e){it(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function it(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ct(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ct(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=yt(t);if(e){var o=yt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return dt(this,r)}}function dt(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?ht(t):e}function ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(a,t);var e,r,n,o=ft(a);function a(){var t;ut(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))).state={is_visible:!1,store:"trade"},t.setVisibility=t.stateVisibility.bind(ht(t)),t.styles={container:{fontSize:"10px",lineHeight:"15px",position:"absolute",zIndex:1,background:"rgba(0, 0, 0, 0.8)",color:"#ccc",padding:"10px",marginTop:"-10px",display:"none",overflowY:"auto",height:"100%",width:"100%"},prop_name:{color:"yellowgreen"},tabs:{display:"flex",textAlign:"center",marginBottom:"10px"},tab:{fontSize:"18px",border:"1px solid grey",width:"100%",padding:"10px"}},t.componentDidMount=function(){document.addEventListener("keyup",t.setVisibility,!1)},t.componentWillUnmount=function(){document.removeEventListener("keyup",t.setVisibility)},t.renderStoreContent=function(e){var r=st(e,2),n=r[0],o=r[1];return"root_store"!==n&&"function"!=typeof o&&i.createElement("div",{key:n},i.createElement("span",{style:t.styles.prop_name},n,":")," ",o&&"object"===at(o)?JSON.stringify(Object(rt.toJS)(o),null,1):o)},t}return e=a,(r=[{key:"stateVisibility",value:function(t){t.ctrlKey&&83===t.keyCode&&this.setState({is_visible:!this.state.is_visible})}},{key:"render",value:function(){var t=this,e=this.styles,r=e.container,n=e.tab,o=e.tabs,a=this.state,s=a.is_visible,c=a.store;return i.createElement("code",{id:"state_info",style:Object.assign({},r,{display:s?"block":"none"})},i.createElement("div",{style:o},Object.keys(this.props).map((function(e){return i.createElement("p",{key:e,onClick:function(){return t.setState({store:e})},style:ot(ot({},n),{},{fontWeight:e===c&&"bold"})},e)}))),this.props[this.state.store].sort().map(this.renderStoreContent))}}])&&lt(e.prototype,r),n&&lt(e,n),a}(i.Component);mt.propTypes={entries:o.a.array};var _t=Object(_.b)((function(t){var e=t.modules,r=t.client,n=t.ui;return{trade:Object.entries(e.trade),client:Object.entries(r),ui:Object.entries(n),portfolio:Object.entries(e.portfolio)}}))(mt),bt=r("./Modules/Contract/Components/Digits/index.js"),gt=r("./Modules/SmartChart/Components/bottom-widgets.jsx"),vt=r("./Modules/SmartChart/index.js"),Ot=function(t){var e=t.updateChartType,r=t.updateGranularity;return i.createElement(i.Fragment,null,i.createElement(l.DesktopWrapper,null,i.createElement(vt.b,{portalNodeId:"modal_root",onChartType:function(t){return e(t)},onGranularity:function(t){return r(t)}}),i.createElement(vt.i,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),i.createElement(vt.d,{portalNodeId:"modal_root"}),i.createElement(vt.k,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),i.createElement(vt.g,{portalNodeId:"modal_root"})))};Ot.propTypes={updateChartType:o.a.func,updateGranularity:o.a.func};var wt=Ot,jt=function(t){var e=t.position,r=t.updateChartType,n=t.updateGranularity;return i.createElement(vt.j,{position:e||Object(p.isMobile)()?"bottom":null},i.createElement(vt.b,{portalNodeId:"modal_root",onChartType:r,onGranularity:n}),Object(p.isDesktop)()&&i.createElement(vt.i,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),Object(p.isDesktop)()&&i.createElement(vt.k,{portalNodeId:"modal_root",searchInputClassName:"data-hj-whitelist"}),Object(p.isDesktop)()&&i.createElement(vt.d,{portalNodeId:"modal_root"}),Object(p.isDesktop)()&&i.createElement(vt.g,{portalNodeId:"modal_root"}))};jt.propTypes={position:o.a.string,updateChartType:o.a.func,updateGranularity:o.a.func};var St=jt,kt=r("./Modules/SmartChart/Components/top-widgets.jsx"),Pt=function(t){return t&&function(e){t({target:{name:"symbol",value:e}})}},Et=Object(_.b)((function(t){var e=t.modules;return{contract_info:e.contract_trade.last_contract.contract_info||{},digits_info:e.contract_trade.last_contract.digits_info||{},display_status:e.contract_trade.last_contract.display_status,is_digit_contract:e.contract_trade.last_contract.is_digit_contract,is_ended:e.contract_trade.last_contract.is_ended,selected_digit:e.trade.last_digit,onDigitChange:e.trade.onChange,underlying:e.trade.symbol,trade_type:e.trade.contract_type}}))((function(t){var e=t.contract_info,r=t.digits,n=t.digits_info,o=t.display_status,a=t.is_digit_contract,s=t.is_ended,c=t.onDigitChange,u=t.selected_digit,l=t.tick,p=t.trade_type,f=t.underlying;return i.createElement(bt.a,{contract_info:e,digits_array:r,digits_info:n,display_status:o,is_digit_contract:a,is_ended:s,onDigitChange:c,is_trade_page:!0,tick:l,trade_type:p,selected_digit:u,underlying:f})})),xt=Object(_.b)((function(t){var e=t.modules,r=t.ui;return{onSymbolChange:e.trade.onChange,theme:r.is_dark_mode_on?"dark":"light"}}))((function(t){var e,r=t.onSymbolChange,n=t.charts_ref,o=t.theme,a=t.is_digits_widget_active,s=t.active_category,c=t.open;return n&&n.chart&&(e=n.chart.yAxiswidth),i.createElement(kt.a,{active_category:s,open:c,is_mobile:Object(p.isMobile)(),is_digits_widget_active:a,onSymbolChange:Pt(r),theme:o,y_axis_width:e})})),Ct=Object(_.b)((function(t){var e=t.modules;return{updateChartType:e.contract_trade.updateChartType,updateGranularity:e.contract_trade.updateGranularity}}))((function(t){var e=t.updateChartType,r=t.updateGranularity;return i.createElement(St,{updateChartType:e,updateGranularity:r})})),Dt=function(t){var e=t.digits,r=t.tick;return i.createElement(gt.a,{Digits:i.createElement(Et,{digits:e,tick:r})})},Tt=(Object(_.b)((function(t){var e=t.modules;return{updateChartType:e.contract_trade.updateChartType,updateGranularity:e.contract_trade.updateGranularity}}))((function(t){var e=t.updateChartType,r=t.updateGranularity;return i.createElement(wt,{updateChartType:e,updateGranularity:r})})),s()({loader:function(){return Object(p.isMobile)()?Promise.all([r.e("reports~screen-large~screen-small"),r.e("screen-large~screen-small"),r.e("screen-small")]).then(r.bind(null,"./Modules/Trading/Components/Form/screen-small.jsx")):Promise.all([r.e("reports~screen-large~screen-small"),r.e("screen-large~screen-small"),r.e("screen-large")]).then(r.bind(null,"./Modules/Trading/Components/Form/screen-large.jsx"))},loading:function(){return null},render:function(t,e){var r=t.default;return i.createElement(r,e)}})),Mt=function(t){var e=t.is_market_closed,r=t.is_trade_enabled;return i.createElement(i.Fragment,null,i.createElement(Tt,{is_trade_enabled:r,is_market_closed:Object(p.isMobile)()?void 0:e}))};Mt.propTypes={is_market_closed:o.a.bool,is_trade_enabled:o.a.bool};var At=i.memo(Mt),Rt=function(t){if(!window.DOMParser)return null;var e=(new window.DOMParser).parseFromString(t,"image/svg+xml").children[0],r=e.attributes,n=r.width,o=r.height;n=1*n.value,o=1*o.value;var i=[];return[].forEach.call(e.children,(function(t){var e=t.attributes,r=e.d,n=e.fill,o=e.stroke;i.push({points:r.value.match(/M|C|H|A|L|V|-?\d*(\.\d+)?/g).filter((function(t){return t})).map((function(t){return-1==="MCHALV".indexOf(t)?1*t:t})),fill:n&&n.value,stroke:o&&o.value})})),{width:n,height:o,paths:i,with_color:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"white";return{width:n,height:o,paths:i.map((function(r){var n=r.points,o=r.fill;return{points:n,stroke:r.stroke,fill:"white"!==o?t:e}}))}}}},Lt=Rt('\n<svg width="15" height="20" viewBox="0 0 15 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7,20 C11.2,14.4 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 2.8,14.4 7,20 Z" fill="#333333"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="A7 7 4.2 0 6.283185307179586" fill="white" />\n</svg>'),Nt=Rt('\n<svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2 2L18 2L18 12L2 12Z" fill="white" />\n<path fill-rule="evenodd" clip-rule="evenodd" d="M2,0 L2,1 L19,1 L19,12 L2,12 L2,20 L1,20 L1,0 L2,0 Z M18,8 L15,8 L15,11 L18,11 L18,8 Z M12,8 L9,8 L9,11 L12,11 L12,8 Z M6,8 L3,8 L3,11 L6,11 L6,8 Z M15,5 L12,5 L12,8 L15,8 L15,5 Z M9,5 L6,5 L6,8 L9,8 L9,5 Z M6,2 L3,2 L3,5 L6,5 L6,2 Z M18,2 L15,2 L15,5 L18,5 L18,2 Z M12,2 L9,2 L9,5 L12,5 L12,2 Z" fill="#333333"/>\n</svg>\n');function It(t,e){return Ht(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,e)||Ft(t,e)||Ut()}function zt(t){return Ht(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Ft(t)||Ut()}function Ut(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ft(t,e){if(t){if("string"==typeof t)return Yt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(t,e):void 0}}function Yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ht(t){if(Array.isArray(t))return t}function Vt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(r),!0).forEach((function(e){Wt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gt(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var qt=navigator.userAgent.search("Firefox")>0,Xt=function(t){return function(e){var r=e.epoch_array,n=e.price_array,o=Gt(e,["epoch_array","price_array"]);return i.createElement(vt.f,{epoch_array:r,price_array:n,draw_callback:function(e){return t(Bt(Bt({},e),o))}})}};function Zt(t){var e=t.status,r=t.profit,n=t.is_dark_theme?{open:"#377cfc",won:"#00a79e",lost:"#cc2e3d",sold:"#ffad3a",fg:"#ffffff",bg:"#0e0e0e"}:{open:"#377cfc",won:"#4bb4b3",lost:"#ec3f3f",sold:"#ffad3a",fg:"#333333",bg:"#ffffff"},o=n[e||"open"];return"open"===e&&r&&(o=n[r>0?"won":"lost"]),o}var $t=function(t){return t?Math.max(Math.min(Math.sqrt(t/18),1.2),.8):1},Jt=[],Kt=function(t,e){if(0===Jt.length)for(var r=255;r>=0;--r)Jt[r]=(r<16?"0":"")+r.toString(16);var n=Math.floor(255*Math.min(Math.max(e-t-10,0)/6,1));return Jt[n]},Qt=function(t,e){var r=e.zoom,n=e.top,o=e.left,i=e.icon;t.save();var a=$t(r);t.translate(o-i.width*a/2,n-i.height*a/2),t.scale(a,a),i.paths.forEach((function(e){var r,n,o=e.points,i=e.fill,a=e.stroke;i&&(t.fillStyle=i),a&&(t.strokeStyle=a),t.beginPath();for(var s=0;s<o.length;s++){var c=void 0,u=void 0,l=void 0,p=void 0,f=void 0,d=void 0,h=void 0;if("M"===o[s])c=o[++s],u=o[++s],t.moveTo(c,u);else if("L"===o[s])c=o[++s],u=o[++s],t.lineTo(c,u);else if("V"===o[s])u=o[++s],t.lineTo(r,u);else if("H"===o[s])c=o[++s],t.lineTo(c,n);else if("Q"===o[s])l=o[++s],f=o[++s],c=o[++s],u=o[++s],t.quadraticCurveTo(l,f,c,u);else if("C"===o[s])l=o[++s],f=o[++s],p=o[++s],d=o[++s],c=o[++s],u=o[++s],t.bezierCurveTo(l,f,p,d,c,u);else if("A"===o[s]){c=o[++s],u=o[++s],h=o[++s];var y=o[++s],m=o[++s];t.arc(c,u,h,y,m)}r=c,n=u}t.closePath(),i&&t.fill(),a&&t.stroke()})),t.scale(1,1),t.restore()},te=function(t){var e=t.ctx,r=t.text,n=t.tick,o=n.zoom,i=n.left,a=n.top,s=$t(o),c=Math.floor(3*s+7);e.font="".concat(c,"px Roboto"),r.split(/\n/).forEach((function(t,r){var n=Math.ceil(e.measureText(t).width);e.fillText(t,i-5-n,a+r*c+1)}))},ee=function(t){var e=t.ctx,r=t.is_dark_theme,n=t.text,o=t.left,i=t.top,a=t.scale;e.textAlign="center";var s=Math.floor(12*a);e.font="bold ".concat(s,"px BinarySymbols, Roboto"),qt||(e.shadowColor=r?"rgba(16,19,31,1)":"rgba(255,255,255,1)",e.shadowBlur=12);for(var c=0;c<(qt?1:5);++c)e.fillText(n,o,i)},re=Xt((function(t){var e=t.ctx,r=t.canvas_height,n=zt(t.points),o=n[0],i=n.slice(1),a=It(t.prices,1)[0],s=t.is_last_contract,c=t.is_dark_theme,u=t.granularity,l=t.contract_info,p=l.status,f=l.profit,d=l.is_sold,h=l.is_expired,y=l.tick_count,m=e,_=Zt({is_dark_theme:c,status:p,profit:d?f:null});m.save(),m.strokeStyle=_,m.fillStyle=_;var b=s&&o.visible&&!d,g=$t(o.zoom),v=r/window.devicePixelRatio;if(a&&(a=Math.min(Math.max(a,2),v-32)),b&&(te({ctx:m,text:"Start\nTime",tick:{zom:o.zoom,left:o.left-1*g,top:v-50}}),m.beginPath(),m.setLineDash([3,3]),m.moveTo(o.left-1*g,0),i.length&&a&&(m.lineTo(o.left-1*g,a-34*g),m.moveTo(o.left-1*g,a+4*g)),m.lineTo(o.left-1*g,r),m.stroke()),i.length&&a){var O=i[0],w=i[i.length-1],j=d?Kt(o.left,w.left):"";(o.visible||O.visible||w.visible)&&(m.strokeStyle=_+j,m.beginPath(),m.setLineDash([1,1]),m.moveTo(o.left,a),m.lineTo(O.left,a),m.stroke(),m.beginPath(),m.setLineDash([]),m.moveTo(O.left,a),m.lineTo(w.left,a),m.stroke(),m.strokeStyle=_),s&&0===u&&!d&&(i.filter((function(t){return t.visible})).forEach((function(t){var e=t===w?_:Zt({status:"fg",is_dark_theme:c});m.fillStyle=e+j,m.beginPath(),m.arc(t.left-1*g,t.top,1.5*g,0,2*Math.PI),m.fill()})),m.fillStyle=_),0===u&&([O,h?w:null].forEach((function(t){t&&t.visible&&(m.strokeStyle=_+j,m.setLineDash([2,2]),m.beginPath(),m.moveTo(t.left-1*g,t.top),m.lineTo(t.left-1*g,a),m.stroke(),m.fillStyle=_+j,m.beginPath(),m.arc(t.left-1*g,t.top,3*g,0,2*Math.PI),m.fill(),t===O&&(m.beginPath(),m.fillStyle=Zt({status:"bg",is_dark_theme:c})+j,m.arc(t.left-1*g,t.top,2*g,0,2*Math.PI),m.fill()))})),m.strokeStyle=_,m.fillStyle=_),o.visible&&!d&&ee({ctx:m,scale:g,is_dark_theme:c,text:"".concat(i.length-1,"/").concat(y),left:o.left,top:a-27*g}),o.visible&&Qt(m,{top:a-9*g,left:o.left-1*g,zoom:o.zoom,icon:Lt.with_color(_+(d?j:""),Zt({status:"bg",is_dark_theme:c})+(d?j:""))}),w.visible&&d&&Qt(m,{top:a-9*g,left:w.left+8*g,zoom:w.zoom,icon:Nt.with_color(_,Zt({status:"bg",is_dark_theme:c}))}),m.restore()}else m.restore()})),ne={AUD:"A$",EUR:"",GBP:"",JPY:"",USD:"$",BTC:"B",BCH:"",ETH:"E",ETC:"",LTC:"L",UST:""},oe={TickContract:re,NonTickContract:Xt((function(t){var e=t.ctx,r=t.canvas_height,n=It(t.points,4),o=n[0],i=n[1],a=n[2],s=n[3],c=t.is_last_contract,u=It(t.prices,3),l=u[0],f=u[1],d=u[2],h=t.is_dark_theme,y=t.granularity,m=t.currency,_=t.contract_info,b=_.is_sold,g=_.status,v=_.profit,O=e;0!==y&&(a&&(a.top=f),s&&(s.top=d));var w=Zt({status:g,profit:v,is_dark_theme:h});O.save(),O.strokeStyle=w,O.fillStyle=w;var j=c&&o.visible&&!b,S=c&&!b&&v&&o.visible&&l,k=$t(o.zoom),P=b?Kt(o.left,i.left):"",E=r/window.devicePixelRatio;if(l&&(l=Math.min(Math.max(l,2),E-32)),j&&(te({ctx:O,text:"Start\nTime",tick:{zom:o.zoom,left:o.left-1*k,top:E-50}}),O.beginPath(),O.setLineDash([3,3]),O.moveTo(o.left-1*k,0),l&&(O.lineTo(o.left-1*k,l-(S?38:20)*k),O.moveTo(o.left-1*k,l+4*k)),O.lineTo(o.left-1*k,r),O.stroke()),l&&a&&(o.visible||i.visible||Math.sign(o.left)!==Math.sign(i.left))&&(O.strokeStyle=w+P,O.beginPath(),O.setLineDash([1,1]),O.moveTo(o.left,l),O.lineTo(a.left,l),O.stroke(),O.beginPath(),O.setLineDash([]),O.moveTo(a.left,l),O.lineTo(i.left,l),O.stroke(),O.strokeStyle=w),[a,s].forEach((function(t){t&&t.visible&&(O.strokeStyle=w+P,O.setLineDash([2,2]),O.beginPath(),O.moveTo(t.left-1*k,t.top),O.lineTo(t.left-1*k,l),O.stroke(),O.fillStyle=w+P,O.beginPath(),O.arc(t.left-1*k,t.top,3*k,0,2*Math.PI),O.fill(),t===a&&(O.beginPath(),O.fillStyle=Zt({status:"bg",is_dark_theme:h})+P,O.arc(t.left-1*k,t.top,2*k,0,2*Math.PI),O.fill()),O.fillStyle=w,O.strokeStyle=w)})),o&&o.visible&&l&&Qt(O,{top:l-9*k,left:o.left-1*k,zoom:o.zoom,icon:Lt.with_color(w+P)}),S){var x=ne[m]||"",C=Object(p.getDecimalPlaces)(m),D="".concat(v<0?"-":v>0?"+":" ").concat(x).concat(Math.abs(v).toFixed(C));ee({ctx:O,scale:k,text:D,is_dark_theme:h,left:o.left,top:l-28*k})}i.visible&&Qt(O,{top:l-9*k,left:i.left+8*k,zoom:i.zoom,icon:Nt.with_color(w,Zt({status:"bg",is_dark_theme:h}))}),O.restore()})),DigitContract:Xt((function(t){var e=t.ctx,r=zt(t.points),n=r[0],o=r.slice(1),i=It(t.prices,2),a=i[0],s=i[1],c=t.is_last_contract,u=t.is_dark_theme,l=t.granularity,p=t.contract_info,f=p.status,d=p.profit,h=p.is_sold,y=p.tick_stream,m=p.tick_count,_=e,b=Zt({is_dark_theme:u,status:f,profit:h?d:null});_.save(),_.strokeStyle=b,_.fillStyle=b;var g=c&&n.visible&&!h,v=$t(n.zoom);if(0!==l&&n&&a&&(n.top=a),g&&(_.beginPath(),_.setLineDash([3,3]),_.moveTo(n.left-1*v,0),o.length&&(_.lineTo(n.left-1*v,n.top-34*v),_.moveTo(n.left-1*v,n.top+4*v)),_.lineTo(n.left-1*v,_.canvas.height),_.stroke()),o.length){var O=o[o.length-1],w=h?Kt(n.left,O.left):"";0!==l&&O&&s&&(O.top=s),n.visible&&n.top&&!h&&ee({ctx:_,scale:v,is_dark_theme:u,text:"".concat(o.length,"/").concat(m),left:n.left-1*v,top:n.top-27*v}),!n.visible||0!==l&&h||Qt(_,{top:n.top-9*v,left:n.left-1*v,zoom:n.zoom,icon:Lt.with_color(b+w,Zt({status:"bg",is_dark_theme:u})+w)}),o.forEach((function(t,e){if(t===O&&t.visible&&(0===l||t===O)&&(0===l||t!==O||h)){var r=t!==O?Zt({status:"fg",is_dark_theme:u}):b;_.beginPath(),_.fillStyle=r,_.arc(t.left,t.top,7*v,0,2*Math.PI),_.fill(),_.beginPath(),_.fillStyle=h?b:Zt({status:"bg",is_dark_theme:u}),_.arc(t.left,t.top,6*v,0,2*Math.PI),_.fill();var n=y[e].tick_display_value.slice(-1);_.fillStyle=h?"white":r,_.textAlign="center",_.shadowBlur=0,_.font="bold ".concat(12*v,"px BinarySymbols, Roboto"),_.fillText(n,t.left,t.top)}})),O.visible&&h&&(_.fillStyle=b,Qt(_,{top:O.top-16*v,left:O.left+8*v,zoom:O.zoom,icon:Nt.with_color(b,Zt({status:"bg",is_dark_theme:u}))})),_.restore()}else _.restore()}))};function ie(t){return function(t){if(Array.isArray(t))return ae(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ae(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ae(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function se(){return(se=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pe(t,e,r){return e&&le(t.prototype,e),r&&le(t,r),t}function fe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&de(t,e)}function de(t,e){return(de=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=me(t);if(e){var o=me(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ye(this,r)}}function ye(t,e){return!e||"object"!==ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _e,be,ge=function(t){var e=t.tick,r=t.digits,n=t.setTick,o=t.setDigits;return i.useEffect((function(){n(e)}),[e]),i.useEffect((function(){o(r)}),r),null},ve=function(t){fe(r,t);var e=he(r);function r(){var t;ue(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={digits:[],tick:{},try_synthetic_indices:!1},t.bottomWidgets=function(e){var r=e.digits,n=e.tick;return i.createElement(ge,{digits:r,tick:n,setTick:function(e){return t.setState({tick:e})},setDigits:function(e){return t.setState({digits:e})}})},t.onChangeSwipeableIndex=function(e){0===e?t.props.setMobileDigitView(!0):t.props.setMobileDigitView(!1),t.setState({is_digits_widget_active:0===e})},t.onTrySyntheticIndicesClick=function(){t.setState({try_synthetic_indices:!0},(function(){t.setState({try_synthetic_indices:!1})}))},t}return pe(r,[{key:"componentDidMount",value:function(){this.props.onMount()}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"componentDidUpdate",value:function(t){Object(p.isMobile)()&&t.symbol!==this.props.symbol&&this.setState({digits:[]}),t.symbol!==this.props.symbol&&this.setState({try_synthetic_indices:!1})}},{key:"render",value:function(){var t=this.props.NotificationMessages,e=Object(p.isMobile)()?"mobile-wrapper":"sidebar__container desktop-only",r=this.props.form_components.length>0&&this.props.is_trade_enabled;return i.createElement("div",{id:"trade_container",className:"trade-container"},i.createElement(l.DesktopWrapper,null,i.createElement(tt,null)),i.createElement(l.Div100vhContainer,{id:"chart_container",className:"chart-container",is_disabled:Object(p.isDesktop)(),height_offset:"259px"},i.createElement(t,null),i.createElement(i.Suspense,{fallback:i.createElement(y.a,{is_dark:this.props.is_dark_theme,is_visible:!this.props.symbol||this.props.is_chart_loading})},i.createElement(l.DesktopWrapper,null,i.createElement("div",{className:"chart-container__wrapper"},i.createElement(y.a,{is_visible:this.props.is_chart_loading}),i.createElement(Se,{try_synthetic_indices:this.state.try_synthetic_indices}))),i.createElement(l.MobileWrapper,null,i.createElement(y.a,{is_visible:this.props.is_chart_loading||Object(m.b)(this.props.contract_type)&&!this.state.digits[0]}),i.createElement(l.SwipeableWrapper,{onChange:this.onChangeSwipeableIndex,is_disabled:!this.props.show_digits_stats||!r||this.props.is_chart_loading},this.props.show_digits_stats&&i.createElement(Et,{digits:this.state.digits,tick:this.state.tick}),i.createElement(Se,{bottomWidgets:this.props.show_digits_stats?this.bottomWidgets:void 0,is_digits_widget_active:this.props.show_digits_stats?this.state.is_digits_widget_active:void 0,try_synthetic_indices:this.state.try_synthetic_indices})))),i.createElement(_t,null)),i.createElement("div",{className:e},this.props.is_market_closed&&i.createElement(et,{onClick:this.onTrySyntheticIndicesClick}),i.createElement(At,{is_market_closed:this.props.is_market_closed,is_trade_enabled:r&&"online"===this.props.network_status.class})))}}]),r}(i.Component),Oe=Object(_.b)((function(t){var e=t.common,r=t.modules,n=t.ui;return{network_status:e.network_status,contract_type:r.trade.contract_type,form_components:r.trade.form_components,is_chart_loading:r.trade.is_chart_loading,is_market_closed:r.trade.is_market_closed,show_digits_stats:r.trade.show_digits_stats,is_trade_enabled:r.trade.is_trade_enabled,setMobileDigitView:r.trade.setMobileDigitView,symbol:r.trade.symbol,onMount:r.trade.onMount,onUnmount:r.trade.onUnmount,purchase_info:r.trade.purchase_info,NotificationMessages:n.notification_messages_ui}}))(ve),we=Object(_.b)((function(t){var e=t.modules,r=t.ui,n=t.client;return{markers_array:e.contract_trade.markers_array,is_digit_contract:e.contract_trade.is_digit_contract,granularity:e.contract_trade.granularity,is_dark_theme:r.is_dark_mode_on,currency:n.currency}}))((function(t){var e=t.markers_array,r=t.is_dark_theme,n=t.granularity,o=t.currency,a=t.config;return e.map((function(t){var e=oe[t.type];return i.createElement(e,se({key:t.key,is_dark_theme:r,granularity:n,currency:o,config:a},t))}))})),je=function(t){fe(r,t);var e=he(r);function r(){var t;ue(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={active_markets:[],active_category:null},t.bottomWidgets=function(t){var e=t.digits,r=t.tick;return i.createElement(Dt,{digits:e,tick:r})},t.topWidgets=function(e){var r=se({},e),n=t.props,o=n.is_digits_widget_active,a=n.try_synthetic_indices;return i.createElement(xt,se({active_category:a?"synthetic_index":null,open:!!a,charts_ref:t.charts_ref,is_digits_widget_active:o},r))},t}return pe(r,[{key:"componentDidMount",value:function(){this.setActiveMarkets()}},{key:"componentDidUpdate",value:function(t){t.should_refresh&&this.props.resetRefresh(),this.props.active_symbols!==t.active_symbols&&this.setActiveMarkets()}},{key:"setActiveMarkets",value:function(){var t=this.props.active_symbols,e=!!t.find((function(t){return"synthetic_index"===t.market})),r=t.slice().sort((function(t,e){return t.display_name<e.display_name?-1:1})).map((function(t){return t.market})).reduce((function(t,e){return-1===t.indexOf(e)&&t.push(e),t}),e?["synthetic_index"]:[]);this.setState({active_markets:r})}},{key:"render",value:function(){var t=this,e=this.props,r=e.show_digits_stats,n=e.main_barrier,o=e.should_refresh,a=e.extra_barriers,s=void 0===a?[]:a,c=e.symbol,u=this.state.active_markets,l=n?[n].concat(ie(s)):s,f=0===this.props.granularity?8:24;return c&&0!==u.length?i.createElement(vt.h,{ref:function(e){return t.charts_ref=e},barriers:l,bottomWidgets:r&&Object(p.isDesktop)()?this.bottomWidgets:this.props.bottomWidgets,crosshair:Object(p.isMobile)()?0:void 0,crosshairTooltipLeftAllow:560,showLastDigitStats:!!Object(p.isDesktop)()&&r,chartControlsWidgets:null,chartStatusListener:function(e){return t.props.setChartStatus(!e)},chartType:this.props.chart_type,enabledNavigationWidget:Object(p.isDesktop)(),enabledChartFooter:!1,id:"trade",isMobile:Object(p.isMobile)(),maxTick:Object(p.isMobile)()?f:void 0,granularity:this.props.granularity,requestAPI:this.props.wsSendRequest,requestForget:this.props.wsForget,requestForgetStream:this.props.wsForgetStream,requestSubscribe:this.props.wsSubscribe,settings:this.props.settings,symbol:this.props.symbol,topWidgets:this.props.is_trade_enabled?this.topWidgets:null,isConnectionOpened:this.props.is_socket_opened,clearChart:!1,toolbarWidget:Ct,importedLayout:this.props.chart_layout,onExportLayout:this.props.exportLayout,shouldFetchTradingTimes:!this.props.end_epoch,refreshActiveSymbols:o,hasAlternativeSource:this.props.has_alternative_source,refToAddTick:this.props.refToAddTick,activeSymbols:u,yAxisMargin:{top:Object(p.isMobile)()?76:106}},i.createElement(we,null)):null}}]),r}(i.Component),Se=Object(_.b)((function(t){var e=t.modules,r=t.ui,n=t.common;return{is_socket_opened:n.is_socket_opened,granularity:e.contract_trade.granularity,chart_type:e.contract_trade.chart_type,settings:{assetInformation:!1,countdown:r.is_chart_countdown_visible,isHighestLowestMarkerEnabled:!1,language:n.current_language.toLowerCase(),position:r.is_chart_layout_default?"bottom":"left",theme:r.is_dark_mode_on?"dark":"light"},last_contract:{is_digit_contract:e.contract_trade.last_contract.is_digit_contract,is_ended:e.contract_trade.last_contract.is_ended},is_trade_enabled:e.trade.is_trade_enabled,main_barrier:e.trade.main_barrier_flattened,extra_barriers:e.trade.barriers_flattened,show_digits_stats:e.trade.show_digits_stats,contract_type:e.trade.contract_type,symbol:e.trade.symbol,exportLayout:e.trade.exportLayout,setChartStatus:e.trade.setChartStatus,chart_layout:e.trade.chart_layout,wsForget:e.trade.wsForget,wsForgetStream:e.trade.wsForgetStream,wsSendRequest:e.trade.wsSendRequest,wsSubscribe:e.trade.wsSubscribe,active_symbols:e.trade.active_symbols,should_refresh:e.trade.should_refresh_active_symbols,resetRefresh:e.trade.resetRefresh,has_alternative_source:e.trade.has_alternative_source,refToAddTick:e.trade.refToAddTick}}))(je),ke=i.lazy((function(){return r.e("contract").then(r.bind(null,"./Modules/Contract/index.js"))})),Pe=i.lazy((function(){return Promise.all([r.e("vendors~mt5"),r.e("mt5")]).then(r.bind(null,"./Modules/MT5/index.js"))})),Ee=function(t){return t.pastDelay?i.createElement(l.Loading,null):null},xe=(_e=function(){return Promise.all([r.e("reports~screen-large~screen-small"),r.e("reports")]).then(r.bind(null,"./Modules/Reports/index.js"))},function(t){return s.a.Map({loader:{ComponentModule:_e},render:function(e,r){var n=e.ComponentModule.default[t];return i.createElement(n,r)},loading:Ee})}),Ce={component:i.lazy((function(){return r.e("404").then(r.bind(null,"./Modules/Page404/index.js"))})),getTitle:function(){return Object(h.localize)("Error 404")}},De=function(){return be||(be=[{path:p.routes.contract,component:ke,getTitle:function(){return Object(h.localize)("Contract Details")},is_authenticated:!0},{path:p.routes.mt5,component:Pe,getTitle:function(){return Object(h.localize)("MT5")},is_authenticated:!1},{path:p.routes.reports,component:xe("Reports"),is_authenticated:!0,getTitle:function(){return Object(h.localize)("Reports")},icon_component:"IcReports",routes:[{path:p.routes.positions,component:xe("OpenPositions"),getTitle:function(){return Object(h.localize)("Open positions")},icon_component:"IcOpenPositions",default:!0},{path:p.routes.profit,component:xe("ProfitTable"),getTitle:function(){return Object(h.localize)("Profit table")},icon_component:"IcProfitTable"},{path:p.routes.statement,component:xe("Statement"),getTitle:function(){return Object(h.localize)("Statement")},icon_component:"IcStatement"}]},{path:p.routes.trade,component:Oe,getTitle:function(){return Object(h.localize)("Trader")},exact:!0}]).push(Ce),be};function Te(){return(Te=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Me(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var Ae=function(t){var e=t.active_class,r=t.to,n=t.children,o=Me(t,["active_class","to","children"]),a=Object(d.c)(r),s=Object(d.a)(a,De());if(!s)throw new Error("Route not found: ".concat(r));return r?i.createElement(f.NavLink,Te({to:a,activeClassName:e||"active",exact:s.exact},o),n):i.createElement("a",o,n)};Ae.propTypes={active_class:o.a.string,children:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),to:o.a.string};var Re=Ae,Le=r("./_common/base/login.js"),Ne=function(t){var e=t.onLogin,r=t.onSignup,n=t.page_title;return i.createElement(l.PageError,{header:i.createElement(h.Localize,{i18n_default_text:"{{page_title}} page is only<0 />available for existing clients.",values:{page_title:n||"This"},components:[i.createElement("br",{key:0})]}),messages:[i.createElement(h.Localize,{key:0,i18n_default_text:"If you have an active account, please <0>Log in</0> for full access. Otherwise, please <1>Sign up</1> to start trading.",components:[i.createElement("a",{key:0,className:"link",onClick:e}),i.createElement("a",{key:1,className:"link",onClick:r})]})]})};Ne.propTypes={onLogin:o.a.func,onSignup:o.a.func,page_title:o.a.string};var Ie=Ne;function ze(){return(ze=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var Ue=function(t){var e=i.useContext(p.PlatformContext).is_deriv_crypto;return i.createElement(f.Route,{exact:t.exact,path:t.path,render:function(r){var n,o=null;if(t.component===f.Redirect){var a=t.to;if(t.path===p.routes.index)a=r.location.pathname.toLowerCase().replace(t.path,"");o=i.createElement(f.Redirect,{to:a})}else if(t.is_authenticated&&!t.is_logged_in)o=i.createElement(Ie,{onLogin:function(){return Object(Le.redirectToLogin)(t.is_logged_in)},onSignup:function(){return Object(Le.redirectToSignUp)({is_deriv_crypto:e})},page_title:t.getTitle()});else{var s=t.routes?t.routes.find((function(t){return t.default})):{},c=!Object(p.isEmptyObject)(s),u=Object(p.removeBranchName)(location.pathname);o=i.createElement(i.Fragment,null,c&&u===t.path&&i.createElement(f.Redirect,{to:s.path}),i.createElement(t.component,ze({},r,{routes:t.routes})))}var l=(null===(n=t.getTitle)||void 0===n?void 0:n.call(t))||"";return document.title="".concat(l," | ").concat(p.default_title),o}})};function Fe(){return(Fe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var Ye=function(t){return i.createElement(i.Suspense,{fallback:i.createElement("div",null)},i.createElement(f.Switch,null,De().map((function(e,r){return i.createElement(Ue,Fe({key:r},e,t))}))))};function He(t){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Be(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function We(t,e){return(We=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Xe(t);if(e){var o=Xe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return qe(this,r)}}function qe(t,e){return!e||"object"!==He(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ze=s()({loader:function(){return r.e("error-component").then(r.bind(null,"./App/Components/Elements/Errors/index.js"))},loading:l.UILoader,render:function(t,e){var r=t.default;return i.createElement(r,e)}}),$e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&We(t,e)}(a,t);var e,r,n,o=Ge(a);function a(){return Ve(this,a),o.apply(this,arguments)}return e=a,(r=[{key:"componentDidMount",value:function(){var t=this;this.props.setPromptHandler&&this.props.setPromptHandler(!0,(function(e,r){return function(t,e,r,n){if("PUSH"===e||"POP"===e){var o=Object(u.matchPath)(t.pathname,{path:p.routes.contract,exact:!0}),i=Object(u.matchPath)(r,{path:p.routes.contract,exact:!0});n(!!(r===p.routes.trade&&o||t.pathname===p.routes.trade&&i))}return!0}(e,r,t.props.history.location.pathname,t.props.setTradeMountingPolicy)}))}},{key:"render",value:function(){return this.props.has_error?i.createElement(Ze,this.props.error):i.createElement(Ye,{is_logged_in:this.props.is_logged_in,passthrough:this.props.passthrough})}}])&&Be(e.prototype,r),n&&Be(e,n),a}(i.Component);$e.propTypes={error:c.PropTypes.objectOrObservableObject,has_error:o.a.bool,is_logged_in:o.a.bool,is_virtual:o.a.bool,setPromptHandler:o.a.func};var Je=Object(u.withRouter)(Object(_.b)((function(t){var e=t.client,r=t.common,n=t.modules,o=t.ui;return{is_logged_in:e.is_logged_in,error:r.error,has_error:r.has_error,setPromptHandler:o.setPromptHandler,setTradeMountingPolicy:n.trade.setSkipPrePostLifecycle}}))($e)),Ke=r("./App/Components/Elements/currency-badge.jsx"),Qe=r("./App/Components/Elements/ContentLoader/index.js"),tr=r("./Constants/contract.js");function er(t){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function or(t,e){return(or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ir(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=sr(t);if(e){var o=sr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ar(this,r)}}function ar(t,e){return!e||"object"!==er(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sr(t){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&or(t,e)}(a,t);var e,r,n,o=ir(a);function a(){var t;rr(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))).handleClick=function(e){t.props.is_unsupported&&(e.preventDefault(),t.props.onClick())},t}return e=a,(r=[{key:"render",value:function(){var t=this.props,e=t.is_visible,r="won"===t.result;return i.createElement(i.Fragment,null,i.createElement(v.CSSTransition,{in:e,timeout:250,classNames:{enter:"positions-modal-card__result--enter",enterDone:"positions-modal-card__result--enter-done",exit:"positions-modal-card__result--exit"},unmountOnExit:!0},i.createElement("div",{className:"positions-modal-card__caption-wrapper"},i.createElement("span",{className:g()("positions-modal-card__caption",{"positions-modal-card__caption--won":r,"positions-modal-card__caption--lost":!r})},r?i.createElement(i.Fragment,null,Object(h.localize)("Won"),i.createElement(l.Icon,{icon:"IcCheckmarkCircle",className:"positions-modal-card__icon",color:"green"})):i.createElement(i.Fragment,null,Object(h.localize)("Lost"),i.createElement(l.Icon,{icon:"IcCrossCircle",className:"positions-modal-card__icon",color:"red"}))))))}}])&&nr(e.prototype,r),n&&nr(e,n),a}(i.PureComponent);cr.propTypes={is_unsupported:o.a.bool,is_visible:o.a.bool,onClick:o.a.func,result:o.a.string};var ur=cr,lr=function(t){var e,r,n=t.addToast,o=t.className,a=t.contract_info,s=t.contract_update,c=t.currency,u=t.current_tick,f=t.getContractById,d=t.id,y=t.indicative,m=t.is_loading,_=t.is_mobile,b=t.is_sell_requested,O=t.is_unsupported,w=t.is_valid_to_sell,j=t.onClickRemove,S=t.onClickSell,k=t.profit_loss,P=t.onClickCancel,E=t.removeToast,x=t.result,C=t.sell_price,D=t.server_time,T=t.setCurrentFocus,M=t.should_show_cancellation_warning,A=t.status,R=t.toggleCancellationWarning,L=t.togglePositions,N=t.toggleUnsupportedContractModal,I=t.type,z=i.createElement("div",{className:"positions-modal-card__content-loader"},i.createElement(Qe.a,{speed:2})),U=Object(p.isMultiplierContract)(a.contract_type),F=k>=0?"won":"lost",Y=i.createElement(i.Fragment,null,i.createElement("div",{className:g()("positions-modal-card__grid","positions-modal-card__grid-header")},i.createElement("div",{className:"positions-modal-card__underlying-name"},i.createElement(l.Icon,{icon:a.underlying?"IcUnderlying".concat(a.underlying):"IcUnknown",size:34}),i.createElement("span",{className:"positions-modal-card__symbol"},a.display_name)),i.createElement("div",{className:"positions-modal-card__type"},i.createElement(l.ContractCard.ContractTypeCell,{getContractTypeDisplay:tr.c,is_high_low:Object(p.isHighLow)({shortcode:a.shortcode}),multiplier:a.multiplier,type:I})),i.createElement(v.CSSTransition,{in:!!w,timeout:250,classNames:{enter:"positions-modal-card__sell-button--enter",enterDone:"positions-modal-card__sell-button--enter-done",exit:"positions-modal-card__sell-button--exit"},unmountOnExit:!0},i.createElement("div",{className:"positions-modal-card__sell-button"},i.createElement(l.Button,{id:"dt_drawer_card_".concat(d,"_button"),className:g()("dc-btn--sell",{"dc-btn--loading":b}),is_disabled:!w||b,text:Object(h.localize)("Sell"),onClick:function(){return S(d)},secondary:!0})))),i.createElement(Ke.a,{currency:null!==(e=null==a?void 0:a.currency)&&void 0!==e?e:""}),i.createElement("div",{className:g()("positions-modal-card__grid","positions-modal-card__grid-body")},i.createElement("div",{className:g()("positions-modal-card__grid-profit-payout")},i.createElement("div",{className:g()("positions-modal-card__profit-loss","positions-modal-card__profit-loss-label")},x?Object(h.localize)("Profit/Loss:"):Object(h.localize)("Potential profit/loss:")),i.createElement("div",{className:g()("positions-modal-card__indicative","positions-modal-card__indicative-label")},x?Object(h.localize)("Payout:"):Object(h.localize)("Indicative price:")),i.createElement("div",{className:g()("positions-modal-card__profit-loss",{"positions-modal-card__profit-loss--is-crypto":Object(p.isCryptocurrency)(c),"positions-modal-card__profit-loss--negative":k<0,"positions-modal-card__profit-loss--positive":k>0})},i.createElement(l.Money,{amount:Math.abs(k),currency:c}),i.createElement("div",{className:g()("positions-modal-card__indicative--movement",{"positions-modal-card__indicative--movement-complete":!!x})},"profit"===A&&i.createElement(l.Icon,{icon:"IcProfit"}),"loss"===A&&i.createElement(l.Icon,{icon:"IcLoss"}))),i.createElement("div",{className:"positions-modal-card__indicative"},i.createElement(l.Money,{amount:C||y,currency:c}),i.createElement("div",{className:g()("positions-modal-card__indicative--movement",{"positions-modal-card__indicative--movement-complete":!!x})},"profit"===A&&i.createElement(l.Icon,{icon:"IcProfit"}),"loss"===A&&i.createElement(l.Icon,{icon:"IcLoss"})))),i.createElement("div",{className:g()("positions-modal-card__grid-price-payout")},i.createElement("div",{className:"positions-modal-card__purchase-price"},i.createElement("span",{className:"positions-modal-card__purchase-label"},Object(h.localize)("Purchase price:")),i.createElement("span",{className:"positions-modal-card__purchase-value"},i.createElement(l.Money,{amount:a.buy_price,currency:c}))),i.createElement("div",{className:"positions-modal-card__payout-price"},i.createElement("span",{className:"positions-modal-card__payout-label"},Object(h.localize)("Potential payout:")),i.createElement("span",{className:"positions-modal-card__payout-value"},a.payout?i.createElement(l.Money,{amount:a.payout,currency:c}):i.createElement("strong",null,"-i")))),x||a.is_sold?i.createElement(ur,{contract_id:d,is_unsupported:O,is_visible:!!a.is_sold,onClickRemove:j,onClick:function(){return N(!0)},result:x||F}):i.createElement(l.ProgressSliderMobile,{className:"positions-modal-card__progress",current_tick:u,getCardLabels:tr.a,is_loading:m,start_time:a.date_start,expiry_time:a.date_expiry,server_time:D,ticks_count:a.tick_count}))),H=i.createElement(l.ContractCard.Header,{contract_info:a,getCardLabels:tr.a,getContractTypeDisplay:tr.c,has_progress_slider:!U,is_mobile:_,is_sell_requested:b,onClickSell:S,server_time:D}),V=i.createElement("div",{className:"dc-contract-card__separatorclass"},i.createElement(l.ContractCard.Body,{contract_info:a,contract_update:s,currency:c,getCardLabels:tr.a,is_mobile:_,is_multiplier:U,status:A,server_time:D})),B=i.createElement(l.ContractCard.Footer,{addToast:n,contract_info:a,getCardLabels:tr.a,getContractById:f,is_multiplier:U,is_sell_requested:b,onClickCancel:P,onClickSell:S,removeToast:E,setCurrentFocus:T,server_time:D,should_show_cancellation_warning:M,status:A,toggleCancellationWarning:R}),W=i.createElement(i.Fragment,null,i.createElement(l.ContractCard,{contract_info:a,getCardLabels:tr.a,is_multiplier:U,profit_loss:k,should_show_result_overlay:!1},H,i.createElement(Ke.a,{currency:null!==(r=null==a?void 0:a.currency)&&void 0!==r?r:""}),V,B)),G=U?W:Y;return i.createElement("div",{id:"dt_drawer_card_".concat(d),className:g()("positions-modal-card__wrapper",o)},O?i.createElement("div",{className:g()("positions-modal-card"),onClick:function(){return N(!0)}},a.underlying?G:z):i.createElement(i.Fragment,null,i.createElement(Re,{onClick:L,className:g()("positions-modal-card",{"positions-modal-card--multiplier":U}),to:Object(p.getContractPath)(d)},a.underlying?G:z)))};lr.propTypes={className:o.a.string,contract_info:o.a.object,currency:o.a.string,current_tick:o.a.number,duration:o.a.oneOfType([o.a.number,o.a.string]),duration_unit:o.a.string,exit_spot:o.a.oneOfType([o.a.number,o.a.string]),id:o.a.number,indicative:o.a.number,is_loading:o.a.bool,is_mobile:o.a.bool,is_sell_requested:o.a.bool,is_unsupported:o.a.bool,is_valid_to_sell:o.a.oneOfType([o.a.number,o.a.bool]),onClickRemove:o.a.func,onClickSell:o.a.func,onClickCancel:o.a.func,profit_loss:o.a.number,result:o.a.string,sell_time:o.a.number,server_time:o.a.object,setCurrentFocus:o.a.func,status:o.a.string,togglePositions:o.a.func,toggleUnsupportedContractModal:o.a.func,type:o.a.string};var pr=Object(_.b)((function(t){var e=t.common,r=t.ui,n=t.modules;return{addToast:r.addToast,getContractById:n.contract_trade.getContractById,is_mobile:r.is_mobile,removeToast:r.removeToast,server_time:e.server_time,setCurrentFocus:r.setCurrentFocus,should_show_cancellation_warning:r.should_show_cancellation_warning,toggleCancellationWarning:r.toggleCancellationWarning,updateLimitOrder:n.contract_trade.updateLimitOrder}}))(lr),fr=(r("./sass/app/_common/components/positions-toggle.scss"),function(t){var e=t.positions_count,r=t.is_open,n=t.togglePositions,o=g()("positions-toggle",{"positions-toggle--active":r,"positions-toggle--has-count":e>0});return i.createElement("a",{id:"dt_positions_toggle",className:o,onClick:n,"data-count":e},i.createElement(l.Icon,{icon:"IcPortfolio",className:"positions-toggle__icon"}))});fr.propTypes={is_positions_drawer_on:o.a.bool,positions_count:o.a.number,togglePositionsDrawer:o.a.func};var dr=fr;function hr(t){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yr(){return(yr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function mr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function br(t,e){return(br=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Or(t);if(e){var o=Or(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return vr(this,r)}}function vr(t,e){return!e||"object"!==hr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Or(t){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&br(t,e)}(a,t);var e,r,n,o=gr(a);function a(){var t;mr(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))).filtered_positions=[],t.closeModal=function(){var e=t.props,r=e.togglePositionsDrawer,n=e.onClickRemove;t.filtered_positions.slice(0,5).map((function(t){var e=t.contract_info;(null==e?void 0:e.is_sold)&&n(e.contract_id)})),r()},t}return e=a,(r=[{key:"render",value:function(){var t=this.props,e=t.all_positions,r=t.error,n=t.currency,o=t.is_empty,a=t.onClickSell,s=t.onClickRemove,c=t.onClickCancel,u=t.symbol,f=t.togglePositionsDrawer,d=t.toggleUnsupportedContractModal,y=t.trade_contract_type;this.filtered_positions=e.filter((function(t){return t.contract_info&&u===t.contract_info.underlying&&Object(H.b)(t.contract_info,y)}));var m=i.createElement(i.Fragment,null,i.createElement(v.TransitionGroup,{component:"div"},this.filtered_positions.slice(0,5).map((function(t){return i.createElement(v.CSSTransition,{appear:!0,key:t.id,in:!0,timeout:150,classNames:{appear:"dc-contract-card__wrapper--enter",enter:"dc-contract-card__wrapper--enter",enterDone:"dc-contract-card__wrapper--enter-done",exit:"dc-contract-card__wrapper--exit"},unmountOnExit:!0},i.createElement(pr,yr({onClickSell:a,onClickCancel:c,onClickRemove:s,key:t.id,currency:n,toggleUnsupportedContractModal:d,togglePositions:f},t)))}))));return i.createElement(i.Fragment,null,i.createElement(dr,{is_open:this.props.is_positions_drawer_on,togglePositions:this.props.togglePositionsDrawer,positions_count:this.props.active_positions_count}),i.createElement(l.Modal,{is_open:this.props.is_positions_drawer_on,toggleModal:this.closeModal,id:"dt_mobile_positions",is_vertical_top:!0,has_close_icon:!0,enableApp:this.props.enableApp,disableApp:this.props.disableApp,width:"calc(100vw - 32px)"},i.createElement(l.Div100vhContainer,{className:"positions-modal",height_offset:"48px"},i.createElement("div",{className:"positions-modal__header"},i.createElement("span",{className:"positions-modal__title"},i.createElement(l.Icon,{icon:"IcPortfolio",className:"positions-modal__title-icon"}),Object(h.localize)("Recent positions")),i.createElement("div",{className:"positions-modal__close-btn",onClick:this.closeModal},i.createElement(l.Icon,{icon:"IcMinusBold"}))),i.createElement("div",{className:"positions-modal__body"},o||r?i.createElement(U,{error:r}):m),i.createElement("div",{className:"positions-modal__footer"},i.createElement(Re,{onClick:this.closeModal,className:"dc-btn dc-btn--secondary dc-btn__large positions-modal__footer-btn",to:p.routes.positions},i.createElement("span",{className:"dc-btn__text"},Object(h.localize)("Go to Reports")))))))}}])&&_r(e.prototype,r),n&&_r(e,n),a}(i.Component),jr=Object(_.b)((function(t){var e=t.modules,r=t.ui;return{symbol:e.trade.symbol,trade_contract_type:e.trade.contract_type,onClickRemove:e.portfolio.removePositionById,togglePositionsDrawer:r.togglePositionsDrawer,is_positions_drawer_on:r.is_positions_drawer_on}}))(wr),Sr=r("./Services/ws-methods.js");function kr(t){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pr(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Er(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cr(t,e){return(Cr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Mr(t);if(e){var o=Mr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Tr(this,r)}}function Tr(t,e){return!e||"object"!==kr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mr(t){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cr(t,e)}(c,t);var e,r,n,o,a,s=Dr(c);function c(){var t;Er(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=s.call.apply(s,[this].concat(r))).populateHeader=function(){var e=t.props,r=e.active_positions_count,n=e.disableApp,o=e.enableApp,a=e.is_logged_in,s=e.is_positions_empty,c=e.onPositionsRemove,u=e.onPositionsSell,p=e.onPositionsCancel,f=e.positions,d=e.positions_currency,h=e.positions_error;(0,e.populateHeaderExtensions)(a&&i.createElement(l.MobileWrapper,null,i.createElement(_.a,{store:t.props.store},i.createElement(jr,{active_positions_count:r,all_positions:f,currency:d,disableApp:n,is_empty:s,enableApp:o,error:h,onClickSell:u,onClickRemove:c,onClickCancel:p}))))},t}return e=c,(r=[{key:"componentDidMount",value:(o=regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(p.isMobile)()){t.next=10;break}return e=this.props.store.client,t.next=4,Object(rt.when)((function(){return!e.is_populating_account_list}));case 4:if(!this.props.is_logged_in){t.next=10;break}return t.next=7,Sr.a.wait("authorize");case 7:this.props.onMountPositions(),this.props.onMountCashier(!0),this.props.setAccountSwitchListener();case 10:this.populateHeader();case 11:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function a(t){Pr(i,r,n,a,s,"next",t)}function s(t){Pr(i,r,n,a,s,"throw",t)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"componentDidUpdate",value:function(){this.populateHeader()}},{key:"componentWillUnmount",value:function(){Object(p.isMobile)()&&this.props.onUnmountPositions(),this.props.populateHeaderExtensions(null)}},{key:"render",value:function(){return null}}])&&xr(e.prototype,r),n&&xr(e,n),c}(i.Component);Ar.propTypes={is_logged_in:o.a.bool,populateHeaderExtensions:o.a.func};var Rr=Object(_.b)((function(t){var e=t.client,r=t.modules,n=t.ui;return{positions_currency:e.currency,is_logged_in:e.is_logged_in,positions:r.portfolio.all_positions,positions_error:r.portfolio.error,is_positions_empty:r.portfolio.is_empty,onPositionsSell:r.portfolio.onClickSell,onPositionsRemove:r.portfolio.removePositionById,onPositionsCancel:r.portfolio.onClickCancel,onMountCashier:r.cashier.onMountCommon,onMountPositions:r.portfolio.onMount,onUnmountPositions:r.portfolio.onUnmount,active_positions_count:r.portfolio.active_positions_count,disableApp:n.disableApp,enableApp:n.enableApp,populateHeaderExtensions:n.populateHeaderExtensions,toggleUnsupportedContractModal:n.toggleUnsupportedContractModal,setAccountSwitchListener:r.cashier.setAccountSwitchListener}}))(Ar),Lr=function(t){var e=t.active_positions_count,r=t.is_logged_in,n=t.is_positions_drawer_on,o=t.location,a=t.populateFooterExtensions,s=t.togglePositionsDrawer;i.useEffect((function(){return u()})),i.useEffect((function(){return function(){return a([])}}),[]);var c=function(){return i.createElement(dr,{is_open:n,togglePositions:s,positions_count:e})},u=function(){var t=o.pathname===p.routes.trade;a(r&&t?[{position:"left",Component:c}]:[])};return null};Lr.propTypes={active_positions_count:o.a.number,is_logged_in:o.a.bool,is_positions_drawer_on:o.a.bool,location:o.a.object,populateFooterExtensions:o.a.func,togglePositionsDrawer:o.a.func};var Nr=Object(_.b)((function(t){var e=t.client,r=t.modules,n=t.ui;return{active_positions_count:r.portfolio.active_positions_count,is_logged_in:e.is_logged_in,is_positions_drawer_on:n.is_positions_drawer_on,populateFooterExtensions:n.populateFooterExtensions,togglePositionsDrawer:n.togglePositionsDrawer}}))(Object(f.withRouter)(Lr));function Ir(t){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zr(){return(zr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Yr(t,e){return(Yr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Br(t);if(e){var o=Br(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Vr(this,r)}}function Vr(t,e){return!e||"object"!==Ir(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Br(t){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wr=s()({loader:function(){return r.e("settings-chart").then(r.bind(null,"./App/Containers/SettingsModal/settings-chart.jsx"))},loading:l.UILoader}),Gr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yr(t,e)}(a,t);var e,r,n,o=Hr(a);function a(){var t;Ur(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))).populateSettings=function(){(0,t.props.populateSettingsExtensions)([{icon:"IcChart",label:Object(h.localize)("Charts"),value:function(e){var r=zr({},e);return i.createElement(_.a,{store:t.props.store},i.createElement(Wr,r))}}])},t}return e=a,(r=[{key:"componentDidMount",value:function(){this.populateSettings()}},{key:"componentDidUpdate",value:function(){this.populateSettings()}},{key:"componentWillUnmount",value:function(){this.props.populateSettingsExtensions(null)}},{key:"render",value:function(){return null}}])&&Fr(e.prototype,r),n&&Fr(e,n),a}(i.Component);Gr.propTypes={populateSettingsExtensions:o.a.func};var qr=Object(_.b)((function(t){return{populateSettingsExtensions:t.ui.populateSettingsExtensions}}))(Gr),Xr=r("./Modules/Trading/Containers/toast-popup.jsx"),Zr=r("../node_modules/extend/index.js"),$r=r.n(Zr),Jr=r("./Stores/Modules/Contract/Helpers/logic.js"),Kr=function(t){var e=t.label,r=t.line_style,n=t.marker_config,o=t.status;return n?i.createElement("div",{className:g()("chart-marker-line__wrapper","chart-marker-line--".concat(r))},e===n.LINE_END.content_config.label&&i.createElement(l.Icon,{icon:"IcContractExitTimeCircle",className:"chart-marker-line__icon",color:"lost"===o?"red":"green",size:24}),e===n.LINE_START.content_config.label&&i.createElement(l.Icon,{icon:"IcContractStartTimeCircle",className:"chart-marker-line__icon chart-marker-line__icon--time",color:"secondary",size:24})):i.createElement("div",null)};Kr.propTypes={label:o.a.string,line_style:o.a.string,marker_config:o.a.object,status:o.a.oneOf(["won","lost"])};var Qr=Object(c.observer)(Kr),tn=function(t){var e=t.className,r=t.spot_count;return i.createElement("div",{className:g()("chart-spot",e)},r)};tn.propTypes={className:o.a.string,spot_count:o.a.oneOfType([o.a.number,o.a.string])};var en=Object(c.observer)(tn);function rn(t){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function on(t,e){return(on=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function an(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=cn(t);if(e){var o=cn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return sn(this,r)}}function sn(t,e){return!e||"object"!==rn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cn(t){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&on(t,e)}(a,t);var e,r,n,o=an(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this,t)).handleHoverToggle=function(){e.setState((function(t){return{show_label:!t.show_label}}))},e.state={show_label:!e.props.has_hover_toggle},e}return e=a,(r=[{key:"render",value:function(){var t=i.createElement(en,{className:this.props.spot_className,spot_count:this.props.spot_count});return this.props.has_hover_toggle&&(t=i.createElement("div",{className:"marker-hover-container",onMouseEnter:this.handleHoverToggle,onMouseLeave:this.handleHoverToggle},t)),i.createElement("div",{className:"chart-spot-label"},this.state.show_label&&i.createElement("div",{className:"chart-spot-label__info-container"},i.createElement("div",{className:"chart-spot-label__time-value-container chart-spot-label__time-value-container--".concat(this.props.align_label)},i.createElement("div",{className:"chart-spot-label__time-container"},i.createElement(l.Icon,{icon:"IcClockOutline",height:10,width:10,className:"chart-spot-label__time-icon"}),i.createElement("p",{className:"chart-spot-label__time"},Object(p.toMoment)(+this.props.spot_epoch).format("HH:mm:ss"))),i.createElement("div",{className:g()("chart-spot-label__value-container",{"chart-spot-label__value-container--won":"won"===this.props.status,"chart-spot-label__value-container--lost":"lost"===this.props.status})},i.createElement("p",null,Object(p.addComma)(this.props.spot_value))))),t)}}])&&nn(e.prototype,r),n&&nn(e,n),a}(i.Component);un.defaultProps={align_label:"top"},un.propTypes={align_label:o.a.oneOf(["top","bottom"]),has_hover_toggle:o.a.bool,spot_className:o.a.string,spot_count:o.a.oneOfType([o.a.number,o.a.string]),spot_epoch:o.a.oneOfType([o.a.number,o.a.string]),spot_value:o.a.oneOfType([o.a.number,o.a.string]),status:o.a.oneOf(["won","lost"])};var ln,pn,fn=Object(c.observer)(un),dn={LINE_END:{type:"LINE_END",marker_config:{ContentComponent:Qr,className:"chart-marker-line"},content_config:{line_style:"dash",label:Object(h.localize)("End Time")}},LINE_PURCHASE:{type:"LINE_PURCHASE",marker_config:{ContentComponent:Qr,className:"chart-marker-line"},content_config:{line_style:"solid",label:Object(h.localize)("Purchase Time")}},LINE_START:{type:"LINE_START",marker_config:{ContentComponent:Qr,className:"chart-marker-line"},content_config:{line_style:"solid",label:Object(h.localize)("Start Time")}},SPOT_ENTRY:{type:"SPOT_ENTRY",marker_config:{ContentComponent:en},content_config:{className:"chart-spot__entry"}},SPOT_SELL:{type:"SPOT_SELL",marker_config:{ContentComponent:en},content_config:{className:"chart-spot__sell"}},SPOT_EXIT:{type:"SPOT_EXIT",marker_config:{ContentComponent:fn},content_config:{spot_className:"chart-spot__spot"}},SPOT_MIDDLE:{type:"SPOT_MIDDLE",marker_config:{ContentComponent:fn},content_config:{spot_className:"chart-spot__spot"}}},hn=function(t,e,r,n){return $r()(!0,{},dn[t],{marker_config:{x:+e,y:r},content_config:n})},yn=function(t,e){return Object(p.isDigitContract)(t.contract_type)?e+1:e},mn=function(t){if(!t.entry_tick_time)return!1;var e=dn.SPOT_ENTRY.type,r={},n=t.entry_tick_display_value;return Object(p.isDigitContract)(t.contract_type)&&(e=dn.SPOT_MIDDLE.type,r={spot_value:"".concat(n),spot_epoch:"".concat(t.entry_tick_time),spot_count:1}),hn(e,t.entry_tick_time,n,r)},_n=function(t,e,r){if(!t.exit_tick_time)return!1;var n,o,i=Object(p.isUserSold)(t);e&&(n=yn(t,r),o=e.align_label);var a=t.exit_tick_display_value,s=!i||Object(p.isMultiplierContract)(t.contract_type),c=s?dn.SPOT_EXIT.type:dn.SPOT_SELL.type,u=s?{spot_value:"".concat(a),spot_epoch:"".concat(t.exit_tick_time),status:"".concat(+t.profit>=0?"won":"lost"),align_label:o,spot_count:n}:{};return hn(c,+t.exit_tick_time,+a,u)};function bn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gn(t){return function(t){if(Array.isArray(t))return vn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return vn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var On,wn,jn,Sn,kn,Pn,En,xn,Cn,Dn,Tn,Mn,An,Rn,Ln,Nn,In,zn=(bn(ln={},dn.SPOT_ENTRY.type,mn),bn(ln,dn.SPOT_EXIT.type,_n),ln),Un=(bn(pn={},dn.LINE_START.type,(function(t){return!!t.date_start&&hn(dn.LINE_START.type,+t.date_start,null,{marker_config:dn})})),bn(pn,dn.LINE_END.type,(function(t){var e=Object(Jr.e)(t);return!!e&&hn(dn.LINE_END.type,+e,null,{status:"".concat(t.profit>=0?"won":"lost"),marker_config:dn})})),bn(pn,dn.LINE_PURCHASE.type,(function(t){return!(!t.purchase_time||!t.date_start||+t.purchase_time==+t.date_start)&&hn(dn.LINE_PURCHASE.type,+t.purchase_time)})),pn),Fn=function(t,e,r){if(e>0&&r.length){var n=r[e-1];+t>+n.tick&&(t.align_label="top"),+t.tick<+n.tick&&(t.align_label="bottom"),+t.tick==+n.tick&&(t.align_label=n.align_label)}return t},Yn=function(t){var e=Object(p.unique)(t.tick_stream,"epoch").map(Fn),r=[];return e.forEach((function(e,n){var o,i=0===n&&+e.epoch!==t.exit_tick_time,a=n>0&&+e.epoch!=+t.exit_tick_time,s=+e.epoch==+t.exit_tick_time||yn(t,n)===t.tick_count;i?o=mn(t):a?o=function(t,e,r){var n=yn(t,r),o=e.tick_display_value,i=hn(dn.SPOT_MIDDLE.type,+e.epoch,+o,{spot_value:"".concat(o),spot_epoch:"".concat(e.epoch),align_label:e.align_label,spot_count:n});return i.type="".concat(i.type,"_").concat(r),Object(p.isMobile)()&&n>1?null:i}(t,e,n):s&&(e.align_label="top",o=_n(t,e,n)),o&&r.push(o)})),r},Hn={CALL:"ABOVE",PUT:"BELOW",CALLE:"ABOVE",PUTE:"BELOW",EXPIRYRANGE:"BETWEEN",EXPIRYMISS:"OUTSIDE",RANGE:"BETWEEN",UPORDOWN:"OUTSIDE",ONETOUCH:"NONE_SINGLE",NOTOUCH:"NONE_SINGLE",ASIANU:"ABOVE",ASIAND:"BELOW",MULTUP:"ABOVE",MULTDOWN:"BELOW"},Vn={1:"NONE_SINGLE",2:"NONE_DOUBLE"},Bn="#4bb4b3",Wn="#ff6444",Gn="#999999",qn="#6E6E6E",Xn="dotted",Zn="solid",$n=function(t){return t in Hn},Jn=function(t,e){var r=t.findIndex((function(t){return t.key===e}));r>-1&&t.splice(r,1)};function Kn(t){return function(t){if(Array.isArray(t))return Qn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Qn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function to(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function eo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ro(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function no(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var oo,io,ao,so,co,uo,lo,po,fo,ho,yo,mo,_o,bo,go,vo,Oo,wo,jo,So,ko,Po,Eo,xo,Co,Do,To,Mo,Ao,Ro,Lo,No,Io,zo=(On=rt.action.bound,wn=rt.action.bound,jn=rt.action.bound,Sn=rt.action.bound,Pn=no((kn=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.color,a=o.line_style,s=o.not_draggable;eo(this,t),to(this,"color",Pn,this),to(this,"lineStyle",En,this),to(this,"shade",xn,this),to(this,"shadeColor",Cn,this),to(this,"high",Dn,this),to(this,"low",Tn,this),to(this,"relative",Mn,this),to(this,"draggable",An,this),to(this,"hidePriceLines",Rn,this),to(this,"hideBarrierLine",Ln,this),to(this,"hideOffscreenLine",Nn,this),to(this,"title",In,this),this.onChartBarrierChange=void 0,this.color=i,this.lineStyle=a||Zn,this.onChange=this.onBarrierChange,this.onChartBarrierChange="function"==typeof n?n.bind(this):function(){},this.high=+e||0,r&&(this.low=+r),this.shade=this.default_shade;var c=!!e;this.relative=!c||/^[+-]/.test(e),this.draggable=!s&&c,this.hidePriceLines=!c}var e,r,n;return e=t,(r=[{key:"updateBarriers",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r||(this.relative=/^[+-]/.test(t)),this.high=+t||void 0,this.low=+e||void 0}},{key:"updateBarrierShade",value:function(t,e){this.shade=t&&Hn[e]||this.default_shade}},{key:"onBarrierChange",value:function(t){var e=t.high,r=t.low;this.updateBarriers(e,r,!0),this.onChartBarrierChange.apply(this,Kn(function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.filter((function(t){return null!=t})).map((function(e){return"".concat(t&&!/^[+-]/.test(e)?"+":"").concat(e)}))}(this.relative,e,r)))}},{key:"updateBarrierColor",value:function(t){this.color=t?qn:Gn}},{key:"barrier_count",get:function(){return(void 0!==this.high)+(void 0!==this.low)}},{key:"default_shade",get:function(){return Vn[this.barrier_count]}}])&&ro(e.prototype,r),n&&ro(e,n),t}()).prototype,"color",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En=no(kn.prototype,"lineStyle",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xn=no(kn.prototype,"shade",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cn=no(kn.prototype,"shadeColor",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=no(kn.prototype,"high",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tn=no(kn.prototype,"low",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mn=no(kn.prototype,"relative",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),An=no(kn.prototype,"draggable",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rn=no(kn.prototype,"hidePriceLines",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ln=no(kn.prototype,"hideBarrierLine",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn=no(kn.prototype,"hideOffscreenLine",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=no(kn.prototype,"title",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no(kn.prototype,"updateBarriers",[On],Object.getOwnPropertyDescriptor(kn.prototype,"updateBarriers"),kn.prototype),no(kn.prototype,"updateBarrierShade",[wn],Object.getOwnPropertyDescriptor(kn.prototype,"updateBarrierShade"),kn.prototype),no(kn.prototype,"onBarrierChange",[jn],Object.getOwnPropertyDescriptor(kn.prototype,"onBarrierChange"),kn.prototype),no(kn.prototype,"updateBarrierColor",[Sn],Object.getOwnPropertyDescriptor(kn.prototype,"updateBarrierColor"),kn.prototype),no(kn.prototype,"barrier_count",[rt.computed],Object.getOwnPropertyDescriptor(kn.prototype,"barrier_count"),kn.prototype),no(kn.prototype,"default_shade",[rt.computed],Object.getOwnPropertyDescriptor(kn.prototype,"default_shade"),kn.prototype),kn),Uo={STOP_OUT:"stop_out",TAKE_PROFIT:"take_profit",STOP_LOSS:"stop_loss"},Fo=function(t){var e=t.barriers,r=t.contract_type,n=t.contract_info,o=void 0===n?{}:n;if(t.is_over&&function(t,e){return Object(p.isMultiplierContract)(t)&&e.limit_order}(r,o)){var i=Object.values(Uo),a=Object.keys(o.limit_order).some((function(t){return t===Uo.STOP_LOSS&&o.limit_order[t].value}));i.forEach((function(t){var r=o.limit_order[t];if(r&&r.value){var n=e.find((function(e){return e.key===t}));if(n){if(n.high===+r.value)return;n.onChange({high:r.value})}else{var i={key:t,title:"".concat(r.display_name),color:t===Uo.TAKE_PROFIT?Bn:Wn,draggable:!1,lineStyle:t===Uo.STOP_OUT?Xn:Zn,hidePriceLines:a&&t===Uo.STOP_OUT,hideOffscreenLine:!0,showOffscreenArrows:!0,isSingleBarrier:!0,opacityOnOverlap:t===Uo.STOP_OUT&&.15};n=new zo(r.value),Object.assign(n,i),e.push(n)}}else Jn(e,t)}))}else{Object.values(Uo).forEach((function(t){return Jn(e,t)}))}},Yo=function(){return{has_contract_update_stop_loss:{trigger:"contract_update_stop_loss"},contract_update_stop_loss:{rules:[["req",{condition:function(t){return!t.contract_update_stop_loss},message:Object(h.localize)("Please enter a stop loss amount.")}],["custom",{func:function(t,e,r){var n=Object(Jr.f)(r);return!(n<0&&-t>n)},message:Object(h.localize)("Please enter a stop loss amount that's higher than the current potential loss.")}],["custom",{func:function(t,e,r){return t<Object(Jr.a)(r)+1},message:Object(h.localize)("Invalid stop loss. Stop loss cannot be more than stake.")}]]},has_contract_update_take_profit:{trigger:"contract_update_take_profit"},contract_update_take_profit:{rules:[["req",{condition:function(t){return!t.contract_update_take_profit},message:Object(h.localize)("Please enter a take profit amount.")}],["custom",{func:function(t,e,r){var n=Object(Jr.f)(r);return!(n>0&&+t<n)},message:Object(h.localize)("Please enter a take profit amount that's higher than the current potential profit.")}]]}}},Ho=r("./Stores/base-store.js");function Vo(t){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Go(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function qo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xo(t,e){return(Xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ko(t);if(e){var o=Ko(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $o(this,r)}}function $o(t,e){return!e||"object"!==Vo(e)&&"function"!=typeof e?Jo(t):e}function Jo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ko(t){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qo(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function ti(t){return function(t){if(Array.isArray(t))return ei(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ei(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ei(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ri=(oo=rt.observable.ref,io=rt.observable.ref,ao=rt.observable.ref,so=rt.observable.shallow,co=rt.observable.shallow,uo=rt.observable.ref,lo=rt.action.bound,po=rt.action.bound,fo=rt.action.bound,ho=rt.action.bound,yo=rt.action.bound,mo=rt.action.bound,Io=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xo(t,e)}(i,t);var e,r,n,o=Zo(i);function i(t,e){var r,n=e.contract_id;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Go(r=o.call(this,{root_store:t,validation_rules:Yo()}),"digits_info",bo,Jo(r)),Go(r,"sell_info",go,Jo(r)),Go(r,"contract_config",vo,Jo(r)),Go(r,"display_status",Oo,Jo(r)),Go(r,"is_ended",wo,Jo(r)),Go(r,"is_digit_contract",jo,Jo(r)),Go(r,"error_message",So,Jo(r)),Go(r,"contract_info",ko,Jo(r)),Go(r,"is_static_chart",Po,Jo(r)),Go(r,"end_time",Eo,Jo(r)),Go(r,"contract_update_take_profit",xo,Jo(r)),Go(r,"contract_update_stop_loss",Co,Jo(r)),Go(r,"has_contract_update_take_profit",Do,Jo(r)),Go(r,"has_contract_update_stop_loss",To,Jo(r)),Go(r,"contract_update_history",Mo,Jo(r)),r.contract_update_config={},Go(r,"margin",Ao,Jo(r)),Go(r,"barriers_array",Ro,Jo(r)),Go(r,"markers_array",Lo,Jo(r)),Go(r,"marker",No,Jo(r)),r.is_ongoing_contract=!1,r.cacheProposalOpenContractResponse=function(t){var e=t.proposal_open_contract.contract_id;Sr.a.storage.set({proposal_open_contract:1,contract_id:e},t)},r.createBarriersArray=function(t,e){var r=[];if(t){var n=t.contract_type,o=t.barrier,i=t.entry_spot,a=t.high_barrier,s=t.low_barrier;if($n(n)&&(o||a||i)){var c=new zo(o||a||i,s,null,{color:e?qn:Gn,line_style:Zn,not_draggable:!0});c.updateBarrierShade(!0,n),r=[c]}}return r},r.root_store=t,r.contract_id=n,r}return e=i,(r=[{key:"populateConfig",value:function(t){var e=this.contract_info;this.contract_info=t,this.end_time=Object(Jr.e)(this.contract_info),this.updateBarriersArray(t,this.root_store.ui.is_dark_mode_on),this.markers_array=function(t){var e=[];if(t){var r,n=Object(Jr.e)(t),o=Object(Jr.c)(t.date_start,n);if(t.tick_count){var i,a=Yn(t);(i=e).push.apply(i,gn(a))}else if("candle"!==o){var s,c=Object.keys(zn).map((function(e){return zn[e](t)}));(s=e).push.apply(s,gn(c))}var u=Object.keys(Un).map((function(e){return Un[e](t)}));(r=e).push.apply(r,gn(u)),e=e.filter((function(t){return!!t}))}return e.forEach((function(e){var r=t.contract_id;e.react_key="".concat(r,"-").concat(e.type)})),e}(this.contract_info),this.marker=function(t){if(!t||Object(p.isMultiplierContract)(t.contract_type))return null;var e=t.transaction_ids,r=t.tick_stream,n=t.contract_id,o=t.date_start,i=t.date_expiry,a=t.entry_tick,s=t.exit_tick,c=t.entry_tick_time,u=t.exit_tick_time,l=t.contract_type,f=t.tick_count,d=t.barrier_count,h=t.barrier,y=t.high_barrier,m=t.low_barrier,_=r?r.map((function(t){return t.epoch})):[],b=Object(p.isDigitContract)(l),g=[];if(b?g=[]:1==+d&&h?g=[+h]:2==+d&&y&&m&&(g=[+m,+y]),a&&g.push(a),s&&g.push(s),!o)return null;if(!e)return{type:b?"DigitContract":"TickContract",contract_info:Object(rt.toJS)(t),key:"".concat(n,"-date_start"),epoch_array:[o],price_array:g};if(f>=1)return Object(p.isDigitContract)(l)?{contract_info:Object(rt.toJS)(t),type:"DigitContract",key:"".concat(n,"-date_start"),epoch_array:[o].concat(ti(_)),price_array:g}:{contract_info:Object(rt.toJS)(t),type:"TickContract",key:"".concat(n,"-date_start"),epoch_array:[o].concat(ti(_)),price_array:g};if(!f){var v=Object(Jr.e)(t)||i,O=[o,v];return c&&O.push(c),u&&O.push(u),{contract_info:Object(rt.toJS)(t),type:"NonTickContract",key:"".concat(n,"-date_start"),epoch_array:O,price_array:g}}return null}(this.contract_info),this.contract_config=Object(Jr.b)(this.contract_info),this.display_status=Object(p.getDisplayStatus)(this.contract_info),this.is_ended=Object(p.isEnded)(this.contract_info),this.is_digit_contract=Object(p.isDigitContract)(this.contract_info.contract_type),!this.contract_info.barrier&&e.barrier&&this.is_digit_contract&&(this.contract_info.barrier=e.barrier),this.is_digit_contract&&Object(rt.extendObservable)(this.digits_info,Object(p.getDigitInfo)(this.digits_info,this.contract_info)),Object(p.isMultiplierContract)(this.contract_info.contract_type)&&t.contract_id&&t.limit_order&&this.populateContractUpdateConfig(this.contract_info)}},{key:"populateContractUpdateConfig",value:function(t){var e=Object(Jr.d)(t);Object(p.isEqualObject)(this.contract_update_config,e)||(Object.assign(this,e),this.contract_update_config=e)}},{key:"populateContractUpdateHistory",value:function(t){var e=t.contract_update_history;this.root_store.modules.contract_replay.contract_store.contract_update_history=e}},{key:"updateBarriersArray",value:function(t,e){if(this.barriers_array.length){var r=this.barriers_array[0];if(t){var n=t.contract_type,o=t.barrier,i=t.high_barrier,a=t.low_barrier;$n(n)&&(o||i)&&(r.updateBarriers(o||i,a),r.updateBarrierColor(e)),t.contract_id&&t.contract_id===this.root_store.modules.contract_replay.contract_id&&Fo({barriers:this.barriers_array,contract_info:t,contract_type:n,is_over:!0})}}else this.barriers_array=this.createBarriersArray(t,e)}},{key:"clearContractUpdateConfigValues",value:function(){Object.assign(this,Object(Jr.d)(this.contract_info)),this.validation_errors.contract_update_stop_loss=[],this.validation_errors.contract_update_take_profit=[]}},{key:"onChange",value:function(t){var e=t.name,r=t.value;this[e]=r,this.validateProperty(e,this[e])}},{key:"updateLimitOrder",value:function(){var t=this,e=function(t){var e=t.has_contract_update_stop_loss,r=t.has_contract_update_take_profit,n=t.contract_update_stop_loss,o=t.contract_update_take_profit,i={};return i.take_profit=r?+o:null,i.stop_loss=e?+n:null,i}(this);Sr.a.contractUpdate(this.contract_id,e).then((function(e){e.error?t.root_store.common.setServicesError(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bo(Object(r),!0).forEach((function(e){Wo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({type:e.msg_type},e.error)):(t.populateContractUpdateConfig(e),t.root_store.ui.is_history_tab_active&&Sr.a.contractUpdateHistory(t.contract_id).then(t.populateContractUpdateHistory),t.root_store.modules.portfolio.populateContractUpdate(e,t.contract_id))}))}}])&&qo(e.prototype,r),n&&qo(e,n),i}(Ho.a),bo=Qo((_o=Io).prototype,"digits_info",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rt.observable.object({})}}),go=Qo(_o.prototype,"sell_info",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rt.observable.object({})}}),vo=Qo(_o.prototype,"contract_config",[oo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Oo=Qo(_o.prototype,"display_status",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"purchased"}}),wo=Qo(_o.prototype,"is_ended",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jo=Qo(_o.prototype,"is_digit_contract",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),So=Qo(_o.prototype,"error_message",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ko=Qo(_o.prototype,"contract_info",[io],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rt.observable.object({})}}),Po=Qo(_o.prototype,"is_static_chart",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Eo=Qo(_o.prototype,"end_time",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xo=Qo(_o.prototype,"contract_update_take_profit",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Co=Qo(_o.prototype,"contract_update_stop_loss",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Do=Qo(_o.prototype,"has_contract_update_take_profit",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),To=Qo(_o.prototype,"has_contract_update_stop_loss",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mo=Qo(_o.prototype,"contract_update_history",[ao],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ao=Qo(_o.prototype,"margin",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ro=Qo(_o.prototype,"barriers_array",[so],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Lo=Qo(_o.prototype,"markers_array",[co],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),No=Qo(_o.prototype,"marker",[uo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qo(_o.prototype,"populateConfig",[lo],Object.getOwnPropertyDescriptor(_o.prototype,"populateConfig"),_o.prototype),Qo(_o.prototype,"populateContractUpdateConfig",[po],Object.getOwnPropertyDescriptor(_o.prototype,"populateContractUpdateConfig"),_o.prototype),Qo(_o.prototype,"populateContractUpdateHistory",[fo],Object.getOwnPropertyDescriptor(_o.prototype,"populateContractUpdateHistory"),_o.prototype),Qo(_o.prototype,"clearContractUpdateConfigValues",[ho],Object.getOwnPropertyDescriptor(_o.prototype,"clearContractUpdateConfigValues"),_o.prototype),Qo(_o.prototype,"onChange",[yo],Object.getOwnPropertyDescriptor(_o.prototype,"onChange"),_o.prototype),Qo(_o.prototype,"updateLimitOrder",[mo],Object.getOwnPropertyDescriptor(_o.prototype,"updateLimitOrder"),_o.prototype),_o);var ni,oi,ii,ai,si,ci,ui,li,pi,fi,di,hi,yi,mi,_i,bi,gi,vi,Oi,wi,ji,Si,ki,Pi,Ei,xi=function(t,e){return{key:"contract_sold",header:Object(h.localize)("Contract sold"),message:i.createElement(h.Localize,{i18n_default_text:"Contract was sold for <0 />.",components:[i.createElement(l.Money,{key:e,amount:e,currency:t})]}),type:"contract_sold",size:"small",should_hide_close_btn:!0,is_auto_close:!0}},Ci=function(){return{key:"contract_sold",header:Object(h.localize)("Contract cancelled"),message:i.createElement(h.Localize,{i18n_default_text:"Contract was cancelled."}),type:"contract_sold",size:"small",should_hide_close_btn:!0,is_auto_close:!0}};function Di(t){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ti(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ti(Object(r),!0).forEach((function(e){Ai(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ai(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ri(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Li(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ri(i,n,o,a,s,"next",t)}function s(t){Ri(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Ni(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ui(t,e){return(Ui=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Vi(t);if(e){var o=Vi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yi(this,r)}}function Yi(t,e){return!e||"object"!==Di(e)&&"function"!=typeof e?Hi(t):e}function Hi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vi(t){return(Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bi(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Wi,Gi,qi,Xi,Zi,$i,Ji,Ki,Qi,ta,ea,ra,na,oa,ia,aa,sa,ca=(ni=rt.observable.ref,oi=rt.observable.ref,ii=rt.action.bound,ai=rt.action.bound,si=rt.action.bound,ci=rt.action.bound,ui=rt.action.bound,li=rt.action.bound,pi=rt.action.bound,fi=rt.action.bound,di=rt.action.bound,Ei=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ui(t,e)}(i,t);var e,r,n,o=Fi(i);function i(){var t;Ii(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Ni(t=o.call.apply(o,[this].concat(r)),"is_chart_ready",yi,Hi(t)),Ni(t,"contract_store",mi,Hi(t)),Ni(t,"is_sell_requested",_i,Hi(t)),Ni(t,"has_error",bi,Hi(t)),Ni(t,"error_message",gi,Hi(t)),Ni(t,"is_chart_loading",vi,Hi(t)),Ni(t,"margin",Oi,Hi(t)),Ni(t,"contract_id",wi,Hi(t)),Ni(t,"indicative_status",ji,Hi(t)),Ni(t,"contract_info",Si,Hi(t)),Ni(t,"is_static_chart",ki,Hi(t)),t.is_ongoing_contract=!1,t.prev_indicative=0,Ni(t,"contract_update",Pi,Hi(t)),t.should_forget_first=!1,t.handleSubscribeProposalOpenContract=function(){var e=Li(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sr.a.storage.has({proposal_open_contract:1,contract_id:r});case 2:if(!e.sent){e.next=6;break}return Sr.a.storage.proposalOpenContract({contract_id:r}).then(n),e.abrupt("return");case 6:if(!t.should_forget_first){e.next=10;break}return e.next=9,Sr.a.forgetAll("proposal_open_contract");case 9:t.should_forget_first=!1;case 10:t.root_store.modules.contract_trade.contracts_map[r]||(t.subscriber=Sr.a.subscribeProposalOpenContract(r,n));case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.subscribeProposalOpenContract=function(){Sr.a.wait("authorize").then((function(){t.handleSubscribeProposalOpenContract(t.contract_id,t.populateConfig)}))},t.forgetProposalOpenContract=function(){t.subscriber&&(t.subscriber.unsubscribe(),delete t.subscriber)},t.setAccountSwitcherListener=function(e,r){t.onSwitchAccount((function(){return t.accountSwitcherListener(e,r)}))},t.accountSwitcherListener=function(e,r){return t.has_error?(t.removeErrorMessage(),t.onMount(e)):r.push(p.routes.reports),Promise.resolve()},t.removeAccountSwitcherListener=function(){t.disposeSwitchAccount()},t}return e=i,(r=[{key:"onMount",value:function(t){var e=this;t&&(this.contract_id=t,this.contract_store=new ri(this.root_store,{contract_id:t}),this.subscribeProposalOpenContract(),Sr.a.storage.activeSymbols("brief"),Sr.a.setOnReconnect((function(){e.root_store.client.is_switching||e.subscribeProposalOpenContract()})))}},{key:"onUnmount",value:function(){this.forgetProposalOpenContract(this.contract_id,this.populateConfig),this.contract_id=null,this.is_ongoing_contract=!1,this.is_static_chart=!1,this.is_chart_loading=!0,this.contract_info={},this.indicative_status=null,this.prev_indicative=0,this.is_chart_ready=!1,this.root_store.ui.toggleHistoryTab(!1),Sr.a.removeOnReconnect()}},{key:"populateConfig",value:function(t){if(this.switch_account_listener){if("error"in t)return this.has_error=!0,void(this.is_chart_loading=!1);if(Object(p.isEmptyObject)(t.proposal_open_contract))return this.has_error=!0,this.error_message=Object(h.localize)("Sorry, you can't view this contract because it doesn't belong to this account."),this.should_forget_first=!0,void(this.is_chart_loading=!1);if(+t.proposal_open_contract.contract_id===this.contract_id){this.contract_info=t.proposal_open_contract,this.contract_update=t.proposal_open_contract.limit_order;var e=this.prev_indicative,r=+this.contract_info.bid_price;this.indicative_status=r>e?"profit":r<e?"loss":null,this.prev_indicative=r,this.contract_store.populateConfig(this.contract_info);var n=this.contract_store.end_time;this.updateMargin((n||this.contract_info.date_expiry)-this.contract_info.date_start),n||(this.is_ongoing_contract=!0),n&&(this.is_ongoing_contract?this.is_static_chart=!1:this.is_static_chart=!0),this.contract_info.is_sold&&this.contract_store.cacheProposalOpenContractResponse(t),this.is_chart_loading=!1}}}},{key:"updateMargin",value:function(t){var e=this.contract_store.contract_config.granularity;this.margin=Math.floor(e?3*e:Math.max(300,30*t/3600||0))}},{key:"setIsChartReady",value:function(t){var e=this;setTimeout(Object(rt.action)((function(){e.is_chart_ready=t})),200)}},{key:"onClickCancel",value:function(t){var e=this;t&&Sr.a.cancelContract(t).then((function(t){t.error?e.root_store.common.setServicesError(Mi({type:t.msg_type},t.error)):e.root_store.ui.addNotificationMessage(Ci())}))}},{key:"onClickSell",value:function(t){var e=this.contract_info.bid_price;t&&e&&(this.is_sell_requested=!0,Sr.a.sell(t,e).then(this.handleSell))}},{key:"handleSell",value:function(t){t.error?(this.is_sell_requested=!1,this.root_store.common.setServicesError(Mi({type:t.msg_type},t.error))):!t.error&&t.sell&&(this.is_sell_requested=!1,this.sell_info={sell_price:t.sell.sold_for,transaction_id:t.sell.transaction_id},this.root_store.ui.addNotificationMessage(xi(this.root_store.client.currency,t.sell.sold_for)))}},{key:"removeErrorMessage",value:function(){this.error_message="",this.has_error=!1}}])&&zi(e.prototype,r),n&&zi(e,n),i}(Ho.a),yi=Bi((hi=Ei).prototype,"is_chart_ready",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mi=Bi(hi.prototype,"contract_store",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{contract_info:{}}}}),_i=Bi(hi.prototype,"is_sell_requested",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bi=Bi(hi.prototype,"has_error",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gi=Bi(hi.prototype,"error_message",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vi=Bi(hi.prototype,"is_chart_loading",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Oi=Bi(hi.prototype,"margin",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wi=Bi(hi.prototype,"contract_id",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ji=Bi(hi.prototype,"indicative_status",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Si=Bi(hi.prototype,"contract_info",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rt.observable.object({})}}),ki=Bi(hi.prototype,"is_static_chart",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pi=Bi(hi.prototype,"contract_update",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rt.observable.object({})}}),Bi(hi.prototype,"onMount",[ii],Object.getOwnPropertyDescriptor(hi.prototype,"onMount"),hi.prototype),Bi(hi.prototype,"onUnmount",[ai],Object.getOwnPropertyDescriptor(hi.prototype,"onUnmount"),hi.prototype),Bi(hi.prototype,"populateConfig",[si],Object.getOwnPropertyDescriptor(hi.prototype,"populateConfig"),hi.prototype),Bi(hi.prototype,"updateMargin",[ci],Object.getOwnPropertyDescriptor(hi.prototype,"updateMargin"),hi.prototype),Bi(hi.prototype,"setIsChartReady",[ui],Object.getOwnPropertyDescriptor(hi.prototype,"setIsChartReady"),hi.prototype),Bi(hi.prototype,"onClickCancel",[li],Object.getOwnPropertyDescriptor(hi.prototype,"onClickCancel"),hi.prototype),Bi(hi.prototype,"onClickSell",[pi],Object.getOwnPropertyDescriptor(hi.prototype,"onClickSell"),hi.prototype),Bi(hi.prototype,"handleSell",[fi],Object.getOwnPropertyDescriptor(hi.prototype,"handleSell"),hi.prototype),Bi(hi.prototype,"removeErrorMessage",[di],Object.getOwnPropertyDescriptor(hi.prototype,"removeErrorMessage"),hi.prototype),hi),ua={key:"switch_to_tick_chart",header:Object(h.localize)("This chart display is not ideal for tick contracts"),message:i.createElement(h.Localize,{i18n_default_text:"Please change the chart duration to tick for a better trading experience."}),type:"info"};function la(t){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pa(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function fa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function da(t,e){return(da=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ha(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_a(t);if(e){var o=_a(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ya(this,r)}}function ya(t,e){return!e||"object"!==la(e)&&"function"!=typeof e?ma(t):e}function ma(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _a(t){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ba(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var ga=(Wi=rt.observable.shallow,Gi=rt.action.bound,qi=rt.action.bound,Xi=rt.action.bound,Zi=rt.action.bound,$i=rt.action.bound,Ji=rt.action.bound,Ki=rt.action.bound,Qi=rt.action.bound,ta=rt.action.bound,sa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&da(t,e)}(i,t);var e,r,n,o=ha(i);function i(t){var e,r=t.root_store;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),pa(e=o.call(this,{root_store:r}),"contracts",ra,ma(e)),e.contracts_map={},pa(e,"has_error",na,ma(e)),pa(e,"error_message",oa,ma(e)),pa(e,"granularity",ia,ma(e)),pa(e,"chart_type",aa,ma(e)),e.applicable_contracts=function(){var t=e.root_store.modules.trade,r=t.symbol,n=t.contract_type;if(!n||!r)return[];var o=Object(F.b)()[n].trade_types,i=Object(Y.a)(n);return i&&(o=["CALLE","PUTE","CALL","PUT"]),e.contracts.filter((function(t){return t.contract_info.underlying===r})).filter((function(t){var e=t.contract_info;return!(Object(p.isMultiplierContract)(e.contract_type)&&Object(p.isEnded)(t.contract_info))})).filter((function(t){var e=t.contract_info,r=-1!==o.indexOf(e.contract_type);return r&&e.barrier&&e.entry_tick&&i?"".concat(+e.entry_tick)==="".concat(+e.barrier)?"rise_fall"===n||"rise_fall_equal"===n:"high_low"===n:r}))},e.onSwitchAccount(e.accountSwitchListener),e}return e=i,(r=[{key:"updateChartType",value:function(t){p.LocalStore.set("contract_trade.chart_type",t),this.chart_type=t}},{key:"updateGranularity",value:function(t){0===t&&-1===["mountain","line","colored_line","spline","baseline"].indexOf(this.chart_type)&&(this.chart_type="mountain"),p.LocalStore.set("contract_trade.granularity",t),this.granularity=t,0===this.granularity&&this.root_store.ui.removeNotificationMessage(ua)}},{key:"addContract",value:function(t){var e=t.barrier,r=t.contract_id,n=t.contract_type,o=t.start_time,i=t.longcode,a=t.underlying,s=t.is_tick_contract,c=t.limit_order,u=void 0===c?{}:c;if(!this.contracts_map[r]){var l=new ri(this.root_store,{contract_id:r});l.populateConfig({date_start:o,barrier:e,contract_type:n,longcode:i,underlying:a,limit_order:u}),this.contracts.push(l),this.contracts_map[r]=l,s&&0!==this.granularity&&Object(p.isDesktop)()&&this.root_store.ui.addNotificationMessage(ua)}}},{key:"removeContract",value:function(t){var e=t.contract_id;this.contracts=this.contracts.filter((function(t){return t.contract_id!==e})),delete this.contracts_map[e]}},{key:"accountSwitchListener",value:function(){return this.has_error&&this.clearError(),Promise.resolve()}},{key:"onUnmount",value:function(){this.disposeSwitchAccount()}},{key:"updateProposal",value:function(t){if("error"in t)return this.has_error=!0,void(this.error_message=t.error.message);if(t.proposal_open_contract){var e=+t.proposal_open_contract.contract_id,r=this.contracts_map[e];r.populateConfig(t.proposal_open_contract),t.proposal_open_contract.is_sold&&(this.root_store.ui.removeNotificationMessage(ua),r.cacheProposalOpenContractResponse(t))}}},{key:"clearError",value:function(){this.error_message="",this.has_error=!1}},{key:"getContractById",value:function(t){return this.contracts_map[t]||this.root_store.modules.contract_replay.contract_store}},{key:"markers_array",get:function(){var t=this.applicable_contracts().map((function(t){return t.marker})).filter((function(t){return t})).map((function(t){return Object(rt.toJS)(t)}));return t.length&&(t[t.length-1].is_last_contract=!0),t}},{key:"last_contract",get:function(){var t=this.applicable_contracts(),e=t.length;return e>0?t[e-1]:{}}}])&&fa(e.prototype,r),n&&fa(e,n),i}(Ho.a),ra=ba((ea=sa).prototype,"contracts",[Wi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),na=ba(ea.prototype,"has_error",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oa=ba(ea.prototype,"error_message",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ia=ba(ea.prototype,"granularity",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return+p.LocalStore.get("contract_trade.granularity")||0}}),aa=ba(ea.prototype,"chart_type",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.LocalStore.get("contract_trade.chart_type")||"mountain"}}),ba(ea.prototype,"updateChartType",[Gi],Object.getOwnPropertyDescriptor(ea.prototype,"updateChartType"),ea.prototype),ba(ea.prototype,"updateGranularity",[qi],Object.getOwnPropertyDescriptor(ea.prototype,"updateGranularity"),ea.prototype),ba(ea.prototype,"markers_array",[rt.computed],Object.getOwnPropertyDescriptor(ea.prototype,"markers_array"),ea.prototype),ba(ea.prototype,"addContract",[Xi],Object.getOwnPropertyDescriptor(ea.prototype,"addContract"),ea.prototype),ba(ea.prototype,"removeContract",[Zi],Object.getOwnPropertyDescriptor(ea.prototype,"removeContract"),ea.prototype),ba(ea.prototype,"accountSwitchListener",[$i],Object.getOwnPropertyDescriptor(ea.prototype,"accountSwitchListener"),ea.prototype),ba(ea.prototype,"onUnmount",[Ji],Object.getOwnPropertyDescriptor(ea.prototype,"onUnmount"),ea.prototype),ba(ea.prototype,"updateProposal",[Ki],Object.getOwnPropertyDescriptor(ea.prototype,"updateProposal"),ea.prototype),ba(ea.prototype,"last_contract",[rt.computed],Object.getOwnPropertyDescriptor(ea.prototype,"last_contract"),ea.prototype),ba(ea.prototype,"clearError",[Qi],Object.getOwnPropertyDescriptor(ea.prototype,"clearError"),ea.prototype),ba(ea.prototype,"getContractById",[ta],Object.getOwnPropertyDescriptor(ea.prototype,"getContractById"),ea.prototype),ea),va=r("./Stores/Modules/MT5/mt5-store.js"),Oa=r("../node_modules/lodash.throttle/index.js"),wa=r.n(Oa),ja=r("../node_modules/mobx-utils/mobx-utils.module.js"),Sa=r("./Constants/index.js");function ka(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Pa(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ka(i,n,o,a,s,"next",t)}function s(t){ka(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Ea,xa,Ca,Da,Ta,Ma,Aa,Ra,La,Na,Ia,za,Ua,Fa,Ya,Ha,Va,Ba,Wa,Ga,qa,Xa,Za,$a,Ja,Ka,Qa,ts,es,rs,ns,os=Object(rt.flow)(regeneratorRuntime.mark((function t(e,r){var n,o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.a.wait("website_status");case 2:return n=t.sent,t.next=5,Sr.a.residenceList();case 5:o=t.sent,i=n.website_status.clients_country,a=(o.residence_list.find((function(t){return t.value===i}))||{}).text,s=a?Object(h.localize)("Sorry, this app is unavailable in {{clients_country}}.",{clients_country:a}):Object(h.localize)("Sorry, this app is unavailable in your current location."),e({message:Object(h.localize)("If you have an account, log in to continue."),header:s,redirect_label:Object(h.localize)("Log in"),redirectOnClick:function(){return Object(Le.redirectToLogin)(r)},should_show_refresh:!1});case 10:case"end":return t.stop()}}),t)}))),is=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return!!t.length&&(!!t.filter((function(t){return t.symbol===e}))[0]&&!t.filter((function(t){return t.symbol===e}))[0].exchange_is_open)},as=function(){var t=Pa(regeneratorRuntime.mark((function t(){var e,r,n,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=o.length>0&&void 0!==o[0]?o[0]:[]).length){t.next=3;break}return t.abrupt("return","");case 3:return t.next=5,ss(e);case 5:if(!(r=t.sent)){t.next=8;break}return t.abrupt("return",r);case 8:return t.next=10,cs(e);case 10:return n=t.sent,t.abrupt("return",n);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ss=function(){var t=Pa(regeneratorRuntime.mark((function t(e){var r,n,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=p.LocalStore.get("cq-favorites")){t.next=4;break}return t.abrupt("return",void 0);case 4:if(n=JSON.parse(r)["chartTitle&Comparison"],!(o=n.map((function(t){return e.find((function(e){return e.symbol===t}))})))){t.next=14;break}if(!(i=o.filter((function(t){return t})).find(ps))){t.next=14;break}return t.next=11,fs(i);case 11:if(!t.sent){t.next=14;break}return t.abrupt("return",i.symbol);case 14:return t.abrupt("return",void 0);case 17:return t.prev=17,t.t0=t.catch(0),t.abrupt("return",void 0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}(),cs=function(){var t=Pa(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,us(e,"1HZ100V");case 2:if(t.t1=t.sent,t.t1){t.next=7;break}return t.next=6,ls(e,/random_index/);case 6:t.t1=t.sent;case 7:if(t.t0=t.t1,t.t0){t.next=12;break}return t.next=11,ls(e,/major_pairs/);case 11:t.t0=t.sent;case 12:if(!(r=t.t0)){t.next=15;break}return t.abrupt("return",r.symbol);case 15:return t.abrupt("return",e.find((function(t){return"major_pairs"===t.submarket})).symbol);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),us=function(){var t=Pa(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.find((function(t){return t.symbol===r&&ps(t)})),t.next=3,fs(n);case 3:if(!t.sent){t.next=6;break}return t.abrupt("return",n);case 6:return t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),ls=function(){var t=Pa(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.find((function(t){return r.test(t.submarket)&&ps(t)})),t.next=3,fs(n);case 3:if(!t.sent){t.next=6;break}return t.abrupt("return",n);case 6:return t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),ps=function(t){return 1===t.exchange_is_open},fs=function(){var t=Pa(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.a.storage.contractsFor(null==e?void 0:e.symbol);case 2:return n=t.sent,t.abrupt("return",!["InvalidSymbol","InputValidationFailed"].includes(null===(r=n.error)||void 0===r?void 0:r.code));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ds=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return(t.find((function(t){return t.symbol.toUpperCase()===e.toUpperCase()}))||{display_name:""}).display_name},hs=r("./Modules/Reports/Helpers/market-underlying.js"),ys=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=parseFloat(t.buy_price),o=parseFloat(t.payout),i=ds(e,Object(hs.b)(t.shortcode).underlying),a=t.transaction_id||t.transaction_ids&&t.transaction_ids.buy;return{contract_info:t,details:t.longcode.replace(/\n/g,"<br />"),display_name:i,id:t.contract_id,indicative:isNaN(r)||!r?0:r,payout:o,purchase:n,reference:+a,type:t.contract_type,is_unsupported:!!Object(Sa.d)()[t.contract_type],contract_update:t.limit_order}},ms=r("./Stores/Modules/Portfolio/Helpers/details.js");function _s(t){return(_s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bs(t){return function(t){if(Array.isArray(t))return gs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return gs(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gs(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Os(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vs(Object(r),!0).forEach((function(e){ws(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ws(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function js(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ss(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){js(i,n,o,a,s,"next",t)}function s(t){js(i,n,o,a,s,"throw",t)}a(void 0)}))}}function ks(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ps(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Es(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xs(t,e){return(xs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ms(t);if(e){var o=Ms(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ds(this,r)}}function Ds(t,e){return!e||"object"!==_s(e)&&"function"!=typeof e?Ts(t):e}function Ts(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ms(t){return(Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function As(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Rs=(Ea=rt.observable.shallow,xa=rt.observable.shallow,Ca=rt.observable.shallow,Da=rt.action.bound,Ta=rt.action.bound,Ma=rt.action.bound,Aa=rt.action.bound,Ra=rt.action.bound,La=rt.action.bound,Na=rt.action.bound,Ia=rt.action.bound,za=rt.action.bound,Ua=rt.action.bound,Fa=rt.action.bound,Ya=rt.action.bound,Ha=rt.action.bound,Va=rt.action.bound,Ba=rt.action.bound,Wa=rt.action.bound,Ga=rt.action.bound,qa=rt.action.bound,Xa=rt.action.bound,ns=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xs(t,e)}(s,t);var e,r,n,o,i,a=Cs(s);function s(){var t;Ps(this,s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ks(t=a.call.apply(a,[this].concat(r)),"positions",$a,Ts(t)),ks(t,"all_positions",Ja,Ts(t)),t.positions_map={},ks(t,"is_loading",Ka,Ts(t)),ks(t,"error",Qa,Ts(t)),t.getPositionById=Object(ja.a)((function(e){return t.positions.find((function(t){return+t.id==+e}))})),t.responseQueue=[],ks(t,"active_positions",ts,Ts(t)),ks(t,"initializePortfolio",es,Ts(t)),t.deepClone=function(t){return JSON.parse(JSON.stringify(t))},t.proposalOpenContractQueueHandler=function(e){t.responseQueue.push(e),t.throttledUpdatePositions()},ks(t,"populateResultDetails",rs,Ts(t)),t.updatePositions=function(){t.responseQueue.forEach((function(e){return t.proposalOpenContractHandler(e)})),t.responseQueue=[],t.setActivePositions()},t.throttledUpdatePositions=wa()(t.updatePositions,500),t}return e=s,(r=[{key:"clearTable",value:function(){this.positions=[],this.positions_map={},this.is_loading=!1,this.error="",this.updatePositions(),Sr.a.forgetAll("proposal_open_contract","transaction"),this.is_subscribed_to_poc=!1}},{key:"portfolioHandler",value:function(t){var e=this;this.is_loading=!1,"error"in t?this.error=t.error.message:(this.error="",t.portfolio.contracts&&(this.positions=t.portfolio.contracts.map((function(t){return ys(t,e.root_store.modules.trade.active_symbols)})).sort((function(t,e){return e.reference-t.reference})),this.positions.forEach((function(t){e.positions_map[t.id]=t})),this.updatePositions()))}},{key:"onBuyResponse",value:function(t){var e={contract_id:t.contract_id,longcode:t.longcode,contract_type:t.contract_type};this.pushNewPosition(e)}},{key:"transactionHandler",value:(i=Ss(regeneratorRuntime.mark((function t(e){var r,n,o,i,a,s,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("error"in e&&(this.error=e.error.message),e.transaction){t.next=3;break}return t.abrupt("return");case 3:if(r=e.transaction,n=r.contract_id,o=r.action,i=r.longcode,"buy"!==o){t.next=8;break}this.onBuyResponse({contract_id:n,longcode:i,contract_type:""}),t.next=14;break;case 8:if("sell"!==o){t.next=14;break}if(a=this.getPositionIndexById(n),this.positions[a]){t.next=12;break}return t.abrupt("return");case 12:this.positions[a].is_loading=!0,s=Sr.a.subscribeProposalOpenContract(n,(function(t){c.updateContractTradeStore(t),c.updateContractReplayStore(t),c.populateResultDetails(t),s.unsubscribe()}));case 14:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"updateContractTradeStore",value:function(t){var e=this.root_store.modules.contract_trade,r=!Object(p.isEmptyObject)(t.proposal_open_contract),n=!!t.error;(r||n)&&r&&(e.addContract(this.deepClone(t.proposal_open_contract)),e.updateProposal(this.deepClone(t)))}},{key:"updateContractReplayStore",value:function(t){var e,r=this.root_store.modules.contract_replay;r.contract_id===(null===(e=t.proposal_open_contract)||void 0===e?void 0:e.contract_id)&&r.populateConfig(t)}},{key:"updateTradeStore",value:function(t,e,r){var n=this.root_store.modules.trade;r||n.setPurchaseSpotBarrier(t,e),n.updateLimitOrderBarriers(t,e)}},{key:"proposalOpenContractHandler",value:function(t){if("error"in t)return this.updateContractTradeStore(t),void this.updateContractReplayStore(t);var e=t.proposal_open_contract,r=this.positions_map[e.contract_id];if(r){this.updateContractTradeStore(t),this.updateContractReplayStore(t);var n=ys(e,this.root_store.modules.trade.active_symbols,r.indicative);Object.assign(r,n);var o=r.indicative,i=+e.bid_price,a=+e.profit;if(e.barrier&&(r.barrier=+e.barrier),e.entry_spot&&(r.entry_spot=+e.entry_spot),r.indicative=i,r.profit_loss=a,r.is_valid_to_sell=Object(p.isValidToSell)(e),r.contract_info=e,e.tick_count){var s=r.current_tick>Object(p.getCurrentTick)(e)?r.current_tick:Object(p.getCurrentTick)(e);r.current_tick=s}r.status=i>o?"profit":i<o?"loss":null,this.hovered_position_id===r.id&&(1===r.contract_info.is_sold?this.updateTradeStore(!1,r):this.updateTradeStore(!0,r,!0)),1===r.contract_info.is_sold&&this.populateResultDetails(t)}}},{key:"onClickCancel",value:function(t){var e=this,r=this.getPositionIndexById(t);this.positions[r].is_sell_requested=!0,t&&Sr.a.cancelContract(t).then((function(t){t.error?e.root_store.common.setServicesError(Os({type:t.msg_type},t.error)):e.root_store.ui.addNotificationMessage(Ci())}))}},{key:"onClickSell",value:function(t){var e=this.getPositionIndexById(t),r=this.positions[e].contract_info.bid_price;this.positions[e].is_sell_requested=!0,t&&"number"==typeof r&&Sr.a.sell(t,r).then(this.handleSell)}},{key:"handleSell",value:function(t){if(t.error){var e=this.getPositionIndexById(t.echo_req.sell);this.positions[e].is_sell_requested=!1,"InvalidToken"!==t.error.code&&this.root_store.common.setServicesError(Os({type:t.msg_type},t.error))}else if(!t.error&&t.sell){var r=this.getPositionIndexById(t.sell.contract_id);this.positions[r].is_sell_requested=!1,this.root_store.modules.contract_trade.sell_info={sell_price:t.sell.sold_for,transaction_id:t.sell.transaction_id},this.root_store.ui.addNotificationMessage(xi(this.root_store.client.currency,t.sell.sold_for))}}},{key:"populateContractUpdate",value:function(t,e){var r=t.contract_update,n=this.getPositionById(e);n&&(Object.assign(n.contract_update,r),this.updatePositions())}},{key:"pushNewPosition",value:function(t){var e=ys(t,this.root_store.modules.trade.active_symbols);this.positions_map[e.id]||(this.positions.unshift(e),this.positions_map[e.id]=e,this.updatePositions())}},{key:"removePositionById",value:function(t){var e=this.getPositionIndexById(t);this.positions.splice(e,1),delete this.positions_map[t],this.updatePositions(),this.root_store.modules.contract_trade.removeContract({contract_id:t})}},{key:"accountSwitcherListener",value:(o=Ss(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initializePortfolio();case 2:return t.abrupt("return",Promise.resolve());case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onHoverPosition",value:function(t,e){var r=this.root_store.modules.trade.symbol;e.contract_info.underlying===r&&!Object(p.isEnded)(e.contract_info)&&Object(p.isMultiplierContract)(e.type)&&(this.hovered_position_id=t?e.id:null,this.updateTradeStore(t,e))}},{key:"preSwitchAccountListener",value:function(){return this.clearTable(),Promise.resolve()}},{key:"logoutListener",value:function(){return this.clearTable(),Promise.resolve()}},{key:"networkStatusChangeListener",value:function(t){this.is_loading=!t}},{key:"onMount",value:function(){var t=this;this.onPreSwitchAccount(this.preSwitchAccountListener),this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),this.onLogout(this.logoutListener),0===this.positions.length&&(this.root_store.client.is_logged_in?this.initializePortfolio():Object(rt.reaction)((function(){return t.root_store.client.is_logged_in}),(function(){t.root_store.client.is_logged_in&&t.initializePortfolio()})))}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout()}},{key:"getPositionIndexById",value:function(t){return this.positions.findIndex((function(e){return+e.id==+t}))}},{key:"setActivePositions",value:function(){this.active_positions=this.positions.filter((function(t){return!Object(Jr.e)(t.contract_info)})),this.all_positions=bs(this.positions)}},{key:"totals",get:function(){var t=0,e=0,r=0;return this.positions.forEach((function(n){t+=+n.indicative,e+=+n.payout,r+=+n.purchase})),{indicative:t,payout:e,purchase:r}}},{key:"is_active_empty",get:function(){return!this.is_loading&&0===this.active_positions.length}},{key:"active_positions_count",get:function(){return this.active_positions.length||0}},{key:"is_empty",get:function(){return!this.is_loading&&0===this.all_positions.length}}])&&Es(e.prototype,r),n&&Es(e,n),s}(Ho.a),$a=As((Za=ns).prototype,"positions",[Ea],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ja=As(Za.prototype,"all_positions",[xa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ka=As(Za.prototype,"is_loading",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qa=As(Za.prototype,"error",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ts=As(Za.prototype,"active_positions",[Ca],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),es=As(Za.prototype,"initializePortfolio",[Da],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return Ss(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.is_subscribed_to_poc&&t.clearTable(),t.is_loading=!0,e.next=4,Sr.a.wait("authorize");case 4:Sr.a.portfolio().then(t.portfolioHandler),Sr.a.subscribeProposalOpenContract(null,t.proposalOpenContractQueueHandler),Sr.a.subscribeTransaction(t.transactionHandler),t.is_subscribed_to_poc=!0;case 8:case"end":return e.stop()}}),e)})))}}),As(Za.prototype,"clearTable",[Ta],Object.getOwnPropertyDescriptor(Za.prototype,"clearTable"),Za.prototype),As(Za.prototype,"portfolioHandler",[Ma],Object.getOwnPropertyDescriptor(Za.prototype,"portfolioHandler"),Za.prototype),As(Za.prototype,"onBuyResponse",[Aa],Object.getOwnPropertyDescriptor(Za.prototype,"onBuyResponse"),Za.prototype),As(Za.prototype,"transactionHandler",[Ra],Object.getOwnPropertyDescriptor(Za.prototype,"transactionHandler"),Za.prototype),As(Za.prototype,"proposalOpenContractHandler",[La],Object.getOwnPropertyDescriptor(Za.prototype,"proposalOpenContractHandler"),Za.prototype),As(Za.prototype,"onClickCancel",[Na],Object.getOwnPropertyDescriptor(Za.prototype,"onClickCancel"),Za.prototype),As(Za.prototype,"onClickSell",[Ia],Object.getOwnPropertyDescriptor(Za.prototype,"onClickSell"),Za.prototype),As(Za.prototype,"handleSell",[za],Object.getOwnPropertyDescriptor(Za.prototype,"handleSell"),Za.prototype),rs=As(Za.prototype,"populateResultDetails",[Ua],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){var r=e.proposal_open_contract,n=t.getPositionIndexById(r.contract_id);t.positions[n]&&(t.positions[n].contract_info=r,t.positions[n].duration=Object(ms.b)(r),t.positions[n].duration_unit=Object(ms.c)(Object(ms.a)(r)),t.positions[n].exit_spot=r.exit_tick||r.current_spot,t.positions[n].is_valid_to_sell=Object(p.isValidToSell)(r),t.positions[n].result=Object(p.getDisplayStatus)(r),t.positions[n].profit_loss=+r.profit,t.positions[n].sell_time=Object(Jr.e)(r)||r.current_spot_time,t.positions[n].sell_price=r.sell_price,t.positions[n].status="complete",t.positions[n].contract_info.barrier&&t.positions[n].contract_info.entry_spot||(t.positions[n].contract_info.barrier=t.positions[n].barrier,t.positions[n].contract_info.entry_spot=t.positions[n].entry_spot),Object(p.isUserSold)(r)&&(t.positions[n].exit_spot="-"),t.positions[n].is_loading=!1)}}}),As(Za.prototype,"populateContractUpdate",[Fa],Object.getOwnPropertyDescriptor(Za.prototype,"populateContractUpdate"),Za.prototype),As(Za.prototype,"pushNewPosition",[Ya],Object.getOwnPropertyDescriptor(Za.prototype,"pushNewPosition"),Za.prototype),As(Za.prototype,"removePositionById",[Ha],Object.getOwnPropertyDescriptor(Za.prototype,"removePositionById"),Za.prototype),As(Za.prototype,"onHoverPosition",[Va],Object.getOwnPropertyDescriptor(Za.prototype,"onHoverPosition"),Za.prototype),As(Za.prototype,"logoutListener",[Ba],Object.getOwnPropertyDescriptor(Za.prototype,"logoutListener"),Za.prototype),As(Za.prototype,"networkStatusChangeListener",[Wa],Object.getOwnPropertyDescriptor(Za.prototype,"networkStatusChangeListener"),Za.prototype),As(Za.prototype,"onMount",[Ga],Object.getOwnPropertyDescriptor(Za.prototype,"onMount"),Za.prototype),As(Za.prototype,"onUnmount",[qa],Object.getOwnPropertyDescriptor(Za.prototype,"onUnmount"),Za.prototype),As(Za.prototype,"totals",[rt.computed],Object.getOwnPropertyDescriptor(Za.prototype,"totals"),Za.prototype),As(Za.prototype,"setActivePositions",[Xa],Object.getOwnPropertyDescriptor(Za.prototype,"setActivePositions"),Za.prototype),As(Za.prototype,"is_active_empty",[rt.computed],Object.getOwnPropertyDescriptor(Za.prototype,"is_active_empty"),Za.prototype),As(Za.prototype,"active_positions_count",[rt.computed],Object.getOwnPropertyDescriptor(Za.prototype,"active_positions_count"),Za.prototype),As(Za.prototype,"is_empty",[rt.computed],Object.getOwnPropertyDescriptor(Za.prototype,"is_empty"),Za.prototype),Za),Ls=r("../node_modules/lodash.debounce/index.js"),Ns=r.n(Ls);function Is(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Is(Object(r),!0).forEach((function(e){Us(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Is(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Us(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Fs=function(t,e){var r=Object(p.toMoment)().startOf("day").unix();return e&&r>e?e:Object(p.epochToMoment)(r).add(1,"d").subtract(1,"s").unix()},Ys=function(t,e,r,n){return Object(p.toMoment)().startOf("day").unix()>n?r:t&&e?e:r},Hs=function(t,e,r,n){return Object(p.toMoment)().startOf("day").unix()>n?!!t||e:e?r||t:!!t||!1},Vs=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return zs(zs({},Hs(t,n,r,e)&&{date_from:Ys(n,r,t,e)}),(e||n)&&{date_to:Fs(0,e)})};function Bs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ws(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bs(Object(r),!0).forEach((function(e){Gs(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Gs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var qs,Xs,Zs,$s,Js,Ks,Qs,tc,ec,rc,nc,oc,ic,ac,sc,cc,uc,lc,pc,fc,dc=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="DD MMM YYYY HH:mm:ss",o="".concat(Object(p.toMoment)(+t.purchase_time).format(n)),i="".concat(Object(p.toMoment)(+t.sell_time).format(n)),a=parseFloat(t.payout),s=parseFloat(t.sell_price),c=parseFloat(t.buy_price),u=Object(p.formatMoney)(e,Number(s-c),!0),l=ds(r,Object(hs.b)(t.shortcode).underlying);return Ws(Ws({},t),{payout:a,sell_price:s,buy_price:c,profit_loss:u,sell_time:i,purchase_time:o,display_name:l})};function hc(t){return(hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yc(t){return function(t){if(Array.isArray(t))return mc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return mc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mc(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _c(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function bc(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_c(i,n,o,a,s,"next",t)}function s(t){_c(i,n,o,a,s,"throw",t)}a(void 0)}))}}function gc(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function vc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wc(t,e){return(wc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Pc(t);if(e){var o=Pc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Sc(this,r)}}function Sc(t,e){return!e||"object"!==hc(e)&&"function"!=typeof e?kc(t):e}function kc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pc(t){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ec(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var xc,Cc,Dc,Tc,Mc,Ac,Rc,Lc,Nc,Ic,zc,Uc,Fc,Yc,Hc,Vc,Bc,Wc,Gc,qc,Xc,Zc,$c=(qs=rt.action.bound,Xs=rt.action.bound,Zs=rt.action.bound,$s=rt.action.bound,Js=rt.action.bound,Ks=rt.action.bound,Qs=rt.action.bound,tc=rt.action.bound,ec=rt.action.bound,rc=rt.action.bound,fc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wc(t,e)}(s,t);var e,r,n,o,i,a=jc(s);function s(){var t;vc(this,s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return gc(t=a.call.apply(a,[this].concat(r)),"data",oc,kc(t)),gc(t,"date_from",ic,kc(t)),gc(t,"date_to",ac,kc(t)),gc(t,"error",sc,kc(t)),gc(t,"has_loaded_all",cc,kc(t)),gc(t,"is_loading",uc,kc(t)),gc(t,"filtered_date_range",lc,kc(t)),gc(t,"client_loginid",pc,kc(t)),t.fetchOnScroll=Ns()((function(e){e<2e3&&t.fetchNextBatch()}),150),t}return e=s,(r=[{key:"shouldFetchNextBatch",value:function(t){if(!t&&(this.has_loaded_all||this.is_loading))return!1;var e=Object(p.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix();return!(this.date_to<e&&t)}},{key:"fetchNextBatch",value:(i=bc(regeneratorRuntime.mark((function t(){var e,r,n=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]&&n[0],this.shouldFetchNextBatch(e)){t.next=3;break}return t.abrupt("return");case 3:return this.is_loading=!0,t.next=6,Sr.a.profitTable(50,e?void 0:this.data.length,Vs(this.date_from,this.date_to,0,e));case 6:r=t.sent,this.profitTableResponseHandler(r,e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"profitTableResponseHandler",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("error"in t)this.error=t.error.message;else{var n=t.profit_table.transactions.map((function(t){return dc(t,e.root_store.client.currency,e.root_store.modules.trade.active_symbols)}));this.data=r?[].concat(yc(n),yc(this.data)):[].concat(yc(this.data),yc(n)),this.has_loaded_all=!r&&n.length<50,this.is_loading=!1}}},{key:"handleScroll",value:function(t){var e=t.target,r=e.scrollTop,n=e.scrollHeight-(r+e.clientHeight);this.fetchOnScroll(n)}},{key:"networkStatusChangeListener",value:function(t){this.is_loading=!t}},{key:"onMount",value:(o=bc(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.assertHasValidCache(this.client_loginid,this.clearDateFilter,Sr.a.forgetAll.bind(null,"proposal")),this.client_loginid=this.root_store.client.loginid,this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),t.next=6,Sr.a.wait("authorize");case 6:this.clearTable(),this.fetchNextBatch(!0);case 8:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onUnmount",value:function(){this.disposeSwitchAccount(),Sr.a.forgetAll("proposal")}},{key:"accountSwitcherListener",value:function(){var t=this;return new Promise((function(e){return t.clearTable(),t.clearDateFilter(),e(t.fetchNextBatch())}))}},{key:"clearTable",value:function(){this.data=[],this.has_loaded_all=!1,this.is_loading=!1}},{key:"clearDateFilter",value:function(){this.date_from=null,this.date_to=Object(p.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix()}},{key:"handleDateChange",value:function(t){var e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.date_range;this.filtered_date_range=o,this.date_from=null!==(e=null==t?void 0:t.from)&&void 0!==e?e:t.is_batch?null:this.date_from,this.date_to=null!==(r=null==t?void 0:t.to)&&void 0!==r?r:this.date_to,this.clearTable(),this.fetchNextBatch()}},{key:"total_profit",get:function(){return this.data.reduce((function(t,e){var r=Number(parseFloat(e.buy_price));return t+(Number(parseFloat(e.sell_price))-r)}),0)}},{key:"is_empty",get:function(){return!this.is_loading&&0===this.data.length}},{key:"has_selected_date",get:function(){return!(!this.date_from&&!this.date_to)}},{key:"totals",get:function(){var t=0;return this.data.forEach((function(e){t+=parseFloat(e.profit_loss.replace(/,/g,""))})),{profit_loss:t.toString()}}}])&&Oc(e.prototype,r),n&&Oc(e,n),s}(Ho.a),oc=Ec((nc=fc).prototype,"data",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ic=Ec(nc.prototype,"date_from",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ac=Ec(nc.prototype,"date_to",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(p.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix()}}),sc=Ec(nc.prototype,"error",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cc=Ec(nc.prototype,"has_loaded_all",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uc=Ec(nc.prototype,"is_loading",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lc=Ec(nc.prototype,"filtered_date_range",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pc=Ec(nc.prototype,"client_loginid",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ec(nc.prototype,"total_profit",[rt.computed],Object.getOwnPropertyDescriptor(nc.prototype,"total_profit"),nc.prototype),Ec(nc.prototype,"is_empty",[rt.computed],Object.getOwnPropertyDescriptor(nc.prototype,"is_empty"),nc.prototype),Ec(nc.prototype,"has_selected_date",[rt.computed],Object.getOwnPropertyDescriptor(nc.prototype,"has_selected_date"),nc.prototype),Ec(nc.prototype,"fetchNextBatch",[qs],Object.getOwnPropertyDescriptor(nc.prototype,"fetchNextBatch"),nc.prototype),Ec(nc.prototype,"profitTableResponseHandler",[Xs],Object.getOwnPropertyDescriptor(nc.prototype,"profitTableResponseHandler"),nc.prototype),Ec(nc.prototype,"handleScroll",[Zs],Object.getOwnPropertyDescriptor(nc.prototype,"handleScroll"),nc.prototype),Ec(nc.prototype,"networkStatusChangeListener",[$s],Object.getOwnPropertyDescriptor(nc.prototype,"networkStatusChangeListener"),nc.prototype),Ec(nc.prototype,"onMount",[Js],Object.getOwnPropertyDescriptor(nc.prototype,"onMount"),nc.prototype),Ec(nc.prototype,"onUnmount",[Ks],Object.getOwnPropertyDescriptor(nc.prototype,"onUnmount"),nc.prototype),Ec(nc.prototype,"totals",[rt.computed],Object.getOwnPropertyDescriptor(nc.prototype,"totals"),nc.prototype),Ec(nc.prototype,"accountSwitcherListener",[Qs],Object.getOwnPropertyDescriptor(nc.prototype,"accountSwitcherListener"),nc.prototype),Ec(nc.prototype,"clearTable",[tc],Object.getOwnPropertyDescriptor(nc.prototype,"clearTable"),nc.prototype),Ec(nc.prototype,"clearDateFilter",[ec],Object.getOwnPropertyDescriptor(nc.prototype,"clearDateFilter"),nc.prototype),Ec(nc.prototype,"handleDateChange",[rc],Object.getOwnPropertyDescriptor(nc.prototype,"handleDateChange"),nc.prototype),nc);function Jc(t){return(Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kc(t){return function(t){if(Array.isArray(t))return Qc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Qc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qc(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tu(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function eu(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){tu(i,n,o,a,s,"next",t)}function s(t){tu(i,n,o,a,s,"throw",t)}a(void 0)}))}}function ru(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function nu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ou(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function iu(t,e){return(iu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function au(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=uu(t);if(e){var o=uu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return su(this,r)}}function su(t,e){return!e||"object"!==Jc(e)&&"function"!=typeof e?cu(t):e}function cu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uu(t){return(uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lu(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var pu=(xc=rt.action.bound,Cc=rt.action.bound,Dc=rt.action.bound,Tc=rt.action.bound,Mc=rt.action.bound,Ac=rt.action.bound,Rc=rt.action.bound,Lc=rt.action.bound,Nc=rt.action.bound,Ic=rt.action.bound,zc=rt.action.bound,Zc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iu(t,e)}(c,t);var e,r,n,o,i,a,s=au(c);function c(){var t;nu(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ru(t=s.call.apply(s,[this].concat(r)),"data",Fc,cu(t)),ru(t,"is_loading",Yc,cu(t)),ru(t,"has_loaded_all",Hc,cu(t)),ru(t,"date_from",Vc,cu(t)),ru(t,"date_to",Bc,cu(t)),ru(t,"error",Wc,cu(t)),ru(t,"filtered_date_range",Gc,cu(t)),ru(t,"client_loginid",qc,cu(t)),ru(t,"account_statistics",Xc,cu(t)),t.fetchOnScroll=Ns()((function(e){e<2e3&&t.fetchNextBatch()}),150),t}return e=c,(r=[{key:"clearTable",value:function(){this.data=[],this.has_loaded_all=!1,this.is_loading=!1}},{key:"clearDateFilter",value:function(){this.date_from=null,this.date_to=Object(p.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix(),this.partial_fetch_time=0}},{key:"shouldFetchNextBatch",value:function(t){if(!t&&(this.has_loaded_all||this.is_loading))return!1;var e=Object(p.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix();return!(this.date_to<e)||!t&&this.partial_fetch_time}},{key:"fetchNextBatch",value:(a=eu(regeneratorRuntime.mark((function t(){var e,r,n=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]&&n[0],this.shouldFetchNextBatch(e)){t.next=3;break}return t.abrupt("return");case 3:return this.is_loading=!0,t.next=6,Sr.a.statement(100,e?void 0:this.data.length,Vs(this.date_from,this.date_to,this.partial_fetch_time,e));case 6:r=t.sent,this.statementHandler(r,e);case 8:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"statementHandler",value:function(t,e){var r=this;if("error"in t)this.error=t.error.message;else{var n=t.statement.transactions.map((function(t){return function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="DD MMM YYYY HH:mm:ss",o=Object(p.toMoment)(t.transaction_time).format(n),i=parseFloat(t.payout),a=parseFloat(t.amount),s=parseFloat(t.balance_after),c=!0,u=["buy","sell"].includes(t.action_type)?t.shortcode:null,l=u?ds(r,Object(hs.b)(u).underlying):"";return{action:Object(h.localize)(Object(p.toTitleCase)(t.action_type)),date:o,display_name:l,refid:t.transaction_id,payout:isNaN(i)?"-":Object(p.formatMoney)(e,i,c),amount:isNaN(a)?"-":Object(p.formatMoney)(e,a,c),balance:isNaN(s)?"-":Object(p.formatMoney)(e,s,c),desc:t.longcode.replace(/\n/g,"<br />"),id:t.contract_id,app_id:t.app_id,shortcode:u,action_type:t.action_type}}(t,r.root_store.client.currency,r.root_store.modules.trade.active_symbols)}));this.data=e?[].concat(Kc(n),Kc(this.data)):[].concat(Kc(this.data),Kc(n)),this.has_loaded_all=!e&&n.length<100,this.is_loading=!1,n.length>0&&(this.partial_fetch_time=Object(p.toMoment)().unix())}}},{key:"handleDateChange",value:function(t){var e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.date_range;this.filtered_date_range=o,this.date_from=null!==(e=null==t?void 0:t.from)&&void 0!==e?e:t.is_batch?null:this.date_from,this.date_to=null!==(r=null==t?void 0:t.to)&&void 0!==r?r:this.date_to,this.clearTable(),this.fetchNextBatch()}},{key:"handleScroll",value:function(t){var e=t.target,r=e.scrollTop,n=e.scrollHeight-(r+e.clientHeight);this.fetchOnScroll(n)}},{key:"loadAccountStatistics",value:(i=eu(regeneratorRuntime.mark((function t(){var e,r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.account_statistics={},!(e=this.root_store.client).standpoint.iom&&!e.standpoint.malta){t.next=8;break}return t.next=6,Sr.a.accountStatistics();case 6:r=t.sent,Object(rt.runInAction)((function(){r.error?n.account_statistics={}:n.account_statistics=r.account_statistics}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"accountSwitcherListener",value:function(){var t=this;return new Promise((function(e){return t.clearTable(),t.clearDateFilter(),t.loadAccountStatistics(),e(t.fetchNextBatch())}))}},{key:"networkStatusChangeListener",value:function(t){this.is_loading=!t}},{key:"onMount",value:(o=eu(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.assertHasValidCache(this.client_loginid,this.clearDateFilter,this.clearTable,Sr.a.forgetAll.bind(null,"proposal")),this.client_loginid=this.root_store.client.loginid,this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),t.next=6,Sr.a.wait("authorize");case 6:this.fetchNextBatch(!0),this.loadAccountStatistics();case 8:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"onUnmount",value:function(){this.clearTable(),this.clearDateFilter(),this.disposeSwitchAccount(),Sr.a.forgetAll("proposal")}},{key:"is_empty",get:function(){return!this.is_loading&&0===this.data.length}},{key:"has_selected_date",get:function(){return!(!this.date_from&&!this.date_to)}}])&&ou(e.prototype,r),n&&ou(e,n),c}(Ho.a),Fc=lu((Uc=Zc).prototype,"data",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yc=lu(Uc.prototype,"is_loading",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hc=lu(Uc.prototype,"has_loaded_all",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vc=lu(Uc.prototype,"date_from",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bc=lu(Uc.prototype,"date_to",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Object(p.toMoment)().startOf("day").add(1,"d").subtract(1,"s").unix()}}),Wc=lu(Uc.prototype,"error",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gc=lu(Uc.prototype,"filtered_date_range",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qc=lu(Uc.prototype,"client_loginid",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xc=lu(Uc.prototype,"account_statistics",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),lu(Uc.prototype,"is_empty",[rt.computed],Object.getOwnPropertyDescriptor(Uc.prototype,"is_empty"),Uc.prototype),lu(Uc.prototype,"has_selected_date",[rt.computed],Object.getOwnPropertyDescriptor(Uc.prototype,"has_selected_date"),Uc.prototype),lu(Uc.prototype,"clearTable",[xc],Object.getOwnPropertyDescriptor(Uc.prototype,"clearTable"),Uc.prototype),lu(Uc.prototype,"clearDateFilter",[Cc],Object.getOwnPropertyDescriptor(Uc.prototype,"clearDateFilter"),Uc.prototype),lu(Uc.prototype,"fetchNextBatch",[Dc],Object.getOwnPropertyDescriptor(Uc.prototype,"fetchNextBatch"),Uc.prototype),lu(Uc.prototype,"statementHandler",[Tc],Object.getOwnPropertyDescriptor(Uc.prototype,"statementHandler"),Uc.prototype),lu(Uc.prototype,"handleDateChange",[Mc],Object.getOwnPropertyDescriptor(Uc.prototype,"handleDateChange"),Uc.prototype),lu(Uc.prototype,"handleScroll",[Ac],Object.getOwnPropertyDescriptor(Uc.prototype,"handleScroll"),Uc.prototype),lu(Uc.prototype,"loadAccountStatistics",[Rc],Object.getOwnPropertyDescriptor(Uc.prototype,"loadAccountStatistics"),Uc.prototype),lu(Uc.prototype,"accountSwitcherListener",[Lc],Object.getOwnPropertyDescriptor(Uc.prototype,"accountSwitcherListener"),Uc.prototype),lu(Uc.prototype,"networkStatusChangeListener",[Nc],Object.getOwnPropertyDescriptor(Uc.prototype,"networkStatusChangeListener"),Uc.prototype),lu(Uc.prototype,"onMount",[Ic],Object.getOwnPropertyDescriptor(Uc.prototype,"onMount"),Uc.prototype),lu(Uc.prototype,"onUnmount",[zc],Object.getOwnPropertyDescriptor(Uc.prototype,"onUnmount"),Uc.prototype),Uc),fu=r("./_common/base/server_time.js"),du=r.n(fu);function hu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function yu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hu(Object(r),!0).forEach((function(e){mu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _u(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var bu=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,r,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Sr.a.buy(yu({proposal_id:e,price:r},n&&{passthrough:n})));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_u(i,n,o,a,s,"next",t)}function s(t){_u(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}(),gu=r("./Stores/Modules/Trading/Helpers/contract-type.js");function vu(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var Ou=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gu.a.buildContractTypesConfig(e);case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){vu(i,n,o,a,s,"next",t)}function s(t){vu(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),wu=r("./Stores/Modules/Trading/Helpers/start-date.js");function ju(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Su(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Su(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Su(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ku(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Eu=function(){return{stop_loss:{rules:[["req",{condition:function(t){return t.has_stop_loss&&!t.stop_loss},message:Object(h.localize)("Please enter a stop loss amount.")}]]},take_profit:{rules:[["req",{condition:function(t){return t.has_take_profit&&!t.take_profit},message:Object(h.localize)("Please enter a take profit amount.")}]]}}},xu=function(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ku(Object(r),!0).forEach((function(e){Pu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ku(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({amount:{rules:[["req",{message:Object(h.localize)("Amount is a required field.")}],["number",{min:0,type:"float"}]]},barrier_1:{rules:[["req",{condition:function(t){return t.barrier_count&&t.form_components.indexOf("barrier")>-1},message:Object(h.localize)("Barrier is a required field.")}],["barrier",{condition:function(t){return t.barrier_count}}],["custom",{func:function(t,e,r,n){return!(r.barrier_count>1)||+t>+n.barrier_2},message:Object(h.localize)("Higher barrier must be higher than lower barrier.")}]],trigger:"barrier_2"},barrier_2:{rules:[["req",{condition:function(t){return t.barrier_count>1&&t.form_components.indexOf("barrier")>-1},message:Object(h.localize)("Barrier is a required field.")}],["barrier",{condition:function(t){return t.barrier_count}}],["custom",{func:function(t,e,r,n){return/^[+-]/g.test(n.barrier_1)&&/^[+-]/g.test(t)||/^(?![+-])/g.test(n.barrier_1)&&/^(?![+-])/g.test(t)},message:Object(h.localize)("Both barriers should be relative or absolute")}],["custom",{func:function(t,e,r,n){return+n.barrier_1>+t},message:Object(h.localize)("Lower barrier must be lower than higher barrier.")}]],trigger:"barrier_1"},duration:{rules:[["req",{message:Object(h.localize)("Duration is a required field.")}]]},start_date:{trigger:"start_time"},expiry_date:{trigger:"expiry_time"},start_time:{rules:[["custom",{func:function(t,e,r){return"spot"===r.contract_start_type||Object(p.isTimeValid)(t)},message:Object(h.localize)('Please enter the start time in the format "HH:MM".')}],["custom",{func:function(t,e,r){return"spot"===r.contract_start_type||Object(p.isHourValid)(t)},message:Object(h.localize)("Hour must be between 0 and 23.")}],["custom",{func:function(t,e,r){return"spot"===r.contract_start_type||Object(p.isMinuteValid)(t)},message:Object(h.localize)("Minute must be between 0 and 59.")}],["custom",{func:function(t,e,r){if("spot"===r.contract_start_type)return!0;if(!Object(p.isTimeValid)(t))return!1;var n=Object(p.toMoment)(r.start_date),o=n.clone(),i=ju(t.split(":"),2),a=i[0],s=i[1];return Object(wu.b)(r.sessions,o.hour(a).minute(s),n)},message:Object(h.localize)("Start time cannot be in the past.")}]]},expiry_time:{rules:[["custom",{func:function(t,e,r){return"spot"===r.contract_start_type||Object(p.isTimeValid)(t)},message:Object(h.localize)('Please enter the start time in the format "HH:MM".')}],["custom",{func:function(t,e,r){return"spot"===r.contract_start_type||Object(p.isHourValid)(t)},message:Object(h.localize)("Hour must be between 0 and 23.")}],["custom",{func:function(t,e,r){return"spot"===r.contract_start_type||Object(p.isMinuteValid)(t)},message:Object(h.localize)("Minute must be between 0 and 59.")}],["custom",{func:function(t,e,r){if("spot"===r.contract_start_type)return!0;if(!Object(p.isTimeValid)(t))return!1;var n=Object(p.toMoment)(r.start_date),o=n.clone(),i=ju(t.split(":"),2),a=i[0],s=i[1];return Object(wu.b)(r.sessions,o.hour(a).minute(s),n)},message:Object(h.localize)("Expiry time cannot be in the past.")}]]}},Eu())},Cu=r("./Stores/Modules/Trading/Helpers/duration.js"),Du=function(t){var e=t.contract_types_list,r=t.contract_type;return gu.a.getContractType(e,r)},Tu=function(t){return gu.a.getContractValues(t)};function Mu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Au(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ru=function(t){var e=Object(Cu.d)(t);return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Mu(Object(r),!0).forEach((function(e){Au(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({contract_expiry_type:e},t.contract_expiry_type!==e&&gu.a.getBarriers(t.contract_type,e))};function Lu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Lu(Object(r),!0).forEach((function(e){Iu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Iu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zu(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var Uu=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var r,n,o,i,a,s,c,u,l,p,f,d,h,y,m,_,b,g,v,O,w,j,S,k,P;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.contract_type,n=e.duration_unit,o=e.expiry_time,i=e.start_date,a=e.symbol,s=e.root_store.common.server_time,c=e.start_time,u=e.expiry_date,l=e.expiry_type,c=c||s.clone().add(6,"minute").format("HH:mm"),p=gu.a.getStartType(i),f=p.contract_start_type,d=gu.a.getSessions(r,i),h=d.sessions,y=gu.a.getStartTime(h,i,c),c=y.start_time,m=gu.a.getDurationUnitsList(r,f),_=m.duration_units_list,b=gu.a.getDurationUnit(n,r,f),g=gu.a.getExpiryType(_,l),l=g.expiry_type,v=gu.a.getExpiryDate(_,u,l,i),u=v.expiry_date,t.next=19,gu.a.getTradingTimes(u,a);case 19:return O=t.sent,w={market_open_times:O.open},j={market_close_times:O.close},S=j.market_close_times,k=gu.a.getExpiryTime(u,o,l,S,h,i,c),P=gu.a.getDurationMinMax(r,f),t.abrupt("return",Nu(Nu(Nu(Nu(Nu(Nu(Nu(Nu(Nu(Nu(Nu({},p),m),P),b),d),y),v),k),g),w),j));case 26:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){zu(i,n,o,a,s,"next",t)}function s(t){zu(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function Fu(t){return function(t){if(Array.isArray(t))return Yu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Yu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yu(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hu(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var Vu=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,r){var n,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.getSnapshot(),o=Bu(e,r),i=0;case 3:if(!(i<o.length)){t.next=13;break}return t.t0=Object,t.t1=n,t.next=8,o[i](n);case 8:t.t2=t.sent,t.t0.assign.call(t.t0,t.t1,t.t2);case 10:i++,t.next=3;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Hu(i,n,o,a,s,"next",t)}function s(t){Hu(i,n,o,a,s,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}(),Bu=function(t,e){return[gu.a.getContractCategories,Du].concat(Fu(/\b(symbol|contract_type)\b/.test(Object.keys(e))||!t.contract_type?[Tu]:[]),[Uu,Ru])};function Wu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wu(Object(r),!0).forEach((function(e){qu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function qu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Xu,Zu,$u,Ju,Ku,Qu,tl,el,rl,nl,ol,il,al,sl,cl,ul,ll,pl,fl,dl,hl,yl,ml,_l,bl,gl,vl,Ol,wl,jl,Sl,kl,Pl,El,xl,Cl,Dl,Tl,Ml,Al,Rl,Ll,Nl,Il,zl,Ul,Fl,Yl,Hl,Vl,Bl,Wl,Gl,ql,Xl,Zl,$l,Jl,Kl,Ql,tp,ep,rp,np,op,ip,ap,sp,cp,up,lp,pp,fp,dp,hp,yp,mp,_p,bp,gp,vp,Op,wp,jp,Sp,kp,Pp,Ep,xp,Cp,Dp,Tp,Mp,Ap,Rp,Lp,Np,Ip,zp,Up,Fp,Yp,Hp,Vp,Bp,Wp,Gp,qp,Xp,Zp={barrier:"barrier_1",barrier2:"barrier_2",date_expiry:"expiry_date"},$p=function(t){var e=Object(p.getPropertyValue)(t,["error","details","field"]);if(!e)return null;var r,n=Zp[e]||e,o=document.getElementsByName(n)[0];return o&&((r=o)&&(0!==r.offsetWidth||0!==r.offsetHeight))?n:null},Jp=function(t,e){var r={},n={};if("endtime"===t.expiry_type){var o=Object(p.toMoment)(t.expiry_date);r.date_expiry=Object(p.convertToUnix)(o.unix(),t.expiry_time)}return t.is_multiplier&&function(t,e){e.multiplier=t.multiplier,e.cancellation=t.has_cancellation?t.cancellation_duration:void 0,e.limit_order=t.has_take_profit||t.has_stop_loss?{}:void 0,t.has_take_profit&&t.take_profit&&(e.limit_order.take_profit=+t.take_profit||0),t.has_stop_loss&&t.stop_loss&&(e.limit_order.stop_loss=+t.stop_loss||0)}(t,n),Gu(Gu(Gu(Gu(Gu({proposal:1,subscribe:1,amount:parseFloat(t.amount)||0,basis:t.basis,contract_type:e,currency:t.currency,symbol:t.symbol},t.start_date&&{date_start:Object(p.convertToUnix)(t.start_date,t.start_time)}),"duration"===t.expiry_type?{duration:parseInt(t.duration),duration_unit:t.duration_unit}:r),(t.barrier_count>0||-1!==t.form_components.indexOf("last_digit"))&&{barrier:t.barrier_1||t.last_digit}),2===t.barrier_count&&{barrier2:t.barrier_2}),n)},Kp=r("./Stores/Modules/Trading/Helpers/barrier.js");function Qp(t){return(Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ef(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tf(Object(r),!0).forEach((function(e){rf(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function rf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nf(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function of(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){nf(i,n,o,a,s,"next",t)}function s(t){nf(i,n,o,a,s,"throw",t)}a(void 0)}))}}function af(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function sf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cf(t,e){return(cf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ff(t);if(e){var o=ff(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return lf(this,r)}}function lf(t,e){return!e||"object"!==Qp(e)&&"function"!=typeof e?pf(t):e}function pf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ff(t){return(ff=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function df(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var hf={},yf=(Xu=rt.observable.ref,Zu=rt.observable.ref,$u=rt.action.bound,Ju=rt.action.bound,Ku=rt.action.bound,Qu=rt.action.bound,tl=rt.action.bound,el=rt.action.bound,rl=rt.action.bound,nl=rt.action.bound,ol=rt.action.bound,il=rt.action.bound,al=rt.action.bound,sl=rt.action.bound,cl=rt.action.bound,ul=rt.action.bound,ll=rt.action.bound,pl=rt.action.bound,fl=rt.action.bound,dl=rt.action.bound,hl=rt.action.bound,yl=rt.action.bound,ml=rt.action.bound,_l=rt.action.bound,bl=rt.action.bound,gl=rt.action.bound,vl=rt.action.bound,Ol=rt.action.bound,wl=rt.action.bound,jl=rt.action.bound,Sl=rt.action.bound,kl=rt.action.bound,Pl=rt.action.bound,El=rt.action.bound,xl=rt.action.bound,Cl=rt.action.bound,Dl=rt.action.bound,Tl=rt.action.bound,Ml=rt.action.bound,Al=rt.action.bound,Rl=rt.action.bound,Ll=rt.action.bound,Nl=rt.action.bound,Il=rt.action.bound,zl=rt.action.bound,Ul=rt.action.bound,Fl=rt.action.bound,Yl=rt.action.bound,Hl=rt.action.bound,Xp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cf(t,e)}(b,t);var e,r,n,o,i,a,s,c,u,l,f,d,y,_=uf(b);function b(t){var e,r=t.root_store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b);return af(e=_.call(this,{root_store:r,local_storage_properties:["amount","barrier_1","barrier_2","basis","contract_start_type","contract_type","duration","duration_unit","expiry_date","expiry_type","has_take_profit","has_stop_loss","has_cancellation","is_equal","last_digit","multiplier","start_date","start_time","symbol","stop_loss","take_profit","is_trade_params_expanded"],store_name:"trade_store",validation_rules:xu()}),"is_trade_component_mounted",Bl,pf(e)),af(e,"is_purchase_enabled",Wl,pf(e)),af(e,"is_trade_enabled",Gl,pf(e)),af(e,"is_equal",ql,pf(e)),af(e,"symbol",Xl,pf(e)),af(e,"is_market_closed",Zl,pf(e)),af(e,"previous_symbol",$l,pf(e)),af(e,"active_symbols",Jl,pf(e)),af(e,"should_refresh_active_symbols",Kl,pf(e)),af(e,"form_components",Ql,pf(e)),af(e,"contract_expiry_type",tp,pf(e)),af(e,"contract_start_type",ep,pf(e)),af(e,"contract_type",rp,pf(e)),af(e,"contract_types_list",np,pf(e)),af(e,"trade_types",op,pf(e)),af(e,"amount",ip,pf(e)),af(e,"basis",ap,pf(e)),af(e,"basis_list",sp,pf(e)),af(e,"currency",cp,pf(e)),af(e,"duration",up,pf(e)),af(e,"duration_unit",lp,pf(e)),af(e,"duration_units_list",pp,pf(e)),af(e,"duration_min_max",fp,pf(e)),af(e,"expiry_date",dp,pf(e)),af(e,"expiry_time",hp,pf(e)),af(e,"expiry_type",yp,pf(e)),af(e,"barrier_1",mp,pf(e)),af(e,"barrier_2",_p,pf(e)),af(e,"barrier_count",bp,pf(e)),af(e,"main_barrier",gp,pf(e)),af(e,"barriers",vp,pf(e)),af(e,"start_date",Op,pf(e)),af(e,"start_dates_list",wp,pf(e)),af(e,"start_time",jp,pf(e)),af(e,"sessions",Sp,pf(e)),af(e,"market_open_times",kp,pf(e)),af(e,"market_close_times",Pp,pf(e)),af(e,"last_digit",Ep,pf(e)),af(e,"is_mobile_digit_view_selected",xp,pf(e)),af(e,"proposal_info",Cp,pf(e)),af(e,"purchase_info",Dp,pf(e)),af(e,"is_chart_loading",Tp,pf(e)),af(e,"multiplier",Mp,pf(e)),af(e,"multiplier_range_list",Ap,pf(e)),af(e,"stop_loss",Rp,pf(e)),af(e,"take_profit",Lp,pf(e)),af(e,"has_stop_loss",Np,pf(e)),af(e,"has_take_profit",Ip,pf(e)),af(e,"has_cancellation",zp,pf(e)),af(e,"commission",Up,pf(e)),af(e,"cancellation_price",Fp,pf(e)),af(e,"hovered_contract_type",Yp,pf(e)),af(e,"cancellation_duration",Hp,pf(e)),af(e,"cancellation_range_list",Vp,pf(e)),af(e,"is_trade_params_expanded",Bp,pf(e)),e.addTickByProposal=function(){return null},e.debouncedProposal=Ns()(e.requestProposal,500),e.proposal_requests={},e.initial_barriers=void 0,e.is_initial_barrier_applied=!1,af(e,"should_skip_prepost_lifecycle",Wp,pf(e)),af(e,"init",Gp,pf(e)),af(e,"clearContracts",qp,pf(e)),e.setMainBarrier=function(t){if(t){var r=t.contract_type,n=t.barrier,o=t.high_barrier,i=t.low_barrier;if($n(r)){var a=e.root_store.ui.is_dark_mode_on?qn:Gn,s=new zo(n||o,i,e.onChartBarrierChange,{color:a});e.main_barrier=s}else e.main_barrier=null}},e.disablePurchaseButtons=function(){var t=document.getElementsByClassName("trade-container__price-info"),e=document.getElementsByClassName("btn-purchase");[].forEach.bind(e,(function(t){t.classList.add("btn-purchase--disabled")}))(),[].forEach.bind(t,(function(t){t.classList.add("trade-container__price-info--fade")}))()},e.prev_chart_layout=null,e.wsSubscribe=function(t,e){if(1===t.subscribe){var r=JSON.stringify(t),n=Sr.a.subscribeTicksHistory(t,e);hf[r]=n}},e.wsForget=function(t){var e=JSON.stringify(t);hf[e]&&(hf[e].unsubscribe(),delete hf[e])},e.wsForgetStream=function(t){Sr.a.forgetStream(t)},e.wsSendRequest=function(t){return t.time?du.a.timePromise().then((function(t){return t?{msg_type:"time",time:t.unix()}:Sr.a.time()})):t.active_symbols?e.should_refresh_active_symbols?Sr.a.activeSymbols("brief"):Sr.a.wait("active_symbols"):Sr.a.storage.send(t)},e.refToAddTick=function(t){e.addTickByProposal=t},Object(rt.reaction)((function(){return[e.contract_expiry_type,e.duration_min_max,e.duration_unit,e.expiry_type]}),(function(){e.changeDurationValidationRules()})),Object(rt.reaction)((function(){return e.is_equal}),(function(){e.onAllowEqualsChange()})),Object(rt.reaction)((function(){return e.symbol}),(function(){var t=Object(Cu.f)(e.symbol,e.expiry_type);t&&(e.expiry_date=t)})),Object(rt.reaction)((function(){return e.duration_unit}),(function(){e.contract_expiry_type="t"===e.duration_unit?"tick":"intraday"})),Object(rt.reaction)((function(){return[e.has_stop_loss,e.has_take_profit]}),(function(){e.has_stop_loss||(e.validation_errors.stop_loss=[]),e.has_take_profit||(e.validation_errors.take_profit=[])})),e}return e=b,(r=[{key:"setSkipPrePostLifecycle",value:function(t){!!t!=!!this.should_skip_prepost_lifecycle&&(this.should_skip_prepost_lifecycle=t,t||this.onUnmount())}},{key:"setTradeStatus",value:function(t){this.is_trade_enabled=t}},{key:"refresh",value:function(){this.forgetAllProposal(),this.proposal_info={},this.purchase_info={},this.proposal_requests={}}},{key:"setDefaultSymbol",value:(y=of(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.is_symbol_in_active_symbols){t.next=6;break}return t.next=3,as(this.active_symbols);case 3:return e=t.sent,t.next=6,this.processNewValuesAsync({symbol:e});case 6:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"setActiveSymbols",value:(d=of(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.should_refresh_active_symbols){t.next=6;break}return t.next=3,Sr.a.wait("active_symbols");case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,Sr.a.authorized.activeSymbols();case 8:t.t0=t.sent;case 9:if(e=t.t0,r=e.active_symbols,!e.error){t.next=17;break}return this.root_store.common.showError({message:Object(h.localize)("Trading is unavailable at this time.")}),t.abrupt("return");case 17:if(r&&r.length){t.next=26;break}if("maltainvest"===this.root_store.client.landing_company_shortcode){t.next=23;break}return os(this.root_store.common.showError,this.root_store.client.is_logged_in),t.abrupt("return");case 23:if("maltainvest"!==this.root_store.client.landing_company_shortcode){t.next=26;break}return Object(p.showDigitalOptionsUnavailableError)(this.root_store.common.showError,{text:Object(h.localize)("Were working to have this available for you soon. If you have another account, switch to that account to continue trading. You may add a DMT5 Financial."),title:Object(h.localize)("DTrader is not available for this account"),link:Object(h.localize)("Go to DMT5 dashboard")}),t.abrupt("return");case 26:this.processNewValuesAsync({active_symbols:r});case 27:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"setContractTypes",value:(f=of(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.symbol||!this.is_symbol_in_active_symbols){t.next=4;break}return t.next=3,Ou(this.symbol);case 3:Object(rt.runInAction)((function(){var t=gu.a.getContractCategories();e.processNewValuesAsync(ef(ef({},t),gu.a.getContractType(t.contract_types_list,e.contract_type))),e.processNewValuesAsync(gu.a.getContractValues(e))}));case 4:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"prepareTradeStore",value:(l=of(regeneratorRuntime.mark((function t(){var e,r,n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.currency=this.root_store.client.currency||this.root_store.client.default_currency,this.initial_barriers={barrier_1:this.barrier_1,barrier_2:this.barrier_2},t.next=4,Object(rt.when)((function(){return!o.root_store.client.is_populating_account_list}));case 4:return t.next=6,this.setActiveSymbols();case 6:return t.next=8,Sr.a.storage.contractsFor(this.symbol);case 8:if(r=t.sent,!["InvalidSymbol","InputValidationFailed"].includes(null===(e=r.error)||void 0===e?void 0:e.code)){t.next=15;break}return t.next=12,as(this.active_symbols);case 12:return n=t.sent,t.next=15,this.processNewValuesAsync({symbol:n});case 15:return t.next=17,this.setDefaultSymbol();case 17:return t.next=19,this.setContractTypes();case 19:return t.next=21,this.processNewValuesAsync({is_market_closed:is(this.active_symbols,this.symbol)},!0,null,!1);case 21:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"onChangeMultiple",value:(u=of(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object.keys(e).forEach((function(t){if(!(t in r))throw new Error("Invalid Argument: ".concat(t))})),t.next=3,this.processNewValuesAsync(ef({},e),!0);case 3:this.validateAllProperties();case 4:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"onChange",value:(c=of(regeneratorRuntime.mark((function t(e){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.target,n=r.name,o=r.value,"symbol"!==n||!o){t.next=6;break}this.setChartStatus(!0),this.is_trade_enabled=!1,t.next=16;break;case 6:if("currency"!==n){t.next=10;break}this.root_store.client.is_logged_in||this.root_store.client.selectCurrency(o),t.next=16;break;case 10:if("expiry_date"!==n){t.next=14;break}this.expiry_time=null,t.next=16;break;case 14:if(n in this){t.next=16;break}throw new Error("Invalid Argument: ".concat(n));case 16:return t.next=18,this.processNewValuesAsync(rf({},n,o),!0,"contract_type"===n?{contract_type:this.contract_type}:{},!0);case 18:this.validateAllProperties();case 19:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"setPreviousSymbol",value:function(t){this.previous_symbol!==t&&(this.previous_symbol=t)}},{key:"setAllowEqual",value:function(t){this.is_equal=t}},{key:"setIsTradeParamsExpanded",value:function(t){this.is_trade_params_expanded=t}},{key:"resetPreviousSymbol",value:(s=of(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setMarketStatus(is(this.active_symbols,this.previous_symbol)),t.next=3,Ou(this.previous_symbol);case 3:return t.next=5,this.updateSymbol(this.symbol);case 5:this.setChartStatus(!1),Object(rt.runInAction)((function(){e.previous_symbol=""}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"updateBarrierColor",value:function(t){this.main_barrier&&this.main_barrier.updateBarrierColor(t)}},{key:"onHoverPurchase",value:function(t,e){this.is_purchase_enabled&&this.main_barrier&&!this.is_multiplier?this.main_barrier.updateBarrierShade(t,e):t||!this.main_barrier||this.is_multiplier||this.main_barrier.updateBarrierShade(!1,e),this.hovered_contract_type=t?e:null,Fo({barriers:this.barriers,is_over:t,contract_type:e,contract_info:this.proposal_info[e]})}},{key:"setPurchaseSpotBarrier",value:function(t,e){var r="PURCHASE_SPOT_BARRIER";if(t){var n=this.barriers.find((function(t){return t.key===r}));n?n.high!==+e.contract_info.entry_spot&&n.onChange({high:e.contract_info.entry_spot}):((n=new zo(e.contract_info.entry_spot)).key=r,n.draggable=!1,n.hideOffscreenBarrier=!0,n.isSingleBarrier=!0,n.updateBarrierColor(this.root_store.ui.is_dark_mode_on),this.barriers.push(n))}else Jn(this.barriers,r)}},{key:"updateLimitOrderBarriers",value:function(t,e){var r=e.contract_info,n=this.barriers;Fo({barriers:n,contract_info:r,contract_type:r.contract_type,is_over:t})}},{key:"clearLimitOrderBarriers",value:function(){this.hovered_contract_type=null;var t=this.barriers;Fo({barriers:t,is_over:!1})}},{key:"onPurchase",value:function(t,e,r){var n=this;if(this.is_purchase_enabled&&t){this.is_purchase_enabled=!1;var o="t"===this.duration_unit;bu(t,e).then(Object(rt.action)((function(e){var i,a=+n.last_digit;if((null===(i=n.proposal_info[r])||void 0===i?void 0:i.id)!==t)throw new Error("Proposal ID does not match.");if(e.buy){var s=ef(ef(ef({},n.proposal_requests[r]),n.proposal_info[r]),{},{buy_price:e.buy.buy_price}),c=e.buy,u=c.contract_id,l=c.longcode,f=c.start_time;if(u){var d=e.buy.shortcode,h=Object(p.extractInfoFromShortcode)(d),y=h.category,_=h.underlying,b=Object(m.a)(y.toUpperCase()),g=y.toUpperCase();return n.root_store.modules.contract_trade.addContract({contract_id:u,start_time:f,longcode:l,underlying:_,barrier:b?a:null,contract_type:g,is_tick_contract:o}),n.root_store.modules.portfolio.onBuyResponse({contract_id:u,longcode:l,contract_type:g}),(Object(p.isDesktop)()||Object(p.isMobile)()&&n.is_multiplier)&&n.root_store.ui.openPositionsDrawer(),n.proposal_info={},n.forgetAllProposal(),n.purchase_info=e,n.proposal_requests={},n.debouncedProposal(),n.clearLimitOrderBarriers(),void n.pushPurchaseDataToGtm(s)}}else e.error&&(n.disablePurchaseButtons(),"InvalidToken"!==e.error.code&&n.root_store.common.setServicesError(ef({type:e.msg_type},e.error)));n.forgetAllProposal(),n.purchase_info=e,n.enablePurchase()})))}}},{key:"enablePurchase",value:function(){this.root_store.client.is_unwelcome||(this.is_purchase_enabled=!0)}},{key:"updateStore",value:function(t){var e=this;return Object.keys(Object(p.cloneObject)(t)).forEach((function(r){"root_store"===r||["validation_rules","validation_errors","currency"].indexOf(r)>-1||(JSON.stringify(e[r])===JSON.stringify(t[r])?delete t[r]:("symbol"===r&&(e.is_purchase_enabled=!1,e.is_trade_enabled=!1),t.start_date&&"string"==typeof t.start_date&&(t.start_date=parseInt(t.start_date)),e[r]=t[r],"barrier_2"===r&&t.barrier_1&&(e.barrier_1=t.barrier_1)))})),t}},{key:"processNewValuesAsync",value:(a=of(regeneratorRuntime.mark((function t(){var e,r,n,o,i,a,s,c,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=u.length>0&&void 0!==u[0]?u[0]:{},r=u.length>1&&void 0!==u[1]&&u[1],n=u.length>2&&void 0!==u[2]?u[2]:{},o=!(u.length>3&&void 0!==u[3])||u[3],/\bduration\b/.test(Object.keys(e))&&"string"==typeof e.duration&&(e.duration=+e.duration),o&&(this.forgetAllProposal(),this.proposal_requests={}),r&&/\bcurrency\b/.test(Object.keys(e))&&(i=n&&!Object(p.isEmptyObject)(n)&&n.currency?n.currency:this.currency,Object(p.isCryptocurrency)(e.currency)!==Object(p.isCryptocurrency)(i)&&(e.amount=r&&e.amount?e.amount:Object(p.getMinPayout)(e.currency)),this.currency=e.currency),!Object.keys(e).includes("symbol")){t.next=13;break}return this.setPreviousSymbol(this.symbol),t.next=11,Ou(e.symbol);case 11:this.setMarketStatus(is(this.active_symbols,e.symbol)),a=gu.a.getContractCategories().has_only_forward_starting_contracts;case 13:if(this.root_store.ui.setHasOnlyForwardingContracts(a),!a){t.next=16;break}return t.abrupt("return");case 16:if(s=this.updateStore(Object(p.cloneObject)(e)),!r&&!/\b(symbol|contract_types_list)\b/.test(Object.keys(s))){t.next=30;break}return this.updateStore({is_purchase_enabled:!1,proposal_info:{}}),e.contract_type&&this.root_store.ui.is_advanced_duration&&Object(m.b)(e.contract_type)&&(this.barrier_1="",this.barrier_2="",this.expiry_type="duration",this.root_store.ui.is_advanced_duration=!1),"multiplier"!==(null==e?void 0:e.contract_type)&&"multiplier"===(null==n?void 0:n.contract_type)&&(delete this.validation_rules.stop_loss,delete this.validation_rules.take_profit),"multiplier"===(null==e?void 0:e.contract_type)&&"multiplier"!==(null==n?void 0:n.contract_type)&&Object.assign(this.validation_rules,Eu()),t.next=24,Vu(this,s);case 24:(c=t.sent).is_trade_enabled=!0,this.updateStore(ef(ef({},c),this.is_initial_barrier_applied?{}:this.initial_barriers)),this.is_initial_barrier_applied=!0,/\bcontract_type\b/.test(Object.keys(s))&&this.validateAllProperties(),this.debouncedProposal();case 30:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"setMobileDigitView",value:function(t){this.is_mobile_digit_view_selected=t}},{key:"pushPurchaseDataToGtm",value:function(t){var e={event:"buy_contract",bom_ui:"new",contract:{amount:t.amount,barrier1:t.barrier,barrier2:t.barrier2,basis:t.basis,buy_price:t.buy_price,contract_type:t.contract_type,currency:t.currency,date_expiry:t.date_expiry,date_start:t.date_start,duration:t.duration,duration_unit:t.duration_unit,payout:t.payout,symbol:t.symbol},settings:{theme:this.root_store.ui.is_dark_mode_on?"dark":"light",positions_drawer:this.root_store.ui.is_positions_drawer_on?"open":"closed",purchase_confirm:this.root_store.ui.is_purchase_confirm_on?"enabled":"disabled",chart:{toolbar_position:this.root_store.ui.is_chart_layout_default?"bottom":"left",chart_asset_info:this.root_store.ui.is_chart_asset_info_visible?"visible":"hidden",chart_type:this.root_store.modules.contract_trade.chart_type,granularity:this.root_store.modules.contract_trade.granularity}}};this.root_store.gtm.pushDataLayer(e)}},{key:"clearPurchaseInfo",value:function(){this.purchase_info={},this.proposal_requests={},this.proposal_info={}}},{key:"requestProposal",value:function(){var t=this,e=function(t){var e={};return Object.keys(t.trade_types).forEach((function(r){var n=Jp(t,r);e[r]=n})),e}(this);if(Object.values(this.validation_errors).some((function(t){return t.length})))return this.proposal_info={},this.purchase_info={},void this.forgetAllProposal();Object(p.isEmptyObject)(e)||(this.proposal_requests=e,this.purchase_info={},Object.keys(this.proposal_requests).forEach((function(e){Sr.a.subscribeProposal(t.proposal_requests[e],t.onProposalResponse)}))),this.root_store.ui.resetPurchaseStates()}},{key:"forgetAllProposal",value:function(){Object.keys(this.proposal_requests).length>0&&Sr.a.forgetAll("proposal")}},{key:"setMarketStatus",value:function(t){this.is_market_closed=t}},{key:"onProposalResponse",value:function(t){var e=t.echo_req.contract_type,r=Object(p.getPropertyValue)(this.proposal_info,e)||{},n=Object(p.getPropertyValue)(r,"obj_contract_basis")||{};if(this.proposal_info=ef(ef({},this.proposal_info),{},rf({},e,function(t,e,r){var n,o,i,a=e.proposal||{},s=a.payout-a.ask_price||0,c=100*s/(a.ask_price||1),u=a.display_value,l=t.basis_list.find((function(e){return e.value!==t.basis}))||{},f="Stake"===l.text?u:a[l.value],d=f>r.value;r.value&&f!==r.value||(d=null);var h={text:l.text||"",value:f||""};return{commission:a.commission,cancellation:a.cancellation,id:a.id||"",has_error:!!e.error,has_error_details:!!$p(e),error_code:null==e||null===(n=e.error)||void 0===n?void 0:n.code,error_field:null==e||null===(o=e.error)||void 0===o||null===(i=o.details)||void 0===i?void 0:i.field,has_increased:d,limit_order:a.limit_order,message:a.longcode||e.error.message,obj_contract_basis:h,payout:a.payout,profit:s.toFixed(Object(p.getDecimalPlaces)(t.currency)),returns:"".concat(c.toFixed(2),"%"),stake:u}}(this,t,n))),this.is_multiplier&&this.proposal_info&&this.proposal_info.MULTUP){var o=this.proposal_info.MULTUP,i=o.commission,a=o.cancellation;i&&(this.commission=i),a&&(this.cancellation_price=this.proposal_info.MULTUP.cancellation.ask_price)}if(this.main_barrier&&"NONE_SINGLE"!==this.main_barrier.shade||this.setMainBarrier(t.echo_req),this.hovered_contract_type===e&&(this.addTickByProposal(t),Fo({barriers:this.barriers,contract_info:this.proposal_info[this.hovered_contract_type],contract_type:e,is_over:!0})),t.error){var s=$p(t);if(s&&this.setValidationErrorMessages(s,[t.error.message]),this.is_multiplier){var c=t.error,u=c.message,l=c.details,f=(u||"").match(/\((\d+\.*\d*)\)/);"stop_loss"===(null==l?void 0:l.field)&&(null==f?void 0:f[1])&&(this.commission=f[1])}}else this.validateAllProperties();this.enablePurchase()}},{key:"onChartBarrierChange",value:function(t,e){this.processNewValuesAsync({barrier_1:t,barrier_2:e},!0)}},{key:"onAllowEqualsChange",value:function(){this.processNewValuesAsync({contract_type:parseInt(this.is_equal)?"rise_fall_equal":"rise_fall"},!0)}},{key:"updateSymbol",value:function(t){t&&this.onChange({target:{name:"symbol",value:t}})}},{key:"changeDurationValidationRules",value:function(){if("endtime"!==this.expiry_type){if(this.validation_rules.duration){var t=this.validation_rules.duration.rules.findIndex((function(t){return"number"===t[0]})),e=this.duration_min_max[this.contract_expiry_type]||!1;if(e){var r={min:Object(Cu.b)(+e.min,this.duration_unit),max:Object(Cu.b)(+e.max,this.duration_unit)};t>-1?this.validation_rules.duration.rules[t][1]=r:this.validation_rules.duration.rules.push(["number",r]),this.validateProperty("duration",this.duration)}}}else this.validation_errors.duration=[]}},{key:"accountSwitcherListener",value:(i=of(regeneratorRuntime.mark((function t(){var e,r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.root_store.client.standpoint.maltainvest){t.next=6;break}return t.next=3,Sr.a.authorized.activeSymbols();case 3:e=t.sent,(r=e.active_symbols)&&r.length||Object(p.showDigitalOptionsUnavailableError)(this.root_store.common.showError,{text:Object(h.localize)("Were working to have this available for you soon. If you have another account, switch to that account to continue trading. You may add a DMT5 Financial."),title:Object(h.localize)("DTrader is not available for this account"),link:Object(h.localize)("Go to DMT5 dashboard")});case 6:return this.resetErrorServices(),t.next=9,this.setContractTypes();case 9:return Object(rt.runInAction)(of(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.processNewValuesAsync({currency:n.root_store.client.currency||n.root_store.client.default_currency},!0,{currency:n.currency},!1);case 1:case"end":return t.stop()}}),t)})))),t.abrupt("return",Promise.resolve());case 11:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"preSwitchAccountListener",value:function(){return this.clearContracts(),this.is_trade_enabled=!1,Promise.resolve()}},{key:"logoutListener",value:function(){return this.should_refresh_active_symbols=!0,this.clearContracts(),this.refresh(),this.debouncedProposal(),this.resetErrorServices(),this.setContractTypes(),Promise.resolve()}},{key:"clientInitListener",value:function(){return this.initAccountCurrency(this.root_store.client.currency||this.root_store.client.default_currency),Promise.resolve()}},{key:"networkStatusChangeListener",value:function(t){this.setTradeStatus(t)}},{key:"themeChangeListener",value:function(t){this.updateBarrierColor(t)}},{key:"resetErrorServices",value:function(){this.root_store.ui.toggleServicesErrorModal(!1)}},{key:"onMount",value:function(){var t=this;this.is_trade_component_mounted&&this.should_skip_prepost_lifecycle||(this.onPreSwitchAccount(this.preSwitchAccountListener),this.onSwitchAccount(this.accountSwitcherListener),this.onLogout(this.logoutListener),this.onClientInit(this.clientInitListener),this.onNetworkStatusChange(this.networkStatusChangeListener),this.onThemeChange(this.themeChangeListener),this.setChartStatus(!0),Object(rt.runInAction)(of(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.is_trade_component_mounted=!0,t.prepareTradeStore();case 2:case"end":return e.stop()}}),e)})))))}},{key:"setChartStatus",value:function(t){this.is_chart_loading=t}},{key:"initAccountCurrency",value:(o=of(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.currency!==e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.processNewValuesAsync({currency:e},!0,{currency:this.currency},!1);case 4:this.refresh(),this.debouncedProposal();case 6:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"onUnmount",value:function(){this.should_skip_prepost_lifecycle||(this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.is_trade_component_mounted=!1,this.root_store.modules.contract_trade.onUnmount(),this.refresh(),this.resetErrorServices(),this.root_store.ui.is_notifications_visible&&this.root_store.ui.toggleNotificationsModal(),window.history.pushState(null,null,window.location.pathname),this.prev_chart_layout&&(this.prev_chart_layout.is_used=!1))}},{key:"exportLayout",value:function(t){var e=this;delete t.previousMaxTicks,this.prev_chart_layout=t,this.prev_chart_layout.isDone=function(){e.prev_chart_layout.is_used=!0,e.setChartStatus(!1)}}},{key:"resetRefresh",value:function(){this.should_refresh_active_symbols=!1}},{key:"is_symbol_in_active_symbols",get:function(){var t=this;return this.active_symbols.some((function(e){return e.symbol===t.symbol&&1===e.exchange_is_open}))}},{key:"barrier_pipsize",get:function(){return Object(Kp.b)(this.barrier_1)}},{key:"main_barrier_flattened",get:function(){return Object(m.b)(this.contract_type)?null:Object(rt.toJS)(this.main_barrier)}},{key:"barriers_flattened",get:function(){return this.barriers&&Object(rt.toJS)(this.barriers)}},{key:"show_digits_stats",get:function(){return Object(m.b)(this.contract_type)}},{key:"chart_layout",get:function(){var t=null;return this.prev_chart_layout&&!1===this.prev_chart_layout.is_used&&(t=this.prev_chart_layout),t}},{key:"has_alternative_source",get:function(){return this.is_multiplier&&!!this.hovered_contract_type}},{key:"is_multiplier",get:function(){return"multiplier"===this.contract_type}}])&&sf(e.prototype,r),n&&sf(e,n),b}(Ho.a),Bl=df((Vl=Xp).prototype,"is_trade_component_mounted",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wl=df(Vl.prototype,"is_purchase_enabled",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gl=df(Vl.prototype,"is_trade_enabled",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ql=df(Vl.prototype,"is_equal",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xl=df(Vl.prototype,"symbol",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zl=df(Vl.prototype,"is_market_closed",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$l=df(Vl.prototype,"previous_symbol",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jl=df(Vl.prototype,"active_symbols",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Kl=df(Vl.prototype,"should_refresh_active_symbols",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ql=df(Vl.prototype,"form_components",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tp=df(Vl.prototype,"contract_expiry_type",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ep=df(Vl.prototype,"contract_start_type",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rp=df(Vl.prototype,"contract_type",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),np=df(Vl.prototype,"contract_types_list",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),op=df(Vl.prototype,"trade_types",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ip=df(Vl.prototype,"amount",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),ap=df(Vl.prototype,"basis",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sp=df(Vl.prototype,"basis_list",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),cp=df(Vl.prototype,"currency",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),up=df(Vl.prototype,"duration",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),lp=df(Vl.prototype,"duration_unit",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pp=df(Vl.prototype,"duration_units_list",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fp=df(Vl.prototype,"duration_min_max",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dp=df(Vl.prototype,"expiry_date",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),hp=df(Vl.prototype,"expiry_time",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yp=df(Vl.prototype,"expiry_type",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"duration"}}),mp=df(Vl.prototype,"barrier_1",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_p=df(Vl.prototype,"barrier_2",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),bp=df(Vl.prototype,"barrier_count",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gp=df(Vl.prototype,"main_barrier",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vp=df(Vl.prototype,"barriers",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Op=df(Vl.prototype,"start_date",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Number(0)}}),wp=df(Vl.prototype,"start_dates_list",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jp=df(Vl.prototype,"start_time",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Sp=df(Vl.prototype,"sessions",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kp=df(Vl.prototype,"market_open_times",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pp=df(Vl.prototype,"market_close_times",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ep=df(Vl.prototype,"last_digit",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),xp=df(Vl.prototype,"is_mobile_digit_view_selected",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cp=df(Vl.prototype,"proposal_info",[Xu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Dp=df(Vl.prototype,"purchase_info",[Zu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Tp=df(Vl.prototype,"is_chart_loading",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mp=df(Vl.prototype,"multiplier",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ap=df(Vl.prototype,"multiplier_range_list",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rp=df(Vl.prototype,"stop_loss",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lp=df(Vl.prototype,"take_profit",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Np=df(Vl.prototype,"has_stop_loss",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ip=df(Vl.prototype,"has_take_profit",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zp=df(Vl.prototype,"has_cancellation",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Up=df(Vl.prototype,"commission",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fp=df(Vl.prototype,"cancellation_price",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yp=df(Vl.prototype,"hovered_contract_type",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hp=df(Vl.prototype,"cancellation_duration",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"60m"}}),Vp=df(Vl.prototype,"cancellation_range_list",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bp=df(Vl.prototype,"is_trade_params_expanded",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wp=df(Vl.prototype,"should_skip_prepost_lifecycle",[rt.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gp=df(Vl.prototype,"init",[$u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return of(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sr.a.wait("authorize","website_status");case 2:return e.next=4,Object(rt.when)((function(){return!t.root_store.client.is_populating_account_list}));case 4:Sr.a.storage.activeSymbols("brief").then((function(e){var r=e.active_symbols;Object(rt.runInAction)((function(){t.active_symbols=r}))}));case 5:case"end":return e.stop()}}),e)})))}}),df(Vl.prototype,"is_symbol_in_active_symbols",[rt.computed],Object.getOwnPropertyDescriptor(Vl.prototype,"is_symbol_in_active_symbols"),Vl.prototype),df(Vl.prototype,"setSkipPrePostLifecycle",[Ju],Object.getOwnPropertyDescriptor(Vl.prototype,"setSkipPrePostLifecycle"),Vl.prototype),df(Vl.prototype,"setTradeStatus",[Ku],Object.getOwnPropertyDescriptor(Vl.prototype,"setTradeStatus"),Vl.prototype),df(Vl.prototype,"refresh",[Qu],Object.getOwnPropertyDescriptor(Vl.prototype,"refresh"),Vl.prototype),qp=df(Vl.prototype,"clearContracts",[tl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){t.root_store.modules.contract_trade.contracts=[]}}}),df(Vl.prototype,"setDefaultSymbol",[el],Object.getOwnPropertyDescriptor(Vl.prototype,"setDefaultSymbol"),Vl.prototype),df(Vl.prototype,"setActiveSymbols",[rl],Object.getOwnPropertyDescriptor(Vl.prototype,"setActiveSymbols"),Vl.prototype),df(Vl.prototype,"setContractTypes",[nl],Object.getOwnPropertyDescriptor(Vl.prototype,"setContractTypes"),Vl.prototype),df(Vl.prototype,"prepareTradeStore",[ol],Object.getOwnPropertyDescriptor(Vl.prototype,"prepareTradeStore"),Vl.prototype),df(Vl.prototype,"onChangeMultiple",[il],Object.getOwnPropertyDescriptor(Vl.prototype,"onChangeMultiple"),Vl.prototype),df(Vl.prototype,"onChange",[al],Object.getOwnPropertyDescriptor(Vl.prototype,"onChange"),Vl.prototype),df(Vl.prototype,"setPreviousSymbol",[sl],Object.getOwnPropertyDescriptor(Vl.prototype,"setPreviousSymbol"),Vl.prototype),df(Vl.prototype,"setAllowEqual",[cl],Object.getOwnPropertyDescriptor(Vl.prototype,"setAllowEqual"),Vl.prototype),df(Vl.prototype,"setIsTradeParamsExpanded",[ul],Object.getOwnPropertyDescriptor(Vl.prototype,"setIsTradeParamsExpanded"),Vl.prototype),df(Vl.prototype,"resetPreviousSymbol",[ll],Object.getOwnPropertyDescriptor(Vl.prototype,"resetPreviousSymbol"),Vl.prototype),df(Vl.prototype,"updateBarrierColor",[pl],Object.getOwnPropertyDescriptor(Vl.prototype,"updateBarrierColor"),Vl.prototype),df(Vl.prototype,"onHoverPurchase",[fl],Object.getOwnPropertyDescriptor(Vl.prototype,"onHoverPurchase"),Vl.prototype),df(Vl.prototype,"setPurchaseSpotBarrier",[dl],Object.getOwnPropertyDescriptor(Vl.prototype,"setPurchaseSpotBarrier"),Vl.prototype),df(Vl.prototype,"updateLimitOrderBarriers",[hl],Object.getOwnPropertyDescriptor(Vl.prototype,"updateLimitOrderBarriers"),Vl.prototype),df(Vl.prototype,"clearLimitOrderBarriers",[yl],Object.getOwnPropertyDescriptor(Vl.prototype,"clearLimitOrderBarriers"),Vl.prototype),df(Vl.prototype,"barrier_pipsize",[rt.computed],Object.getOwnPropertyDescriptor(Vl.prototype,"barrier_pipsize"),Vl.prototype),df(Vl.prototype,"main_barrier_flattened",[rt.computed],Object.getOwnPropertyDescriptor(Vl.prototype,"main_barrier_flattened"),Vl.prototype),df(Vl.prototype,"barriers_flattened",[rt.computed],Object.getOwnPropertyDescriptor(Vl.prototype,"barriers_flattened"),Vl.prototype),df(Vl.prototype,"onPurchase",[ml],Object.getOwnPropertyDescriptor(Vl.prototype,"onPurchase"),Vl.prototype),df(Vl.prototype,"enablePurchase",[_l],Object.getOwnPropertyDescriptor(Vl.prototype,"enablePurchase"),Vl.prototype),df(Vl.prototype,"updateStore",[bl],Object.getOwnPropertyDescriptor(Vl.prototype,"updateStore"),Vl.prototype),df(Vl.prototype,"show_digits_stats",[rt.computed],Object.getOwnPropertyDescriptor(Vl.prototype,"show_digits_stats"),Vl.prototype),df(Vl.prototype,"setMobileDigitView",[gl],Object.getOwnPropertyDescriptor(Vl.prototype,"setMobileDigitView"),Vl.prototype),df(Vl.prototype,"pushPurchaseDataToGtm",[vl],Object.getOwnPropertyDescriptor(Vl.prototype,"pushPurchaseDataToGtm"),Vl.prototype),df(Vl.prototype,"clearPurchaseInfo",[Ol],Object.getOwnPropertyDescriptor(Vl.prototype,"clearPurchaseInfo"),Vl.prototype),df(Vl.prototype,"requestProposal",[wl],Object.getOwnPropertyDescriptor(Vl.prototype,"requestProposal"),Vl.prototype),df(Vl.prototype,"forgetAllProposal",[jl],Object.getOwnPropertyDescriptor(Vl.prototype,"forgetAllProposal"),Vl.prototype),df(Vl.prototype,"setMarketStatus",[Sl],Object.getOwnPropertyDescriptor(Vl.prototype,"setMarketStatus"),Vl.prototype),df(Vl.prototype,"onProposalResponse",[kl],Object.getOwnPropertyDescriptor(Vl.prototype,"onProposalResponse"),Vl.prototype),df(Vl.prototype,"onChartBarrierChange",[Pl],Object.getOwnPropertyDescriptor(Vl.prototype,"onChartBarrierChange"),Vl.prototype),df(Vl.prototype,"onAllowEqualsChange",[El],Object.getOwnPropertyDescriptor(Vl.prototype,"onAllowEqualsChange"),Vl.prototype),df(Vl.prototype,"updateSymbol",[xl],Object.getOwnPropertyDescriptor(Vl.prototype,"updateSymbol"),Vl.prototype),df(Vl.prototype,"changeDurationValidationRules",[Cl],Object.getOwnPropertyDescriptor(Vl.prototype,"changeDurationValidationRules"),Vl.prototype),df(Vl.prototype,"accountSwitcherListener",[Dl],Object.getOwnPropertyDescriptor(Vl.prototype,"accountSwitcherListener"),Vl.prototype),df(Vl.prototype,"preSwitchAccountListener",[Tl],Object.getOwnPropertyDescriptor(Vl.prototype,"preSwitchAccountListener"),Vl.prototype),df(Vl.prototype,"logoutListener",[Ml],Object.getOwnPropertyDescriptor(Vl.prototype,"logoutListener"),Vl.prototype),df(Vl.prototype,"clientInitListener",[Al],Object.getOwnPropertyDescriptor(Vl.prototype,"clientInitListener"),Vl.prototype),df(Vl.prototype,"networkStatusChangeListener",[Rl],Object.getOwnPropertyDescriptor(Vl.prototype,"networkStatusChangeListener"),Vl.prototype),df(Vl.prototype,"themeChangeListener",[Ll],Object.getOwnPropertyDescriptor(Vl.prototype,"themeChangeListener"),Vl.prototype),df(Vl.prototype,"resetErrorServices",[Nl],Object.getOwnPropertyDescriptor(Vl.prototype,"resetErrorServices"),Vl.prototype),df(Vl.prototype,"onMount",[Il],Object.getOwnPropertyDescriptor(Vl.prototype,"onMount"),Vl.prototype),df(Vl.prototype,"setChartStatus",[zl],Object.getOwnPropertyDescriptor(Vl.prototype,"setChartStatus"),Vl.prototype),df(Vl.prototype,"initAccountCurrency",[Ul],Object.getOwnPropertyDescriptor(Vl.prototype,"initAccountCurrency"),Vl.prototype),df(Vl.prototype,"onUnmount",[Fl],Object.getOwnPropertyDescriptor(Vl.prototype,"onUnmount"),Vl.prototype),df(Vl.prototype,"exportLayout",[Yl],Object.getOwnPropertyDescriptor(Vl.prototype,"exportLayout"),Vl.prototype),df(Vl.prototype,"resetRefresh",[Hl],Object.getOwnPropertyDescriptor(Vl.prototype,"resetRefresh"),Vl.prototype),df(Vl.prototype,"has_alternative_source",[rt.computed],Object.getOwnPropertyDescriptor(Vl.prototype,"has_alternative_source"),Vl.prototype),df(Vl.prototype,"is_multiplier",[rt.computed],Object.getOwnPropertyDescriptor(Vl.prototype,"is_multiplier"),Vl.prototype),Vl);var mf=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cashier=r.modules.cashier,this.contract_replay=new ca({root_store:e}),this.contract_trade=new ga({root_store:e}),this.mt5=new va.a({root_store:e}),this.portfolio=new Rs({root_store:e}),this.profit_table=new $c({root_store:e}),this.statement=new pu({root_store:e}),this.trade=new yf({root_store:e})};var _f=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.client=e.client,this.common=e.common,this.modules=new mf(this,e),this.ui=e.ui,this.gtm=e.gtm,this.segment=e.segment};Object(rt.configure)({enforceActions:"observed"});var bf=function(t,e){du.a.init(t.common),Object(Sr.b)(e);var r=new _f(t);return r.modules.trade.init(),r};r("./sass/app.scss");function gf(t){return(gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Of(t,e){return(Of=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Sf(t);if(e){var o=Sf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return jf(this,r)}}function jf(t,e){return!e||"object"!==gf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sf(t){return(Sf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kf=s()({loader:function(){return r.e("trade-modals").then(r.bind(null,"./App/Containers/Modals/index.js"))},loading:function(){return null}}),Pf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Of(t,e)}(a,t);var e,r,n,o=wf(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=o.call(this,t);var r=t.passthrough,n=r.WS,i=r.root_store;return e.root_store=bf(i,n),e}return e=a,(r=[{key:"componentWillUnmount",value:function(){this.root_store.ui.setPromptHandler(!1)}},{key:"render",value:function(){return i.createElement(_.a,{store:this.root_store},i.createElement(i.Fragment,null,i.createElement(Je,null),i.createElement(kf,null),i.createElement(Xr.a,null),i.createElement(Rr,{store:this.root_store}),i.createElement(Nr,null),i.createElement(qr,{store:this.root_store})))}}])&&vf(e.prototype,r),n&&vf(e,n),a}(i.Component);Pf.propTypes={passthrough:o.a.shape({root_store:o.a.object,WS:o.a.object})};var Ef=Pf},"./sass/app.scss":function(t,e,r){},"./sass/app/_common/components/positions-toggle.scss":function(t,e,r){},"./sass/app/modules/contract/digits.scss":function(t,e,r){},"@deriv/account/dist/js/file-uploader-container":function(e,r){e.exports=t},"@deriv/account/dist/js/form-sub-header":function(t,r){t.exports=e},"@deriv/account/dist/js/poa-expired":function(t,e){t.exports=r},"@deriv/account/dist/js/poa-needs-review":function(t,e){t.exports=n},"@deriv/account/dist/js/poa-status-codes":function(t,e){t.exports=o},"@deriv/account/dist/js/poa-submitted":function(t,e){t.exports=i},"@deriv/account/dist/js/poa-unverified":function(t,e){t.exports=a},"@deriv/account/dist/js/poa-verified":function(t,e){t.exports=s},"@deriv/account/dist/js/proof-of-identity-container":function(t,e){t.exports=c},"@deriv/components":function(t,e){t.exports=u},"@deriv/deriv-charts":function(t,e){t.exports=l},"@deriv/shared":function(t,e){t.exports=p},"@deriv/translations":function(t,e){t.exports=f},mobx:function(t,e){t.exports=d},"mobx-react":function(t,e){t.exports=h},react:function(t,e){t.exports=y},"react-dom":function(t,e){t.exports=m},"react-router":function(t,e){t.exports=_},"react-router-dom":function(t,e){t.exports=b}}).default}));
//# sourceMappingURL=trader.main.js.map