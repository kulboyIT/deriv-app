(window.webpackJsonp_deriv_trader=window.webpackJsonp_deriv_trader||[]).push([["screen-small"],{"./Modules/Trading/Components/Form/screen-small.jsx":function(e,t,a){"use strict";a.r(t);var r=a("../../../node_modules/prop-types/index.js"),n=a.n(r),o=a("react"),i=a("@deriv/components"),l=a("./App/Components/Elements/ContentLoader/index.js"),u=a("../../../node_modules/classnames/index.js"),s=a.n(u),c=a("@deriv/translations"),d=a("./Stores/connect.js"),_=function(e){var t=e.onChange,a=e.is_allow_equal,r=e.className;return o.createElement("div",{className:s()("allow-equals","mobile-widget",r)},o.createElement(i.Checkbox,{label:Object(c.localize)("Equals"),value:a,name:"is_equal",onChange:function(e){e.persist();var a=e.target,r=a.name,n=a.checked;t({target:{name:r,value:Number(n)}})}}),o.createElement(i.Text,{as:"p",size:"xxxs"},o.createElement(c.Localize,{i18n_default_text:"Win payout if exit spot is also equal to entry spot."})))};_.propTypes={is_allow_equal:n.a.bool,onChange:n.a.func};var m=Object(d.b)((function(e){var t=e.modules;return{is_allow_equal:!!t.trade.is_equal,onChange:t.trade.onChange}}))(_),p=a("./Stores/Modules/Trading/Helpers/allow-equals.js"),b=a("@deriv/shared"),f=a("./Services/ws-methods.js"),v=a("../../../node_modules/lodash.debounce/index.js"),g=a.n(v),y=a("./Stores/Modules/Trading/Helpers/proposal.js");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){O(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var j=g()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,r=E(E({},e),t),n=Object(y.a)(r),o={},i=function(e){e.error||(o[e.subscription.id]=!0,a(e))};if(!Object(b.isEmptyObject)(n)){var l=n;Object.keys(l).forEach((function(e){f.a.subscribeProposal(l[e],i)}))}return function(){Object.keys(o).forEach((function(e){f.a.forget(e),delete o[e]}))}}),700),w=Object(d.b)((function(e){var t=e.modules,a=e.client,r=e.ui;return{onChangeMultiple:t.trade.onChangeMultiple,trade_amount:t.trade.amount,trade_basis:t.trade.basis,trade_duration_unit:t.trade.duration_unit,trade_duration:t.trade.duration,currency:a.currency,addToast:r.addToast}}))((function(e){var t=e.addToast,a=e.duration_unit,r=e.duration_value,n=e.toggleModal,l=e.basis,u=e.has_duration_error,s=e.selected_basis,d=e.setSelectedAmount,_=e.onChangeMultiple,m=e.currency,p=e.trade_amount,f=e.trade_basis,v=e.trade_duration,g=e.trade_duration_unit,y=e.setAmountError,h=Object(b.getDecimalPlaces)(m),E=Number("0").toFixed(Object(b.getDecimalPlaces)(m)),O=parseFloat(E.toString().replace(/.$/,"1")),j=function(e){var a=o.createElement(c.Localize,{i18n_default_text:"Should not be 0 or empty"}),r=parseFloat(e.toString());return"0."===e.toString()||0===r?(t({key:"amount_error",content:a,type:"error",timeout:2e3}),y(!0),"error"):isNaN(r)||r<O||e.toString().length<1?(t({key:"amount_error",content:a,type:"error",timeout:2e3}),y(!0),!1):(y(!1),!0)};return o.createElement("div",{className:"trade-params__amount-keypad"},o.createElement(i.Numpad,{value:s,format:function(e){return isNaN(e)||""===e?e:Number(e).toFixed(h)},onSubmit:function(e){var t={};a===g||u||(t.duration_unit=a),r===v||u||(t.duration=r),e===p&&l===f||(t.basis=l,t.amount=e),Object(b.isEmptyObject)(t)||_(t),n()},currency:m,min:O,is_currency:!0,render:function(e){var t=e.value,a=e.className;return o.createElement("div",{className:a},parseFloat(t)>0?o.createElement(i.Money,{currency:m,amount:t,should_format:!1}):t)},reset_press_interval:450,reset_value:"",pip_size:h,onValidate:j,submit_label:Object(c.localize)("OK"),onValueChange:function(e){d(l,e),j(e)}}))})),x=Object(d.b)((function(e){var t=e.modules;return{basis:t.trade.basis,basis_list:t.trade.basis_list,onChangeMultiple:t.trade.onChangeMultiple}}))((function(e){var t=e.toggleModal,a=e.basis_list,r=e.basis,n=e.duration_value,l=e.duration_unit,u=e.has_duration_error,s=e.amount_tab_idx,c=e.setAmountError,d=e.setAmountTabIdx,_=e.setSelectedAmount,m=e.stake_value,p=e.payout_value,b=void 0!==s?s:a.findIndex((function(e){return e.value===r}));return 1===a.length?o.createElement(w,{toggleModal:t,duration_value:n,duration_unit:l,has_duration_error:u,basis:a[0].value,setAmountError:c,selected_basis:"stake"===a[0].value?m:p,setSelectedAmount:_}):o.createElement("div",null,o.createElement(i.Tabs,{active_index:b,onTabItemClick:d,top:!0},a.map((function(e){switch(e.value){case"stake":return o.createElement("div",{label:e.text,key:e.value},o.createElement(w,{toggleModal:t,duration_value:n,duration_unit:l,has_duration_error:u,basis:e.value,setAmountError:c,selected_basis:m,setSelectedAmount:_}));case"payout":return o.createElement("div",{label:e.text,key:e.value},o.createElement(w,{toggleModal:t,duration_value:n,duration_unit:l,has_duration_error:u,basis:e.value,setAmountError:c,selected_basis:p,setSelectedAmount:_}));default:return null}}))))})),k=a("./Modules/Trading/Components/Form/TradeParams/Multiplier/info.jsx");function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var C=Object(d.b)((function(e){var t=e.client,a=e.modules,r=e.ui;return{amount:a.trade.amount,form_components:a.trade.form_components,currency:t.currency,duration:a.trade.duration,duration_unit:a.trade.duration_unit,duration_units_list:a.trade.duration_units_list,expiry_type:a.trade.expiry_type,enableApp:r.enableApp,disableApp:r.disableApp}}))((function(e){var t=e.is_open,a=e.enableApp,r=e.disableApp,n=e.toggleModal;return Object(i.usePreventIOSZoom)(),o.createElement(o.Fragment,null,o.createElement(i.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",enableApp:a,is_open:t,is_title_centered:!0,disableApp:r,toggleModal:n,height:"auto",width:"calc(100vw - 32px)",title:Object(c.localize)("Stake")},o.createElement(i.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},o.createElement(M,{toggleModal:n}))))})),M=Object(d.b)((function(e){var t=e.ui,a=e.modules;return{amount:a.trade.amount,currency:a.trade.currency,multiplier:a.trade.multiplier,multiplier_range_list:a.trade.multiplier_range_list,trade_stop_out:a.trade.stop_out,onChange:a.trade.onChange,addToast:t.addToast,trade_store:a.trade}}))((function(e){var t=e.amount,a=e.currency,r=e.toggleModal,n=e.trade_store,l=e.trade_stop_out,u=S(o.useState(t),2),s=u[0],d=u[1],_=S(o.useState(null),2),m=_[0],p=_[1],v=S(o.useState(null),2),g=v[0],y=v[1],h=o.useRef(t),E=Object(b.useIsMounted)();o.useEffect((function(){if(s!==t){var e=j(n,{amount:s},(function(e){var t,a,r=e.proposal,n=e.echo_req,o=e.subscription;E()&&r&&"MULTUP"===n.contract_type&&Number(n.amount)===Number(h.current)?(p(r.commission),y(null===(t=r.limit_order)||void 0===t||null===(a=t.stop_out)||void 0===a?void 0:a.order_amount)):(null==o?void 0:o.id)&&f.a.forget(o.id)}));return function(){null==e||e()}}}),[s]);return o.createElement(o.Fragment,null,o.createElement("div",{className:"trade-params__multiplier-icinfo-wrapper"},o.createElement(i.Popover,{alignment:"top",icon:"info",id:"dt_multiplier-stake__tooltip",zIndex:9999,message:o.createElement(c.Localize,{i18n_default_text:"To ensure your loss does not exceed your stake, your contract will be closed automatically when your loss equals to <0/>.",components:[o.createElement(i.Money,{key:0,amount:g||l,currency:a,show_currency:!0})]})})),o.createElement(x,{toggleModal:r,amount_tab_idx:0,setSelectedAmount:function(e,t){d(t),h.current=t},setAmountError:function(){},stake_value:s}),o.createElement(k.a,{className:"trade-params__multiplier-trade-info",should_show_tooltip:!0,commission:m,stop_out:g,amount:s}))})),N=Object(d.b)((function(e){var t=e.client,a=e.modules,r=e.ui;return{amount:a.trade.amount,currency:t.currency,duration:a.trade.duration,duration_unit:a.trade.duration_unit,duration_units_list:a.trade.duration_units_list,expiry_type:a.trade.expiry_type,enableApp:r.enableApp,disableApp:r.disableApp}}))((function(e){var t=e.is_open,a=e.enableApp,r=e.disableApp,n=e.toggleModal;return Object(i.usePreventIOSZoom)(),o.createElement(o.Fragment,null,o.createElement(i.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",enableApp:a,is_open:t,is_title_centered:!0,disableApp:r,toggleModal:n,height:"auto",width:"calc(100vw - 32px)",title:Object(c.localize)("Multiplier")},o.createElement(i.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},o.createElement(T,{toggleModal:n}))))})),T=Object(d.b)((function(e){var t=e.ui,a=e.modules;return{multiplier:a.trade.multiplier,multiplier_range_list:a.trade.multiplier_range_list,onChange:a.trade.onChange,addToast:t.addToast}}))((function(e){var t=e.multiplier,a=e.multiplier_range_list,r=e.onChange,n=e.toggleModal;return o.createElement(o.Fragment,null,o.createElement("div",{className:"trade-params__multiplier-icinfo-wrapper"},o.createElement(i.Popover,{alignment:"top",icon:"info",id:"dt_multiplier-stake__tooltip",zIndex:9999,message:Object(c.localize)("Your gross profit is the percentage change in market price times your stake and the multiplier chosen here.")})),o.createElement(i.RadioGroup,{className:"trade-params__multiplier-radio-group",name:"trade-params__multiplier-radio",items:a.map((function(e){var t=e.text;return{id:t,label:t,value:e.value.toString()}})),selected:Number.isNaN(t)?"":t.toString(),onToggle:function(e){r({target:{name:"multiplier",value:Number(e.target.value)}}),n()}}))}));function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var I=Object(d.b)((function(e){var t=e.modules;return{amount:t.trade.amount,currency:t.trade.currency,multiplier:t.trade.multiplier}}))((function(e){var t=e.amount,a=e.currency,r=D(o.useState(!1),2),n=r[0],l=r[1],u=function(){l(!n)};return o.createElement(o.Fragment,null,o.createElement(C,{is_open:n,toggleModal:u}),o.createElement("div",{className:"mobile-widget",onClick:u},o.createElement("div",{className:"mobile-widget__multiplier-amount"},o.createElement("div",{className:"mobile-widget__item"},o.createElement(i.Text,{weight:"bold",size:"xxs"},o.createElement(i.Money,{amount:t,currency:a,show_currency:!0})))),o.createElement(k.a,{className:"mobile-widget__multiplier-trade-info"})))})),z=Object(d.b)((function(e){var t=e.modules,a=e.ui;return{multiplier:t.trade.multiplier,addToast:a.addToast}}))((function(e){var t=e.multiplier,a=D(o.useState(!1),2),r=a[0],n=a[1],i=function(){n(!r)};return o.createElement(o.Fragment,null,o.createElement(N,{is_open:r,toggleModal:i}),o.createElement("div",{className:"mobile-widget mobile-widget__multiplier-options",onClick:i},o.createElement("div",{className:"mobile-widget__item"},o.createElement("span",{className:"mobile-widget__item-value"},"x",t))))})),F=a("./Modules/Trading/Components/Form/TradeParams/Multiplier/stop-loss.jsx"),q=a("./Modules/Trading/Components/Form/TradeParams/Multiplier/take-profit.jsx"),U=a("./Stores/Modules/Contract/Helpers/multiplier.js"),$=a("./App/Components/Form/fieldset.jsx");function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var R=Object(d.b)((function(e){var t=e.ui;return{disableApp:t.disableApp,enableApp:t.enableApp,is_loading:t.is_loading,should_show_cancellation_warning:t.should_show_cancellation_warning,toggleCancellationWarning:t.toggleCancellationWarning}}))((function(e){var t=e.disableApp,a=e.enableApp,r=e.is_visible,n=e.onConfirm,l=e.onCancel,u=e.should_show_cancellation_warning,s=e.toggleCancellationWarning;return o.createElement(i.Dialog,{className:"trade-params__multiplier-deal-cancellation-dialog",title:Object(c.localize)("About deal cancellation"),confirm_button_text:Object(c.localize)("Got it"),cancel_button_text:Object(c.localize)("Cancel"),onConfirm:n,onCancel:l,is_mobile_full_width:!1,is_visible:r,disableApp:t,enableApp:a,portal_element_id:"modal_root"},o.createElement(c.Localize,{i18n_default_text:"Take profit and/or stop loss are not available while deal cancellation is active."}),o.createElement(i.Checkbox,{defaultChecked:!u,onChange:function(){return s()},name:"should_show_cancellation_warning",label:Object(c.localize)("Don't show this again")}))})),W=Object(d.b)((function(e){var t=e.ui;return{cancellation_range_list:e.modules.trade.cancellation_range_list,should_show_cancellation_warning:t.should_show_cancellation_warning}}))((function(e){var t=e.has_cancellation,a=e.has_take_profit,r=e.has_stop_loss,n=e.onChangeMultiple,l=e.cancellation_duration,u=e.cancellation_range_list,s=e.should_show_cancellation_warning,d=L(o.useState(!1),2),_=d[0],m=d[1];return o.createElement(o.Fragment,null,o.createElement(R,{is_visible:_,onCancel:function(){return m(!1)},onConfirm:function(){m(!1),Object(U.c)({has_cancellation:t,onChangeMultiple:n})}}),o.createElement($.a,{className:"trade-container__fieldset"},o.createElement("div",{className:"dc-input-wrapper--inline"},o.createElement(i.Checkbox,{id:"dt_cancellation-checkbox_input",onChange:function(){var e;(e=(a||r)&&s)&&m(e),e||Object(U.c)({has_cancellation:t,onChangeMultiple:n})},name:"has_cancellation",label:Object(c.localize)("Deal cancellation"),defaultChecked:t}),o.createElement(i.Popover,{alignment:"left",icon:"info",id:"dt_multiplier-stake__tooltip",classNameBubble:"trade-container__deal-cancellation-popover",zIndex:9999,message:Object(c.localize)("Cancel your trade anytime within a chosen time-frame. Triggered automatically if your trade reaches the stop out level within the chosen time-frame.")})),t&&o.createElement(o.Fragment,null,o.createElement(i.RadioGroup,{className:"trade-params__multiplier-radio-group",name:"trade-params__multiplier-radio",items:u.map((function(e){var t=e.text;return{id:t,label:t,value:e.value.toString()}})),selected:l,onToggle:function(e){return Object(U.b)({event:e,onChangeMultiple:n})}}))))}));function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(Object(a),!0).forEach((function(t){Z(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var K=Object(d.b)((function(e){var t=e.modules;return{take_profit:t.trade.take_profit,has_take_profit:t.trade.has_take_profit,stop_loss:t.trade.stop_loss,has_stop_loss:t.trade.has_stop_loss,has_cancellation:t.trade.has_cancellation,cancellation_range_list:t.trade.cancellation_range_list,cancellation_duration:t.trade.cancellation_duration,onChangeMultiple:t.trade.onChangeMultiple}}))((function(e){var t,a,r=e.is_open,n=e.onClose,l=e.take_profit,u=e.stop_loss,d=e.has_take_profit,_=e.has_stop_loss,m=e.has_cancellation,p=e.cancellation_duration,f=e.cancellation_range_list,v=e.onChangeMultiple,g=e.toggleDialog,y={take_profit:l,stop_loss:u,has_take_profit:d,has_stop_loss:_,has_cancellation:m,cancellation_duration:p},h=B(o.useState(y),2),E=h[0],O=h[1],j=B(o.useState({}),2),w=j[0],x=j[1],k=(null==f?void 0:f.length)>0,S=function(e){var t=["has_take_profit","has_stop_loss","has_cancellation",e.has_take_profit&&"take_profit",e.has_stop_loss&&"stop_loss",e.has_cancellation&&"cancellation_duration"];return Object(b.pick)(e,t)},A=function(e){x({take_profit:e.has_take_profit&&!e.take_profit?[Object(c.localize)("Please enter a take profit amount.")]:[],stop_loss:e.has_stop_loss&&!e.stop_loss?[Object(c.localize)("Please enter a stop loss amount.")]:[]})},C=function(e){var t=e.target,a=t.name,r=t.value,n=G({},E);n[a]=r,O(n),A(n)},M=function(e){var t=G({},E);Object.assign(t,e),O(t),A(t)};return o.createElement(o.Fragment,null,o.createElement(i.MobileDialog,{portal_element_id:"modal_root",visible:r,has_content_scroll:!0,onClose:function(){O(y),n.apply(void 0,arguments)}},o.createElement(i.Div100vhContainer,{className:s()("trade-params__multiplier-risk-management-dialog",{"trade-params__multiplier-risk-management-dialog--no-cancel":!k}),height_offset:"60px"},o.createElement(q.a,{take_profit:E.take_profit,has_take_profit:E.has_take_profit,onChange:C,onChangeMultiple:M,validation_errors:w}),o.createElement(F.a,{stop_loss:E.stop_loss,has_stop_loss:E.has_stop_loss,onChange:C,onChangeMultiple:M,validation_errors:w}),k&&o.createElement(W,{has_take_profit:E.has_take_profit,has_stop_loss:E.has_stop_loss,has_cancellation:E.has_cancellation,cancellation_duration:E.cancellation_duration,onChangeMultiple:M}),o.createElement("div",{className:"trade-params__multiplier-risk-management-dialog-apply-button"},o.createElement(i.Button,{text:Object(c.localize)("Apply"),onClick:function(){v(E),g()},primary:!0,is_disabled:(null===(t=w.take_profit)||void 0===t?void 0:t.length)>0||(null===(a=w.stop_loss)||void 0===a?void 0:a.length)>0||Object(b.isDeepEqual)(S(E),S(y))})))))}));function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var X=Object(d.b)((function(e){var t=e.modules;return{currency:t.trade.currency,stop_loss:t.trade.stop_loss,has_stop_loss:t.trade.has_stop_loss,take_profit:t.trade.take_profit,has_take_profit:t.trade.has_take_profit,cancellation_duration:t.trade.cancellation_duration,cancellation_range_list:t.trade.cancellation_range_list,has_cancellation:t.trade.has_cancellation}}))((function(e){var t,a=e.currency,r=e.stop_loss,n=e.take_profit,l=e.has_take_profit,u=e.has_stop_loss,s=e.cancellation_duration,d=e.cancellation_range_list,_=e.has_cancellation,m=Y(o.useState(!1),2),p=m[0],b=m[1],f=l||u||_,v=null===(t=d.find((function(e){return e.value===s})))||void 0===t?void 0:t.text;return o.createElement(o.Fragment,null,o.createElement(K,{is_open:p,toggleDialog:function(){b(!p)},onClose:function(){return b(!1)}}),o.createElement("div",{className:"mobile-widget mobile-widget__multiplier-risk-management",onClick:function(){return b(!p)}},!f&&o.createElement("div",{className:"mobile-widget__item"},o.createElement("div",{className:"mobile-widget__item-label"},Object(c.localize)("Risk management")),o.createElement("div",{className:"mobile-widget__item-value"},Object(c.localize)("Not set"))),l&&o.createElement("div",{className:"mobile-widget__item"},o.createElement("div",{className:"mobile-widget__item-label"},Object(c.localize)("Take profit")),o.createElement("div",{className:"mobile-widget__item-value"},o.createElement(i.Money,{amount:n,currency:a,show_currency:!0}))),u&&o.createElement("div",{className:"mobile-widget__item"},o.createElement("div",{className:"mobile-widget__item-label"},Object(c.localize)("Stop loss")),o.createElement("div",{className:"mobile-widget__item-value"},o.createElement(i.Money,{amount:r,currency:a,show_currency:!0}))),_&&o.createElement("div",{className:"mobile-widget__item"},o.createElement("div",{className:"mobile-widget__item-label"},Object(c.localize)("Deal Cancellation")),o.createElement("div",{className:"mobile-widget__item-value"},v))))})),ee=a("./Stores/Modules/Trading/Helpers/duration.js"),te=a("./Stores/Modules/Trading/Constants/contract.js"),ae=a("mobx-react");function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var oe=Object(c.localize)("OK"),ie=function(e,t,a,r,n,o){"stake"===r&&t!==o?(e.basis="stake",e.amount=t):"payout"===r&&a!==o?(e.basis="payout",e.amount=a):n!==r&&(e.basis=r,e.amount=o)},le=Object(d.b)((function(e){var t=e.modules;return{duration_min_max:t.trade.duration_min_max,onChangeMultiple:t.trade.onChangeMultiple,trade_basis:t.trade.basis,trade_amount:t.trade.amount,trade_duration:t.trade.duration,trade_duration_unit:t.trade.duration_unit}}))((function(e){var t=e.setDurationError,a=e.basis_option,r=e.toggleModal,n=e.onChangeMultiple,l=e.duration_min_max,u=e.has_amount_error,s=e.trade_duration,d=e.trade_basis,_=e.trade_amount,m=e.trade_duration_unit,p=e.payout_value,f=e.stake_value,v=e.selected_duration,g=e.setSelectedDuration;o.useEffect((function(){t(!1)}),[]);var y=re(Object(ee.c)(l,"tick","t"),2),h=y[0],E=y[1],O="t"===m&&s>=h,j=s<h&&v<h?h:v;return o.createElement("div",{className:"trade-params__duration-tickpicker"},o.createElement(i.TickPicker,{default_value:O?s:j,submit_label:oe,max_value:E,min_value:h,onSubmit:function(e){var t=e.target.value,o={};u||ie(o,f,p,a,d,_),s===t&&"t"===m||(o.duration_unit="t",o.duration=t),Object(b.isEmptyObject)(o)||n(o),r()},onValueChange:function(e){return g("t",e)},singular_label:Object(c.localize)("Tick"),plural_label:Object(c.localize)("Ticks")}))})),ue=Object(d.b)((function(e){var t=e.modules,a=e.ui;return{duration_min_max:t.trade.duration_min_max,trade_duration:t.trade.duration,trade_duration_unit:t.trade.duration_unit,trade_basis:t.trade.basis,trade_amount:t.trade.amount,onChangeMultiple:t.trade.onChangeMultiple,addToast:a.addToast}}))((function(e){var t=e.addToast,a=e.setDurationError,r=e.basis_option,n=e.toggleModal,l=e.onChangeMultiple,u=e.duration_min_max,s=e.duration_unit_option,d=e.has_amount_error,_=e.contract_expiry,m=void 0===_?"intraday":_,p=e.payout_value,f=e.stake_value,v=e.trade_amount,g=e.trade_basis,y=e.trade_duration_unit,h=e.trade_duration,E=e.selected_duration,O=e.setSelectedDuration,j=s.value,w=re(Object(ee.c)(u,m,j),2),x=w[0],k=w[1],S=function(e){var r=o.createElement(c.Localize,{i18n_default_text:"Should be between {{min}} and {{max}}",values:{min:x,max:Object(b.addComma)(k,0,!1)}});return parseInt(e)<x||parseInt(E)>k?(t({key:"duration_error",content:r,type:"error",timeout:2e3}),a(!0),"error"):parseInt(e)>k?(t({key:"duration_error",content:r,type:"error",timeout:2e3}),"error"):e.toString().length<1?(t({key:"duration_error",content:r,type:"error",timeout:2e3}),a(!0),!1):(a(!1),!0)};return o.createElement("div",{className:"trade-params__amount-keypad"},o.createElement(i.Numpad,{value:E,onSubmit:function(e){var t={};d||ie(t,f,p,r,g,v),h===e&&y===j||(t.duration_unit=j,t.duration=e,t.expiry_type="duration"),Object(b.isEmptyObject)(t)||l(t),n()},render:function(e){var t=e.value,a=e.className;return o.createElement("div",{className:a},t)},pip_size:0,submit_label:oe,min:x,max:k,reset_press_interval:350,reset_value:"",onValidate:S,onValueChange:function(e){O(j,e),S(e)}}))})),se=Object(d.b)((function(e){var t=e.modules;return{duration_units_list:t.trade.duration_units_list,duration_min_max:t.trade.duration_min_max,duration_unit:t.trade.duration_unit,trade_basis:t.trade.basis}}))((function(e){var t=e.amount_tab_idx,a=e.toggleModal,r=e.duration_units_list,n=e.duration_unit,l=e.duration_tab_idx,u=e.duration_min_max,s=e.has_amount_error,d=e.setDurationTabIdx,_=e.setDurationError,m=e.t_duration,p=e.s_duration,b=e.m_duration,f=e.h_duration,v=e.d_duration,g=e.setSelectedDuration,y=e.trade_basis,h=e.stake_value,E=e.payout_value,O={t_duration:m,s_duration:p,m_duration:b,h_duration:f,d_duration:v},j=void 0!==l?l:r.findIndex((function(e){return e.value===n})),w=re(Object(ee.c)(u,"daily","d"),2),x=w[0],k=w[1],S=function(e){g("d",e)},A=function(){return 0===t?"stake":1===t?"payout":y};return o.createElement("div",null,o.createElement(i.Tabs,{active_index:j,onTabItemClick:function(e){return function(e){d(e);var t=r[e].value;g(t,O["".concat(t,"_duration")])}(e)},single_tab_has_no_label:!0,top:!0},r.map((function(e){switch(e.value){case"t":return o.createElement("div",{label:e.text,key:e.value},o.createElement(le,{basis_option:A(),has_amount_error:s,toggleModal:a,selected_duration:m,setDurationError:_,setSelectedDuration:g,stake_value:h,payout_value:E}));case"s":return o.createElement("div",{label:e.text,key:e.value},o.createElement(ue,{basis_option:A(),has_amount_error:s,toggleModal:a,duration_unit_option:e,selected_duration:p,setDurationError:_,setSelectedDuration:g,stake_value:h,payout_value:E}));case"m":return o.createElement("div",{label:e.text,key:e.value},o.createElement(ue,{basis_option:A(),has_amount_error:s,toggleModal:a,duration_unit_option:e,selected_duration:b,setDurationError:_,setSelectedDuration:g,stake_value:h,payout_value:E}));case"h":return o.createElement("div",{label:e.text,key:e.value},o.createElement(ue,{basis_option:A(),has_amount_error:s,toggleModal:a,duration_unit_option:e,selected_duration:f,setDurationError:_,setSelectedDuration:g,stake_value:h,payout_value:E}));case"d":return o.createElement("div",{label:e.text,key:e.value},o.createElement(ue,{basis_option:A(),has_amount_error:s,toggleModal:a,duration_unit_option:e,contract_expiry:"daily",selected_duration:v,setDurationError:_,setSelectedDuration:g,stake_value:h,payout_value:E}),o.createElement(i.RelativeDatepicker,{onChange:S,min:x,max:k,title:Object(c.localize)("Pick an end date")}));default:return null}}))))})),ce=a("./Modules/Trading/Components/Form/TradeParams/barrier.jsx"),de=a("./Modules/Trading/Components/Form/TradeParams/last-digit.jsx");a("./sass/app/modules/trading-mobile.scss");function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(a),!0).forEach((function(t){fe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ve=Object.freeze({t:5,s:15,m:3,h:1,d:1}),ge=function(e,t){return be(be({},e),t)},ye=function(e){var t,a,r=e.amount,n=e.duration,l=e.duration_unit,u=e.form_components,s=e.is_open,c=e.enableApp,d=e.disableApp,_=e.toggleModal,m=e.currency,p=e.duration_units_list,b=o.useCallback((t=n,a=l,function(e){return a===e?t:ve[e]}),[]),f=_e(o.useReducer(ge,{trade_param_tab_idx:0,duration_tab_idx:void 0,amount_tab_idx:void 0,has_amount_error:!1,has_duration_error:!1,curr_duration_unit:l,curr_duration_value:n,t_duration:b("t"),s_duration:b("s"),m_duration:b("m"),h_duration:b("h"),d_duration:b("d"),stake_value:r,payout_value:r}),2),v=f[0],g=f[1];Object(i.usePreventIOSZoom)(),o.useEffect((function(){h(l,n),y(void 0)}),[n,l]);var y=function(e){return g({duration_tab_idx:e})},h=function(e,t){var a;g((fe(a={},"".concat(e,"_duration"),t),fe(a,"curr_duration_unit",e),fe(a,"curr_duration_value",t),a))};return o.createElement(o.Fragment,null,o.createElement(i.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",enableApp:c,is_open:s,is_vertical_top:!0,header:o.createElement("div",null),disableApp:d,toggleModal:_,height:"auto",width:"calc(100vw - 32px)"},o.createElement(i.ThemedScrollbars,null,o.createElement(i.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"120px"},o.createElement(Ee,{currency:m,toggleModal:_,isVisible:function(e){return u.includes(e)},setTradeParamTabIdx:function(e){return g({trade_param_tab_idx:e})},trade_param_tab_idx:v.trade_param_tab_idx,setDurationTabIdx:y,duration_tab_idx:v.duration_tab_idx,setAmountTabIdx:function(e){return g({amount_tab_idx:e})},amount_tab_idx:v.amount_tab_idx,setSelectedAmount:function(e,t){return g(fe({},"".concat(e,"_value"),t))},stake_value:v.stake_value,payout_value:v.payout_value,duration_unit:v.curr_duration_unit,duration_value:v.curr_duration_value,duration_units_list:p,has_amount_error:v.has_amount_error,setAmountError:function(e){g({has_amount_error:e})},setSelectedDuration:h,has_duration_error:v.has_duration_error,setDurationError:function(e){g({has_duration_error:e})},t_duration:v.t_duration,s_duration:v.s_duration,m_duration:v.m_duration,h_duration:v.h_duration,d_duration:v.d_duration})))))};ye.propTypes={amount:n.a.oneOfType([n.a.number,n.a.string]),duration:n.a.oneOfType([n.a.string,n.a.number]),duration_unit:n.a.string,duration_units_list:ae.PropTypes.arrayOrObservableArray,form_components:ae.PropTypes.arrayOrObservableArray,is_open:n.a.bool,disableApp:n.a.func,enableApp:n.a.func,toggleModal:n.a.func,currency:n.a.string};var he=Object(d.b)((function(e){var t=e.client,a=e.modules,r=e.ui;return{amount:a.trade.amount,form_components:a.trade.form_components,currency:t.currency,duration:a.trade.duration,duration_unit:a.trade.duration_unit,duration_units_list:a.trade.duration_units_list,expiry_type:a.trade.expiry_type,enableApp:r.enableApp,disableApp:r.disableApp}}))(ye),Ee=Object(d.b)((function(e){var t=e.modules;return{basis_list:t.trade.basis_list,basis:t.trade.basis}}))((function(e){var t=e.currency,a=e.toggleModal,r=e.isVisible,n=e.setAmountTabIdx,l=e.amount_tab_idx,u=e.setTradeParamTabIdx,d=e.trade_param_tab_idx,_=e.setDurationTabIdx,m=e.duration_unit,p=e.duration_units_list,b=e.duration_value,f=e.duration_tab_idx,v=e.has_amount_error,g=e.has_duration_error,y=e.setAmountError,h=e.setSelectedAmount,E=e.stake_value,O=e.payout_value,j=e.setDurationError,w=e.setSelectedDuration,k=e.t_duration,S=e.s_duration,A=e.m_duration,C=e.h_duration,M=e.d_duration,N=e.basis_list,T=e.basis,D=function(e){switch(e){case"duration":return o.createElement("div",{className:"trade-params__header"},o.createElement("div",{className:"trade-params__header-label"},Object(c.localize)("Duration")),o.createElement("div",{className:s()("trade-params__header-value",{"trade-params__header-value--has-error":g})},g?Object(c.localize)("Error"):(r=p.find((function(e){return e.value===m})),"".concat(b," ").concat(r&&(b>1?Object(c.localize)(r.text):Object(c.localize)(r.text.slice(0,-1)))))));case"amount":return o.createElement("div",{className:"trade-params__header"},o.createElement("div",{className:"trade-params__header-label"},Object(c.localize)("Amount")),o.createElement("div",{className:s()("trade-params__header-value",{"trade-params__header-value--has-error":v})},v?Object(c.localize)("Error"):(a=void 0!==l?l:N.findIndex((function(e){return e.value===T})),o.createElement(i.Money,{currency:t,show_currency:!0,amount:1===a?O:E}))));default:return null}var a,r};return o.createElement(i.Tabs,{active_index:d,className:"trade-params-duration-amount",onTabItemClick:u,top:!0},r("duration")&&o.createElement("div",{header_content:D("duration")},o.createElement(se,{toggleModal:a,amount_tab_idx:l,duration_tab_idx:f,setDurationTabIdx:_,setSelectedDuration:w,setDurationError:j,has_amount_error:v,t_duration:k,s_duration:S,m_duration:A,h_duration:C,d_duration:M,stake_value:E,payout_value:O})),r("amount")&&o.createElement("div",{header_content:D("amount")},o.createElement(x,{duration_unit:m,duration_value:b,toggleModal:a,amount_tab_idx:l,setAmountTabIdx:n,has_duration_error:g,setSelectedAmount:h,setAmountError:y,stake_value:E,payout_value:O})))})),Oe=Object(d.b)((function(e){return{form_components:e.modules.trade.form_components}}))((function(e){return e.form_components.includes("last_digit")&&o.createElement(de.a,null)})),je=Object(d.b)((function(e){return{form_components:e.modules.trade.form_components}}))((function(e){return e.form_components.includes("barrier")&&o.createElement(ce.a,null)}));function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var ke=Object(d.b)((function(e){var t=e.modules,a=e.ui;return{amount:t.trade.amount,basis:t.trade.basis,currency:t.trade.currency,duration:t.trade.duration,duration_min_max:t.trade.duration_min_max,duration_unit:t.trade.duration_unit,form_components:t.trade.form_components,is_multiplier:t.trade.is_multiplier,last_digit:t.trade.last_digit,onChange:t.trade.onChange,onChangeUiStore:a.onChangeUiStore,trade_store:t.trade}}))((function(e){var t=e.amount,a=e.basis,r=e.currency,n=e.duration,l=e.duration_min_max,u=e.duration_unit,s=e.form_components,d=e.is_collapsed,_=e.is_multiplier,m=e.last_digit,p=e.onChange,b=e.onChangeUiStore,f=e.toggleDigitsWidget,v=e.trade_store,g=we(o.useState(!1),2),y=g[0],h=g[1];o.useEffect((function(){O()}));var E,O=function(){var e=Object(ee.d)(v),t=we(Object(ee.c)(l,e,u),2),a=t[0],r=t[1];"tick"===e&&n<a&&(b({name:"duration_".concat(u),value:a}),p({target:{name:"duration",value:a}})),!(n<a)&&n>r&&(b({name:"duration_".concat(u),value:r}),p({target:{name:"duration",value:r}}))},j=function(){return h(!y)},w=Object(te.c)();return o.createElement("div",{className:"mobile-widget__wrapper"},_?o.createElement(I,null):o.createElement("div",{id:"duration_amount_selector",className:"mobile-widget",onClick:j},o.createElement("div",{className:"mobile-widget__duration"},function(){if(!u)return"";var e={t:[Object(c.localize)("tick"),Object(c.localize)("ticks")],s:[Object(c.localize)("second"),Object(c.localize)("seconds")],m:[Object(c.localize)("min"),Object(c.localize)("mins")],h:[Object(c.localize)("hour"),Object(c.localize)("hours")],d:[Object(c.localize)("day"),Object(c.localize)("days")]};try{if(!u)return"";var t=1==+n?e[u][0]:e[u][1];return"".concat(n," ").concat(t)}catch(e){return""}}()),o.createElement("div",{className:"mobile-widget__amount"},o.createElement(i.Money,{amount:t,currency:r,show_currency:!0})),o.createElement("div",{className:"mobile-widget__type"},function(){switch(a){case"stake":return w.stake;case"payout":return w.payout;default:return a}}())),o.createElement(he,{is_open:y,toggleModal:j}),(E="last_digit",s.includes(E)&&d&&o.createElement("div",{className:"mobile-widget",onClick:f},o.createElement("div",{className:"mobile-widget__amount"},o.createElement(c.Localize,{i18n_default_text:"Digit: {{last_digit}} ",values:{last_digit:m}})))))})),Se=a("./Modules/Trading/Containers/contract-type.jsx"),Ae=a("./Modules/Trading/Containers/purchase.jsx");a("./sass/app/_common/mobile-widget.scss");function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ne=function(e){var t=e.form_components,a=e.has_allow_equals,r=e.previous_symbol,n=e.is_allow_equal,l=e.is_trade_params_expanded,u=e.is_multiplier,s=e.setIsTradeParamsExpanded;o.useEffect((function(){r&&n&&a&&s(!0)}),[r]);var c=!l,d=function(e){return t.includes(e)};return o.createElement(i.Collapsible,{position:"top",is_collapsed:c,onClick:function(e){s(e)}},o.createElement("div",{className:"trade-params__contract-type-container"},o.createElement(Se.a,null),u&&o.createElement(z,null)),d("last_digit")&&o.createElement("div",{collapsible:"true"},o.createElement(Oe,null)),d("barrier")&&o.createElement("div",{collapsible:"true"},o.createElement(je,null)),o.createElement(ke,{is_collapsed:c,toggleDigitsWidget:function(){s(!0)}}),a&&o.createElement(m,{collapsible:"true"}),u&&o.createElement("div",{collapsible:"true"},o.createElement(X,null)),o.createElement("div",{className:"purchase-container"},o.createElement(Ae.a,null)))},Te=function(e){var t=e.is_trade_enabled,a=e.duration_unit,r=e.contract_types_list,n=e.contract_type,i=e.expiry_type,u=e.contract_start_type,s=Me(e,["is_trade_enabled","duration_unit","contract_types_list","contract_type","expiry_type","contract_start_type"]),c=Object(p.b)(r,a,u),d=Object(p.a)(r),_=Object(p.c)(n)&&(c||"endtime"===i)&&d;return t?o.createElement(Ne,Ce({has_allow_equals:_},s)):o.createElement("div",{className:"mobile-wrapper__content-loader"},o.createElement(l.c,{speed:2}))};Te.propTypes={is_trade_enabled:n.a.bool};t.default=Object(d.b)((function(e){var t=e.modules;return{is_allow_equal:!!t.trade.is_equal,is_multiplier:t.trade.is_multiplier,duration_unit:t.trade.duration_unit,contract_types_list:t.trade.contract_types_list,contract_type:t.trade.contract_type,expiry_type:t.trade.expiry_type,contract_start_type:t.trade.contract_start_type,form_components:t.trade.form_components,previous_symbol:t.trade.previous_symbol,is_trade_params_expanded:t.trade.is_trade_params_expanded,setIsTradeParamsExpanded:t.trade.setIsTradeParamsExpanded}}))(Te)},"./sass/app/_common/mobile-widget.scss":function(e,t,a){},"./sass/app/modules/trading-mobile.scss":function(e,t,a){}}]);
//# sourceMappingURL=trader.screen-small.c63b9b5295a980662474.js.map