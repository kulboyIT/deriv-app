(window.webpackJsonp=window.webpackJsonp||[]).push([["account-signup-modal"],{752:function(e,t,n){"use strict";var r=n(42),a=n(1),i=n.n(a),s=n(0),o=n(6),c=n(5);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=function(e){var t=e.class_prefix,n=void 0===t?"set-residence":t,a=e.children,i=e.header_text,u=e.errors,d=e.touched,p=e.setFieldTouched,b=e.setFieldValue,_=e.residence_list;return s.createElement("div",{className:"".concat(n,"__residence-selection")},!!i&&s.createElement(o.Text,{as:"p",weight:"bold",className:"".concat(n,"__heading")},i),s.createElement("p",{className:"".concat(n,"__").concat(i?"text":"heading")},Object(c.localize)("Where do you live?")),s.createElement(r.Field,{name:"residence"},(function(e){var t=e.field;return s.createElement(s.Fragment,null,s.createElement(o.DesktopWrapper,null,s.createElement(o.Autocomplete,l({},t,{autoComplete:"off",className:"".concat(n,"__residence-field"),type:"text",label:Object(c.localize)("Choose country"),error:d.residence&&u.residence,required:!0,list_items:_,onItemSelection:function(e){var t=e.value,n=e.text;return b("residence",t?n:"",!0)}}))),s.createElement(o.MobileWrapper,null,s.createElement(o.SelectNative,{placeholder:Object(c.localize)("Please select"),label:Object(c.localize)("Choose country"),value:t.value,list_items:_,error:d.residence&&u.residence,required:!0,use_text:!0,onChange:function(e){p("residence",!0),b("residence",e.target.value,!0)}})))})),a)};u.propTypes={children:i.a.node,class_prefix:i.a.string,header_text:i.a.string,residence_list:i.a.arrayOf(i.a.object)},t.a=u},771:function(e,t,n){},784:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n(4),a=n.n(r),i=n(42),s=n(1),o=n.n(s),c=n(0),l=n(6),u=n(2),d=n(5),p=n(9),b=n(752);n(771);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y={password:"",residence:""},h=function(e){var t=e.enableApp,n=e.isModalVisible,r=e.is_account_signup_modal_visible,s=e.onSignup,o=e.residence_list,p=c.useContext(u.PlatformContext),f=v(c.useState(""),2),g=f[0],w=f[1],h=v(c.useState(!1),2),O=h[0],j=h[1],E=function(){j(!0)},x=function(e){if(n(!1),t(),e)throw Error(e)};return c.createElement("div",{className:"account-signup"},c.createElement(i.Formik,{initialValues:y,validate:function(e){return function(e,t){var n={};if(Object(u.validLength)(e.password,{min:8,max:25})?Object(u.validPassword)(e.password)||(n.password=Object(u.getErrorMessages)().password()):n.password=Object(d.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),e.residence){var r=t.findIndex((function(t){return t.text.toLowerCase()===e.residence.toLowerCase()}));-1!==r&&"DISABLED"!==t[r].disabled||(n.residence=Object(d.localize)("Unfortunately, {{website_name}} is not available in your country.",{website_name:u.website_name}))}else n.residence=!0;return n}(e,o)},onSubmit:function(e){var t=o.findIndex((function(t){return t.text.toLowerCase()===e.residence.toLowerCase()})),n=m(m({},e),{},{residence:o[t].value,is_deriv_crypto:p.is_deriv_crypto,is_account_signup_modal_visible:r});s(n,x)}},(function(e){var t=e.isSubmitting,n=e.handleBlur,r=e.errors,s=e.handleChange,p=e.values,f=e.setFieldValue,m=e.setFieldTouched,v=e.touched;return c.createElement(i.Form,null,O?c.createElement("div",{className:"account-signup__password-selection"},c.createElement(l.Text,{as:"p",weight:"bold",className:"account-signup__heading"},c.createElement(d.Localize,{i18n_default_text:"Keep your account secure with a password"})),c.createElement(i.Field,{name:"password"},(function(e){var t=e.field;return c.createElement(l.PasswordMeter,{input:g,has_error:!(!v.password||!r.password),custom_feedback_messages:Object(u.getErrorMessages)().password_warnings},c.createElement(l.PasswordInput,_({},t,{className:"account-signup__password-field",label:Object(d.localize)("Create a password"),error:v.password&&r.password,required:!0,value:p.password,onBlur:n,onChange:function(e){var t,n=e.target;m("password",!0),n&&(t=n.value,w(t)),s(e)}})))})),c.createElement(l.Text,{as:"p",size:"xxs",className:"account-signup__subtext"},c.createElement(d.Localize,{i18n_default_text:"Strong passwords contain at least 8 characters, combine uppercase and lowercase letters, numbers, and symbols."})),c.createElement(l.Button,{className:a()("account-signup__btn",{"account-signup__btn--disabled":!p.password||r.password||t}),type:"submit",is_disabled:!p.password||!!r.password||t,text:Object(d.localize)("Start trading"),primary:!0})):c.createElement(b.a,{header_text:Object(d.localize)("Thanks for verifying your email"),class_prefix:"account-signup",errors:r,touched:v,setFieldTouched:m,setFieldValue:f,residence_list:o},c.createElement(l.Button,{className:a()("account-signup__btn",{"account-signup__btn--disabled":!p.residence||r.residence}),type:"button",is_disabled:!p.residence||!!r.residence,onClick:E,primary:!0,text:Object(d.localize)("Next")})))})))};h.propTypes={enableApp:o.a.func,onSignup:o.a.func,residence_list:o.a.array,isModalVisible:o.a.func,is_account_signup_modal_visible:o.a.bool};var O=function(e){var t=e.enableApp,n=e.disableApp,r=e.is_loading,a=e.is_visible,i=e.is_logged_in,s=e.logout,o=e.onSignup,u=e.residence_list,d=e.toggleAccountSignupModal;return c.useEffect((function(){a&&i&&s()}),[a,i,s]),c.createElement(l.Dialog,{is_visible:a,disableApp:n,enableApp:t,is_loading:r||!u.length,is_mobile_full_width:!1,is_content_centered:!0},c.createElement(h,{onSignup:o,residence_list:u,isModalVisible:d,enableApp:t,is_account_signup_modal_visible:a}))};O.propTypes={disableApp:o.a.func,enableApp:o.a.func,is_loading:o.a.bool,is_visible:o.a.bool,onSignup:o.a.func,residence_list:o.a.arrayOf(o.a.object)};var j=Object(p.b)((function(e){var t=e.ui,n=e.client;return{is_visible:t.is_account_signup_modal_visible,toggleAccountSignupModal:t.toggleAccountSignupModal,enableApp:t.enableApp,disableApp:t.disableApp,is_loading:t.is_loading,onSignup:n.onSignup,is_logged_in:n.is_logged_in,residence_list:n.residence_list,logout:n.logout}}))(O)}}]);
//# sourceMappingURL=core.account-signup-modal.130be3fdc69a1a2fdd71.js.map