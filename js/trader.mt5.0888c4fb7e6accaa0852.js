(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["mt5"],{"./Modules/MT5/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{MT5PasswordModal:()=>M,MT5ServerErrorDialog:()=>N,default:()=>mn});var a=n("../../../node_modules/formik/dist/formik.esm.js"),r=n("../../../node_modules/prop-types/index.js"),o=n.n(r),i=n("react"),s=n("react-router"),c=n("@deriv/components"),l=n("@deriv/shared"),u=n("@deriv/translations"),d=n("../../../node_modules/classnames/index.js"),m=n.n(d),_=function(e){var t=e.classNameMessage,n=void 0===t?void 0:t,a=e.has_cancel,r=e.has_submit,o=e.icon,s=e.message,l=e.onCancel,d=e.onSubmit,_=e.heading,p=e.icon_size,f=e.text_submit,g=e.text_cancel,h=e.is_open,b=e.toggleModal,y=e.title,v=e.has_close_icon,w=e.width,E=void 0===w?void 0:w;return i.createElement(c.Modal,{className:"mt5-success-dialog",is_open:h,toggleModal:b,has_close_icon:v,small:!y,title:y,width:E},i.createElement(c.Modal.Body,null,i.createElement("div",{className:m()("success-change__icon-area",{"success-change__icon-area--large":"large"===p,"success-change__icon-area--xlarge":"xlarge"===p})},i.createElement((function(){return o||null}),null),i.createElement((function(e){var t=e.className;return i.createElement(c.Icon,{className:t,icon:"IcCheckmarkCircle",custom_color:"var(--status-success)",size:24})}),{className:"bottom-right-overlay"})),!_&&i.createElement("h2",{className:"dc-modal-header__title"},i.createElement(u.Localize,{i18n_default_text:"Success!"})),_&&_,i.isValidElement(s)&&s,!i.isValidElement(s)&&i.createElement("p",{className:n},s)),i.createElement(c.Modal.Footer,null,a&&i.createElement(c.Button,{onClick:l,has_effect:!0,text:g||(0,u.localize)("Maybe later"),secondary:!0,large:!0}),r&&i.createElement(c.Button,{has_effect:!0,onClick:d,text:f,primary:!0,large:!0})))};_.defaultProps={icon_size:"large",has_cancel:!1,has_submit:!0},_.propTypes={classNameMessage:o().string,has_cancel:o().bool,has_submit:o().bool,heading:o().oneOfType([o().string,o().object]),icon:o().object,icon_size:o().string,icon_type:o().string,message:o().oneOfType([o().string,o().object]),onCancel:o().func,onSubmit:o().func,text_submit:o().string};const p=_;var f=n("./Stores/connect.js");function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var E=function(e,t){return"real"===t?(0,u.localize)("You have created a DMT5 {{account_title}} account. To start trading, transfer funds from your Deriv account into this account.",{account_title:e}):(0,u.localize)("You have created a DMT5 {{account_title}} account.",{account_title:e})},z=function(e){return i.createElement(a.J9,{initialValues:{password:""},validate:e.validatePassword,onSubmit:function(t){return e.submitMt5Password(t.password)}},(function(t){var n=t.handleSubmit,a=t.setFieldTouched,r=t.handleChange,o=t.handleBlur,s=t.errors,d=t.values,m=t.touched;return i.createElement("form",{onSubmit:n},i.createElement("div",{className:"mt5-password-modal__content"},i.createElement("h2",{className:"mt5-password-modal__title"},i.createElement(u.Localize,{i18n_default_text:"Choose a password for your DMT5 {{ account_type }} account",values:{account_type:e.account_title}})),i.createElement("div",{className:"dc-modal__container_mt5-password-modal__body"},i.createElement("div",{className:"input-element"},i.createElement(c.PasswordMeter,{input:d.password,has_error:!(!m.password||!s.password),custom_feedback_messages:(0,l.getErrorMessages)().password_warnings},(function(e){var t=e.has_warning;return i.createElement(c.PasswordInput,{autoComplete:"new-password",label:(0,u.localize)("Create a password"),error:m.password&&s.password,hint:!t&&(0,u.localize)("Minimum of eight lower and uppercase English letters with numbers"),name:"password",value:d.password,onBlur:o,onChange:function(e){a("password",!0),r(e)}})}))),e.is_real_financial_stp&&!e.is_bvi&&i.createElement("div",{className:"dc-modal__container_mt5-password-modal__description"},i.createElement(u.Localize,{i18n_default_text:"Your MT5 Financial STP account will be opened through Deriv (FX) Ltd. All trading in this account is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA). None of your other accounts, including your Deriv account, is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA)."})),e.is_real_financial_stp&&e.is_bvi&&i.createElement("div",{className:"dc-modal__container_mt5-password-modal__description"},i.createElement(u.Localize,{i18n_default_text:"Your MT5 Financial STP account will be opened through Deriv (BVI) Ltd. All trading in this account is subject to the regulations and guidelines of the British Virgin Islands Financial Services Commission (BVIFSC). None of your other accounts, including your Deriv account, is subject to the regulations and guidelines of the British Virgin Islands Financial Services Commission (BVIFSC)."})))),i.createElement(c.FormSubmitButton,{is_disabled:!d.password||Object.keys(s).length>0,has_cancel:!0,cancel_label:(0,u.localize)("Cancel"),onCancel:e.closeModal,is_absolute:(0,l.isMobile)(),is_loading:e.is_submitting,label:e.should_show_server_form?(0,u.localize)("Next"):(0,u.localize)("Add account"),form_error:e.form_error}))}))},S=function(e){var t,n,r=w({},e),o=i.useMemo((function(){return r.trading_servers.filter((function(e){return!e.disabled})).map((function(e){var t=r.mt5_login_list.some((function(t){return t.server===e.id}));return y(y({},e),{label:"".concat(e.geolocation.region," ").concat(1===e.geolocation.sequence?"":e.geolocation.sequence," ").concat(t?"(Account created)":""),value:e.id,disabled:t})})).sort((function(e,t){return e.recommended?e:t}))}),[r.trading_servers]);return i.createElement(a.J9,{initialValues:{password:r.password,server:null!==(t=null===(n=r.trading_servers.find((function(e){return!e.disabled&&!r.mt5_login_list.some((function(t){return t.server===e.id}))})))||void 0===n?void 0:n.id)&&void 0!==t?t:""},validate:r.validateServer,onSubmit:function(e,t){r.submitMt5Form({password:e.password,server:e.server},t.setSubmitting)}},(function(e){var t,n=e.handleSubmit,a=e.setFieldValue,s=e.errors,d=e.values,m=e.isSubmitting;return i.createElement("form",{onSubmit:n},i.createElement("div",{className:"mt5-password-modal__content"},i.createElement("h2",null,i.createElement(u.Localize,{i18n_default_text:"Choose a server for your DMT5 {{ account_type }} account",values:{account_type:r.account_title}})),i.createElement("div",{className:"dc-modal__container_mt5-password-modal__body"},i.createElement("div",{className:"input-element"},i.createElement(c.RadioGroup,{className:"mt5-password-modal__radio",name:"server",required:!0,selected:null===(t=r.trading_servers.find((function(e){return!e.disabled&&!r.mt5_login_list.some((function(t){return t.server===e.id}))})))||void 0===t?void 0:t.id,onToggle:function(e){e.persist(),a("server",e.target.value)}},o.map((function(e){return i.createElement(c.RadioGroup.Item,{key:e.value,label:e.label,value:e.value,disabled:e.disabled})})))))),i.createElement(c.FormSubmitButton,{is_disabled:m||!d.server||Object.keys(s).length>0,has_cancel:!0,cancel_label:(0,u.localize)("Back"),onCancel:r.onBack,is_absolute:(0,l.isMobile)(),is_loading:m,label:(0,u.localize)("Add account"),form_error:r.form_error}))}))},x=function(e){var t=e.account_title,n=e.account_type,a=e.disableMt5PasswordModal,r=e.email,o=e.landing_companies,s=e.is_eu,d=e.is_eu_country,m=e.is_logged_in,_=e.form_error,f=e.history,h=e.has_mt5_error,b=e.is_mt5_password_modal_enabled,y=e.is_mt5_success_dialog_enabled,v=e.setMt5SuccessDialog,w=e.setMt5Error,x=e.submitMt5Password,M=e.trading_servers,O=e.mt5_login_list,N=e.mt5_new_account,P=g(i.useState(""),2),j=P[0],k=P[1],T=g(i.useState(!1),2),A=T[0],C=T[1],D=i.useMemo((function(){var e,t;return"bvi"===(null==o||null===(e=o.mt_financial_company)||void 0===e||null===(t=e.financial_stp)||void 0===t?void 0:t.shortcode)}),[o]),I=function(e){var t={};return(0,l.validLength)(e.password,{min:8,max:25})?(0,l.validPassword)(e.password)||(t.password=(0,l.getErrorMessages)().password()):t.password=(0,u.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),e.password.toLowerCase()===r.toLowerCase()&&(t.password=(0,u.localize)("Your password cannot be the same as your email address.")),t},L=function(){v(!1),w(!1),k("")},F=function(){L(),a()},R=b&&!h&&!y,W=!h&&y,B="real_financial_stp"===[n.category,n.type].join("_"),U="real_synthetic"===[n.category,n.type].join("_"),q=(m?!s:!d)&&U&&!!j;return i.useEffect((function(){q||!j||A?A&&j&&m&&x({password:j},(function(e){k(""),C(e)})):C(!0)}),[j,q,A]),i.useEffect((function(){(h||y)&&k("")}),[h,y]),i.createElement(i.Fragment,null,i.createElement(c.DesktopWrapper,null,i.createElement(c.Modal,{className:"mt5-password-modal",is_open:R,toggleModal:F,has_close_icon:!0},q?i.createElement(S,{trading_servers:M,mt5_login_list:O,account_title:t,password:j,submitMt5Form:function(e,t){return x(e,t)},onBack:function(){return k("")}}):i.createElement(z,{is_bvi:D,is_submitting:A,account_title:t,closeModal:F,form_error:_,submitMt5Password:k,is_real_financial_stp:B,validatePassword:I,should_show_server_form:q}))),i.createElement(c.MobileWrapper,null,i.createElement(c.MobileDialog,{has_full_height:!0,portal_element_id:"modal_root",visible:R,onClose:F,wrapper_classname:"mt5-password-modal"},q?i.createElement(S,{trading_servers:M,mt5_login_list:O,account_title:t,password:j,submitMt5Form:function(e,t){return x(e,t)},onBack:function(){return k("")}}):i.createElement(z,{is_bvi:D,is_submitting:A,account_title:t,closeModal:F,form_error:_,is_real_financial_stp:B,submitMt5Password:k,validatePassword:I,should_show_server_form:q}))),i.createElement(p,{is_open:W,toggleModal:F,onCancel:F,onSubmit:function(){a(),L(),"real"===n.category&&(sessionStorage.setItem("mt5_transfer_to_login_id",N.login),f.push(l.routes.cashier_acc_transfer))},classNameMessage:"mt5-password-modal__message",message:E(t,n.category),icon:i.createElement((function(){return function(e){switch(e){case"synthetic":return i.createElement(c.Icon,{icon:"IcMt5SyntheticPlatform",size:128});case"financial":return i.createElement(c.Icon,{icon:"IcMt5FinancialPlatform",size:128});default:return i.createElement(c.Icon,{icon:"IcMt5FinancialStpPlatform",size:128})}}(n.type)}),null),icon_size:"xlarge",text_submit:"real"===n.category?(0,u.localize)("Transfer now"):(0,u.localize)("OK"),has_cancel:"real"===n.category}))};x.propTypes={account_title:o().string,account_type:o().object,disableMt5PasswordModal:o().func,email:o().string,error_message:o().string,has_mt5_error:o().bool,is_eu:o().bool,is_eu_country:o().bool,is_logged_in:o().bool,is_mt5_password_modal_enabled:o().bool,is_mt5_success_dialog_enabled:o().bool,setMt5Error:o().func,setMt5SuccessDialog:o().func,submitMt5Password:o().func};const M=(0,f.$j)((function(e){var t=e.client,n=e.modules;return{email:t.email,account_title:n.mt5.account_title,account_type:n.mt5.account_type,disableMt5PasswordModal:n.mt5.disableMt5PasswordModal,error_message:n.mt5.error_message,has_mt5_error:n.mt5.has_mt5_error,landing_companies:t.landing_companies,is_eu:t.is_eu,is_eu_country:t.is_eu_country,is_logged_in:t.is_logged_in,is_mt5_success_dialog_enabled:n.mt5.is_mt5_success_dialog_enabled,is_mt5_password_modal_enabled:n.mt5.is_mt5_password_modal_enabled,setMt5Error:n.mt5.setError,setMt5SuccessDialog:n.mt5.setMt5SuccessDialog,submitMt5Password:n.mt5.submitMt5Password,mt5_new_account:n.mt5.new_account_response,trading_servers:t.trading_servers,mt5_login_list:t.mt5_login_list}}))((0,s.withRouter)(x));var O=function(e){var t=e.clearMt5Error,n=e.disableApp,a=e.enableApp,r=e.error_message,o=e.has_mt5_error,s=e.is_mt5_success_dialog_enabled,l=o&&!s;return i.createElement(c.Dialog,{title:(0,u.localize)("Somethingâ€™s not right"),confirm_button_text:(0,u.localize)("OK"),onConfirm:t,disableApp:n,enableApp:a,is_visible:l},r||i.createElement(u.Localize,{i18n_default_text:"Sorry, an error occured while processing your request."}))};O.propTypes={clearMt5Error:o().func,disableApp:o().func,enableApp:o().func,error_message:o().string,has_mt5_error:o().bool,is_mt5_success_dialog_enabled:o().bool};const N=(0,f.$j)((function(e){var t=e.ui,n=e.modules;return{clearMt5Error:n.mt5.clearMt5Error,disableApp:t.disableApp,enableApp:t.enableApp,error_message:n.mt5.error_message,has_mt5_error:n.mt5.has_mt5_error,is_mt5_success_dialog_enabled:n.mt5.is_mt5_success_dialog_enabled}}))(O);var P=n("./templates/_common/components/loading.jsx");const j=function(){return i.createElement("div",{className:"mt5-real-accounts-display"},i.createElement(P.Z,null))};var k=function(e){var t=e.onClickSignup;return i.createElement("div",{className:"mt5-dashboard__missing-real"},i.createElement("h1",{className:"mt5-dashboard__missing-real--heading"},i.createElement(u.Localize,{i18n_default_text:"You need a real account (fiat currency or cryptocurrency) in Deriv to create a real DMT5 account."})),i.createElement(c.Button,{className:"mt5-dashboard__missing-real--button",onClick:t,type:"button",primary:!0},i.createElement("span",{className:"btn__text"},i.createElement(u.Localize,{i18n_default_text:"Create a Deriv account"}))))};k.propTypes={onClickSignup:o().func};const T=k;var A=n("./Services/ws-methods.js"),C=n("@deriv/account/dist/js/file-uploader-container"),D=n.n(C),I=n("@deriv/account/dist/js/form-sub-header"),L=n.n(I),F=n("@deriv/account/dist/js/poa-expired"),R=n.n(F),W=n("@deriv/account/dist/js/poa-needs-review"),B=n.n(W),U=n("@deriv/account/dist/js/poa-verified"),q=n.n(U),V=n("@deriv/account/dist/js/poa-unverified"),$=n.n(V),H=n("@deriv/account/dist/js/poa-submitted"),Y=n.n(H),K=n("@deriv/account/dist/js/poa-status-codes"),X=n.n(K);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ne=function(e){var t=e.maxLength,n=e.name,r=e.optional,o=void 0!==r&&r,s=te(e,["maxLength","name","optional"]);return i.createElement(a.gN,{name:n},(function(e){var a=e.field,r=e.form,l=r.errors,u=r.touched;return i.createElement(c.Input,ee({type:"text",required:!o,name:n,autoComplete:"off",maxLength:t||"30",error:u[a.name]&&l[a.name]},a,s))}))},ae=function(e){var t,n,r=e.onSave,o=e.is_fully_authenticated,s=e.is_loading,d=e.landing_company,m=e.residence_list,_=e.onCancel,p=e.onSubmit,f=e.value,g=e.index,h=e.form_error,b=[{text:(0,u.localize)("Hedging"),value:"Hedging"},{text:(0,u.localize)("Income Earning"),value:"Income Earning"},{text:(0,u.localize)("Speculative"),value:"Speculative"},{text:(0,u.localize)("Peer-to-peer exchange"),value:"Peer-to-peer exchange"}],y=null!==(t=null==d||null===(n=d.config)||void 0===n?void 0:n.tax_details_required)&&void 0!==t&&t,v=function(e){r(g,e),_()};return 0===m.length||s?i.createElement(c.Loading,{is_fullscreen:!1}):i.createElement(a.J9,{initialValues:{citizen:f.citizen,tax_residence:f.tax_residence,tax_identification_number:f.tax_identification_number,account_opening_reason:f.account_opening_reason},validateOnMount:!0,validateOnChange:!0,validateOnBlur:!0,validate:function(e){return function(e){var t,n=e.values,a=e.residence_list,r=e.account_opening_reason,o=e.is_tin_required,s=Z(a.filter((function(e){return e.text===n.tax_residence&&e.tin_format})),1)[0],c=Z(null!==(t=null==s?void 0:s.tin_format)&&void 0!==t?t:[],1)[0],l=c||"^[A-Za-z0-9./s-]{0,25}$",d={citizen:[function(e){return!!e},function(e){return a.map((function(e){return e.text})).includes(e)}],tax_residence:[function(e){return!!e},function(e){return a.map((function(e){return e.text})).includes(e)}],tax_identification_number:[function(e){return!(!n.tax_residence&&o||c)||!!e},function(e){return!l||e.match(l)}],account_opening_reason:[function(e){return!!e},function(e){return r.map((function(e){return e.value})).includes(e)}]},m={citizen:(0,u.localize)("Citizenship"),tax_residence:(0,u.localize)("Tax residence"),tax_identification_number:(0,u.localize)("Tax identification number"),account_opening_reason:(0,u.localize)("Account opening reason")},_={};return Object.entries(d).forEach((function(e){var t,a=Z(e,2),r=a[0],o=a[1].findIndex((function(e){return!e(n[r])}));-1!==o&&(_[r]=i.createElement(i.Fragment,null,(t=m[r],[(0,u.localize)("{{field_name}} is required",{field_name:t}),(0,u.localize)("{{field_name}} is not properly formatted.",{field_name:t})])[o]))})),_}({values:e,residence_list:m,account_opening_reason:b,is_tin_required:y})},onSubmit:function(e,t){return function(e,t,n,a,r,o){var i=e.citizen,s=e.tax_residence,c=te(e,["citizen","tax_residence"]),l=function(e,t,n){var a,r;return n.forEach((function(n){n.text===e&&(a=n),n.text===t&&(r=n)})),{citizen:a,tax_residence:r}}(i,s,o),u=l.citizen,d=l.tax_residence;a(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({citizen:void 0!==u?u.value:"",tax_residence:void 0!==d?d.value:""},c),t.setSubmitting,r)}(e,t,g,p,!(0,l.isDeepEqual)(f,e),m)}},(function(e){var t=e.handleSubmit,n=e.isSubmitting,r=e.handleChange,s=e.handleBlur,d=e.errors,_=e.touched,p=e.values,g=e.setFieldValue,y=e.isValid;return i.createElement(c.AutoHeightWrapper,{default_height:200,height_offset:(0,l.isDesktop)()?148:null},(function(e){var w=e.height,E=e.setRef;return i.createElement("form",{className:"mt5-financial-stp-modal__form",ref:E,onSubmit:t,autoComplete:"off"},i.createElement(c.Div100vhContainer,{className:"details-form",max_autoheight_offset:"179px",is_disabled:(0,l.isDesktop)()},i.createElement(c.Text,{as:"p",size:"xxxs",align:"center",className:"details-form__description"},i.createElement(u.Localize,{i18n_default_text:"Any information you provide is confidential and will be used for verification purposes only."})),i.createElement(c.ThemedScrollbars,{height:w,is_bypassed:(0,l.isMobile)()},i.createElement("div",{className:"details-form__elements"},i.createElement(L(),{title:(0,u.localize)("Details")}),i.createElement("fieldset",{className:"account-form__fieldset"},i.createElement(c.DesktopWrapper,null,i.createElement(a.gN,{name:"citizen"},(function(e){var t=e.field;return i.createElement(c.Autocomplete,ee({},t,{id:"real_mt5_citizenship","data-lpignore":"true",autoComplete:"off",type:"text",label:(0,u.localize)("Citizenship"),error:_.citizen&&d.citizen,disabled:f.citizen&&o,list_items:m,onItemSelection:function(e){return g("citizen",e.value?e.text:"",!0)},list_portal_id:"modal_root",required:!0}))}))),i.createElement(c.MobileWrapper,null,i.createElement(c.SelectNative,{placeholder:(0,u.localize)("Please select"),label:(0,u.localize)("Citizenship"),value:p.citizen,list_items:m,error:_.citizen&&d.citizen,disabled:f.citizen&&o,use_text:!0,onChange:function(e){return g("citizen",e.target.value,!0)},required:!0}))),i.createElement(L(),{title:(0,u.localize)("Tax information")}),i.createElement("fieldset",{className:"account-form__fieldset"},i.createElement(c.DesktopWrapper,null,i.createElement(a.gN,{name:"tax_residence"},(function(e){var t=e.field;return i.createElement(c.Autocomplete,ee({id:"real_mt5_tax_residence","data-lpignore":"true",type:"text",autoComplete:"off",label:(0,u.localize)("Tax residence"),error:_.tax_residence&&d.tax_residence,disabled:f.tax_residence&&o,list_items:m,onItemSelection:function(e){var t=e.value,n=e.text;return g("tax_residence",t?n:"",!0)},list_portal_id:"modal_root"},t))}))),i.createElement(c.MobileWrapper,null,i.createElement(c.SelectNative,{placeholder:(0,u.localize)("Please select"),label:(0,u.localize)("Tax residence"),value:p.tax_residence,error:_.tax_residence&&d.tax_residence,disabled:f.tax_residence&&o,list_items:m,use_text:!0,onChange:function(e){return g("tax_residence",e.target.value,!0)},required:!0}))),i.createElement("fieldset",{className:"account-form__fieldset"},i.createElement(ne,{id:"real_mt5_tax_identification_number",name:"tax_identification_number",label:(0,u.localize)("Tax identification number"),placeholder:(0,u.localize)("Tax identification number"),value:p.tax_identification_number,onBlur:s,optional:!0})),i.createElement(L(),{title:(0,u.localize)("Account opening reason")}),i.createElement(a.gN,{name:"account_opening_reason"},(function(e){var t=e.field;return i.createElement(i.Fragment,null,i.createElement(c.DesktopWrapper,null,i.createElement(c.Dropdown,ee({placeholder:(0,u.localize)("Account opening reason"),is_align_text_left:!0,name:t.name,list:b,value:p.account_opening_reason,onChange:r,handleBlur:s,error:_.account_opening_reason&&d.account_opening_reason,list_portal_id:"modal_root"},t))),i.createElement(c.MobileWrapper,null,i.createElement(c.SelectNative,ee({placeholder:(0,u.localize)("Please select"),name:t.name,label:(0,u.localize)("Account opening reason"),list_items:b,value:p.account_opening_reason,error:_.account_opening_reason&&d.account_opening_reason,onChange:function(e){r(e),g("account_opening_reason",e.target.value,!0)}},t))))}))))),i.createElement(c.Modal.Footer,{is_bypassed:(0,l.isMobile)()},h&&i.createElement(c.FormSubmitErrorMessage,{message:h}),i.createElement(c.FormSubmitButton,{cancel_label:(0,u.localize)("Previous"),is_disabled:n||!y,is_absolute:(0,l.isMobile)(),label:(0,u.localize)("Next"),onCancel:function(){return v(p)}})))}))}))};ae.propTypes={is_fully_authenticated:o().bool,is_loading:o().bool,onCancel:o().func,onSave:o().func,onSubmit:o().func,residence_list:o().array,value:o().object,landing_company:o().object.isRequired};const re=ae;function oe(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function de(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var me,_e=function(e){var t=e.onSave,n=e.onCancel,r=e.index,o=e.onSubmit,s=e.refreshNotifications,d=de(e,["onSave","onCancel","index","onSubmit","refreshNotifications"]),m=i.useRef(),_=le(i.useState(!0),2),p=_[0],f=_[1],g=le((0,c.useStateCallback)({poa_status:"none",resubmit_poa:!1,has_poi:!1,form_error:""}),2),h=g[0],b=g[1],y=le((0,c.useStateCallback)({files:[],error_message:null}),2),v=y[0],w=y[1],E=le(i.useState({}),2),z=E[0],S=E[1],x=function(e){t(r,e),n()},M=function(){var e,n=(e=regeneratorRuntime.mark((function e(n,a){var i,s,c,l,d,m,_,p,f,g,y,w,E,M,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.document_file,i=de(n,["document_file"]),a.setSubmitting(!0),e.next=4,A.WS.setSettings(i);case 4:if(!(s=e.sent).error){e.next=9;break}return b(se(se({},h),{form_error:s.error.message})),a.setSubmitting(!1),e.abrupt("return");case 9:return e.next=11,A.WS.authorized.storage.getSettings();case 11:if(c=e.sent,l=c.error,d=c.get_settings,!l){e.next=17;break}return b(se(se({},h),{form_error:l.message})),e.abrupt("return");case 17:return m=d.address_line_1,_=d.address_line_2,p=d.address_city,f=d.address_state,g=d.address_postcode,S({address_line_1:m,address_line_2:_,address_city:p,address_postcode:g,address_state:f}),b(se(se({},h),{form_error:""})),e.prev=20,e.next=23,me.current.upload();case 23:if(!(y=e.sent).warning){e.next=28;break}return b(se(se({},h),{form_error:y.warning})),a.setSubmitting(!1),e.abrupt("return");case 28:return e.next=30,A.WS.authorized.storage.getAccountStatus();case 30:if(w=e.sent,E=w.error,M=w.get_account_status,!E){e.next=37;break}return b(se(se({},h),{form_error:l.message})),a.setSubmitting(!1),e.abrupt("return");case 37:(O=M.authentication.identity)&&"none"===O.status?(b(se(se({},h),{form_error:(0,u.localize)("Identity confirmation failed. You will be redirected to the previous step.")})),setTimeout((function(){x(d)}),3e3)):(void 0,void 0,N=v.files,P=v.error_message,o(r,se(se(se({},z),h),{document_file:N,file_error_message:P}))),e.next=45;break;case 42:e.prev=42,e.t0=e.catch(20),b(se(se({},h),{form_error:e.t0.message}));case 45:a.setSubmitting(!1),t(r,n),o(r,n,a.setSubmitting);case 48:case"end":return e.stop()}var N,P}),e,null,[[20,42]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){oe(o,a,r,i,s,"next",e)}function s(e){oe(o,a,r,i,s,"throw",e)}i(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();i.useEffect((function(){A.WS.authorized.getAccountStatus().then((function(e){A.WS.wait("states_list").then((function(){var t=e.get_account_status.authentication,n=t.document,a=t.identity,r=!(!a||"none"!==a.status);b(se(se({},h),{poa_status:n.status,has_poi:r}),(function(){f(!1),s()}))}))}))}),[s,b]);var O=function(e,t){return h.poa_status!==X().verified&&0!==Object.keys(t).length},N=function(){b(se(se({},h),{resubmit_poa:!0}))},P=d.states_list,j=d.value,k=j.address_line_1,T=j.address_line_2,C=j.address_city,I=j.address_state,F=j.address_postcode,W=h.form_error,U=h.has_poi,V=h.poa_status,H=h.resubmit_poa,K=h.submitted_poa,G=!p&&(H||V===X().none);return i.createElement(a.J9,{initialValues:{address_line_1:k,address_line_2:T,address_city:C,address_state:I,address_postcode:F,document_file:v.files},validateOnMount:!0,validate:function(e){if([X().verified,X().pending].includes(h.poa_status))return{};var t={address_line_1:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return(0,l.validAddress)(e)},function(e){return(0,l.validLength)(e,{max:70})}],address_line_2:[function(e){return!e||(0,l.validAddress)(e)},function(e){return(0,l.validLength)(e,{max:70})}],address_city:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return(0,l.validLength)(e,{min:1,max:35})},function(e){return(0,l.validLetterSymbol)(e)}],address_state:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return!e||(0,l.validLength)(e,{min:1,max:35})}],address_postcode:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return(0,l.validLength)(e,{min:1,max:20})},function(e){return(0,l.validPostCode)(e)}]},n={address_line_1:[(0,u.localize)("First line of address is required"),(0,u.localize)("First line of address is not in a proper format."),(0,u.localize)("This should not exceed {{max}} characters.",{max:70})],address_line_2:[(0,u.localize)("Second line of address is not in a proper format."),(0,u.localize)("This should not exceed {{max}} characters.",{max:70})],address_city:[(0,u.localize)("Town/City is required."),(0,u.localize)("This should not exceed {{max_number}} characters.",{max_number:35}),(0,u.localize)("Town/City is not in a proper format.")],address_state:[(0,u.localize)("State/Province is required."),(0,u.localize)("State/Province is not in a proper format.")],address_postcode:[(0,u.localize)("Postal/ZIP code is required"),(0,u.localize)("This should not exceed {{max_number}} characters.",{max_number:20}),(0,u.localize)("Only letters, numbers, space, and hyphen are allowed.")]},a={};return Object.entries(t).forEach((function(t){var r=le(t,2),o=r[0],i=r[1].findIndex((function(t){return!t(e[o])}));-1!==i&&(a[o]=n[o][i])})),a},enableReinitialize:!0,onSubmit:M,innerRef:m},(function(e){e.dirty;var n=e.errors,o=e.handleSubmit,s=e.isSubmitting,d=e.handleBlur,m=e.handleChange,_=e.setFieldTouched,f=e.setFieldValue,g=e.values,h=e.touched;return i.createElement(c.AutoHeightWrapper,{default_height:200},(function(e){var b=e.setRef,y=e.height;return i.createElement("form",{ref:b,onSubmit:o,className:"mt5-proof-of-address"},i.createElement(c.Div100vhContainer,{className:"details-form",height_offset:"100px",is_disabled:(0,l.isDesktop)()},p&&i.createElement(c.Loading,{is_fullscreen:!1}),G&&i.createElement(c.ThemedScrollbars,{autohide:!1,height:"".concat(y-77,"px"),is_bypassed:(0,l.isMobile)()},i.createElement("div",{className:"mt5-proof-of-address__field-area"},i.createElement(L(),{subtitle:(0,u.localize)("(All fields are required)"),title:(0,u.localize)("Address information")}),i.createElement(ne,{name:"address_line_1",maxLength:255,required:!0,label:(0,u.localize)("First line of address*"),placeholder:(0,u.localize)("First line of address*"),onBlur:d}),i.createElement(ne,{name:"address_line_2",maxLength:255,label:(0,u.localize)("Second line of address (optional)"),optional:!0,placeholder:(0,u.localize)("Second line of address"),onBlur:d}),i.createElement("div",{className:"mt5-proof-of-address__inline-fields"},i.createElement(ne,{maxLength:255,name:"address_city",required:!0,label:(0,u.localize)("Town/City*"),placeholder:(0,u.localize)("Town/City*"),onBlur:d}),i.createElement("fieldset",{className:"address-state__fieldset"},(null==P?void 0:P.length)>0?i.createElement(i.Fragment,null,i.createElement(c.DesktopWrapper,null,i.createElement(a.gN,{name:"address_state"},(function(e){var t=e.field;return i.createElement(c.Dropdown,{id:"address_state",required:!0,className:"address_state-dropdown",is_align_text_left:!0,list:P,error:h[t.name]&&n[t.name],name:"address_state",value:g.address_state,onChange:m,placeholder:(0,u.localize)("State/Province*"),list_portal_id:"modal_root"})}))),i.createElement(c.MobileWrapper,null,i.createElement(c.SelectNative,{label:(0,u.localize)("State/Province*"),value:g.address_state,list_items:P,error:h.address_state&&n.address_state,onChange:function(e){m(e),f("address_state",e.target.value,!0)},required:!0}))):i.createElement(ne,{name:"address_state",label:(0,u.localize)("State/Province*"),placeholder:(0,u.localize)("State/Province*"),value:g.address_state,required:!0,onBlur:d})),i.createElement(ne,{maxLength:255,name:"address_postcode",label:(0,u.localize)("Postal/ZIP code*"),placeholder:(0,u.localize)("Postal/ZIP code*"),onBlur:d,required:!0})),i.createElement("div",{className:"mt5-proof-of-address__file-upload"},i.createElement(D(),{onRef:function(e){return me=e},getSocket:A.WS.getSocket,onFileDrop:function(e){return function(e,n,a,o,i){a("document_file",!0),o("document_file",e),w({files:e,error_message:n},(function(){"function"==typeof t&&t(r,se(se({},i),{document_file:e}))}))}(e.files,e.error_message,_,f,g)}})))),V!==X().none&&!H&&i.createElement(c.ThemedScrollbars,{height:y,is_bypassed:(0,l.isMobile)()},K&&i.createElement(Y(),{is_description_enabled:!1,has_poi:U}),V===X().pending&&i.createElement(B(),{is_description_enabled:!1}),V===X().verified&&i.createElement(q(),{is_description_enabled:!1,has_poi:U}),V===X().expired&&i.createElement(R(),{onClick:N}),(V===X().rejected||V===X().suspected)&&i.createElement($(),null)),i.createElement(c.Modal.Footer,{is_bypassed:(0,l.isMobile)()},(V===X().verified||G)&&i.createElement(c.FormSubmitButton,{has_cancel:!0,cancel_label:(0,u.localize)("Previous"),is_disabled:O(0,n)||!(V===X().verified)&&v.files&&v.files.length<1||!!v.error_message,label:V===X().verified?(0,u.localize)("Submit"):(0,u.localize)("Next"),is_absolute:(0,l.isMobile)(),is_loading:s,form_error:W,onCancel:function(){return x(g)}}))))}))}))};_e.propTypes={onCancel:o().func,onSave:o().func,onSubmit:o().func,storeProofOfAddress:o().func,value:o().object};const pe=_e;var fe=n("@deriv/account/dist/js/proof-of-identity-container"),ge=n.n(fe);function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ye=function(e){var t=e.authentication_status,n=e.form_error,r=e.index,o=e.onCancel,s=e.onSubmit,d=e.value,m=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["authentication_status","form_error","index","onCancel","onSubmit","value"]),_=t.identity_status,p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.useState("none"),2),f=p[0],g=p[1],h=i.useCallback((function(){var e={};return["pending","verified"].includes(f)||["pending","verified"].includes(_)||(e.poi_state=!0),e}),[f,_]);return i.createElement(a.J9,{initialValues:{poi_state:d.poi_state},validate:h,onSubmit:function(e,t){return s(r,{poi_state:f},t.setSubmitting)}},(function(e){var t=e.handleSubmit;return i.createElement(c.AutoHeightWrapper,{default_height:200},(function(e){var a=e.setRef,r=e.height;return i.createElement("form",{ref:a,className:"mt5-proof-of-identity",onSubmit:t},i.createElement("div",{className:"details-form"},i.createElement("input",{type:"hidden",name:"poi_state",value:f,readOnly:!0}),i.createElement(c.Div100vhContainer,{className:"mt5-proof-of-identity__fields",height_offset:"180px",is_disabled:(0,l.isDesktop)()},i.createElement(ge(),he({},m,{serviceToken:A.WS.serviceToken,notificationEvent:A.WS.notificationEvent,getAccountStatus:A.WS.authorized.getAccountStatus,height:r,onStateChange:function(e){var t=e.status,n=["pending","verified"].includes(_)?_:t;g(n)},is_trading_button_enabled:!1,is_description_enabled:!1}))),i.createElement(c.Modal.Footer,{is_bypassed:(0,l.isMobile)()},i.createElement(c.FormSubmitButton,{has_cancel:!0,cancel_label:(0,u.localize)("Previous"),is_disabled:!["pending","verified"].includes(f),is_absolute:(0,l.isMobile)(),label:(0,u.localize)("Next"),onCancel:o,form_error:n}))))}))}))};ye.propTypes={authentication_status:o().object,form_error:o().string,index:o().number,onCancel:o().func,onSave:o().func,onSubmit:o().func,refreshNotifications:o().func,addNotificationByKey:o().func,removeNotificationMessage:o().func,value:o().object};const ve=ye;function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Se(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){Se(o,a,r,i,s,"next",e)}function s(e){Se(o,a,r,i,s,"throw",e)}i(void 0)}))}}function Me(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(r,e);var t,n,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Pe(e);if(t){var r=Pe(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ne(this,n)}}(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=a.call(this,e)).clearError=function(){t.setState({form_error:""})},t.nextStep=function(){t.clearError(),t.has_more_steps?t.goNext():t.finishWizard()},t.finishWizard=function(){t.props.openPendingDialog(),t.props.toggleModal()},t.prevStep=function(){t.setState({step:t.state.step-1,form_error:""})},t.updateValue=function(){var e=xe(regeneratorRuntime.mark((function e(n,a,r){var o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.length>3&&void 0!==i[3]&&!i[3]||0!==n){e.next=10;break}return e.next=4,A.WS.setSettings(a);case 4:if(!(o=e.sent).error){e.next=9;break}return t.setState({form_error:o.error.message}),r(!1),e.abrupt("return");case 9:t.initiatePersonalDetails(r);case 10:t.saveFormData(n,a),t.nextStep(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),t.initiatePersonalDetails=function(){var e=xe(regeneratorRuntime.mark((function e(n){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.WS.authorized.storage.getSettings();case 2:if(!(a=e.sent).error){e.next=7;break}return t.setState({form_error:a.error.message}),"function"==typeof n&&n(!1),e.abrupt("return");case 7:r=Object.assign([],t.state.items),a.get_settings.citizen&&(r[0].form_value.citizen=t.transform(a.get_settings.citizen)),a.get_settings.tax_residence&&(r[0].form_value.tax_residence=t.transform(a.get_settings.tax_residence)),a.get_settings.tax_identification_number&&(r[0].form_value.tax_identification_number=a.get_settings.tax_identification_number),a.get_settings.account_opening_reason&&(r[0].form_value.account_opening_reason=a.get_settings.account_opening_reason),t.setState({items:r},t.props.refreshNotifications);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.transform=function(e){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ze(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.props.residence_list.filter((function(t){return t.value===e})),1)[0];return(0,l.getPropertyValue)(n,["text"])||e},t.goNext=function(){t.setState({step:t.state.step+1})},t.getCurrent=function(e){return e?t.state.items[t.state_index][e]:t.state.items[t.state_index]},t.saveFormData=function(e,n){var a=Object.assign([],t.state.items);a[e].form_value=n,0===t.state_index&&(a[0].form_value.citizen=t.transform(n.citizen),a[0].form_value.tax_residence=t.transform(n.tax_residence)),t.setState({items:a})},t.state={finished:void 0,step:0,form_error:"",is_loading:!1,items:[{header:{active_title:(0,u.localize)("Complete your personal details"),title:(0,u.localize)("Personal details")},body:re,form_value:{citizen:"",tax_residence:"",tax_identification_number:"",account_opening_reason:""},props:["residence_list","is_fully_authenticated","landing_company"]},{header:{active_title:(0,u.localize)("Complete your proof of identity"),title:(0,u.localize)("Proof of identity")},body:ve,form_value:{poi_state:"unknown"},props:["addNotificationByKey","authentication_status","refreshNotifications","removeNotificationMessage","removeNotificationByKey"]},{header:{active_title:(0,u.localize)("Complete your proof of address"),title:(0,u.localize)("Proof of address")},body:pe,form_value:{address_line_1:e.get_settings.address_line_1,address_line_2:e.get_settings.address_line_2,address_city:e.get_settings.address_city,address_state:e.get_settings.address_state,address_postcode:e.get_settings.address_postcode,upload_file:""},props:["states_list","get_settings","storeProofOfAddress","refreshNotifications"]}]},t}return t=r,(n=[{key:"componentDidMount",value:function(){var e=this;0===this.state_index&&(this.setState({is_loading:!0}),this.initiatePersonalDetails().then((function(){e.setState({is_loading:!1})})))}},{key:"render",value:function(){var e=this,t=this.getCurrent("body"),n=this.getCurrent("form_value"),a=(this.getCurrent("props")||[]).reduce((function(t,n){return Object.assign(t,(a={},r=n,o=e.props[n],r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o,a));var a,r,o}),{}),r=this.getCurrent("height")||"auto";return i.createElement(c.Div100vhContainer,{className:"mt5-financial-stp-modal",id:"real_mt5_financial_stp_account_opening",is_disabled:(0,l.isDesktop)(),height_offset:"40px"},i.createElement("div",{className:"mt5-financial-stp-modal__heading"},this.getCurrent()&&i.createElement(i.Fragment,null,i.createElement(c.DesktopWrapper,null,i.createElement(c.FormProgress,{steps:this.state.items,current_step:this.state.step})),i.createElement(c.MobileWrapper,null,i.createElement("div",{className:"mt5-financial-stp-modal__header-steps"},i.createElement("h4",{className:"mt5-financial-stp-modal__header-steps-title"},i.createElement(u.Localize,{i18n_default_text:"Step {{step}}: {{step_title}} ({{step}} of {{steps}})",values:{step:this.state.step+1,steps:this.state.items.length,step_title:this.state.items[this.state.step].header.title}})),this.state.items[this.state.step].header.active_title&&i.createElement("h4",{className:"mt5-financial-stp-modal__header-steps-subtitle"},this.state.items[this.state.step].header.active_title))))),i.createElement("div",{className:"mt5-financial-stp-modal__body"},i.createElement(t,Ee({value:n,index:this.state_index,onSubmit:this.updateValue,height:r,is_loading:this.state.is_loading,onCancel:this.prevStep,onSave:this.saveFormData,form_error:this.state.form_error},a))))}},{key:"state_index",get:function(){return this.state.step}},{key:"has_more_steps",get:function(){return this.state.step+1<this.state.items.length}}])&&Me(t.prototype,n),r}(i.Component);je.propTypes={openPendingDialog:o().func,toggleModal:o().func};const ke=(0,f.$j)((function(e){var t=e.client,n=e.modules.mt5,a=e.ui;return{addNotificationByKey:a.addNotificationMessageByKey,authentication_status:t.authentication_status,get_settings:t.account_settings,is_fully_authenticated:t.is_fully_authenticated,landing_company:t.landing_company,openPendingDialog:n.openPendingDialog,refreshNotifications:t.refreshNotifications,removeNotificationMessage:a.removeNotificationMessage,removeNotificationByKey:a.removeNotificationByKey,residence_list:t.residence_list,states_list:t.states_list,storeProofOfAddress:n.storeProofOfAddress}}))(je),Te=(0,f.$j)((function(e){var t=e.ui,n=e.modules;return{disableApp:t.disableApp,disableMt5FinancialStpModal:n.mt5.disableMt5FinancialStpModal,enableApp:t.enableApp,is_mt5_financial_stp_modal_open:n.mt5.is_mt5_financial_stp_modal_open}}))((function(e){var t=e.disableApp,n=e.disableMt5FinancialStpModal,a=e.enableApp,r=e.is_mt5_financial_stp_modal_open;return i.createElement(i.Fragment,null,i.createElement(c.DesktopWrapper,null,i.createElement(c.Modal,{id:"mt5_financial_stp_signup_modal",className:"mt5-financial-stp-signup-modal",disableApp:t,width:"904px",title:(0,u.localize)("Create a DMT5 real Financial STP account"),enableApp:a,is_open:r,has_close_icon:!0,height:"740px",toggleModal:n},i.createElement(ke,{toggleModal:n}))),i.createElement(c.MobileWrapper,null,i.createElement(c.MobileDialog,{portal_element_id:"modal_root",title:(0,u.localize)("Create a DMT5 real Financial STP account"),wrapper_classname:"mt5-financial-stp-signup-modal",visible:r,onClose:n},i.createElement(ke,{toggleModal:n}))))}));function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Fe=function(e){var t=e.is_visible,n=e.toggleModal,a=e.message;return i.createElement(c.Modal,{is_open:t,small:!0,toggleModal:n},i.createElement(c.Modal.Body,null,a),i.createElement(c.Modal.Footer,null,i.createElement(c.Button,{has_effect:!0,text:(0,u.localize)("OK"),onClick:n,primary:!0})))},Re=function(e){var t=e.name,n=e.tooltip,a=e.counter,r=Ie(i.useState(!1),2),o=r[0],s=r[1],l=function(){return s(!o)};return n?i.createElement(i.Fragment,null,i.createElement(c.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"mt5-attribute-describer",onClick:l},t,i.createElement(c.MobileWrapper,null,i.createElement(c.Text,{weight:"bold",line_height:"x",size:"xxxs",className:"counter"},a))),i.createElement(c.DesktopWrapper,null,i.createElement(c.Popover,{alignment:"right",icon:"counter",counter:a,message:n,zIndex:9998})),i.createElement(c.MobileWrapper,null,i.createElement(Fe,{toggleModal:l,is_visible:o,message:n}))):i.createElement(c.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"mt5-attribute-describer"},t)},We=function(){return i.createElement("div",{className:"mt5-compare-account--hint"},i.createElement("div",{className:"mt5-compare-accounts__bullet-wrapper"},i.createElement("span",{className:"mt5-compare-accounts__bullet mt5-compare-accounts__bullet--circle"}),i.createElement(u.Localize,{i18n_default_text:"At bank rollover, liquidity in the forex markets is reduced and may increase the spread and processing time for client orders. This happens around 21:00 GMT during daylight saving time, and 22:00 GMT non-daylight saving time."})),i.createElement("div",{className:"mt5-compare-accounts__bullet-wrapper"},i.createElement(c.Text,{size:"xs",line_height:"x",weight:"bold",className:"mt5-compare-accounts__bullet mt5-compare-accounts__bullet--star mt5-compare-accounts__star"},"*"),i.createElement(u.Localize,{i18n_default_text:"To protect your portfolio from adverse market movements due to the market opening gap, we reserve the right to decrease leverage on all offered symbols for financial accounts before market close and increase it again after market open. Please make sure that you have enough funds available in your MT5 account to support your positions at all times."})))},Be=function(e){var t,n,a,r=e.is_eu,o=e.landing_companies,s=e.is_eu_country,d=e.is_logged_in,m=Ie(i.useState([]),2),_=m[0],p=m[1],f=Ie(i.useState("1.5fr 1fr 2fr 1fr"),2),g=f[0],h=f[1];return i.useEffect((function(){var e,t,n;p(function(e){var t=e.landing_companies,n=e.is_eu,a=e.is_eu_country,r=e.is_logged_in,o=r&&n||!r&&a;return function(e,t,n){return t.map((function(t){var a,r,o,i=t.attribute,s=t.synthetic,c=t.financial_stp,l=t.financial;return n?Ce(Ce(Ce({attribute:i},null!=e&&null!==(a=e.mt_gaming_company)&&void 0!==a&&a.financial?{synthetic:s}:{}),null!=e&&null!==(r=e.mt_financial_company)&&void 0!==r&&r.financial?{financial:l}:{}),null!=e&&null!==(o=e.mt_financial_company)&&void 0!==o&&o.financial_stp?{financial_stp:c}:{}):Ce(Ce(Ce({attribute:i},{synthetic:s}),{financial:l}),{financial_stp:c})}))}(t,[{attribute:i.createElement(Re,{name:(0,u.localize)("Account currency")}),synthetic:o?(0,u.localize)("EUR"):(0,u.localize)("USD"),financial:o?(0,u.localize)("EUR/GBP"):(0,u.localize)("USD"),financial_stp:(0,u.localize)("USD")},{attribute:i.createElement(Re,{name:(0,u.localize)("Maximum leverage")}),synthetic:(0,u.localize)("Up to 1:1000"),financial:o?(0,u.localize)("Up to 1:30"):(0,u.localize)("Up to 1:1000"),financial_stp:(0,u.localize)("Up to 1:100")},{attribute:i.createElement(Re,{name:(0,u.localize)("Order execution")}),synthetic:(0,u.localize)("Market"),financial:(0,u.localize)("Market"),financial_stp:(0,u.localize)("Market")},{attribute:i.createElement(Re,{name:(0,u.localize)("Spread")}),synthetic:(0,u.localize)("Fixed/Variable"),financial:(0,u.localize)("Variable"),financial_stp:(0,u.localize)("Variable")},{attribute:i.createElement(Re,{name:(0,u.localize)("Commission")}),synthetic:(0,u.localize)("No"),financial:(0,u.localize)("No"),financial_stp:(0,u.localize)("No")},{attribute:i.createElement(Re,{name:(0,u.localize)("Minimum deposit")}),synthetic:(0,u.localize)("No"),financial:(0,u.localize)("No"),financial_stp:(0,u.localize)("No")},{attribute:i.createElement(Re,{name:(0,u.localize)("Margin call")}),synthetic:(0,u.localize)("100%"),financial:o?(0,u.localize)("100%"):(0,u.localize)("150%"),financial_stp:(0,u.localize)("150%")},{attribute:i.createElement(Re,{name:(0,u.localize)("Stop out level")}),synthetic:(0,u.localize)("50%"),financial:o?(0,u.localize)("50%"):(0,u.localize)("75%"),financial_stp:(0,u.localize)("75%")},{attribute:i.createElement(Re,{name:(0,u.localize)("Number of assets")}),synthetic:(0,u.localize)("10+"),financial:(0,u.localize)("50+"),financial_stp:(0,u.localize)("50+")},{attribute:i.createElement(Re,{name:(0,u.localize)("Cryptocurrency trading")}),synthetic:(0,u.localize)("N/A"),financial:(0,u.localize)("24/7"),financial_stp:(0,u.localize)("24/7")},{attribute:i.createElement(Re,{name:(0,u.localize)("Trading instruments")}),synthetic:(0,u.localize)("Synthetics"),financial:o?(0,u.localize)("FX-majors (standard), FX-minors, Commodities, Cryptocurrencies"):(0,u.localize)("FX-majors (standard/micro lots), FX-minors, Commodities, Cryptocurrencies"),financial_stp:(0,u.localize)("FX-majors, FX-minors, FX-exotics, Cryptocurrencies")}],r)}({landing_companies:o,is_eu:r,is_eu_country:s,is_logged_in:d})),d&&h("1.5fr ".concat(null!=o&&null!==(e=o.mt_gaming_company)&&void 0!==e&&e.financial?"1fr":""," ").concat(null!=o&&null!==(t=o.mt_financial_company)&&void 0!==t&&t.financial?"2fr":""," ").concat(null!=o&&null!==(n=o.mt_financial_company)&&void 0!==n&&n.financial_stp?" 1fr ":""))}),[o.mt_financial_company,o.mt_gaming_company,r,d,s,o]),i.createElement("div",{className:"mt5-compare-accounts",style:{"--mt5-compare-accounts-template-columns":g}},i.createElement(c.Table,{fixed:!0,scroll_height:(0,l.isMobile)()?"100%":"calc(100% - 130px)"},i.createElement(c.Table.Header,null,i.createElement(c.Table.Row,{className:"mt5-compare-accounts__table-row"},i.createElement(c.Table.Head,{fixed:!0}),d?i.createElement(i.Fragment,null,(null==o||null===(t=o.mt_gaming_company)||void 0===t?void 0:t.financial)&&i.createElement(c.Table.Head,null,(0,u.localize)("Synthetic")),(null==o||null===(n=o.mt_financial_company)||void 0===n?void 0:n.financial)&&i.createElement(c.Table.Head,null,(0,u.localize)("Financial"),i.createElement(c.Text,{size:"s",weight:"bold",className:"mt5-compare-accounts__star"},"*")),(null==o||null===(a=o.mt_financial_company)||void 0===a?void 0:a.financial_stp)&&i.createElement(c.Table.Head,null,(0,u.localize)("Financial STP"),i.createElement(c.Text,{size:"s",weight:"bold",className:"mt5-compare-accounts__star"},"*"))):i.createElement(i.Fragment,null,i.createElement(c.Table.Head,null,(0,u.localize)("Synthetic")),i.createElement(c.Table.Head,null,(0,u.localize)("Financial"),i.createElement(c.Text,{size:"s",weight:"bold",className:"mt5-compare-accounts__star"},"*")),i.createElement(c.Table.Head,null,(0,u.localize)("Financial STP"),i.createElement(c.Text,{size:"s",weight:"bold",className:"mt5-compare-accounts__star"},"*"))))),i.createElement(c.Table.Body,null,_.map((function(e,t){return i.createElement(c.Table.Row,{key:t,className:"mt5-compare-accounts__table-row"},Object.keys(e).map((function(t,n){return i.createElement(c.Table.Cell,{key:n,fixed:0===n},e[t])})))})))),i.createElement(c.DesktopWrapper,null,i.createElement(We,null)))};const Ue=(0,f.$j)((function(e){var t=e.modules,n=e.ui,a=e.client;return{disableApp:n.disableApp,enableApp:n.enableApp,is_compare_accounts_visible:t.mt5.is_compare_accounts_visible,is_loading:a.is_populating_mt5_account_list,is_eu:a.is_eu,is_eu_country:a.is_eu_country,is_logged_in:a.is_logged_in,landing_companies:a.landing_companies,toggleCompareAccounts:t.mt5.toggleCompareAccountsModal}}))((function(e){var t=e.disableApp,n=e.enableApp,a=e.is_compare_accounts_visible,r=e.landing_companies,o=e.is_loading,s=e.is_logged_in,l=e.is_eu,d=e.is_eu_country,m=e.toggleCompareAccounts;return i.createElement("div",{className:"mt5-compare-accounts-modal__wrapper"},i.createElement(c.Button,{className:"mt5-dashboard__welcome-message--button",has_effect:!0,text:(0,u.localize)("Compare accounts"),onClick:m,secondary:!0,disabled:o}),i.createElement(i.Suspense,{fallback:i.createElement(c.UILoader,null)},i.createElement(c.DesktopWrapper,null,i.createElement(c.Modal,{className:"mt5-dashboard__compare-accounts",disableApp:t,enableApp:n,is_open:a,title:(0,u.localize)("Compare accounts"),toggleModal:m,type:"button",height:"696px",width:"903px"},i.createElement(Be,{is_logged_in:s,is_eu:l,is_eu_country:d,landing_companies:r}))),i.createElement(c.MobileWrapper,null,i.createElement(c.MobileDialog,{portal_element_id:"deriv_app",title:(0,u.localize)("Compare accounts"),wrapper_classname:"mt5-dashboard__compare-accounts",visible:a,onClose:m,footer:i.createElement(We,null)},i.createElement(Be,{is_logged_in:s,is_eu:l,is_eu_country:d,landing_companies:r})))))}));var qe=function(e){return e?"Deriv-Demo":"Deriv-Server"},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;switch(e||(0,l.OSDetect)()){case"windows":return"https://download.mql5.com/cdn/web/deriv.limited/mt5/deriv5setup.exe";case"linux":return"https://www.metatrader5.com/en/terminal/help/start_advanced/install_linux";case"macos":return"https://download.mql5.com/cdn/web/metaquotes.software.corp/mt5/MetaTrader5.dmg";case"ios":return"https://download.mql5.com/cdn/mobile/mt5/ios?server=Deriv-Demo,Deriv-Server";case"android":return"https://download.mql5.com/cdn/mobile/mt5/android?server=Deriv-Demo,Deriv-Server";default:return $e({category:"real"})}},$e=function(e){var t=e.category,n=e.loginid,a="demo"===t?"Deriv-Demo":"Deriv-Server",r=null!=n?n:"";return"https://trade.mql5.com/trade?servers=".concat(a,"&trade_server=").concat(a).concat(r&&"&login=".concat(r))};const He=function(){return i.createElement("div",{className:"mt5-dashboard__download-center"},i.createElement("h1",{className:"mt5-dashboard__download-center--heading"},i.createElement(u.Localize,{i18n_default_text:"Run MT5 from your browser or download the MT5 app for your devices"})),i.createElement("div",{className:"mt5-dashboard__download-center-options"},i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop"},i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop-links"},i.createElement("div",null,i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop-row"},i.createElement(c.Icon,{icon:"IcMt5DeviceDesktop",width:118,height:85}),i.createElement(c.Icon,{icon:"IcMt5DeviceLaptop",width:75,height:51})),i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop-row"},i.createElement("a",{href:$e({category:"demo"}),target:"_blank",rel:"noopener noreferrer"},i.createElement(c.Icon,{icon:"IcInstallationWebDemo",width:138,height:40})),i.createElement("a",{href:$e({category:"real"}),target:"_blank",rel:"noopener noreferrer"},i.createElement(c.Icon,{icon:"IcInstallationWebReal",width:138,height:40})))),i.createElement("div",{className:"mt5-dashboard__download-center-options--desktop-download"},i.createElement("a",{href:Ve("windows"),target:"_blank",rel:"noopener noreferrer"},i.createElement(c.Icon,{icon:"IcInstallationWindows",width:138,height:40})),i.createElement("a",{href:Ve("macos"),target:"_blank",rel:"noopener noreferrer"},i.createElement(c.Icon,{icon:"IcInstallationMacos",width:138,height:40})),i.createElement("a",{href:Ve("linux"),target:"_blank",rel:"noopener noreferrer"},i.createElement(c.Icon,{icon:"IcInstallationLinux",width:138,height:40})))),i.createElement(c.Text,{as:"p",size:"xxxs",className:"mt5-dashboard__download-center--hint"},i.createElement(u.Localize,{i18n_default_text:"The MT5 desktop app is not supported by Windows XP, Windows 2003, and Windows Vista."}))),i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile"},i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile-devices"},i.createElement(c.Icon,{icon:"IcMt5DeviceTablet",width:133,height:106}),i.createElement(c.Icon,{icon:"IcMt5DevicePhone",width:48,height:74})),i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile-links"},i.createElement("a",{className:"mt5-dashboard__download-center-options--mobile-link",href:Ve("android"),target:"_blank",rel:"noopener noreferrer"},i.createElement(c.Icon,{icon:"IcInstallationGoogle",width:135,height:40})),i.createElement("a",{className:"mt5-dashboard__download-center-options--mobile-link",href:Ve("ios"),target:"_blank",rel:"noopener noreferrer"},i.createElement(c.Icon,{icon:"IcInstallationApple",width:120,height:40}))))))};var Ye=n("./Stores/Modules/MT5/mt5-store.js");function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var tt=function(e){var t=e.count_from,n=void 0===t?60:t,a=e.onTimeout,r=Qe(i.useState(n),2),o=r[0],s=r[1];return i.useEffect((function(){if(0!==o){var e=setTimeout((function(){s(o-1)}),1e3);return function(){return clearTimeout(e)}}return a(),function(){}}),[o]),i.createElement("span",{className:"countdown"},o)},nt=function(e){var t=e.sendVerifyEmail,n=e.account_type,a=e.account_group,r=e.server,o=e.password_type,s=Qe(i.useState(!1),2),l=s[0],d=s[1],m=Qe(i.useState(!1),2),_=m[0],p=m[1];return i.useEffect((function(){localStorage.setItem("mt5_reset_password_intent",[r,a,n].join(".")),localStorage.setItem("mt5_reset_password_type",o),t()}),[]),i.createElement("div",{className:"mt5-verification-email-sent"},i.createElement(c.Icon,{icon:"IcEmailSent",size:128}),i.createElement("h2",{className:"mt5-verification-email-sent__title"},i.createElement(u.Localize,{i18n_default_text:"We've sent you an email"})),i.createElement(c.Text,{as:"p",size:"xs",align:"center"},i.createElement(u.Localize,{i18n_default_text:"Please click on the link in the email to reset your password."})),!l&&i.createElement(c.Button,{className:"mt5-verification-email-sent__resend-button",primary:!0,onClick:function(){d(!0)}},i.createElement(u.Localize,{i18n_default_text:"Didn't receive the email?"})),l&&i.createElement(i.Fragment,null,i.createElement(c.Text,{as:"p",size:"xs",align:"center",weight:"bold",className:"mt5-verification-email-sent__title--sub"},i.createElement(u.Localize,{i18n_default_text:"Didn't receive the email?"})),i.createElement(c.Text,{as:"p",size:"xs",align:"center"},i.createElement(u.Localize,{i18n_default_text:"Check your spam or junk folder. If it's not there, try resending the email."})),i.createElement(c.Button,{className:"mt5-verification-email-sent__resend-button",large:!0,primary:!0,disabled:_,onClick:function(){t(),p(!0)}},!_&&i.createElement(u.Localize,{i18n_default_text:"Resend email"}),_&&i.createElement(i.Fragment,null,i.createElement(u.Localize,{i18n_default_text:"Resend in <0 /> seconds",components:[i.createElement(tt,{key:0,onTimeout:function(){return p(!1)},count_from:60})]})))))},at=function(e){var t=e.toggleModal,n=e.is_investor;return i.createElement("div",{className:"mt5-password-manager__success"},i.createElement(c.Icon,{icon:"IcPasswordUpdated",size:128}),i.createElement("h1",{className:"mt5-password-manager__success-header"},i.createElement(u.Localize,{i18n_default_text:"Password changed"})),i.createElement(c.Text,{as:"p",size:"xxs",align:"center"},n?i.createElement(u.Localize,{i18n_default_text:"Your investor password has been changed."}):i.createElement(u.Localize,{i18n_default_text:"Your password has been changed."})),i.createElement(c.Button,{onClick:t,className:"mt5-password-manager__success-btn",primary:!0,large:!0},i.createElement("p",{className:"dc-btn__text"},(0,u.localize)("OK"))))},rt=function(e){var t=e.multi_step_ref,n=e.steps;return i.createElement(c.MultiStep,{ref:t,steps:n,className:"mt5-password-manager",lbl_previous:(0,u.localize)("Back")})},ot=function(e){var t=e.is_submit_success_main,n=e.toggleModal,r=e.onSubmit,o=e.validatePassword,s=e.error_message_main,d=e.setPasswordType,m=e.multi_step_ref;return t?i.createElement(at,{toggleModal:n}):i.createElement(a.J9,{initialValues:{old_password:"",new_password:"",password_type:"main"},validate:o,onSubmit:r},(function(e){var t=e.isSubmitting,n=e.errors,r=e.setFieldTouched,o=e.values,_=e.touched;return i.createElement(a.l0,{className:"mt5-password-manager__main-form",noValidate:!0},s&&i.createElement("p",{className:"mt5-password-manager--error-message"},s),i.createElement(a.gN,{name:"old_password"},(function(e){var t=e.field;return i.createElement(c.PasswordInput,Ze({},t,{autoComplete:"current-password",label:(0,u.localize)("Current password"),error:_.old_password&&n.old_password,required:!0}))})),i.createElement(a.gN,{name:"new_password"},(function(e){var t=e.field;return i.createElement(c.PasswordMeter,{input:t.value,has_error:!(!_.new_password||!n.new_password),custom_feedback_messages:(0,l.getErrorMessages)().password_warnings},(function(e){var a=e.has_warning;return i.createElement(c.PasswordInput,Ze({},t,{autoComplete:"new-password",label:(0,u.localize)("New password"),hint:!a&&(0,u.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters and numbers."),error:_.new_password&&n.new_password,onChange:function(e){r("new_password",!0,!0),t.onChange(e)},className:"mt5-password-manager__new-password",required:!0}))}))})),i.createElement("div",{className:"mt5-password-manager__actions"},i.createElement(c.Button,{className:"mt5-password-manager--button",is_disabled:t||!o.old_password||!o.new_password||Object.keys(n).length>0,is_loading:t,text:(0,u.localize)("Change password"),primary:!0,large:!0}),i.createElement(c.Button,{className:"mt5-password-manager--button",type:"button",onClick:function(){var e;d("main"),null===(e=m.current)||void 0===e||e.goNextStep()},text:(0,u.localize)("Reset main password"),tertiary:!0,large:!0})))}))},it=function(e){var t=e.error_message_investor,n=e.is_submit_success_investor,r=e.multi_step_ref,o=e.onSubmit,s=e.setPasswordType,d=e.toggleModal,m=e.validatePassword;return n?i.createElement(at,{toggleModal:d,is_investor:!0}):i.createElement("div",{className:"mt5-password-manager__investor-wrapper"},i.createElement(c.Text,{as:"p",size:"xs",className:"mt5-password-manager--paragraph"},i.createElement(u.Localize,{i18n_default_text:"Use this password to grant viewing access to another user. While they may view your trading account, they will not be able to trade or take any other actions."})),i.createElement(c.Text,{as:"p",size:"xs",className:"mt5-password-manager--paragraph"},i.createElement(u.Localize,{i18n_default_text:"If this is the first time you try to create a password, or you have forgotten your password, please reset it."})),t&&i.createElement(c.Text,{as:"p",color:"loss-danger",size:"xs",className:"mt5-password-manager--error-message"},t),i.createElement(a.J9,{initialValues:{old_password:"",new_password:"",password_type:"investor"},validate:m,onSubmit:o},(function(e){var t=e.isSubmitting,n=e.errors,o=e.setFieldTouched,d=e.values,m=e.touched;return i.createElement(a.l0,{className:"mt5-password-manager__investor-form",noValidate:!0},i.createElement(a.gN,{name:"old_password"},(function(e){var t=e.field;return i.createElement(c.PasswordInput,Ze({},t,{autoComplete:"current-password",label:(0,u.localize)("Current investor password"),error:m.old_password&&n.old_password,required:!0}))})),i.createElement(a.gN,{name:"new_password"},(function(e){var t=e.field;return i.createElement(c.PasswordMeter,{input:t.value,has_error:!(!m.new_password||!n.new_password),custom_feedback_messages:(0,l.getErrorMessages)().password_warnings},(function(e){var a=e.has_warning;return i.createElement(c.PasswordInput,Ze({},t,{autoComplete:"new-password",label:(0,u.localize)("New investor password"),hint:!a&&(0,u.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters and numbers."),error:m.new_password&&n.new_password,onChange:function(e){o("new_password",!0,!0),t.onChange(e)},className:"mt5-password-manager__new-password",required:!0}))}))})),i.createElement("div",{className:"mt5-password-manager__actions"},i.createElement(c.Button,{className:"mt5-password-manager--button",is_disabled:t||!d.old_password||!d.new_password||Object.keys(n).length>0,is_loading:t,text:(0,u.localize)("Change investor password"),primary:!0,large:!0}),i.createElement(c.Button,{className:"mt5-password-manager--button",type:"button",onClick:function(){var e;s("investor"),null===(e=r.current)||void 0===e||e.goNextStep()},text:(0,u.localize)("Create or reset investor password"),tertiary:!0,large:!0})))})))},st=function(e){var t=e.toggleModal,n=e.selected_login,a=e.email,r=e.setPasswordType,o=e.multi_step_ref,s=Qe(i.useState(0),2),d=s[0],m=s[1],_=Qe(i.useState(""),2),p=_[0],f=_[1],g=Qe(i.useState(!1),2),h=g[0],b=g[1],y=Qe(i.useState(""),2),v=y[0],w=y[1],E=Qe(i.useState(!1),2),z=E[0],S=E[1],x="calc(100vh - 84px - 5.6rem - 8.8rem - 4rem)",M=function(e){var t={};return(0,l.validLength)(e.new_password,{min:8,max:25})?(0,l.validPassword)(e.new_password)?e.new_password.toLowerCase()===a.toLowerCase()&&(t.new_password=(0,u.localize)("Your password cannot be the same as your email address.")):t.new_password=(0,l.getErrorMessages)().password():t.new_password=(0,u.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),e.old_password||void 0===e.old_password||(t.old_password=(0,u.localize)("This field is required")),t},O=function(e){"main"===e?(f(""),b(!0)):(w(""),S(!0))},N=i.useCallback(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ye.default.changePassword(Xe({login:n},t));case 4:(a=e.sent)?(r=t.password_type,o=a,"main"===r?f(o):w(o)):O(t.password_type);case 6:case"end":return e.stop()}var r,o}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){Je(o,a,r,i,s,"next",e)}function s(e){Je(o,a,r,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[n]);return i.createElement(i.Fragment,null,i.createElement(c.Tabs,{active_index:d,onTabItemClick:function(e){m(e),f(""),b(!1),w(""),S(!1)},top:!0},i.createElement("div",{label:(0,u.localize)("Main password")},i.createElement(c.DesktopWrapper,null,i.createElement(c.ThemedScrollbars,{height:x,is_bypassed:(0,l.isMobile)(),autohide:!1},i.createElement(ot,{is_submit_success_main:h,toggleModal:t,onSubmit:N,validatePassword:M,error_message_main:p,setPasswordType:r,multi_step_ref:o}))),i.createElement(c.MobileWrapper,null,i.createElement(c.Div100vhContainer,{className:"mt5-password-manager__scroll-wrapper",height_offset:"120px"},i.createElement(ot,{is_submit_success_main:h,toggleModal:t,onSubmit:N,validatePassword:M,error_message_main:p,setPasswordType:r,multi_step_ref:o})))),i.createElement("div",{label:(0,u.localize)("Investor password")},i.createElement(c.DesktopWrapper,null,i.createElement(c.ThemedScrollbars,{height:x},i.createElement(it,{is_submit_success_investor:z,toggleModal:t,error_message_investor:v,validatePassword:M,onSubmit:N,setPasswordType:r,multi_step_ref:o}))),i.createElement(c.MobileWrapper,null,i.createElement(c.Div100vhContainer,{className:"mt5-password-manager__scroll-wrapper",height_offset:"120px"},i.createElement(it,{is_submit_success_investor:z,toggleModal:t,error_message_investor:v,validatePassword:M,onSubmit:N,setPasswordType:r,multi_step_ref:o}))))))},ct=function(e){var t=e.enableApp,n=e.email,a=e.disableApp,r=e.is_visible,o=e.selected_login,s=e.selected_account,l=e.toggleModal,d=e.selected_account_type,m=e.selected_account_group,_=e.selected_server,p=e.sendVerifyEmail,f=i.useRef(),g=Qe(i.useState("main"),2),h=g[0],b=g[1];if(!o)return null;var y=[{component:i.createElement(st,{email:n,selected_login:o,toggleModal:l,password_type:h,setPasswordType:b,multi_step_ref:f})},{component:i.createElement(nt,{server:_,sendVerifyEmail:p,account_type:d,account_group:m,password_type:h})}];return i.createElement(i.Suspense,{fallback:i.createElement(c.UILoader,null)},i.createElement(c.DesktopWrapper,null,i.createElement(c.Modal,{className:"mt5-password-manager__modal",disableApp:a,enableApp:t,is_open:r,title:"real"===m?(0,u.localize)("Manage DMT5 Real {{account_title}} account password",{account_title:s}):(0,u.localize)("Manage DMT5 Demo {{account_title}} account password",{account_title:s}),toggleModal:l,height:"688px",width:"904px"},i.createElement(rt,{steps:y,multi_step_ref:f}))),i.createElement(c.MobileWrapper,null,i.createElement(c.PageOverlay,{is_open:r,portal_id:"deriv_app",header:(0,u.localize)("Manage password"),onClickClose:l},i.createElement(rt,{steps:y,multi_step_ref:f}))))};ct.propTypes={email:o().string,is_visible:o().bool,selected_account:o().string,selected_server:o().string,selected_login:o().string,toggleModal:o().func};const lt=(0,f.$j)((function(e){var t=e.modules.mt5,n=e.client,a=e.ui;return{email:n.email,enableApp:a.enableApp,disableApp:a.disableApp,sendVerifyEmail:t.sendVerifyEmail}}))(ct);var ut=function(e){var t=e.mt5_companies,n=e.current_account,a=e.closeSuccessTopUpModal,r=e.closeTopUpModal,o=e.is_top_up_virtual_open,s=e.is_top_up_virtual_in_progress,l=e.is_top_up_virtual_success,d=e.topUpVirtual,m=i.useCallback((function(){return t&&n?t[n.category][n.type].title:""}),[t,n]);if(!t||!n)return null;var _="USD",f=1e3,g=1e4;return i.createElement(i.Fragment,null,i.createElement(c.Modal,{toggleModal:r,is_open:o,className:"top-up-virtual",title:(0,u.localize)("Fund top up"),width:"384px"},i.createElement("div",{className:"dc-modal__container_top-up-virtual__body"},i.createElement(c.Text,{as:"p",align:"center",size:"xxs",line_height:"xs",className:"dc-modal__container_top-up-virtual__description"},i.createElement(u.Localize,{i18n_default_text:"You can top up your demo account with an additional <0></0> if your balance is <1></1> or less.",components:[i.createElement(c.Money,{key:0,amount:g,currency:_,show_currency:!0}),i.createElement(c.Money,{key:1,amount:f,currency:_,show_currency:!0})]})),i.createElement("h4",{className:"dc-modal__container_top-up-virtual--h4"},i.createElement(u.Localize,{i18n_default_text:"DMT5 {{ account_title }} account",values:{account_title:m()}})),i.createElement("div",null,i.createElement(c.Text,{as:"p",align:"center",size:"xxs"},i.createElement(u.Localize,{i18n_default_text:"Current balance"})),i.createElement("div",{className:"dc-modal__container_top-up-virtual--balance"},i.createElement(c.Money,{amount:n.display_balance,currency:n.currency}))),i.createElement("div",{className:"dc-modal__container_top-up-virtual--button"},i.createElement(c.Button,{is_disabled:n.balance>1e3||s,type:"button",is_loading:s,onClick:d,primary:!0,large:!0},!s&&i.createElement(u.Localize,{i18n_default_text:"Top up Â <0></0>",components:[i.createElement(c.Money,{key:0,amount:g,currency:_,show_currency:!0})]}))))),i.createElement(p,{is_open:l,toggleModal:function(){a()},has_close_icon:!0,title:(0,u.localize)("Fund top up"),icon:i.createElement(c.Icon,{icon:"IcCashierWallet",size:128}),heading:i.createElement("h3",{className:"mt5-success-topup__heading"},i.createElement(u.Localize,{i18n_default_text:"<0></0> has been credited into your DMT5 {{title}} account.",values:{title:m()},components:[i.createElement(c.Money,{key:0,amount:g,currency:_,show_currency:!0})]})),message:i.createElement("div",{className:"mt5-success-topup__description"},i.createElement("p",null,i.createElement(u.Localize,{i18n_default_text:"New current balance"})),i.createElement("div",{className:"dc-modal__container_top-up-virtual--balance"},i.createElement(c.Money,{amount:n.balance,currency:n.currency}))),icon_size:"large",has_cancel:!1,has_submit:!1,width:"384px"}))};ut.propTypes={account_title:o().string,closeSuccessTopUpModal:o().func,closeTopUpVirtual:o().func,currency:o().string,display_balance:o().string,is_top_up_virtual_open:o().bool,is_top_up_virtual_in_progress:o().bool,is_top_up_virtual_success:o().bool,topUpVirtual:o().func};const dt=(0,f.$j)((function(e){var t=e.ui,n=e.modules;return{is_top_up_virtual_open:t.is_top_up_virtual_open,is_top_up_virtual_in_progress:t.is_top_up_virtual_in_progress,is_top_up_virtual_success:t.is_top_up_virtual_success,closeTopUpModal:t.closeTopUpModal,closeSuccessTopUpModal:t.closeSuccessTopUpModal,current_account:n.mt5.current_account,mt5_companies:n.mt5.mt5_companies,topUpVirtual:n.mt5.topUpVirtual}}))(ut);var mt=n("react-router-dom"),_t=n("./Stores/Modules/MT5/Helpers/mt5-config.js");function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var St=function(e){var t,n,a,r,o,i=e.current_list,s=e.children,c=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["current_list","children"]),l=localStorage.getItem("mt5_reset_password_intent"),u=localStorage.getItem("mt5_reset_password_type")||"main";if(l&&/(real|demo)\.(financial_stp|financial|synthetic)/.test(l)&&i){var d=Et(l.split("."),3);o=d[0],t=d[1],n=d[2],a=i["".concat(t,".").concat(n,"@").concat(o)].login,r=(0,_t.D)()[t][n].title}else if(i){var m=Et(Object.keys(i).pop().split("."),3);o=m[0],t=m[1],n=m[2],a=i["".concat(t,".").concat(n,"@").concat(o)].login,r=(0,_t.D)()[t][n].title}else a="",r="";return s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({login:a,title:r,type:u},c))},xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(o,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=yt(e);if(t){var r=yt(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return bt(this,n)}}(o);function o(){var e;ft(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state={has_error:!1,error_message:void 0,is_finished:!1,changed_password_type:""},e.renderErrorBox=function(t){e.setState({has_error:!0,error_message:t.message})},e.clearAddressBar=function(){localStorage.removeItem("mt5_reset_password_intent"),localStorage.removeItem("mt5_reset_password_type"),localStorage.removeItem("mt5_reset_password_code"),e.props.history.push("".concat(l.routes.mt5))},e.validatePassword=function(t){var n={};return(0,l.validLength)(t.new_password,{min:8,max:25})?(0,l.validPassword)(t.new_password)||(n.new_password=(0,l.getErrorMessages)().password()):n.new_password=(0,u.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),t.new_password.toLowerCase()===e.props.email.toLowerCase()&&(n.new_password=(0,u.localize)("Your password cannot be the same as your email address.")),n},e.resetPassword=function(t,n,a,r){var o=r.setSubmitting;o(!0);var i={login:a,password_type:n,new_password:t.new_password,verification_code:localStorage.getItem("mt5_reset_password_code")};A.WS.mt5PasswordReset(i).then((function(t){t.error&&"InvalidToken"===t.error.code?e.renderErrorBox(t.error):(e.setState({is_finished:!0,changed_password_type:n}),e.clearAddressBar()),o(!1)}))},e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.is_mt5_reset_password_modal_enabled,r=t.setMt5PasswordResetModal,o=t.current_list;return i.createElement(c.Modal,{className:"mt5-reset-password-modal",is_open:n,toggleModal:function(){return r(!1)},title:(0,u.localize)("Reset DMT5 password")},!this.is_list_fetched&&!this.state.has_error&&i.createElement(c.Loading,{is_fullscreen:!1}),this.is_list_fetched&&!this.state.has_error&&!this.state.is_finished&&i.createElement(St,{current_list:o},(function(t){var n=t.title,r=t.type,o=t.login;return i.createElement(a.J9,{initialValues:{new_password:""},validate:e.validatePassword,onSubmit:function(t,n){return e.resetPassword(t,r,o,n)}},(function(e){var t=e.handleSubmit,a=e.errors,o=e.values,s=e.isSubmitting,d=e.handleChange,m=e.handleBlur,_=e.touched;return i.createElement("form",{autoComplete:"off",onSubmit:t},i.createElement("div",{className:"mt5-reset-password"},i.createElement("div",{className:"mt5-reset-password__container"},i.createElement("h2",{className:"mt5-reset-password__heading"},i.createElement(u.Localize,{i18n_default_text:"Reset DMT5 {{title}} password",values:{title:n}})),i.createElement("div",{className:"mt5-reset-password__password-area"},i.createElement(c.PasswordMeter,{input:o.new_password,has_error:!(!_.new_password||!a.new_password),custom_feedback_messages:(0,l.getErrorMessages)().password_warnings},(function(e){var t=e.has_warning;return i.createElement(c.PasswordInput,{autoComplete:"new-password",className:"mt5-reset-password__password-field",name:"new_password",label:(0,u.localize)("New {{type}} password",{type:r}),onChange:d,onBlur:m,error:_.new_password&&a.new_password,value:o.new_password,"data-lpignore":"true",required:!0,hint:!t&&(0,u.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters and numbers.")})}))),s&&i.createElement(c.Loading,{is_fullscreen:!1}),!s&&i.createElement(c.FormSubmitButton,{is_disabled:s||!o.new_password||Object.keys(a).length>0,errors:a,is_center:!0,large:!0,label:(0,u.localize)("Create {{type}} password",{type:r})}))))}))})),this.state.has_error&&i.createElement("div",{className:"mt5-reset-password__error"},i.createElement(c.Icon,{icon:"IcMt5Expired",size:128}),i.createElement(c.Text,{as:"p",size:"xs",weight:"bold",align:"center",className:"mt5-reset-password__heading"},this.state.error_message),i.createElement(c.Text,{as:"p",color:"prominent",size:"xs",align:"center",className:"mt5-reset-password__description--is-centered"},i.createElement(u.Localize,{i18n_default_text:"Please request a new password and check your email for the new token."})),i.createElement(c.Button,{primary:!0,large:!0,onClick:function(){e.clearAddressBar(),r(!1)}},i.createElement(u.Localize,{i18n_default_text:"Ok"}))),this.state.is_finished&&i.createElement("div",{className:"mt5-reset-password__success"},i.createElement(c.Icon,{icon:"IcMt5PasswordUpdated",size:128}),i.createElement("div",{className:"mt5-reset-password__heading"},i.createElement(u.Localize,{i18n_default_text:"Password saved"})),i.createElement("div",{className:"mt5-reset-password__description"},i.createElement(u.Localize,{i18n_default_text:"Your {{account_type}} password has been changed.",values:{account_type:"main"===this.state.changed_password_type?(0,u.localize)("main"):(0,u.localize)("investor")}})),i.createElement(c.Button,{primary:!0,large:!0,onClick:function(){return r(!1)}},i.createElement(u.Localize,{i18n_default_text:"Ok"}))))}},{key:"is_list_fetched",get:function(){return 0!==Object.keys(this.props.current_list).length}}])&&gt(t.prototype,n),o}(i.Component);xt.propTypes={email:r.string,is_mt5_reset_password_modal_enabled:r.any,setMt5PasswordResetModal:r.any,current_list:r.any};const Mt=(0,mt.withRouter)((0,f.$j)((function(e){var t=e.modules.mt5;return{email:e.client.email,is_mt5_reset_password_modal_enabled:t.is_mt5_reset_password_modal_enabled,setMt5PasswordResetModal:t.setMt5PasswordResetModal,current_list:t.current_list}}))(xt)),Ot=(0,f.$j)((function(e){var t=e.ui,n=e.modules.mt5;return{enableApp:t.enableApp,disableApp:t.disableApp,toggleModal:n.closeMT5PendingDialog,is_mt5_pending_dialog_open:n.is_mt5_pending_dialog_open}}))((function(e){var t=e.enableApp,n=e.disableApp,a=e.toggleModal,r=e.is_mt5_pending_dialog_open;return i.createElement(c.Modal,{title:(0,u.localize)("Thanks for submitting your documents!"),className:"mt5-pending-dialog",is_open:r,disableApp:n,enableApp:t,toggleModal:a,has_close_icon:!1,small:!0},i.createElement(c.Modal.Body,null,i.createElement(u.Localize,{i18n_default_text:"Weâ€™ll process your documents within 1-3 days. Once they are verified, weâ€™ll notify you via email."})),i.createElement(c.Modal.Footer,null,i.createElement(c.Button,{has_effect:!0,text:(0,u.localize)("OK"),onClick:a,primary:!0})))}));var Nt,Pt,jt,kt,Tt=function(e){var t=e.display_name,n=e.label,a=e.success_msg,r=e.info_msg,o=e.text_copy;return i.createElement("div",{className:"mt5-dashboard__info-copy"},i.createElement("div",{className:"mt5-dashboard__info-display"},i.createElement(c.Text,{className:"mt5-dashboard__info-label"},n,":"),t),i.createElement(c.Clipboard,{text_copy:o,info_message:r,success_message:a}))};function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=(At(Nt={},(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:1000")),At(Nt,(0,u.localize)("Margin call"),(0,u.localize)("100%")),At(Nt,(0,u.localize)("Stop out level"),(0,u.localize)("50%")),At(Nt,(0,u.localize)("Number of assets"),(0,u.localize)("10+")),Nt),Dt=(At(Pt={},(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:1000")),At(Pt,(0,u.localize)("Margin call"),(0,u.localize)("150%")),At(Pt,(0,u.localize)("Stop out level"),(0,u.localize)("75%")),At(Pt,(0,u.localize)("Number of assets"),(0,u.localize)("50+")),Pt),It=(At(jt={},(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:30")),At(jt,(0,u.localize)("Margin call"),(0,u.localize)("100%")),At(jt,(0,u.localize)("Stop out level"),(0,u.localize)("50%")),At(jt,(0,u.localize)("Number of assets"),(0,u.localize)("50+")),jt),Lt=(At(kt={},(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:100")),At(kt,(0,u.localize)("Margin call"),(0,u.localize)("150%")),At(kt,(0,u.localize)("Stop out level"),(0,u.localize)("75%")),At(kt,(0,u.localize)("Number of assets"),(0,u.localize)("50+")),kt),Ft=n("../../../node_modules/react-transition-group/esm/CSSTransition.js");function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qt(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(r,e);var t,n,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Vt(e);if(t){var r=Vt(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return qt(this,n)}}(r);function r(){return Wt(this,r),a.apply(this,arguments)}return t=r,(n=[{key:"render",value:function(){return i.createElement(c.Clipboard,{text_copy:this.props.text,info_message:(0,u.localize)("Click here to copy account login number and paste into the login box in MT5 platform along with your password."),success_message:(0,u.localize)("Account login number copied!")})}}])&&Bt(t.prototype,n),r}(i.PureComponent),Ht={synthetic:"IcMt5SyntheticPlatform",financial:"IcMt5FinancialPlatform",financial_stp:"IcMt5FinancialStpPlatform"},Yt=i.forwardRef((function(e,t){var n=e.onSelectAccount,a=e.is_disabled;return i.createElement("div",{onClick:a?null:n,className:m()("mt5-account-card__add-server",{"mt5-account-card__add-server--disabled":a}),ref:t},i.createElement("span",{className:"mt5-account-card__add-server--icon"},"+"),i.createElement(u.Localize,{i18n_default_text:"Add more trade servers"}))}));Yt.displayName="AddTradeServerButton";var Kt=function(e){var t=e.display_login;return i.createElement("div",{className:"mt5-account-card__login"},i.createElement(u.Localize,{i18n_default_text:"<0>Account login no.</0><1>{{display_login}}</1>",values:{display_login:t},components:[i.createElement("span",{key:0}),i.createElement("strong",{key:1})]}),i.createElement($t,{text:t}))},Xt=function(e){var t=e.button_label,n=e.handleClickSwitchAccount,a=e.has_real_account,r=e.is_accounts_switcher_on,o=e.is_button_primary,s=e.is_disabled,l=e.is_virtual,d=e.onSelectAccount,_=e.type;if(l&&a&&"real"===_.category&&"financial_stp"===_.type&&"function"==typeof n)return i.createElement("div",{className:"mt5-account-card__action-wrapper"},i.createElement(u.Localize,{i18n_default_text:"<0>Switch to your real account</0><1> to create a DMT5 Financial STP account.</1>",components:[i.createElement("a",{className:m()("mt5-account-card__action-wrapper__link link link--orange",{"mt5-account-card__action-wrapper__link--disabled":r}),key:0,onClick:n}),i.createElement(c.Text,{key:1,line_height:"s",size:"xxs"})]}));var p="real"===_.category?i.createElement(u.Localize,{i18n_default_text:"Add real account"}):i.createElement(u.Localize,{i18n_default_text:"Add demo account"}),f=t||p;return i.createElement(c.Button,{className:"mt5-account-card__account-selection",onClick:d,type:"button",is_disabled:s,primary:o,secondary:!o,large:!0},f)},Gt=function(e){var t=e.button_label,n=e.commission_message,a=e.descriptor,r=e.is_hovered,o=e.existing_data,s=e.has_mt5_account,l=e.has_mt5_account_error,d=e.has_real_account,_=e.is_accounts_switcher_on,p=e.is_button_primary,f=e.is_disabled,g=e.is_logged_in,h=e.is_virtual,b=e.onHover,y=e.specs,v=e.title,w=e.type,E=e.onSelectAccount,z=e.onClickFund,S=e.onPasswordManager,x=e.should_show_trade_servers,M=e.is_trade_server_button_visible,O=e.toggleAccountsDialog,N=e.toggleShouldShowRealAccountsList,P=e.trading_servers,j=w.type?i.createElement(c.Icon,{icon:Ht[w.type],size:64}):null,k="synthetic"===w.type&&"real"===w.category&&!o,T="demo"===w.category,A=g&&o&&"real"===w.category&&"synthetic"===w.type&&P.some((function(e){return e.id===o.server})),C=i.useRef(),D=i.useRef(),I=i.useRef();i.useEffect((function(){if(o){var e,t=function(){null==b||b(o.group)};return C.current.addEventListener("mouseenter",t),null==I||null===(e=I.current)||void 0===e||e.addEventListener("mouseenter",t),function(){var e;C.current.removeEventListener("mouseenter",t),null==I||null===(e=I.current)||void 0===e||e.removeEventListener("mouseenter",(function(){return t}))}}return function(){}}),[b]);var L=i.useCallback((function(e){var t=null==P?void 0:P.find((function(t){return t.id===e.server}));return t?"".concat(t.geolocation.region," ").concat(1===t.geolocation.sequence?"":t.geolocation.sequence):""}),[o,P]);return i.createElement("div",{ref:D,className:m()("mt5-account-card__wrapper",{"mt5-account-card__wrapper-shrinked":M&&"real"===w.category&&(!x||!r)})},i.createElement("div",{className:m()("mt5-account-card",{"mt5-account-card__logged-out":!g}),ref:C},k&&i.createElement("div",{className:"mt5-account-card__banner"},i.createElement(u.Localize,{i18n_default_text:"Most popular"})),T&&i.createElement("div",{className:"mt5-account-card__banner mt5-account-card__banner--demo"},i.createElement(u.Localize,{i18n_default_text:"DEMO"})),A&&i.createElement("div",{className:"mt5-account-card__banner mt5-account-card__banner--server"},L(o)),i.createElement("div",{className:m()("mt5-account-card__type",{"mt5-account-card__type--has-banner":k||T}),id:"mt5_".concat(w.category,"_").concat(w.type)},j,i.createElement("div",{className:"mt5-account-card__type--description"},i.createElement("h1",{className:"mt5-account-card--heading"},v),(!o||!g)&&i.createElement("p",{className:"mt5-account-card--paragraph"},a),o&&o.display_balance&&g&&i.createElement("p",{className:"mt5-account-card--balance"},i.createElement(c.Money,{amount:o.display_balance,currency:o.currency,has_sign:o.balance<0,show_currency:!0})))),i.createElement("div",{className:"mt5-account-card__cta"},i.createElement("div",{className:"mt5-account-card__specs"},i.createElement("table",{className:"mt5-account-card__specs-table"},i.createElement("tbody",null,Object.keys(y).map((function(e,t){return i.createElement("tr",{key:t,className:"mt5-account-card__specs-table-row"},i.createElement("td",{className:"mt5-account-card__specs-table-attribute"},i.createElement("p",{className:"mt5-account-card--paragraph"},e)),i.createElement("td",{className:"mt5-account-card__specs-table-data"},i.createElement("p",{className:"mt5-account-card--paragraph"},y[e])))})),A&&o&&"synthetic"===w.type&&"real"===w.category&&i.createElement("tr",{key:o.server,className:"mt5-account-card__specs-table-row"},i.createElement("td",{className:"mt5-account-card__specs-table-attribute"},i.createElement("p",{className:"mt5-account-card--paragraph"},i.createElement(u.Localize,{i18n_default_text:"Trade server: "}))),i.createElement("td",{className:"mt5-account-card__specs-table-data"},i.createElement("p",{className:"mt5-account-card--paragraph"},L(o))))))),(null==o?void 0:o.login)&&g&&i.createElement(Kt,{display_login:o.display_login}),(!o&&n||!g)&&i.createElement("div",{className:"mt5-account-card__commission"},i.createElement(c.Text,{as:"p",color:"general",size:"xs",styles:{margin:"1.6rem auto"}},n)),o&&g&&i.createElement("div",{className:"mt5-account-card__manage"},i.createElement(c.Button,{onClick:function(){return z(o)},type:"button",secondary:!0},"real"===w.category&&i.createElement(u.Localize,{i18n_default_text:"Fund transfer"}),"demo"===w.category&&i.createElement(u.Localize,{i18n_default_text:"Fund top up"})),i.createElement(c.Button,{onClick:function(){S(o.login,v,w.category,w.type,o.server)},type:"button",secondary:!0},i.createElement(u.Localize,{i18n_default_text:"Password"}))),!o&&s&&i.createElement(c.Button,{className:"mt5-account-card__account-selection",onClick:E,type:"button"},i.createElement(u.Localize,{i18n_default_text:"Select"})),o&&g&&i.createElement("a",{className:"dc-btn mt5-account-card__account-selection mt5-account-card__account-selection--primary",type:"button",href:$e({category:w.category,loginid:o.display_login}),target:"_blank",rel:"noopener noreferrer"},i.createElement(u.Localize,{i18n_default_text:"Trade on web terminal"})),!o&&!s&&g&&i.createElement(Xt,{button_label:t,handleClickSwitchAccount:function(){N(!0),O(!0)},has_real_account:d,is_accounts_switcher_on:_,is_button_primary:p,is_disabled:f,is_virtual:h,onSelectAccount:E,type:w})),i.createElement(i.Fragment,null,x&&i.createElement(c.MobileWrapper,null,i.createElement(Yt,{ref:I,onSelectAccount:E,is_disabled:l})))),i.createElement(c.DesktopWrapper,null,i.createElement(Ft.Z,{in:r&&x,timeout:0,classNames:"mt5-account-card__add-server",unmountOnExit:!0},i.createElement(Yt,{ref:I,onSelectAccount:E,is_disabled:l}))))};function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt=function(e){var t,n,a,r,o,s,c,l=e.is_eu,d=e.is_eu_country,m=e.has_maltainvest_account,_=e.has_mt5_account_error,p=e.openAccountNeededModal,f=e.standpoint,g=e.is_loading,h=e.is_logged_in,b=e.landing_companies,y=e.onSelectAccount,v=e.openAccountTransfer,w=e.current_list,E=e.has_mt5_account,z=e.openPasswordManager,S=!(null!=b&&null!==(t=b.mt_financial_company)&&void 0!==t&&t.financial_stp);return g?i.createElement("div",{className:"mt5-demo-accounts-display"},i.createElement(P.Z,null)):i.createElement("div",{className:"mt5-demo-accounts-display",style:{justifyContent:S?"center":"space-between"}},((null==b||null===(n=b.mt_gaming_company)||void 0===n?void 0:n.financial)||!h)&&i.createElement(Gt,{has_mt5_account:E,title:(0,u.localize)("Synthetic"),type:{category:"demo",type:"synthetic"},is_disabled:_,is_logged_in:h,existing_data:w[Object.keys(w).find((function(e){return e.startsWith("demo.synthetic")}))],commission_message:(0,u.localize)("No commission"),onSelectAccount:function(){return y({category:"demo",type:"synthetic"})},onPasswordManager:z,onClickFund:function(){return v(w[Object.keys(w).find((function(e){return e.startsWith("demo.synthetic")}))],{category:"demo",type:"synthetic"})},descriptor:(0,u.localize)("Trade CFDs on our Synthetic Indices that simulate real-world market movement."),specs:(a={},Jt(a,(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:1000")),Jt(a,(0,u.localize)("Margin call"),(0,u.localize)("100%")),Jt(a,(0,u.localize)("Stop out level"),(0,u.localize)("50%")),Jt(a,(0,u.localize)("Number of assets"),(0,u.localize)("10+")),a)}),((null==b||null===(r=b.mt_financial_company)||void 0===r?void 0:r.financial)||!h)&&i.createElement(Gt,{has_mt5_account:E,title:(0,u.localize)("Financial"),is_disabled:_,is_logged_in:h,type:{category:"demo",type:"financial"},existing_data:w[Object.keys(w).find((function(e){return e.startsWith("demo.financial@")}))],commission_message:(0,u.localize)("No commission"),onSelectAccount:function(){l&&!m&&f.iom?p("maltainvest",(0,u.localize)("Deriv Financial"),(0,u.localize)("DMT5 Demo Financial")):y({category:"demo",type:"financial"})},onPasswordManager:z,onClickFund:function(){return v(w[Object.keys(w).find((function(e){return e.startsWith("demo.financial@")}))],{category:"demo",type:"financial"})},descriptor:l||d?(0,u.localize)("Trade commodities, cryptocurrencies, major (standard) and minor currency pairs with high leverage."):(0,u.localize)("Trade commodities, cryptocurrencies, major (standard and micro-lots) and minor currency pairs with high leverage."),specs:l||d?It:(o={},Jt(o,(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:1000")),Jt(o,(0,u.localize)("Margin call"),(0,u.localize)("150%")),Jt(o,(0,u.localize)("Stop out level"),(0,u.localize)("75%")),Jt(o,(0,u.localize)("Number of assets"),(0,u.localize)("50+")),o)}),((null==b||null===(s=b.mt_financial_company)||void 0===s?void 0:s.financial_stp)||!h)&&i.createElement(Gt,{has_mt5_account:E,title:(0,u.localize)("Financial STP"),type:{category:"demo",type:"financial_stp"},is_disabled:_,is_logged_in:h,existing_data:w[Object.keys(w).find((function(e){return e.startsWith("demo.financial_stp@")}))],commission_message:(0,u.localize)("No commission"),onSelectAccount:function(){return y({category:"demo",type:"financial_stp"})},onPasswordManager:z,onClickFund:function(){return v(w[Object.keys(w).find((function(e){return e.startsWith("demo.financial_stp@")}))],{category:"demo",type:"financial_stp"})},descriptor:(0,u.localize)("Trade major, minor, exotic currency pairs, and cryptocurrencies with Straight-Through Processing (STP) of your orders direct to the market."),specs:(c={},Jt(c,(0,u.localize)("Leverage"),(0,u.localize)("Up to 1:100")),Jt(c,(0,u.localize)("Margin call"),(0,u.localize)("150%")),Jt(c,(0,u.localize)("Stop out level"),(0,u.localize)("75%")),Jt(c,(0,u.localize)("Number of assets"),(0,u.localize)("50+")),c)}))};function Qt(e,t){if(e){if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var tn=function(e){var t,n,a,r=e.has_real_account,o=e.is_accounts_switcher_on,s=e.is_eu,d=e.is_eu_country,m=e.has_malta_account,_=e.has_maltainvest_account,p=e.has_mt5_account_error,f=e.is_fully_authenticated,g=e.is_pending_authentication,h=e.is_virtual,b=e.landing_companies,y=e.onSelectAccount,v=e.openAccountTransfer,w=e.openPasswordModal,E=e.isAccountOfTypeDisabled,z=e.current_list,S=e.has_mt5_account,x=e.openPasswordManager,M=e.account_settings,O=e.openAccountNeededModal,N=e.standpoint,P=e.is_logged_in,j=e.toggleAccountsDialog,k=e.toggleShouldShowRealAccountsList,T=e.trading_servers,A=e.can_have_more_real_synthetic_mt5,C=(P?!s&&r:!d)&&A,D=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||Qt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i.useState(0),2),I=D[0],L=D[1],F=M.citizen&&M.tax_identification_number&&M.tax_residence,R=function(e,t,n){return e&&n?i.createElement(u.Localize,{i18n_default_text:"Set your password"}):t?i.createElement(u.Localize,{i18n_default_text:"Pending verification"}):i.createElement(u.Localize,{i18n_default_text:"Add real account"})}(f,g,F),W=!r||g,B=function(){s&&N.malta&&!m?O("malta",(0,u.localize)("Deriv Synthetic"),(0,u.localize)("DMT5 Synthetic")):y({type:"synthetic",category:"real"})},U=function(e){return v(z[(0,l.getMT5AccountListKey)(e)],{category:e.account_type,type:(0,l.getMT5AccountKey)(e.market_type,e.sub_account_type)})},q=function(e){var t=Object.keys(z).filter((function(e){return e.startsWith("real.synthetic")}));L(t.findIndex((function(t){return z[t].group===e})))},V=function(e){if(p)return!0;if(s){var t=(0,l.getAccountTypeFields)({category:"real",type:e});return E(null==t?void 0:t.account_type)}switch(e){case"synthetic":case"financial":return!r;case"financial_stp":return W;default:return!1}},$=P&&s||!P&&d,H=((null==b||null===(t=b.mt_gaming_company)||void 0===t?void 0:t.financial)||!P)&&(Object.keys(z).some((function(e){return e.startsWith("real.synthetic")}))?Object.keys(z).filter((function(e){return e.startsWith("real.synthetic")})).reduce((function(e,t){return e.push(z[t]),e}),[]).map((function(e,t){return i.createElement(Gt,{key:t,has_mt5_account:S,has_mt5_account_error:p,title:(0,u.localize)("Synthetic"),is_hovered:t===I,is_disabled:V("synthetic"),type:{category:"real",type:"synthetic"},is_logged_in:P,should_show_trade_servers:C,is_trade_server_button_visible:C,existing_data:e,commission_message:(0,u.localize)("No commission"),onSelectAccount:B,onPasswordManager:x,onClickFund:U,descriptor:(0,u.localize)("Trade CFDs on our Synthetic Indices that simulate real-world market movement."),specs:Ct,trading_servers:T,onHover:q})})):[i.createElement(Gt,{key:"real.synthetic",has_mt5_account:S,title:(0,u.localize)("Synthetic"),is_disabled:V("synthetic"),type:{category:"real",type:"synthetic"},is_logged_in:P,should_show_trade_servers:C,is_trade_server_button_visible:C,existing_data:void 0,commission_message:(0,u.localize)("No commission"),onSelectAccount:B,onPasswordManager:x,onClickFund:U,descriptor:(0,u.localize)("Trade CFDs on our Synthetic Indices that simulate real-world market movement."),specs:Ct,trading_servers:T,onHover:q})]),Y=((null==b||null===(n=b.mt_financial_company)||void 0===n?void 0:n.financial_stp)||!P)&&i.createElement(Gt,{key:"real.financial_stp",has_mt5_account:S,title:(0,u.localize)("Financial STP"),type:{category:"real",type:"financial_stp"},is_logged_in:P,existing_data:z[Object.keys(z).find((function(e){return e.startsWith("real.financial_stp@")}))],commission_message:(0,u.localize)("No commission"),onSelectAccount:function(){var e={category:"real",type:"financial_stp"};f&&F?w(e):(f||W)&&F||y(e)},button_label:R,is_button_primary:g,onPasswordManager:x,onClickFund:U,descriptor:(0,u.localize)("Trade major, minor, exotic currency pairs, and cryptocurrencies with Straight-Through Processing (STP) of your orders direct to the market."),specs:Lt,is_disabled:V("financial_stp"),is_virtual:h,has_real_account:r,toggleAccountsDialog:j,toggleShouldShowRealAccountsList:k,is_accounts_switcher_on:o,is_trade_server_button_visible:C}),K=((null==b||null===(a=b.mt_financial_company)||void 0===a?void 0:a.financial)||!P)&&i.createElement(Gt,{key:"real.financial",has_mt5_account:S,is_disabled:V("financial"),title:(0,u.localize)("Financial"),type:{category:"real",type:"financial"},existing_data:z[Object.keys(z).find((function(e){return e.startsWith("real.financial@")}))],commission_message:(0,u.localize)("No commission"),onSelectAccount:function(){s&&!_?O("maltainvest",(0,u.localize)("Deriv Financial"),(0,u.localize)("DMT5 Real Financial")):y({type:"financial",category:"real"})},onPasswordManager:x,onClickFund:U,descriptor:s||d?(0,u.localize)("Trade commodities, cryptocurrencies, major (standard) and minor currency pairs with high leverage."):(0,u.localize)("Trade commodities, cryptocurrencies, major (standard and micro-lots) and minor currency pairs with high leverage."),specs:$?It:Dt,is_logged_in:P,is_trade_server_button_visible:C}),X=[].concat(function(e){return function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Qt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(H||[]),[K,Y]).filter(Boolean);return i.createElement("div",{className:"mt5-real-accounts-display",style:{justifyContent:X.length<3?"center":"space-between"}},i.createElement(c.DesktopWrapper,null,i.createElement(c.Carousel,{list:X,width:328,nav_position:"middle",show_bullet:!1,item_per_window:3,className:"mt5-real-accounts-display__carousel"})),i.createElement(c.MobileWrapper,null,X.map((function(e){return e}))))};function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t,n,a,r,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,r)}function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function on(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function sn(e,t){return(sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cn(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var un=function(e){var t=e.children,n=e.is_loading,a=e.loading_component,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["children","is_loading","loading_component"]),o=a;return n?i.createElement(o,null):i.createElement(c.Tabs,r,t)},dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sn(e,t)}(s,e);var t,n,a,r,o=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=ln(e);if(t){var r=ln(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return cn(this,n)}}(s);function s(){var e;rn(this,s);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=o.call.apply(o,[this].concat(n))).state={active_index:0,is_account_needed_modal_open:!1,is_demo_tab:!0,required_account:{},password_manager:{is_visible:!1,selected_login:"",selected_account:"",selected_account_type:"",selected_account_group:"",selected_server:""}},e.openResetPassword=function(){/reset-password/.test(e.props.location.hash)&&e.props.setMt5PasswordResetModal(!0)},e.getIndexToSet=function(){if(e.props.location.hash)return/demo/.test(e.props.location.hash)?1:0},e.updateActiveIndex=function(t){var n={};1===t?n.is_demo_tab=!0:0===t&&(n.is_demo_tab=!1);var a=e.getIndexToSet();e.state.active_index!==a&&(n.active_index=a),(0,l.isEmptyObject)(n)||e.setState(n)},e.openAccountTransfer=function(t,n){"real"===n.category?(sessionStorage.setItem("mt5_transfer_to_login_id",t.login),e.props.disableMt5PasswordModal(),e.props.history.push(l.routes.cashier_acc_transfer)):(e.props.setCurrentAccount(t,n),e.props.openTopUpModal())},e.togglePasswordManagerModal=function(t,n,a,r,o){e.setState((function(e){return{active_index:e.active_index,password_manager:{is_visible:!e.password_manager.is_visible,selected_login:"string"==typeof t?t:"",selected_account:"string"==typeof n?n:"",selected_account_group:a,selected_account_type:r,selected_server:o}}}))},e.openRealPasswordModal=function(t){e.props.setAccountType(t),e.props.openPasswordModal()},e}return t=s,(n=[{key:"componentDidMount",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateActiveIndex(this.getIndexToSet()),this.openResetPassword(),this.props.onMount();case 3:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){an(o,n,r,i,s,"next",e)}function s(e){an(o,n,r,i,s,"throw",e)}i(void 0)}))},function(){return r.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"componentDidUpdate",value:function(){this.updateActiveIndex(),this.props.checkShouldOpenAccount()}},{key:"render",value:function(){var e=this.props,t=e.account_settings,n=e.account_status,a=e.beginRealSignupForMt5,r=e.country,o=e.createMT5Account,s=e.current_list,d=e.isAccountOfTypeDisabled,m=e.is_accounts_switcher_on,_=e.is_eu,p=e.is_eu_country,f=e.is_fully_authenticated,g=e.is_loading,h=e.is_logged_in,b=e.is_logging_in,y=e.is_mt5_allowed,v=e.is_pending_authentication,w=e.is_virtual,E=e.landing_companies,z=e.has_malta_account,S=e.has_maltainvest_account,x=e.has_mt5_account,O=e.has_mt5_account_error,P=e.mt5_disabled_signup_types,k=e.has_real_account,A=e.NotificationMessages,C=e.openAccountNeededModal,D=e.standpoint,I=e.toggleAccountsDialog,L=e.toggleShouldShowRealAccountsList,F=e.trading_servers,R=e.can_have_more_real_synthetic_mt5,W=e.upgradeable_landing_companies,B=!_&&h&&!k&&(null==W?void 0:W.length)>0;return!r&&h||b?i.createElement(c.Loading,null):i.createElement(i.Fragment,null,y||!h?i.createElement("div",{className:"mt5-dashboard__container"},i.createElement(A,null),i.createElement("div",{className:"mt5-dashboard"},i.createElement("div",{className:"mt5-dashboard__welcome-message"},i.createElement("h1",{className:"mt5-dashboard__welcome-message--heading"},h?i.createElement(u.Localize,{i18n_default_text:"Welcome to your MetaTrader 5 (DMT5 account dashboard)"}):i.createElement(u.Localize,{i18n_default_text:"Welcome to MetaTrader 5 (DMT5 account dashboard)"}))),O&&i.createElement("div",{className:"mt5-dashboard__accounts-error"},i.createElement(c.Text,{as:"p",className:"mt5-dashboard__accounts-error-message",lineHeight:"l",size:"xxs",color:"prominent",weight:"normal",align:"center"},i.createElement(u.Localize,{i18n_default_text:"Due to an issue on our server, some of your MT5 accounts are unavailable at the moment. Please bear with us and thank you for your patience."}))),i.createElement("div",{className:"mt5-dashboard__accounts-display"},i.createElement(lt,{is_visible:this.state.password_manager.is_visible,selected_login:this.state.password_manager.selected_login,selected_account:this.state.password_manager.selected_account,selected_account_group:this.state.password_manager.selected_account_group,selected_account_type:this.state.password_manager.selected_account_type,selected_server:this.state.password_manager.selected_server,toggleModal:this.togglePasswordManagerModal}),i.createElement(un,{active_index:this.state.active_index,top:!0,center:!0,is_loading:g,is_logged_in:h,loading_component:j,onTabItemClick:this.updateActiveIndex,should_update_hash:!0},i.createElement("div",{label:(0,u.localize)("Real account"),"data-hash":"real"},i.createElement(i.Fragment,null,B&&i.createElement(T,{onClickSignup:a}),i.createElement(tn,{is_accounts_switcher_on:m,is_eu:_,is_eu_country:p,is_logged_in:h,has_maltainvest_account:S,has_malta_account:z,has_mt5_account_error:P.demo,openAccountNeededModal:C,current_list:s,account_status:n,has_mt5_account:x,onSelectAccount:o,account_settings:t,landing_companies:E,is_pending_authentication:v,is_fully_authenticated:f,is_virtual:w,openAccountTransfer:this.openAccountTransfer,openPasswordManager:this.togglePasswordManagerModal,openPasswordModal:this.openRealPasswordModal,isAccountOfTypeDisabled:d,has_real_account:k,standpoint:D,toggleAccountsDialog:I,toggleShouldShowRealAccountsList:L,trading_servers:F,can_have_more_real_synthetic_mt5:R}))),i.createElement("div",{label:(0,u.localize)("Demo account"),"data-hash":"demo"},i.createElement(Zt,{is_eu:_,is_logged_in:h,has_maltainvest_account:S,has_mt5_account_error:P.real,openAccountNeededModal:C,standpoint:D,is_loading:g,has_mt5_account:x,current_list:s,onSelectAccount:o,landing_companies:E,openAccountTransfer:this.openAccountTransfer,openPasswordManager:this.togglePasswordManagerModal}))),i.createElement("div",{className:"mt5-dashboard__info"},i.createElement("div",{className:"mt5-dashboard__info-description"},i.createElement(u.Localize,{i18n_default_text:"Use these in your apps"})),i.createElement(Tt,{display_name:"Deriv Limited",text_copy:"Deriv Limited",label:(0,u.localize)("Broker"),info_msg:(0,u.localize)("Click here to copy broker name."),success_msg:(0,u.localize)("Broker name copied!")}),i.createElement(Tt,{display_name:qe(this.state.is_demo_tab),text_copy:qe(this.state.is_demo_tab),label:(0,u.localize)("Server"),info_msg:(0,u.localize)("Click here to copy server name."),success_msg:(0,u.localize)("Server name copied!")})),i.createElement(Ue,null),i.createElement("div",{className:"mt5-dashboard__maintenance"},i.createElement(c.Icon,{icon:"IcAlertWarning",size:(0,l.isMobile)()?28:16,className:"mt5-dashboard__maintenance-icon"}),i.createElement("div",{className:"mt5-dashboard__maintenance-text"},i.createElement(u.Localize,{i18n_default_text:"Server maintenance starting 03:00 GMT every Sunday. This process may take up to 2 hours to complete. <0 />Service may be disrupted during this time.",components:[i.createElement("br",{key:0})]})))),i.createElement(c.DesktopWrapper,null,i.createElement(He,null)),i.createElement(c.MobileWrapper,null,i.createElement("div",{className:"mt5-dashboard__download-center"},i.createElement("h1",{className:"mt5-dashboard__download-center--heading"},i.createElement(u.Localize,{i18n_default_text:"Download the MT5 app"})),i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile"},i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile-devices"},i.createElement(c.Icon,{icon:"IcMt5DeviceTablet",width:133,height:106}),i.createElement(c.Icon,{icon:"IcMt5DevicePhone",width:48,height:74})),i.createElement("div",{className:"mt5-dashboard__download-center-options--mobile-links"},i.createElement("a",{href:Ve("android"),target:"_blank",rel:"noopener noreferrer"},i.createElement(c.Icon,{icon:"IcInstallationGoogle",width:135,height:40})),i.createElement("a",{href:Ve("ios"),target:"_blank",rel:"noopener noreferrer"},i.createElement(c.Icon,{icon:"IcInstallationApple",width:135,height:40})))))),i.createElement(dt,null),i.createElement(M,null),i.createElement(N,null),i.createElement(Te,null),i.createElement(Ot,null),i.createElement(Mt,null))):i.createElement(c.PageError,{buttonSize:"medium",header:i.createElement(u.Localize,{i18n_default_text:"DMT5 is not available in {{country}}",values:{country:t.residence},components:[i.createElement("br",{key:0})]}),messages:[i.createElement(u.Localize,{key:0,i18n_default_text:"Please explore our other platforms."})],redirect_urls:[l.routes.trade,l.routes.bot],redirect_labels:[i.createElement(u.Localize,{key:0,i18n_default_text:"Explore DTrader"}),i.createElement(u.Localize,{key:1,i18n_default_text:"Explore DBot"})]}))}}])&&on(t.prototype,n),s}(i.Component);const mn=(0,s.withRouter)((0,f.$j)((function(e){var t=e.client,n=e.modules,a=e.ui;return{beginRealSignupForMt5:n.mt5.beginRealSignupForMt5,checkShouldOpenAccount:n.mt5.checkShouldOpenAccount,country:t.account_settings.residence,createMT5Account:n.mt5.createMT5Account,current_list:n.mt5.current_list,landing_companies:t.landing_companies,isAccountOfTypeDisabled:t.isAccountOfTypeDisabled,is_logged_in:t.is_logged_in,is_logging_in:t.is_logging_in,is_eu:t.is_eu,is_eu_country:t.is_eu_country,is_virtual:t.is_virtual,is_mt5_allowed:t.is_mt5_allowed,mt5_disabled_signup_types:t.mt5_disabled_signup_types,has_maltainvest_account:t.has_maltainvest_account,has_malta_account:t.has_malta_account,can_upgrade_to:t.can_upgrade_to,account_settings:t.account_settings,disableMt5PasswordModal:n.mt5.disableMt5PasswordModal,is_pending_authentication:t.is_pending_authentication,is_compare_accounts_visible:n.mt5.is_compare_accounts_visible,is_fully_authenticated:t.is_fully_authenticated,openPasswordModal:n.mt5.enableMt5PasswordModal,openAccountNeededModal:a.openAccountNeededModal,is_loading:t.is_populating_mt5_account_list,residence:t.residence,has_mt5_account:n.mt5.has_mt5_account,has_mt5_account_error:t.has_account_error_in_mt5_list,has_real_account:t.has_active_real_account,setAccountType:n.mt5.setAccountType,setMt5PasswordResetModal:n.mt5.setMt5PasswordResetModal,setCurrentAccount:n.mt5.setCurrentAccount,standpoint:t.standpoint,toggleCompareAccounts:n.mt5.toggleCompareAccountsModal,is_accounts_switcher_on:a.is_accounts_switcher_on,openTopUpModal:a.openTopUpModal,NotificationMessages:a.notification_messages_ui,onMount:n.mt5.onMount,onUnmount:n.mt5.onUnmount,toggleAccountsDialog:a.toggleAccountsDialog,toggleShouldShowRealAccountsList:a.toggleShouldShowRealAccountsList,trading_servers:t.trading_servers,can_have_more_real_synthetic_mt5:t.can_have_more_real_synthetic_mt5,upgradeable_landing_companies:t.upgradeable_landing_companies}}))(dn))},"./templates/_common/components/loading.jsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n("../../../node_modules/classnames/index.js"),r=n.n(a),o=n("react");const i=function(e){var t=e.className,n=e.is_invisible,a=e.theme,i=e.id;return o.createElement("div",{id:i,className:r()("barspinner","barspinner--".concat(a||"dark"),{invisible:n},t)},Array.from(new Array(5)).map((function(e,t){return o.createElement("div",{key:t,className:"barspinner__rect barspinner__rect--".concat(t+1," rect").concat(t+1)})})))}}}]);